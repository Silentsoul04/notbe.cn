<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>程序员注意了：开发中存在这样的代码，反而影响整体整洁和可读性 « NotBeCN</title>
  <meta name="description" content="         1      &nbsp;   程序员注意了：开发中存在这样的代码，反而影响整体整洁和可读性   许多编程技术都建立在库类的基础上。库类的作者没用未卜先知的能力，不能因此责怪他们。麻烦的是库往往构造的不够好，而且往往不可能让我们修改其中的类以满足我们的需要。       我自己是一名从事了多年开...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/11/ajian6_90115800.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">程序员注意了：开发中存在这样的代码，反而影响整体整洁和可读性</h1>
    <p class="post-meta">May 11, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <p>1</p> 
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg02.sogoucdn.com%2Fapp%2Fa%2F200883%2F2b30016f8bec90a4a61ab096538d8b07"></p> 
  <p>&nbsp;</p> 
  <p>程序员注意了：开发中存在这样的代码，反而影响整体整洁和可读性</p> 
  <p>许多编程技术都建立在库类的基础上。库类的作者没用未卜先知的能力，不能因此责怪他们。麻烦的是库往往构造的不够好，而且往往不可能让我们修改其中的类以满足我们的需要。</p> 
  <blockquote> 
   <p>我自己是一名从事了多年开发的java老程序员，这段时间整理了一份最适合2019年学习的java学习干货，从最基础的javase到spring各种框架都有整理，还要视频教学，送给每一位java小伙伴，<strong>想要获取的可以关注我的头条号然后在后台私信我：【01】，即可免费获取</strong></p> 
  </blockquote> 
  <p><strong>解决方法</strong></p> 
  <p><strong>收益</strong></p> 
  <ul>
   <li>减少代码重复（你不用一言不合就自己动手实现一个库的全部功能，代价太高）</li> 
  </ul>
  <p><strong>何时忽略</strong></p> 
  <ul>
   <li>如果扩展库会带来额外的工作量。</li> 
  </ul>
  <p><strong>重构方法说明</strong></p> 
  <p><strong>引入外加函数(Introduce Foreign Method)</strong></p> 
  <p>举例：</p> 
  <p><strong>中间人</strong></p> 
  <p>中间人(Middle Man)</p> 
  <p>如果一个类的作用仅仅是指向另一个类的委托，为什么要存在呢？</p> 
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg02.sogoucdn.com%2Fapp%2Fa%2F200883%2F3bc008f0fd85e62230950107d96b6890"></p> 
  <p>&nbsp;</p> 
  <p>问题原因</p> 
  <p>对象的基本特征之一就是封装：对外部世界隐藏其内部细节。封装往往伴随委托。但是人们可能过度运用委托。比如，你也许会看到一个类的大部分有用工作都委托给了其他类，类本身成了一个空壳，除了委托之外不做任何事情。</p> 
  <p><strong>解决方法</strong></p> 
  <p>应该运用 移除中间人(Remove Middle Man) ，直接和真正负责的对象打交道。</p> 
  <p><strong>收益</strong></p> 
  <ul>
   <li>减少笨重的代码。</li> 
  </ul>
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg04.sogoucdn.com%2Fapp%2Fa%2F200883%2Fd628620aae4205fd51bf28d77e4db408"></p> 
  <p>&nbsp;</p> 
  <p>何时忽略</p> 
  <p>如果是以下情况，不要删除已创建的中间人：</p> 
  <ul>
   <li>添加中间人是为了避免类之间依赖关系。</li> 
   <li>一些设计模式有目的地创建中间人（例如代理模式和装饰器模式）。</li> 
  </ul>
  <p><strong>重构方法说明</strong></p> 
  <p><strong>移除中间人(Remove Middle Man)</strong></p> 
  <p>依恋情结</p> 
  <p>依恋情结(Feature Envy)</p> 
  <p>一个函数访问其它对象的数据比访问自己的数据更多。</p> 
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg01.sogoucdn.com%2Fapp%2Fa%2F200883%2Fd8085cc417ca8b13793d6df667b45b0f"></p> 
  <p>&nbsp;</p> 
  <p>问题原因</p> 
  <p>这种气味可能发生在字段移动到数据类之后。如果是这种情况，你可能想将数据类的操作移动到这个类中。</p> 
  <p><strong>解决方法</strong></p> 
  <p>As a basic rule, if things change at the same time, you should keep them in the same place. Usually data and functions that use this data are changed together (although exceptions are possible).</p> 
  <p>有一个基本原则：同时会发生改变的事情应该被放在同一个地方。通常，数据和使用这些数据的函数是一起改变的。</p> 
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg04.sogoucdn.com%2Fapp%2Fa%2F200883%2Fbe1461a0aecab9e985acf9be8411dd16"></p> 
  <p>&nbsp;</p> 
  <p><strong>收益</strong></p> 
  <ul>
   <li>减少重复代码（如果数据处理的代码放在中心位置）。</li> 
   <li>更好的代码组织性（处理数据的函数靠近实际数据）。</li> 
  </ul>
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg03.sogoucdn.com%2Fapp%2Fa%2F200883%2F5cf639d5fb898a412191677c62c3eaa9"></p> 
  <p>&nbsp;</p> 
  <p><strong>何时忽略</strong></p> 
  <ul>
   <li>有时，行为被有意地与保存数据的类分开。这通常的优点是能够动态地改变行为（见策略设计模式，访问者设计模式和其他模式）。</li> 
  </ul>
  <p><strong>重构方法说明</strong></p> 
  <p>搬移函数(Move Method)</p> 
  <p><strong>狎昵关系</strong></p> 
  <p>狎昵关系(Inappropriate Intimacy)</p> 
  <p>一个类大量使用另一个类的内部字段和方法。</p> 
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg04.sogoucdn.com%2Fapp%2Fa%2F200883%2F8d0cbd9a7f4081afb5fff81da2068fc0"></p> 
  <p>&nbsp;</p> 
  <p><strong>问题原因</strong></p> 
  <p>类和类之间应该尽量少的感知彼此（减少耦合）。这样的类更容易维护和复用。</p> 
  <p><strong>解决方法</strong></p> 
  <ul>
   <li>最简单的解决方法是运用 搬移函数(Move Method) 和 搬移字段(Move Field) 来让类之间斩断羁绊。</li> 
   <li> <h3><br><strong>如果有对Java感兴趣的同学，可以来我们的技术学习扣q u n的哦：881982657</strong></h3> </li> 
  </ul>
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg03.sogoucdn.com%2Fapp%2Fa%2F200883%2Fb6ca1c115e57f7fdecd1c704f4aec897"></p> 
  <p>&nbsp;</p> 
  <ul>
   <li>你也可以看看是否能运用 将双向关联改为单向关联(Change Bidirectional Association to Unidirectional) 让其中一个类对另一个说分手。</li> 
   <li>如果这两个类实在是情比金坚，难分难舍，可以运用 提炼类(Extract Class) 把二者共同点提炼到一个新类中，让它们产生爱的结晶。或者，可以尝试运用 隐藏委托关系(Hide Delegate) 让另一个类来让它们牵线搭桥。</li> 
   <li>继承往往造成类之间过分紧密，因为子类对超类的了解总是超过后者的主观愿望，如果你觉得该让这个子类自己闯荡，请运用 以委托取代继承(Replace Inheritance with Delegation) 来让超类和子类分家。</li> 
  </ul>
  <p><strong>收益</strong></p> 
  <ul>
   <li>提高代码组织性。</li> 
   <li>提高代码复用性。</li> 
  </ul>
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg04.sogoucdn.com%2Fapp%2Fa%2F200883%2Fb8da49321c72afc800cdca18d037b24d"></p> 
  <p>&nbsp;</p> 
  <p><strong>重构方法说明</strong></p> 
  <p><strong>搬移函数(Move Method)</strong></p> 
  <blockquote> 
   <p>小编为大家准备的Java架构学习资料，可以点击我的头像，然后点击私信，发送个【01】就可以了</p> 
  </blockquote> 
  <p><img alt="" class="has" src="http://img03.sogoucdn.com/v2/thumb/resize/w/640/t/2/retype/ext/jpg/q/75?appid=200556&amp;url=http%3A%2F%2Fimg01.sogoucdn.com%2Fapp%2Fa%2F200883%2F49941d5d96570b576d9941d1cc09156e"></p> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
