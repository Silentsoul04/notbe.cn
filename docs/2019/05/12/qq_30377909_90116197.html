<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>python制作数据诊断工具 « NotBeCN</title>
  <meta name="description" content="                  python制作数据诊断工具   实现慕课网python制作数据诊断工具的课程，并且给代码添加相应的注释。拥有一个数据诊断工具，对数据预处理工作会有很大的帮助。 附上代码链接 读取数据，课程提供的数据如图： 这是csv格式的文件，打开数据集后，可以观察到第一列ID和最后一列标签...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/qq_30377909_90116197.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">python制作数据诊断工具</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <h2><a id="python_0"></a>python制作数据诊断工具</h2> 
  <p>实现慕课网python制作数据诊断工具的课程，并且给代码添加相应的注释。拥有一个数据诊断工具，对数据预处理工作会有很大的帮助。<br> 附上代码链接<br> 读取数据，课程提供的数据如图：<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051121090788.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMzc3OTA5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 这是csv格式的文件，打开数据集后，可以观察到第一列ID和最后一列标签列不是需要进行数据诊断的列，所以在处理时先将它们删掉。</p> 
  <h2><a id="_6"></a>一、单项指标处理</h2> 
  <pre><code class="prism language-python"><span class="token comment">#导入数据</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>r<span class="token string">'F:\datasets\慕课数据诊断课程数据集\train.csv\test.csv'</span><span class="token punctuation">)</span>
 label <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TARGET'</span><span class="token punctuation">]</span>
 <span class="token comment">#删掉不需要的ID和标签列，看数据集的情况是否需要使用</span>
 df <span class="token operator">=</span> df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'ID'</span><span class="token punctuation">,</span> <span class="token string">'TARGET'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
  <p>接下来就可以开始进行数据诊断。<br> <strong>1.缺失值</strong><br> 数据集中的np.nan（<strong>nan:Not a number</strong>）肯定是缺失值之一，另外，通常情况下，数据集的最大最小值如果是像这些-999999之类的，极可能就是缺失值<br> <strong>缺失值的存在常会对获取数据的指标造成极大的影响，所以进行诊断时常常先排除缺失值。</strong></p> 
  <pre><code class="prism language-python">missSet <span class="token operator">=</span> <span class="token punctuation">[</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span> <span class="token number">9999999999</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">999999</span><span class="token punctuation">]</span>
</code></pre> 
  <p><strong>2.统计不同数值出现的个数</strong></p> 
  <pre><code class="prism language-python"><span class="token comment">#第1列不同值的个数</span>
<span class="token builtin">len</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#多列（以3列为例）出现不同值的个数</span>
count_un <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p>其中df.loc[:, 0:3].apply(lambda x:…)这里的方法是<strong>对多列（这里都是以3列为例）的数据进行诊断，之后的其他统计指标也是一样的方法。</strong></p> 
  <p><strong>3.0的个数</strong></p> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
count_zero <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p><strong>4.平均数</strong><br> 对于之后的指标，首先要对缺失值进行处理<br> 利用np.isin()，以及“~”取反</p> 
  <pre><code class="prism language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">#去除缺失值，~：取反</span>
np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#去除缺失值后进行均值计算</span>

</code></pre> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#没有去除缺失值之前的均值很低</span>

df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">#去除缺失值，~：取反</span>
np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#去除缺失值后进行均值计算</span>

df_mean <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span>  x<span class="token punctuation">:</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span>missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p><strong>5.中位数</strong></p> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span>median<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#没有去除缺失值之前</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">#去除缺失值</span>
np<span class="token punctuation">.</span>median<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#去除缺失值后进行计算</span>

df_mean <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>np<span class="token punctuation">.</span>median<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p><strong>6.众数</strong><br> 众数需要用到scipy包中的mode函数<br> mode返回两个值，第一个值是众数的本身是什么，第二个是众数有多少个频数</p> 
  <pre><code class="prism language-python"><span class="token comment">#mode返回两个值，第一个值是众数的本身是什么，第二个是众数有多少个频数</span>
df_mode <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> stats<span class="token punctuation">.</span>mode<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
  <p>7.众数的比例</p> 
  <pre><code class="prism language-python">df_mode_count <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> stats<span class="token punctuation">.</span>mode<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#频次/数量</span>
df_mode_perct <span class="token operator">=</span> df_mode_count<span class="token operator">/</span>df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
  <p>8.最大最小值</p> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment">#去除缺失值</span>
np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#去除缺失值后进行最小值计算</span>
df_min <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment">#去除缺失值</span>
np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#去除缺失值后进行最大值计算</span>
df_max <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p><strong>9.分位数</strong><br> 用到<strong>percentile</strong>函数，主要使用两个入参：1.使用的数据本身。2.要切分或要显示的分位点</p> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span>percentile<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">#去除缺失值</span>
np<span class="token punctuation">.</span>percentile<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p>由于无法做apply操作，所以定义一个字典存储遍历结果，并对返回结果排序并转置，才可实现后期拼接。</p> 
  <pre><code class="prism language-python"><span class="token comment">#定义一个字典</span>
json_quantile <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">for</span> i<span class="token punctuation">,</span> name <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'the {} columns: {} '</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span>
    json_quantile<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>percentile<span class="token punctuation">(</span>df<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#DataFrame:Python中Pandas库中的一种数据结构，它类似excel，是一种二维表。</span>
<span class="token comment">#做成DataFrame后需要转置，否则位置对不上</span>
df_quantile <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>json_quantile<span class="token punctuation">)</span><span class="token punctuation">[</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>columns<span class="token punctuation">]</span><span class="token punctuation">.</span>T
</code></pre> 
  <p><strong>10.频数</strong></p> 
  <pre><code class="prism language-python">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">]</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment">#去除缺失值</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment">#去除缺失值后进行频数的统计</span>
</code></pre> 
  <p>需要与频数做类似的处理</p> 
  <pre><code class="prism language-python">json_fre_name <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
json_fre_count <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">#如果特征不满5个</span>
<span class="token keyword">def</span> <span class="token function">fill_fre_top_5</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">:</span>
        new_array <span class="token operator">=</span> np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>nan<span class="token punctuation">)</span>
        new_array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> x
        <span class="token keyword">return</span> new_array

df<span class="token punctuation">[</span><span class="token string">'ind_var1_0'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'imp_sal_var16_ult1'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#遍历两个特征，columns:取名字</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> name <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ind_var1_0'</span><span class="token punctuation">,</span><span class="token string">'imp_sal_var16_ult1'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment">#判断是否≤5，如果是，则用刚才定义的填nan的方式</span>
    index_name <span class="token operator">=</span> df<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">.</span>values
    index_name <span class="token operator">=</span> fill_fre_top_5<span class="token punctuation">(</span>index_name<span class="token punctuation">)</span>
    json_fre_name<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> index_name

    values_count <span class="token operator">=</span> df<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>values
    values_count <span class="token operator">=</span> fill_fre_top_5<span class="token punctuation">(</span>values_count<span class="token punctuation">)</span>
    json_fre_count<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> values_count

<span class="token comment">#做成DataFrame后，转置</span>
df_fre_name <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>json_fre_name<span class="token punctuation">)</span><span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ind_var1_0'</span><span class="token punctuation">,</span><span class="token string">'imp_sal_var16_ult1'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>columns<span class="token punctuation">]</span><span class="token punctuation">.</span>T
df_fre_count <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>json_fre_count<span class="token punctuation">)</span><span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'ind_var1_0'</span><span class="token punctuation">,</span><span class="token string">'imp_sal_var16_ult1'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>columns<span class="token punctuation">]</span><span class="token punctuation">.</span>T
<span class="token comment">#concat:将数据根据不同的轴做简单的融合,这里利用concat做列合并</span>
df_fre <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>df_fre_name<span class="token punctuation">,</span>df_fre_count<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
  <p><strong>11.缺失值</strong></p> 
  <pre><code class="prism language-python">np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#统计缺失值</span>
df_miss <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>np<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#遍历每一个遍历的缺失值情况</span>
</code></pre> 
  <h2><a id="_164"></a>二、工具整合</h2> 
  <p>单项的指标都已经完整，接着就是整合成一个工具使用。<br> 定义一个函数，根据需求传入参数</p> 
  <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">eda_analysis</span><span class="token punctuation">(</span>missSet <span class="token operator">=</span> <span class="token punctuation">[</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span><span class="token number">999999999</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">99999999</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment">#1.Count</span>
	count_un <span class="token operator">=</span> df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    count_un <span class="token operator">=</span> count_un<span class="token punctuation">.</span>to_frame<span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">)</span>
</code></pre> 
  <p>之后的指标都是这样类似的操作。<br> 最后将指标整合，<strong>用pandas的concat()方法，进行所有结果的列合并</strong></p> 
  <pre><code class="prism language-python"><span class="token comment">##12.Combine All Informations</span>
df_eda_summary <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>
        <span class="token punctuation">[</span>count_un<span class="token punctuation">,</span> count_zero<span class="token punctuation">,</span> df_mean<span class="token punctuation">,</span> df_median<span class="token punctuation">,</span> df_mode<span class="token punctuation">,</span>
         df_mode_count<span class="token punctuation">,</span> df_mode_perct<span class="token punctuation">,</span> df_min<span class="token punctuation">,</span> df_max<span class="token punctuation">,</span> df_fre<span class="token punctuation">,</span>
         df_miss<span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span>
    <span class="token punctuation">)</span>
<span class="token keyword">return</span> df_eda_summary
</code></pre> 
  <p>工具的整合完成。<br> 如果还想对时间进行测试<br> 对整体：</p> 
  <pre><code class="prism language-python">start <span class="token operator">=</span> timeit<span class="token punctuation">.</span>default_timer<span class="token punctuation">(</span><span class="token punctuation">)</span>
df_eda_summary <span class="token operator">=</span> eda_analysis<span class="token punctuation">(</span>missSet<span class="token operator">=</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span> <span class="token number">9999999999</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">999999</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df<span class="token operator">=</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'EDA Running Time:{0:.2f} seconds'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>default_timer<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p>对某一项指标：</p> 
  <pre><code class="prism language-python"> <span class="token comment">##3.Mean</span>
    start <span class="token operator">=</span> timeit<span class="token punctuation">.</span>default_timer<span class="token punctuation">(</span><span class="token punctuation">)</span>
    df_mean <span class="token operator">=</span> df<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token operator">~</span>np<span class="token punctuation">.</span>isin<span class="token punctuation">(</span>x<span class="token punctuation">,</span> missSet<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    df_mean <span class="token operator">=</span> df_mean<span class="token punctuation">.</span>to_frame<span class="token punctuation">(</span><span class="token string">'mean'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Mean Time:{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>default_timer<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <p>以此类推即可<br> 新建一个python文件，我们将先前python文件中写的获取指标的方法都导入进这个文件。</p> 
  <pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> diagnose_tool <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> diagnose_tool <span class="token keyword">import</span> eda_analysis
</code></pre> 
  <p>于是这个文件中只需要写<strong>导入数据和运行工具</strong>的方法即可。<br> 导入数据</p> 
  <pre><code class="prism language-python"><span class="token comment">#导入数据</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>r<span class="token string">'F:\datasets\慕课数据诊断课程数据集\train.csv\test.csv'</span><span class="token punctuation">)</span>
label <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'TARGET'</span><span class="token punctuation">]</span>
<span class="token comment">#删掉不需要的ID和标签列，看数据集的情况是否需要使用</span>
df <span class="token operator">=</span> df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'ID'</span><span class="token punctuation">,</span> <span class="token string">'TARGET'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
  <p>运行工具</p> 
  <pre><code class="prism language-python">start <span class="token operator">=</span> timeit<span class="token punctuation">.</span>default_timer<span class="token punctuation">(</span><span class="token punctuation">)</span>
df_eda_summary <span class="token operator">=</span> eda_analysis<span class="token punctuation">(</span>missSet<span class="token operator">=</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span> <span class="token number">9999999999</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">999999</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df<span class="token operator">=</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'EDA Running Time:{0:.2f} seconds'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>default_timer<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
  <h2><a id="_227"></a>三、测试结果</h2> 
  <p>各项指标以及整个工具的运行时间<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511225501560.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMzc3OTA5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 各项指标内容：<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511225628625.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMzc3OTA5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 我们用一个新的数据集试一试，这是只有一列数据的：<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512104034831.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMzc3OTA5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 由于只有一列，所以之前的删掉不需要的列的代码就可以注释掉。</p> 
  <pre><code class="prism language-python"><span class="token comment"># label = df['TARGET']</span>
<span class="token comment"># #删掉不需要的ID和标签列，看数据集的情况是否需要使用</span>
<span class="token comment"># df = df.drop(['ID', 'TARGET'], axis=1)</span>
</code></pre> 
  <p>运行代码：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512104258588.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMzc3OTA5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512104308648.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMzc3OTA5,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 代码链接，包括了课程使用的数据集：<a href="https://download.csdn.net/download/qq_30377909/11173199" rel="nofollow">https://download.csdn.net/download/qq_30377909/11173199</a></p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
