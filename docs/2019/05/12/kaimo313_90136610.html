<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>重学前端学习笔记（十二）--浏览器工作解析（二） « NotBeCN</title>
  <meta name="description" content="                  笔记说明       重学前端是程劭非（winter）【前手机淘宝前端负责人】在极客时间开的一个专栏，每天10分钟，重构你的前端知识体系，笔者主要整理学习过程的一些要点笔记以及感悟，完整的可以加入winter的专栏学习【原文有winter的语音】，如有侵权请联系我，邮箱：kai...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/kaimo313_90136610.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">重学前端学习笔记（十二）--浏览器工作解析（二）</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-light"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <h2><a id="_1"></a>笔记说明</h2> 
  <blockquote> 
   <p>重学前端是程劭非（winter）【前手机淘宝前端负责人】在极客时间开的一个专栏，<a href="https://time.geekbang.org/column/intro/154" rel="nofollow">每天10分钟，重构你的前端知识体系</a>，笔者主要整理学习过程的一些要点笔记以及感悟，完整的可以加入winter的专栏学习【原文有winter的语音】，如有侵权请联系我，邮箱：kaimo313@foxmail.com。</p> 
  </blockquote> 
  <h2><a id="_5"></a>一、概括</h2> 
  <blockquote> 
   <p>本文主要聊聊浏览器如何解析请求回来的 <code>HTML</code> 代码以及 <code>DOM</code> 树又是如何构建的。</p> 
  </blockquote> 
  <p><img src="https://static001.geekbang.org/resource/image/34/5a/34231687752c11173b7776ba5f4a0e5a.png" alt="流程图"></p> 
  <h2><a id="_11"></a>二、解析代码</h2> 
  <h3><a id="21token_13"></a>2.1、词（token）是如何被拆分的</h3> 
  <blockquote> 
   <p>“词”（指编译原理的术语 <code>token</code>，表示最小的有意义的单元），种类大约只有 <code>标签开始</code>、<code>属性</code>、<code>标签结束</code>、<code>注释</code>、<code>CDATA节点</code>几种。</p> 
  </blockquote> 
  <p>接下拆解下面代码：</p> 
  <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>text text text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <p>这段代码依次拆成词（<code>token</code>）：</p> 
  <ul> 
   <li>&lt;p“标签开始”的开始</li> 
   <li>class=“a” 属性</li> 
   <li>&gt; “标签开始”的结束</li> 
   <li>text text text 文本</li> 
   <li>&lt;/p&gt; 标签结束</li> 
  </ul> 
  <p>关于<code>token</code>的解释：</p> 
  <p><img src="https://static001.geekbang.org/resource/image/f9/84/f98444aa3ea7471d2414dd7d0f5e3a84.png" alt="token解释"></p> 
  <p>从 <code>HTTP</code> 协议收到的字符流读取字符。每读入一个字符，其实都要做一次决策，而且这些决定是跟“当前状态”有关的。把字符流解析成词（<code>token</code>），最常见的方案就是使用状态机。</p> 
  <h3><a id="22_37"></a>2.2、状态机</h3> 
  <h4><a id="221_39"></a>2.2.1、过程</h4> 
  <p>把部分词（token）的解析画成一个状态机：</p> 
  <p><img src="https://static001.geekbang.org/resource/image/8b/b0/8b43d598bc1f83a8a1e7e8f922013ab0.png" alt="token->状态机"></p> 
  <p><a href="https://html.spec.whatwg.org/multipage/parsing.html#tokenization" rel="nofollow">具体的可以参考HTML官方文档</a></p> 
  <p>状态机的初始状态，我们仅仅区分 “&lt; ”和 “非 &lt;”：</p> 
  <ul> 
   <li>如果获得的是一个非 <code>&lt;</code> 字符，那么可以认为进入了一个文本节点</li> 
   <li>如果获得的是一个 <code>&lt;</code> 字符，那么进入一个标签状态</li> 
  </ul> 
  <p>可能会遇到的情况：</p> 
  <ul> 
   <li>比如下一个字符是“ <code>!</code> ” ，那么很可能是进入了注释节点或者 <code>CDATA节点</code></li> 
   <li>如果下一个字符是 “ <code>/</code> ”，那么可以确定进入了一个结束标签</li> 
   <li>如果下一个字符是字母，那么可以确定进入了一个开始标签</li> 
   <li>如果我们要完整处理各种 HTML 标准中定义的东西，那么还要考虑 “ <code>?</code> ” “ <code>%</code> ”等内容</li> 
  </ul> 
  <h4><a id="222_59"></a>2.2.2、代码化</h4> 
  <pre><code class="prism language-js"><span class="token comment">// 初始状态</span>
<span class="token keyword">var</span> <span class="token function-variable function">data</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> characterReferenceInData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token string">"&lt;"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> tagOpen<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token string">"\0"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">emitToken</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">emitToken</span><span class="token punctuation">(</span><span class="token constant">EOF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">emitToken</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// tagOpenState 是接受了一个“ &lt; ” 字符，来判断标签类型的状态。</span>
<span class="token keyword">var</span> <span class="token function-variable function">tagOpenState</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">tagOpenState</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token string">"/"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> endTagOpenState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[A-Z]/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StartTagToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        token<span class="token punctuation">.</span>name <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> tagNameState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[a-z]/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StartTagToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        token<span class="token punctuation">.</span>name <span class="token operator">=</span> c<span class="token punctuation">;</span>
        <span class="token keyword">return</span> tagNameState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">==</span><span class="token string">"?"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bogusCommentState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> dataState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//……</span>
</code></pre> 
  <p>状态迁移代码：</p> 
  <blockquote> 
   <p>所谓的状态迁移，就是当前状态函数返回下一个状态函数。</p> 
  </blockquote> 
  <pre><code class="prism language-js"><span class="token keyword">var</span> state <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token keyword">var</span> char
<span class="token keyword">while</span><span class="token punctuation">(</span>char <span class="token operator">=</span> <span class="token function">getInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    state <span class="token operator">=</span> <span class="token function">state</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
  <p>状态函数通过代码中的 <code>emitToken</code> 函数来输出解析好的 <code>token</code>（词），我们只需要覆盖 <code>emitToken</code>，即可指定对解析结果的处理方式。</p> 
  <p>词法分析器代码：</p> 
  <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">HTMLLexicalParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token comment">// 状态函数们……</span>
    <span class="token keyword">function</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ……</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">tagOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ……</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ……</span>
    <span class="token keyword">var</span> state <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">receiveInput</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state <span class="token operator">=</span> <span class="token function">state</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
  <p>至此，字符流被拆成词（token）。</p> 
  <h2><a id="_DOM__147"></a>三、构建 DOM 树</h2> 
  <h3><a id="31dom_149"></a>3.1、用栈实现词-&gt;dom树</h3> 
  <p>HTML词法分析器：</p> 
  <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">HTMLSyntaticalParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HTMLDocument</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// receiveInput负责接收词法部分产生的词（token）</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">receiveInput</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 构建dom树算法</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// emmitToken 来调用</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getOutput</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> stack<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
  <p>NODE类：</p> 
  <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">Element</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>childNodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Text</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
  <p>使用的栈正是用于匹配开始和结束标签的方案。</p> 
  <p>用上述的栈以及下面的html来进行解析过程分析：</p> 
  <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">maaa</span><span class="token attr-value"><span class="token punctuation">=</span>a</span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>cool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <p>栈–&gt;dom树：</p> 
  <ul> 
   <li>栈顶元素就是当前节点</li> 
   <li>遇到属性，就添加到当前节点</li> 
   <li>遇到文本节点，如果当前节点是文本节点，则跟文本节点合并，否则入栈成为当前节点的子节点</li> 
   <li>遇到注释节点，作为当前节点的子节点</li> 
   <li>遇到 <code>tag start</code> 就入栈一个节点，当前节点就是这个节点的父节点</li> 
   <li>遇到 <code>tag end</code> 就出栈一个节点（还可以检查是否匹配）</li> 
  </ul> 
  <p>本来这里有个视频分析上面html代码的，用栈构造 <code>DOM</code> 树的全过程，这里就用一张图片看一下算了：</p> 
  <p><img src="https://static001.geekbang.org/resource/image/7c/12/7cf7a46496b2c19ae78d263bcd75ef12.png" alt="栈-->dom树"></p> 
  <p>视频演示了怎样生成右边的结果。<a href="http://w3c.github.io/html/syntax.html#tree-construction" rel="nofollow">更多详情规则可以参考W3C网站关于树的构建部分</a></p> 
  <h2><a id="_208"></a>个人总结</h2> 
  <p><code>纸上得来终觉浅，绝知此事要躬行</code>。动手很重要，这一部分还是需要敲敲代码协助理解原理，单单看会有点枯燥，我在winter课程的下面留言发现一个不错的<code>html-parser</code>，github地址是这个<a href="https://github.com/aimergenge/toy-html-parser" rel="nofollow">https://github.com/aimergenge/toy-html-parser</a>，觉得不错的可以支持一波<code>star</code>。</p> 
  <h3><a id="lexerjs_212"></a>lexer.js展示</h3> 
  <pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token constant">EOF</span> <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span>

<span class="token keyword">function</span> <span class="token function">HTMLLexicalParser</span> <span class="token punctuation">(</span>syntaxer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> data
  <span class="token keyword">let</span> token <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> attribute <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> characterReference <span class="token operator">=</span> <span class="token string">''</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">receiveInput</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>char<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'there is an error'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      state <span class="token operator">=</span> <span class="token function">state</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> data
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">data</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> characterReferenceInData

      <span class="token keyword">case</span> <span class="token string">'&lt;'</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> tagOpen

      <span class="token comment">// perhaps will not encounter in javascript?</span>
      <span class="token comment">// case '\0':</span>
      <span class="token comment">// error()</span>
      <span class="token comment">// emitToken(c)</span>
      <span class="token comment">// return data</span>

      <span class="token comment">// can be handle by default case</span>
      <span class="token comment">// case EOF:</span>
      <span class="token comment">// emitToken(EOF)</span>
      <span class="token comment">// return data</span>

      <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token function">emitToken</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
        <span class="token keyword">return</span> data
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// only handle right character reference</span>
  <span class="token keyword">function</span> <span class="token function">characterReferenceInData</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">';'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      characterReference <span class="token operator">+=</span> c
      <span class="token function">emitToken</span><span class="token punctuation">(</span>characterReference<span class="token punctuation">)</span>
      characterReference <span class="token operator">=</span> <span class="token string">''</span>
      <span class="token keyword">return</span> data
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      characterReference <span class="token operator">+=</span> c
      <span class="token keyword">return</span> characterReferenceInData
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">tagOpen</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> endTagOpen
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/[a-zA-Z]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StartTagToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      token<span class="token punctuation">.</span>name <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> tagName
    <span class="token punctuation">}</span>
    <span class="token comment">// no need to handle this</span>
    <span class="token comment">// if (c === '?') {</span>
    <span class="token comment">// return bogusComment</span>
    <span class="token comment">// }</span>
    <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


  <span class="token keyword">function</span> <span class="token function">tagName</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span>  <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> selfClosingTag
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span>  <span class="token punctuation">(</span><span class="token regex">/[\t \f\n]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> beforeAttributeName
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">emitToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
      <span class="token keyword">return</span> data
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/[a-zA-Z]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token<span class="token punctuation">.</span>name <span class="token operator">+=</span> c<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> tagName
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">beforeAttributeName</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/[\t \f\n]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> beforeAttributeName
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> selfClosingTag
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">emitToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
      <span class="token keyword">return</span> data
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/["'&lt;]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    attribute <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Attribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    attribute<span class="token punctuation">.</span>name <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    attribute<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">return</span> attributeName
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">attributeName</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token<span class="token punctuation">[</span>attribute<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> attribute<span class="token punctuation">.</span>value
      <span class="token keyword">return</span> selfClosingTag
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'='</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> beforeAttributeValue
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/[\t \f\n]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> beforeAttributeName
    <span class="token punctuation">}</span>
    attribute<span class="token punctuation">.</span>name <span class="token operator">+=</span> c<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> attributeName
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">beforeAttributeValue</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'"'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> attributeValueDoubleQuoted
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">"'"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> attributeValueSingleQuoted
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\t \f\n/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> beforeAttributeValue
    <span class="token punctuation">}</span>
    attribute<span class="token punctuation">.</span>value <span class="token operator">+=</span> c
    <span class="token keyword">return</span> attributeValueUnquoted
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">attributeValueDoubleQuoted</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'"'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token<span class="token punctuation">[</span>attribute<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> attribute<span class="token punctuation">.</span>value
      <span class="token keyword">return</span> beforeAttributeName
    <span class="token punctuation">}</span>
    attribute<span class="token punctuation">.</span>value <span class="token operator">+=</span> c
    <span class="token keyword">return</span> attributeValueDoubleQuoted
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">attributeValueSingleQuoted</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">"'"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token<span class="token punctuation">[</span>attribute<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> attribute<span class="token punctuation">.</span>value
      <span class="token keyword">return</span> beforeAttributeName
    <span class="token punctuation">}</span>
    attribute<span class="token punctuation">.</span>value <span class="token operator">+=</span> c
    <span class="token keyword">return</span> attributeValueSingleQuoted
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">attributeValueUnquoted</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/[\t \f\n]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token<span class="token punctuation">[</span>attribute<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> attribute<span class="token punctuation">.</span>value
      <span class="token keyword">return</span> beforeAttributeName
    <span class="token punctuation">}</span>
    attribute<span class="token punctuation">.</span>value <span class="token operator">+=</span> c
    <span class="token keyword">return</span> attributeValueUnquoted
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">selfClosingTag</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">emitToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
      endToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EndTagToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      endToken<span class="token punctuation">.</span>name <span class="token operator">=</span> token<span class="token punctuation">.</span>name
      <span class="token function">emitToken</span><span class="token punctuation">(</span>endToken<span class="token punctuation">)</span>
      <span class="token keyword">return</span> data
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">endTagOpen</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/[a-zA-Z]/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EndTagToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      token<span class="token punctuation">.</span>name <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> tagName
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token string">'&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">emitToken</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    syntaxer<span class="token punctuation">.</span><span class="token function">receiveInput</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">error</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`warn: unexpected char '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">StartTagToken</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">EndTagToken</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Attribute</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  HTMLLexicalParser<span class="token punctuation">,</span>
  StartTagToken<span class="token punctuation">,</span>
  EndTagToken
<span class="token punctuation">}</span>
</code></pre> 
  <h3><a id="syntaxerjs_427"></a>syntaxer.js展示</h3> 
  <pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> StartTagToken<span class="token punctuation">,</span> EndTagToken <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lexer'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">HTMLDocument</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isDocument <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>childNodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Element</span> <span class="token keyword">extends</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> token<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>childNodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`Element&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Text</span> <span class="token keyword">extends</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value <span class="token operator">||</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">HTMLSyntaticalParser</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HTMLDocument</span><span class="token punctuation">]</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">receiveInput</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> token <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getTop</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">getTop</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">+=</span> token
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
        <span class="token function">getTop</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getTop</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token keyword">instanceof</span> <span class="token class-name">StartTagToken</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Element</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
      <span class="token function">getTop</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
      <span class="token keyword">return</span> stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token keyword">instanceof</span> <span class="token class-name">EndTagToken</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getOutput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> stack<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getTop</span> <span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> stack<span class="token punctuation">[</span>stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  HTMLSyntaticalParser
<span class="token punctuation">}</span>
</code></pre> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
