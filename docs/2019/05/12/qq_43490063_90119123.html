<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>数据库一 « NotBeCN</title>
  <meta name="description" content="                  数据库简介：   数据库是存储数据的仓库。在库中存放表。行：一条记录。 列：字段、域   数据库发展：   1. 萌芽阶段：文件系统2. 第一代数据库：层次模型、网状模型3. 第二代数据库：	关系型数据库：		MySQL Oracle SQLserver DB2  infomi...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/qq_43490063_90119123.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">数据库一</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p>数据库简介：</p> 
  <pre><code>数据库是存储数据的仓库。在库中存放表。行：一条记录。 列：字段、域
</code></pre> 
  <p>数据库发展：</p> 
  <pre><code>1. 萌芽阶段：文件系统

2. 第一代数据库：层次模型、网状模型

3. 第二代数据库：	关系型数据库：		MySQL Oracle SQLserver DB2  infomix ...

		非关系型数据库：		Redis	MongoDB
</code></pre> 
  <p>查看MySQL版本号：</p> 
  <pre><code>1. sudo aptitude show mysql-server	—— 已安装

2. mysql -V
</code></pre> 
  <p>MySQL启动：<br> 1. sudo /etc/init.d/mysql start/stop/restart —— 不同的Linux中，存储目录不同</p> 
  <pre><code>2. sudo service mysql start/stop/restart		—— 不同的Linux中，启动方法相同
</code></pre> 
  <p>查看MySQL数据库的启动状态：</p> 
  <pre><code>1. sudo service mysql status

2. sudo netstat -apn | grep mysql 	—— MySQL默认使用的 端口： 3306
</code></pre> 
  <p>登录MySQL数据库：（本质：mysql 的客户端 连接 MySQL服务器）</p> 
  <pre><code>语法： mysql -h"IP地址" -P"端口号" -u"用户名" -p"密码"

1. mysql -h127.0.0.1 -P3306 -uroot -p123456

2. mysql -uroot -p123456   —— 显式输入密码

3. mysql -uroot -p  回车。 —— 隐式输入密码
</code></pre> 
  <p>退出MySQL：</p> 
  <pre><code>exit 和 quit 都可以做到。“\q”也可以。
</code></pre> 
  <p>MySQL：<br> 基于数据库的数据管理系统： 用户只有一个（root）， 针对项目创建不同的数据库，表下辖在 数据库中。</p> 
  <p>Oracle：<br> 基于用户的数据管理系统：数据库只有一个， 针对项目创建不同的用户，表下辖在 用户中。</p> 
  <p>CURD： 增 改 查 删</p> 
  <p>数据库的 curd：</p> 
  <pre><code>查询： 	show databases; 	查询MySQL中的所有数据库

	show create database sys	查询 ‘sys’数据库的创建语句。

创建：	语法：	create database [if not exists] `数据库名` charset=字符集

	create database if not exists `mydb1` charset=utf8；

	create database mydb2；	—— 默认的字符集为 latin1

	[if not exists] 不添加：如果数据库已经存在报错。

	反引号：区分大小写。 数据库名中包含特殊字符、关键字时，必须要添加。

	字符集：GBK、GB2312、utf8、 utf8mb4 —— emoji标签

删除：	语法： 	drop database [if exists] `数据库名`

	drop database if exists `my db1`;

	drop database mydb2;

修改：	语法： 	alter database `数据库名` charset=字符集

	alter database `mydb2` charset = utf8；

	alter database `mydb2` character set  utf8；
</code></pre> 
  <p>表的 curd：<br> 先选择数据库： use 数据名。<br> 查询：<br> show tables； 显示数据库中包含哪些表。</p> 
  <pre><code>	show create table 表名；

	show create table 表名\G	按 垂直形式，显示表数据。（查看字段数量较多的表时，使用）

	desc 表名；	查看表结构。

增加：
	语法：
		create table [if not exists] `表名` (
				字段名 数据类型 [null|not null] [auto_increment] [primary key] [comment] , 
				字段名 数据类型 [default]…
			……
		) engine=存储引擎

		null | not null   	空|非空
		default	          	默认值
		auto_increment    	自动增长
		primary key       	主键
		comment           	备注
		engine           	引擎 innodb 、myisam 引擎决定数据存储的方式
</code></pre> 
  <p>示例：创建 复杂表</p> 
  <p>create table if not exists <code>teacher</code>(<br> id int(9) auto_increment primary key comment ‘主键’,<br> name varchar(20) not null comment ‘姓名’,<br> phone varchar(11) comment ‘电话’,<br> <code>addr</code> varchar(100) default ‘地址不详’<br> )engine=Innodb charset=utf8;</p> 
  <p>示例：创建 简单表</p> 
  <p>create table t1(t1 int, name varchar(20));</p> 
  <pre><code>删除：	drop table [if exists] `表名`;

修改：	语法： alter table 表名 关键字 字段名;

	添加一个字段：	alter table t1 add age int(5) first;

			alter table t1 add age int(5) after id;

	修改字段名、类型：	alter table t1 change name NewName char(10);

	修改类型：	alter table t1 modify name varchar(19);

	修改表名：	rename table t1 to t2;	或  	alter table t2 rename to t3；

	修改引擎：	alter table t3 engine=myisam;

复制表：

	1. 复制表数据，不复制表属性（自动增长，主键）

		create table 新表名 select * from 旧表名；

	2. 复制表属性，不复制表数据。

		create table 新表名 like 旧表名；

		补充数据：insert into 新表名 select * from 旧表。
</code></pre> 
  <p>表数据的 curd:</p> 
  <pre><code>插入： 	语法： insert into 表名 （字段1, 字段2，....） values(值1， 值2 ... )

	插入所有字段：	insert into stu(id, name, phone, addr) values(1, '李白','112', '敦煌');

			insert into stu values(1, '李白','112', '敦煌');

	插入指定字段：	insert into stu(id, name, addr) values(2, '岳飞', '河北');

	隐式插入空值：	insert into stu(name) values( '岳飞2');	—— id 隐式插入了 null。 addr 取默认值。

	显示插入空值：	insert into stu(id, name) values(null, '霍去病')；

	显示插入默认值：	insert into stu(id, name, addr) values(null, '卫青', default); 

	插入多行：	insert into stu values(null, '卫青1', default), (null, '卫青2', default),(null, '卫青3', default); 

更新：
	语法：update 表名 set 字段名=字段值（，字段名=字段值）where 条件

	全部更新：	update stu set phone='119';

	指定一条记录更新：	update stu set phone='110' where id = 8;

	指定一条记录更新多个字段：	update stu set name='辛弃疾'，phone='110' where id = 8;

	将一条记录更新为默认值：	update stu set addr=default where id = 8;

删除：
	语法： delete from 表名 [ where 条件 ]；

	删除一条记录： delete from stu  where  id = 10；

	删除多条记录： delete from stu  where  id &gt; 10；

	清空表：	
		delete from  表名：	将表数据逐条删除，清空后表空间不会被释放。再次插入时，原有的自动增长序列依然生效。

		truncate 表名：将表摧毁重建。清空后表空间会被释放。再次插入时，自动增长列从1开始。

查询：
	语法： select 字段1，字段2，。。。 from 表名 [ where 条件 ]；

		select * from stu;

		select id，name，addr from stu where id &gt;=10;
</code></pre> 
  <p>SQL语句分类：</p> 
  <pre><code>DML语句：insert、update、delete、select

DDL语句：create、alter、truncate、drop...

DCL语句：commit、rollback
</code></pre> 
  <p>引擎和表数据文件：（了解）</p> 
  <pre><code>MySQL下常用的引擎：innodb、myisam。

	当创建一个数据库时，会自动在 /var/lib/mysql 中创建同名 目录。	   create database db1 ——&gt; /var/lib/mysql 中 创建了一个 db1/

	创建表时，指定表所选用的引擎：

myisam：
	表名.frm:	存储表结构。
		
	表名.MYI:	存储表数据的索引。

	表名.MYD: 存储表数据。
		
innodb：
	表名.frm:	存储表结构。
		
	表名.ibd:	存储表数据的索引。

	innodb 引擎的表数据存放在 上一级目录下的 ibdata1 文件中。 当数据量增加是，MySQL数据库会自动创建 ibdata2、ibdata3...

【重点】MySQL数据库默认的引擎为 ：InnoDB 

查看MySQL中支持的引擎：（了解）：show engines；
</code></pre> 
  <p>字符集：<br> 获取MySQL系统 字符集 ：</p> 
  <pre><code>	show variables like 'char%'；

访问MySQL数据库时，为保证不出现中文乱码，保证：

	character_set_client、character_set_connection、character_set_database、character_set_results  字符集统一。

	使用 set names utf8 命令 设置 character_set_client、character_set_connection、character_set_results 字符集。【临时生效，重启无效】

	set character_set_server=utf8 设置 服务器端的字符集 为 utf8。【临时生效，重启无效】

	想永久设置需要修改 mysql 配置文件。  /etc/mysql/mysql.conf.d 目录下的 mysqld.cnf。

【重点】结论：为保证不出现中文乱码，至少应该保证 客户端、连接、服务器、结果集 使用的 字符编码一致。 —— utf8；
</code></pre> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
