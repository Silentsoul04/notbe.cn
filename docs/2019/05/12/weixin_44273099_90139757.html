<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>function总结 « NotBeCN</title>
  <meta name="description" content="                  函数总结   函数是对象，函数名是指针。   函数名是变量，可以作为参数来使用即(高级函数)；   function sum(num1,num2){    return num1+num2;};var sum=function(num1,num2){    return num...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/weixin_44273099_90139757.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">function总结</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <h1><a id="_0"></a>函数总结</h1> 
  <p><strong>函数是对象，函数名是指针</strong>。</p> 
  <p>函数名是变量，可以作为参数来使用即(高级函数)；</p> 
  <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span>num2<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> num1<span class="token operator">+</span>num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span>num2<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> num1<span class="token operator">+</span>num2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//通过sum变量直接引用函数对象</span>
</code></pre> 
  <pre><code class="prism language-js"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">function</span><span class="token punctuation">(</span><span class="token string">"num1"</span><span class="token punctuation">,</span><span class="token string">"num2"</span><span class="token punctuation">,</span><span class="token string">"return num1+num2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//通过构造函数,不推荐</span>
</code></pre> 
  <p><code>var ansum = sum;//使用不带圆括号的函数名是访问函数指针，并非调用函数对象；</code><br> <strong>在JS中，函数没得重载</strong><br> ES函数参数在内部是用数组的形式来表示的，在函数体内可以通过<strong>arguments</strong>对象来访问这个参数数组；</p> 
  <h2><a id="_22"></a>函数内部的对象：</h2> 
  <h3><a id="arguments_24"></a>arguments对象：</h3> 
  <p>在函数体内可以通过arguments对象来访问这个参数数组；类数组对象arguments[0]表第一个参数；</p> 
  <h3><a id="calleeargument_28"></a><strong>对象属性</strong>：callee:是一个指针，指向拥有argument对象的函数</h3> 
  <p><strong>length</strong>：确定传递进来多少参数</p> 
  <pre><code class="prism language-js">阶乘函数：
<span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> num<span class="token operator">&lt;=</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> num<span class="token operator">*</span><span class="token function">factorial</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
  <p>-阶乘函数用到了递归，函数的执行与函数名factorial紧紧耦合在一起，此时改变函数名会导致错误，可使用<strong>arguments.callee</strong>来<strong>消除耦合</strong>；</p> 
  <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> num<span class="token operator">&lt;=</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
  <h3><a id="this_48"></a>this对象：</h3> 
  <p><strong>引用的是函数据以执行的环境对象</strong>（ 在网页的全局作用域中调用函数时，this引用的对象引用就是window）</p> 
  <pre><code class="prism language-js">window<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">'red'</span>
<span class="token keyword">var</span> o<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span><span class="token string">'blue'</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">sayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'red'</span>
o<span class="token punctuation">.</span>sayColor<span class="token operator">=</span>sayColor
o<span class="token punctuation">.</span><span class="token function">sayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//'blue'</span>
<span class="token comment">/*函数名只是一个包含指针的变量，即使在不同的环境中执行，sayColor()和o.sayColor()指向的仍是同一个函数。 上述函数实在全局作用域中定义的，它引用了this对象，在调用函数前this对象并不确定，因此this会在代码的执行引用不同的对象。当全局作用域中调用this是，其引用的是window对象，即window.color；当将函数赋值给对象o并调用o。.color时，this指向的时对象o。*/</span>
</code></pre> 
  <p><strong>caller</strong>:这个属性保存着调用当前函数的函数的引用，如果是在全局作用域中调用当前函数，其值为null；</p> 
  <h2><a id="_67"></a><strong>函数自带的属性和方法：</strong></h2> 
  <p><strong>属性</strong>：</p> 
  <ul> 
   <li><strong>.length</strong>:表示函数接受参数的个数；</li> 
   <li><strong>.prototype</strong>:是保存他们所有实例方法的真正所在，不可枚举，for-in无法发现；</li> 
  </ul> 
  <p><strong>方法</strong>：</p> 
  <ul> 
   <li><strong>apply(this,array)</strong>//第一个参数是函数运行的函数作用域，第二个参数是参数数组arr的实例或arguments对象，用途是在特定的作用域中调用函数，扩充函数运行的作用域,最大的好处就是对象不需要与方法有任何耦合关系就可以调用；</li> 
   <li><strong>call(this,num1,num2…)</strong>:与apply作用相同，区别只是接受参数的方式不同；</li> 
  </ul> 
  <pre><code class="prism language-js">sayColor<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//red</span>
sayColor<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//red</span>
sayColor<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//blue</span>
</code></pre> 
  <h2><a id="_86"></a>函数闭包</h2> 
  <p><strong>函数闭包</strong>：函数和函数内部能访问到的变量（也叫环境）的总和，就是一个闭包；其实就是函数套函数；<br> <strong>闭包</strong>：指有权访问另一个函数作用域中变量的函数；内部函数总是可以访问其所在的外部函数中声明的参数和变量，即使在其外部函数被返回（寿命终结）了之后，因为闭包调用了父级函数的参数，使父级函数的变量一直存在于调用栈中。</p> 
  <p>​ 每个函数都有自己的作用域，如果在一个函数里定义了另一个函数，那么对应的就有两个作用域，这两个作用域就会形成一个链条，俗称作用域链。本质上讲，作用域链是一个自上而下的链表， 链表的最顶端是内部函数作用域，链表的最底端是全局作用域。内部函数有权访问整个作用域链上的变量。正常情况下，每当一个函数执行完毕，对应的作用域就会从该链表上移除，然后销毁。但如果函数 A 把函数 B 作为返回值返回时，情况又不一样。首先，函数 A 返回的是函数 B 的引用，也就是说，B 可能会在其他地方被调用。上面提到，函数 B 的定义是位于函数 A 内部，因此 A 和 B 会形成一条作用域链，函数 B 有可能会读取 A中的变量 。为了保证函数 B 能够在其他地方正确执行，函数 B 所在的这条作用域链就不能被破坏。所以，即使函数 A 执行返回后，A 的作用域也不能释放，需要一直保存在内存中，以确保函数 B 能够正常读取里面的变量。函数 B 具有永久访问 A 作用域的特权，确切说，函数B 就是闭包 。</p> 
  <p>总而言之，闭包就是一个有权访问另一个函数作用域的函</p> 
  <p><strong>函数调用过程</strong>：当某个函数被调用时；会创建一个执行环境及相应的作用链域。然后使用arguments和其他命名参数的值来初始化函数的的活动对象，但在作用域链中，外部函数的活动对象始终处于第二位，外部函数的外部函数的活动对象，处于第三位，直至作为作用域链终点的全局执行环境；在函数执行过程中，为读取和写入变量的值，需要直接在作用域链中查找变量；<br> 作用域链本质上是是一个指向变量对象的指针列表，它只引用但不包含变量对象。<br> eg：函数a返回函数b时，如果b引入了函数a的局部变量，实际返回值就变成了函数b的一个函数体加一个闭包，闭包里就是函数b用到的全部变量；</p> 
  <p><strong>闭包的作用</strong>：</p> 
  <p>return 一个函数：<br> 用来间接访问一个变量（隐藏变量）：函数套函数是为了造出一个局部变量，外部环境可以通过return的这个函数（闭包）访问到上级函数的局部变量；即提供一个局部变量的访问接口，必须通过接口修改局部变量；</p> 
  <pre><code class="prism language-js"><span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> lives <span class="token operator">=</span> <span class="token number">50</span>
  window<span class="token punctuation">.</span><span class="token function-variable function">奖励一条命</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    lives <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function-variable function">死一条命</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    lives <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
  <p>如上所示，通过闭包，你要修改lives必须要通过定义的闭包才能访问lives；</p> 
  <p><strong>闭包的副作用</strong>：闭包只能取得包含函数中任何变量的最后一个值。闭包保存的是整个变量对象，不是某个特殊的变量；</p> 
  <pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">creatFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token keyword">return</span> i<span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">let</span> s <span class="token operator">=</span><span class="token function">creatFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10;闭包只能取得包含函数中任何变量的最后一个值</span>


<span class="token keyword">function</span> <span class="token function">creatFunction1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

                <span class="token keyword">return</span> nums<span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> result<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">let</span> m <span class="token operator">=</span><span class="token function">creatFunction1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2;在闭包在套一层闭包即可解决；</span>
</code></pre> 
  <pre><code></code></pre> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
