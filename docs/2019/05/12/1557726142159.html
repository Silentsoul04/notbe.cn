<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JavaScript淘宝购物车 « NotBeCN</title>
  <meta name="description" content="                  Html中的代码   &lt;body&gt;		&lt;div class="catbox"&gt;			&lt;table id="cartTable"&gt;				&lt;thead&gt;					&lt;tr&gt;						&lt;th&gt;&lt;label...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/1557726142159.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">JavaScript淘宝购物车</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p><strong>Html中的代码</strong></p> 
  <pre><code>&lt;body&gt;
		&lt;div class="catbox"&gt;
			&lt;table id="cartTable"&gt;
				&lt;thead&gt;
					&lt;tr&gt;
						&lt;th&gt;&lt;label&gt;
		            &lt;input class="check-all check" type="checkbox"/&gt;&amp;nbsp;&amp;nbsp;全选&lt;/label&gt;&lt;/th&gt;
						&lt;th&gt;商品&lt;/th&gt;
						&lt;th&gt;单价&lt;/th&gt;
						&lt;th&gt;数量&lt;/th&gt;
						&lt;th&gt;小计&lt;/th&gt;
						&lt;th&gt;操作&lt;/th&gt;
					&lt;/tr&gt;
				&lt;/thead&gt;
				&lt;tbody&gt;
					&lt;tr&gt;
						&lt;td class="checkbox"&gt;&lt;input class="check-one check" type="checkbox" /&gt;&lt;/td&gt;
						&lt;td class="goods"&gt;&lt;img src="images/1.jpg" alt="" /&gt;&lt;span&gt;Casio/卡西欧 EX-TR350&lt;/span&gt;&lt;/td&gt;
						&lt;td class="price"&gt;5999.88&lt;/td&gt;
						&lt;td class="count"&gt;&lt;span class="reduce"&gt;&lt;/span&gt;
							&lt;input class="count-input" type="text" value="1" /&gt;
							&lt;span class="add"&gt;+&lt;/span&gt;&lt;/td&gt;
						&lt;td class="subtotal"&gt;5999.88&lt;/td&gt;
						&lt;td class="operation"&gt;&lt;span class="delete"&gt;删除&lt;/span&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td class="checkbox"&gt;&lt;input class="check-one check" type="checkbox" /&gt;&lt;/td&gt;
						&lt;td class="goods"&gt;&lt;img src="images/2.jpg" alt="" /&gt;&lt;span&gt;Canon/佳能 PowerShot SX50 HS&lt;/span&gt;&lt;/td&gt;
						&lt;td class="price"&gt;3888.50&lt;/td&gt;
						&lt;td class="count"&gt;&lt;span class="reduce"&gt;&lt;/span&gt;
							&lt;input class="count-input" type="text" value="1" /&gt;
							&lt;span class="add"&gt;+&lt;/span&gt;&lt;/td&gt;
						&lt;td class="subtotal"&gt;3888.50&lt;/td&gt;
						&lt;td class="operation"&gt;&lt;span class="delete"&gt;删除&lt;/span&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td class="checkbox"&gt;&lt;input class="check-one check" type="checkbox" /&gt;&lt;/td&gt;
						&lt;td class="goods"&gt;&lt;img src="images/3.jpg" alt="" /&gt;&lt;span&gt;Sony/索尼 DSC-WX300&lt;/span&gt;&lt;/td&gt;
						&lt;td class="price"&gt;1428.50&lt;/td&gt;
						&lt;td class="count"&gt;&lt;span class="reduce"&gt;&lt;/span&gt;
							&lt;input class="count-input" type="text" value="1" /&gt;
							&lt;span class="add"&gt;+&lt;/span&gt;&lt;/td&gt;
						&lt;td class="subtotal"&gt;1428.50&lt;/td&gt;
						&lt;td class="operation"&gt;&lt;span class="delete"&gt;删除&lt;/span&gt;&lt;/td&gt;
					&lt;/tr&gt;
					&lt;tr&gt;
						&lt;td class="checkbox"&gt;&lt;input class="check-one check" type="checkbox" /&gt;&lt;/td&gt;
						&lt;td class="goods"&gt;&lt;img src="images/4.jpg" alt="" /&gt;&lt;span&gt;Fujifilm/富士 instax mini 25&lt;/span&gt;&lt;/td&gt;
						&lt;td class="price"&gt;640.60&lt;/td&gt;
						&lt;td class="count"&gt;&lt;span class="reduce"&gt;&lt;/span&gt;
							&lt;input class="count-input" type="text" value="1" /&gt;
							&lt;span class="add"&gt;+&lt;/span&gt;&lt;/td&gt;
						&lt;td class="subtotal"&gt;640.60&lt;/td&gt;
						&lt;td class="operation"&gt;&lt;span class="delete"&gt;删除&lt;/span&gt;&lt;/td&gt;
					&lt;/tr&gt;
				&lt;/tbody&gt;
			&lt;/table&gt;
			&lt;div class="foot" id="foot"&gt;
				&lt;label class="fl select-all"&gt;&lt;input type="checkbox" class="check-all check"/&gt;&amp;nbsp;&amp;nbsp;全选&lt;/label&gt;
				&lt;a class="fl delete" id="deleteAll" href="javascript:;"&gt;删除&lt;/a&gt;
				&lt;div class="fr closing" onclick="getTotal();"&gt;结 算&lt;/div&gt;
				&lt;input type="hidden" id="cartTotalPrice" /&gt;
				&lt;div class="fr total"&gt;合计：￥&lt;span id="priceTotal"&gt;0.00&lt;/span&gt;&lt;/div&gt;
				&lt;div class="fr selected" id="selected"&gt;已选商品&lt;span id="selectedTotal"&gt;0&lt;/span&gt;件&lt;span class="arrow up"&gt;︽&lt;/span&gt;&lt;span class="arrow down"&gt;︾&lt;/span&gt;&lt;/div&gt;
				&lt;div class="selected-view"&gt;
					&lt;div id="selectedViewList" class="clearfix"&gt;
						&lt;!--&lt;div&gt;&lt;img src="images/1.jpg"&gt;&lt;span&gt;取消选择&lt;/span&gt;&lt;/div&gt;--&gt;
					&lt;/div&gt;
					&lt;span class="arrow"&gt;◆&lt;span&gt;◆&lt;/span&gt;&lt;/span&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
</code></pre> 
  <p><strong>Css中的代码</strong></p> 
  <pre><code>@charset "utf-8";
*{margin:0;padding:0;list-style-type:none;}
a{color:#666;text-decoration:none;}
table{border-collapse:collapse;border-spacing:0;border:0;}
body{color:#666;font:12px/180% Arial, Helvetica, sans-serif, "新宋体";}
clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}
.clearfix{display:inline-table}
*html .clearfix{height:1%}
.clearfix{display:block}
*+html .clearfix{min-height:1%}
.fl{float:left;}
.fr{float:right;}
.catbox{width:940px;margin:100px auto;}
.catbox table{text-align:center;width:100%;}
.catbox table th,.catbox table td{border:1px solid #CADEFF;}
.catbox table th{background:#e2f2ff;border-top:3px solid #a7cbff;height:30px;}
.catbox table td{padding:10px;color:#444;}
.catbox table tbody tr:hover{background:RGB(238,246,255);}
.checkbox{width:60px;}
.check-all{ vertical-align:middle;}
.goods{width:300px;}
.goods span{width:180px;margin-top:20px;text-align:left;float:left;}
.goods img{width:100px;height:80px;margin-right:10px;float:left;}
.price{width:130px;}
.count{width:90px;}
.count .add, .count input, .count .reduce{float:left;margin-right:-1px;position:relative;z-index:0;}
.count .add, .count .reduce{height:23px;width:17px;border:1px solid #e5e5e5;background:#f0f0f0;text-align:center;line-height:23px;color:#444;}
.count .add:hover, .count .reduce:hover{color:#f50;z-index:3;border-color:#f60;cursor:pointer;}
.count input{width:50px;height:15px;line-height:15px;border:1px solid #aaa;color:#343434;text-align:center;padding:4px 0;background-color:#fff;z-index:2;}
.subtotal{width:150px;color:red;font-weight:bold;}
.operation span:hover,a:hover{cursor:pointer;color:red;text-decoration:underline;}

.foot{margin-top:0px;color:#666;height:48px;border:1px solid #c8c8c8;border-top:0;background-color:#eaeaea;background-image:linear-gradient(RGB(241,241,241),RGB(226,226,226));position:relative;z-index:8;}
.foot div, .foot a{line-height:48px;height:48px;}
.foot .select-all{width:80px;height:48px;line-height:48px;color:#666;text-align:center;}
.foot .delete{padding-left:10px;}
.foot .closing{border-left:1px solid #c8c8c8;width:103px;text-align:center;color:#666;font-weight:bold;cursor:pointer;background-image:linear-gradient(RGB(241,241,241),RGB(226,226,226));}
.foot .closing:hover{background-image:linear-gradient(RGB(226,226,226),RGB(241,241,241));color:#333;}
.foot .total{margin:0 20px;cursor:pointer;}
.foot  #priceTotal, .foot #selectedTotal{color:red;font-family:"Microsoft Yahei";font-weight:bold;}
.foot .selected{cursor:pointer;}
.foot .selected .arrow{position:relative;top:-3px;margin-left:3px;}
.foot .selected .down{position:relative;top:3px;display:none;}
.show .selected .down{display:inline;}
.show .selected .up{display:none;}
.foot .selected:hover .arrow{color:red;}
.foot .selected-view{width:938px;border:1px solid #c8c8c8;position:absolute;height:auto;background:#ffffff;z-index:9;bottom:48px;left:-1px;display:none;}
.show .selected-view{display:block;}
.foot .selected-view div{height:auto;}
.foot .selected-view .arrow{font-size:16px;line-height:100%;color:#c8c8c8;position:absolute;right:330px;bottom:-9px;}
.foot .selected-view .arrow span{color:#ffffff;position:absolute;left:0px;bottom:1px;}

#selectedViewList{padding:10px 20px 10px 20px;}
#selectedViewList div{display:inline-block;position:relative;width:100px;height:80px;border:1px solid #ccc;margin:10px;float:left;}
#selectedViewList div img{width:100px;height:80px;margin-right:10px;float:left;}
#selectedViewList div span{display:none;color:#ffffff;font-size:12px;position:absolute;top:0px;right:0px;width:60px;height:18px;line-height:18px;text-align:center;background:#000;cursor:pointer;}
#selectedViewList div:hover span{display:block;}
</code></pre> 
  <p><strong>JavaScript的代码</strong></p> 
  <pre><code>window.onload=function(){	

	//获取页面勾选框和全选框
	var checks=document.getElementsByClassName('check'); //所有的勾选框
	var check_all=document.getElementsByClassName('check-all');// 全选框
	
	//获取页面中记录总的价格总的数量
	var price_total=document.getElementById('priceTotal');
	var Num_total=document.getElementById('selectedTotal');
	//获取页面中的表格
	var table=document.getElementById('cartTable');
	//后代中的索引为1的行是tr
	var tr=table.children[1].rows;
	
	
	//获取删除页面中的元素
	var deletedAll=document.getElementById('deleteAll');
	
	
	//获取浮层
	var selected=document.getElementById('selected');
	//获取装一系列照片的div
	var selectedViewList=document.getElementById('selectedViewList');  //浮层已选商品的列表容器
	
	//获取浮层的父元素
	var foot=document.getElementById('foot');
	
	//遍历给所有的check添加点击事件
	for(var i=0;i&lt;checks.length;i++){
		checks[i].onclick=function(){
			//判断勾选框中的复选框
			if(this.className.indexOf('check-all')&gt;=0){	
				//遍历所有的勾选框选中
				for(var j=0;j&lt;checks.length;j++){
					checks[j].checked=this.checked;
				}
			}
			if(!this.checked){
				for(var k=0;k&lt;check_all.length;k++){
					check_all[k].checked=false;
				}
			}
			getTotal();
		}
	}	
	//创建一个函数用来记录总价格和总数量
	function getTotal(){
		var prices=0;
		var numbers=0;			
		var htmlStr=''; //记录浮层
		//遍历表格中的每行
		for(var i=0;i&lt;tr.length;i++){
			//判断当选中点击选中勾选框
			if(tr[i].getElementsByTagName('input')[0].checked){
				//获取数量的值
				 numbers+=parseInt(tr[i].getElementsByTagName('input')[1].value);
				//获取总金额的值
				 prices+=parseFloat(tr[i].cells[4].innerHTML);
				 
				//把图层的图片装进来
				htmlStr+='&lt;div&gt;&lt;img src="'+tr[i].getElementsByTagName('img')[0].src+'"&gt;&lt;/div&gt;'; 
			}
		}
		//把遍历出来的数据赋给总数量和总价格
		Num_total.innerHTML=numbers;
		//toFixed(2)  小数点后面精确两位
		price_total.innerHTML=prices.toFixed(2);
		
		selectedViewList.innerHTML=htmlStr;		
	}
	//给每一行都添加点击事件让其商品的数量增加和减少
	for(var i=0;i&lt;tr.length;i++){
		tr[i].onclick=function(e){
			var e=e||event;
			var Ele=e.target||e.srcElement;
			var clas=Ele.className;
			//获取显示数量这一个容器的元素			
			var counts=this.getElementsByTagName('input')[1];
			//把里面的值接收到
			var counts_Num=(parseFloat(counts.value));
			switch (clas){
				case 'add':
					counts.value=counts_Num+1;
					getSubToatal(this);
					break;
				case 'reduce':
				if(counts_Num&gt;1){					
					counts.value=counts_Num-1;
					getSubToatal(this);
				}
					break;
				case 'delete':
					var conf=confirm('确定要删除此商品吗？');
					if(conf){
						this.parentNode.removeChild(this);
					}
					break;
				default:
					break;
			}
			getTotal();
		}
		
		  // 给数目输入框绑定keyup事件
        tr[i].getElementsByTagName('input')[1].onkeyup = function () {
            var val = parseInt(this.value);
            //判断让其数值大于1
            if (isNaN(val) || val &lt;= 0) {
                val = 1;
            }
            if (this.value != val) {
                this.value = val;
            }
            getSubToatal(this.parentNode.parentNode); //更新小计
            getTotal(); //更新总数
        }
		
	}
	//创建一个函数把里面小计里面的金额和数量添加到总的数量和总的金额里面
	function getSubToatal(tr){
		var cell_all=tr.cells;
		var price=cell_all[2];  //单价那一列
		var subtotal=cell_all[4]; //小计那一列
		//获取显示数目和减号的元素
		var count_out=tr.getElementsByTagName('input')[1];
		var reduce=tr.getElementsByTagName('span')[1];
		//计算每一行的总价显示在小计里
		subtotal.innerHTML=(parseInt(count_out.value))*(parseFloat(price.innerHTML)).toFixed(2);
		//判断把减号显示
		if(count_out.value&gt;1){
			reduce.innerHTML='-';			
		}else{
			reduce.innerHTML='';
		}
	}
	//创建函数 用于删除	
	deletedAll.onclick=function(){
		if( Num_total!=0){
			var conf=confirm('确定要删除选中的商品吗?');
			 if(conf){
			 	//把所有的商品都删除
			 	for(var i=0;i&lt;tr.length;i++){
			 		if(tr[i].getElementsByTagName('input')[0].checked){
			 			tr[i].parentNode.removeChild(tr[i]);
			 			i--;
			 		}
			 	}
			 }
		}else{
			alert('请选择商品再进行删除！');
		}			 		
		getTotal();
	}	
	//创建一个函数用于浮层
	selected.onclick=function(){
		if(Num_total.innerHTML!=0){
			foot.className=(foot.className=='foot'?'foot show':'foot');
		}
	}
}

</code></pre> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
