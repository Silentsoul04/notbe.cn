<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>MySQL教程笔记 « NotBeCN</title>
  <meta name="description" content="                   MySQL   SQL       数据基础知识          什么是数据库 数据库(database) 保存有组织的数据的容器(不是数据库软件DBMS–数据库管理系统)             什么是表(Table) 表(table) 某种特定类型数据的结构化清单 数据...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/Jack_yun_feng_90139682.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">MySQL教程笔记</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">  
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-dracula"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <h1><a id="MySQL_0"></a>MySQL</h1> 
  <h4><a id="SQL_1"></a>SQL</h4> 
  <blockquote> 
   <p><strong>数据基础知识</strong></p> 
  </blockquote> 
  <blockquote> 
   <p>什么是数据库<br> 数据库(database) 保存有组织的数据的容器(不是数据库软件DBMS–数据库管理系统)</p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>什么是表(Table)<br> 表(table) 某种特定类型数据的结构化清单<br> 数据库中的每个表都有一个名字,用来标识自己.此名字是唯一的.</p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>什么是列(column) 表中的一个字段(field),所有表都是由一个或多个列组成的.</p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>数据库中每个列都有相应的数据类型.数据类型定义列可以存储的数据种类.</p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>什么是行(row)<br> 行(row) 表中的一个记录<br> 表中的数据是按行存储的,所保存的每个记录存储在自己的行内,你可能听到用户称其为数据库记录(record)</p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>什么是主键<br> 主键(primary key) 一列(或一组列),其值能够唯一区别分表中每个行(通常用ID或者编号).<br> <strong>注意: 创建的每个表都应该具有一个主键</strong></p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>什么是SQL<br> 结构化查询语言(Structured Query Language,SQL)<br> 设计SQL的目的是很好地完成一项任务, 即提供一种从数据库中读写数据的简单有效的方法</p> 
  </blockquote> 
  <blockquote> 
   <p>SQL优点:<br> 1-通用性高 几乎所有重要的DBMS都支持<br> 2-简单易学 语句全由描述性很强的英语单词组成<br> 3-灵活强劲 可以进行非常复杂和高级的数据库操作</p> 
  </blockquote> 
  <h4><a id="MySQL_43"></a>MySQL</h4> 
  <blockquote> 
   <p>什么是MYSQL<br> 正如前面所述,数据的所有存储,检索,管理和处理实际上是由数据库软件-----DBMS(数据库管理系统)完成的. MySQL是一种DBMS,即他是一种数据库管理软件.</p> 
  </blockquote> 
  <blockquote> 
   <p>优点:<br> 1-免费开源<br> 2-性能—very fast<br> 3-可信赖<br> 4-简单-很容易安装和使用</p> 
  </blockquote> 
  <hr> 
  <p>客户机–服务器软件</p> 
  <blockquote> 
   <p>DBMS可分为两类:一类基于共享文件系统,一类为基于客户机-服务器的DBMS.<br> MySQL,Oracle,SQL Sever等数据库软件都是基于后者的.</p> 
  </blockquote> 
  <p>####database操作</p> 
  <blockquote> 
   <p>连接数据库</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">//连接数据库有两种方式</span>
方式一:
		mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>pmysql
		数据库   <span class="token keyword">user</span>   password

方式二:
		mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
		数据库  <span class="token keyword">user</span>    密码手动输入
</code></pre> 
  <blockquote> 
   <p>–退出数据库</p> 
  </blockquote> 
  <pre><code class="prism language-sql">quit
<span class="token keyword">exit</span>   统一用<span class="token keyword">exit</span>
Ctrl <span class="token operator">+</span> d
</code></pre> 
  <blockquote> 
   <p>–sql语句结尾统一使用分号";"<br> 显示命令清单</p> 
  </blockquote> 
  <pre><code class="prism language-sql">help <span class="token keyword">show</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>显示数据库版本 version</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//其实是调用函数</span>
</code></pre> 
  <blockquote> 
   <p>–显示时间 now</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p><strong>- -查看当前使用的数据库</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p><strong>查看所有数据库</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p><strong>创建数据库</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式:
<span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名 <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token comment">//必须指定编码类型,统一使用utf8,万国码.</span>
例:
<span class="token keyword">create</span> <span class="token keyword">database</span> python <span class="token keyword">charset</span><span class="token operator">=</span>ut8<span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–查看创建数据库的语句</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式:
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名<span class="token punctuation">;</span>

例:
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> python <span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p><strong>–使用和切换数据库</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">use</span> 数据库名<span class="token punctuation">;</span>
例: <span class="token keyword">use</span> python<span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–删除数据库</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">drop</span> <span class="token keyword">database</span> 数据库名<span class="token punctuation">;</span>
例: <span class="token keyword">drop</span> <span class="token keyword">database</span> python<span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <p>####table操作</p> 
  <blockquote> 
   <p><strong>查看当前数据库中所有的表</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p><strong>创建表</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">create</span> <span class="token keyword">table</span> 数据库名 <span class="token punctuation">(</span>字段 类型 <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">,</span>字段 类型 <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
说明:字段 field 即表头 可以有很多<span class="token punctuation">,</span>定义字段需要指定  数据类型<span class="token punctuation">[</span>必填<span class="token punctuation">]</span>   约束<span class="token punctuation">[</span>选填<span class="token punctuation">]</span><span class="token punctuation">,</span>数据类型原则 够用就行

例:
  <span class="token keyword">create</span> <span class="token keyword">table</span> classes<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–查看表的结构</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">desc</span> 数据表名  <span class="token operator">/</span>  <span class="token keyword">describe</span> 数据表名
例: <span class="token keyword">desc</span> classes<span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–查看表的创建语句</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> 表名字<span class="token punctuation">;</span>
例: <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> classes<span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p><strong>–修改表结构</strong><br> 一般数据库表结构设计周期很长,一旦设计完毕就不会修改,因为代价很大(除非数据表没有存放数据)<br> –添加字段(add field)</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">add</span> 列名 类型 约束<span class="token punctuation">;</span>
例: <span class="token keyword">alter</span> <span class="token keyword">table</span> classes <span class="token keyword">add</span> mascot <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–修改字段(modify field) 不重名版</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">modify</span> 字段 类型 约束<span class="token punctuation">;</span>
例:    <span class="token keyword">alter</span> <span class="token keyword">table</span> classes <span class="token keyword">modify</span> mascot <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–修改字段(change field) 重名版</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 change 原名 新名 类型 约束<span class="token punctuation">;</span>
例:     <span class="token keyword">alter</span> <span class="token keyword">table</span> classes change mascot jxw <span class="token keyword">int</span> <span class="token punctuation">;</span> 
注: 这种方式通用性高
</code></pre> 
  <blockquote> 
   <p>–删除字段(drop field)</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">drop</span> field<span class="token punctuation">;</span>
例:     <span class="token keyword">alter</span> <span class="token keyword">table</span> classes <span class="token keyword">drop</span> jxw<span class="token punctuation">;</span>
</code></pre> 
  <blockquote> 
   <p>–删除表</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">drop</span> <span class="token keyword">table</span> 表名<span class="token punctuation">;</span>
例:     <span class="token keyword">drop</span> <span class="token keyword">table</span> classes<span class="token punctuation">;</span>	<span class="token comment">//与删库一样</span>

</code></pre> 
  <h4><a id="curd_183"></a><strong>增删改查(curd)</strong>–必会点</h4> 
  <blockquote> 
   <p><strong>增</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式: <span class="token keyword">insert</span> <span class="token keyword">into</span> 表名<span class="token punctuation">(</span>不写字段表后面字段要按照顺序一一填写<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>按照字段顺序一一填写<span class="token punctuation">)</span>
说明:
<span class="token number">1</span><span class="token operator">-</span>表名<span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span>字段<span class="token number">2</span><span class="token punctuation">)</span> 可以指定初始化的字段和顺序
<span class="token number">2</span><span class="token operator">-</span>主键字段 可以用<span class="token number">0</span> <span class="token boolean">null</span> <span class="token keyword">default</span> 来占位
例:
全部插入
  <span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>high<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>cls_id<span class="token punctuation">)</span> 
        <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'laowang'</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">1.55</span> <span class="token punctuation">,</span><span class="token string">'妖'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
部分插入
       <span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">"小花"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
多行插入              
         <span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>high<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>cls_id<span class="token punctuation">)</span>    <span class="token comment">//这种效率和性能最高.</span>
       
</code></pre> 
  <hr> 
  <blockquote> 
   <p><strong>–修改(update )</strong></p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式:<span class="token keyword">update</span> 表名 <span class="token keyword">set</span> 列<span class="token number">1</span><span class="token operator">=</span>值<span class="token number">1</span><span class="token punctuation">,</span>列<span class="token number">2</span><span class="token operator">=</span>值<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> 条件<span class="token punctuation">;</span>
<span class="token comment">--全部修改</span>
        <span class="token keyword">update</span> student <span class="token keyword">set</span> age <span class="token operator">=</span> <span class="token number">30</span> <span class="token punctuation">;</span>
说明:注意操作数据库时这种很危险<span class="token punctuation">,</span> 一般必须带上<span class="token keyword">where</span>条件过滤<span class="token punctuation">(</span>除非真的是全部<span class="token punctuation">)</span>

<span class="token comment">--按条件修改</span>
        <span class="token keyword">update</span> student <span class="token keyword">set</span> age <span class="token operator">=</span> <span class="token number">18</span>  <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token comment">//where是行过滤,一般是修改一行相关信息</span>
<span class="token comment">--按条件修改多个值</span>
        <span class="token keyword">update</span> student <span class="token keyword">set</span> gender <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">,</span>age <span class="token operator">=</span> <span class="token number">20</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p><strong>–查询(select)-----Query</strong><br> –查询所有列</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式:<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>  <span class="token comment">//比较耗性能</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> studnets<span class="token punctuation">;</span>

<span class="token comment">--指定条件查询</span>
        <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">'小花'</span><span class="token punctuation">;</span>
<span class="token comment">--查询指定field</span>
格式:<span class="token keyword">select</span> 列<span class="token number">1</span><span class="token punctuation">,</span>列<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>       
        <span class="token keyword">select</span> name<span class="token punctuation">,</span>age <span class="token keyword">from</span> student<span class="token punctuation">;</span>  <span class="token comment">//这种查询比较明确,对性能有很大好处.</span>
 <span class="token comment">-- 可以使用as为列或表指定别名</span>
 <span class="token comment">-- select 字段[as 别名] , 字段[as 别名] from 数据表;</span>
         <span class="token keyword">select</span> name <span class="token keyword">as</span> name2 <span class="token keyword">from</span> student<span class="token punctuation">;</span> <span class="token comment">//在这里别名没有意义,一般在完全限定表名情形时使用(表名.字段名)</span>
<span class="token comment">--字段的顺序 </span>
<span class="token keyword">select</span> age<span class="token punctuation">,</span>name <span class="token keyword">from</span> student<span class="token punctuation">;</span>
<span class="token keyword">select</span> student<span class="token punctuation">.</span>age<span class="token punctuation">,</span>student<span class="token punctuation">.</span>name <span class="token keyword">from</span> student<span class="token punctuation">;</span>   <span class="token comment">// 字段显示的顺序会按照查询的顺序显示</span>
</code></pre> 
  <blockquote> 
   <p><strong>–删除</strong><br> –物理删除</p> 
  </blockquote> 
  <pre><code class="prism language-sql">格式:<span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 条件<span class="token punctuation">;</span>  <span class="token comment">// where一定要有,不然就是删表了</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> classes<span class="token punctuation">;</span>  <span class="token comment">//这是删表</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> classes <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>  <span class="token comment">// 这才正常</span>
</code></pre> 
  <blockquote> 
   <p>–逻辑删除</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 用一个字段来表示 这条信息是否已经不能再使用了</span>
<span class="token comment">-- 给students表添加一个 is_delete 字段 bit 类型</span>
<span class="token comment">--alter table 表名 add 字段 类型 default 默认值;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> student <span class="token keyword">add</span> is_delete <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> student <span class="token keyword">set</span> is_delete <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

优点:
<span class="token number">1</span><span class="token operator">-</span>数据不会丢失
<span class="token number">2</span><span class="token operator">-</span>便于融资<span class="token punctuation">(</span>用户基数大<span class="token punctuation">)</span>
</code></pre> 
  <hr> 
  <h4><a id="Query_259"></a>单表条件过滤(Query)</h4> 
  <blockquote> 
   <p><strong>过滤</strong><br> where是行过滤<br> having是分组过滤<br> join on是联结过滤(也可以使用where,但是为了区分,规范推荐使用on)</p> 
  </blockquote> 
  <blockquote> 
   <p>–简单查询</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 查询所有字段</span>
<span class="token comment">-- select * from 表名;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>


<span class="token comment">-- 查询指定字段</span>
<span class="token comment">-- select 列1,列2,... from 表名;</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span> age <span class="token keyword">from</span> students<span class="token punctuation">;</span>

	
<span class="token comment">-- 使用 as 给字段起别名</span>
<span class="token comment">-- select 字段 as 名字.... from 表名;</span>
<span class="token keyword">select</span> name <span class="token keyword">as</span> name2 <span class="token keyword">from</span> students<span class="token punctuation">;</span>

	

<span class="token comment">-- select 表名.字段 .... from 表名;</span>

<span class="token keyword">select</span> students<span class="token punctuation">.</span>name <span class="token keyword">from</span> students<span class="token punctuation">;</span>
	
	
<span class="token comment">-- 可以通过 as 给表起别名</span>
<span class="token comment">-- select 别名.字段 .... from 表名 as 别名;</span>
	
<span class="token keyword">select</span> s<span class="token punctuation">.</span>name <span class="token keyword">from</span>  students <span class="token keyword">as</span> s<span class="token punctuation">;</span>
	

<span class="token comment">-- 消除重复行(查性别)</span>
	
<span class="token comment">-- distinct 字段 </span>

<span class="token keyword">select</span> <span class="token keyword">distinct</span> gender <span class="token keyword">from</span> students<span class="token punctuation">;</span>

<span class="token keyword">select</span> gender <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–比较运算符查询</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- select .... from 表名 where .....</span>
<span class="token comment">-- &gt;</span>
<span class="token comment">-- 查询年纪大于18岁的信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>

<span class="token comment">-- &lt;</span>
<span class="token comment">-- 查询年纪小于18岁的信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">;</span>
		

<span class="token comment">-- &gt;=</span>
<span class="token comment">-- &lt;=</span>
<span class="token comment">-- 查询小于或者等于18岁的信息</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&lt;=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token comment">-- =</span>
<span class="token comment">-- 查询年龄为18岁的所有学生的名字</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>



<span class="token comment">-- != 或者 &lt;&gt;</span>
<span class="token comment">-- 查询年龄不为18岁的所有学生的名字</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">!=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&lt;&gt;</span> <span class="token number">18</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–逻辑运算符</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 逻辑运算符</span>
<span class="token comment">-- and</span>
<span class="token comment">-- 18和28之间的所以学生信息</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token operator">and</span> age <span class="token operator">&lt;</span> <span class="token number">28</span><span class="token punctuation">;</span>

<span class="token comment">-- 18岁以上的女性</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>

<span class="token comment">-- or</span>
<span class="token comment">-- 18以上或者身高高过180(包含)以上</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token operator">or</span> height <span class="token operator">&gt;=</span> <span class="token number">180</span><span class="token punctuation">;</span>
		

<span class="token comment">-- not</span>
<span class="token comment">-- 不在 18岁以上的女性 这个范围内的信息</span>
<span class="token comment">-- select * from students where not (age&gt;18 and gender=2);</span>
		
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span><span class="token punctuation">(</span> age <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> <span class="token operator">not</span> age <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token string">'女'</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–模糊查询(和正则表达式查询一样很耗性能)<br> 说明:这种查询会查询所有的行,然后进行匹配.</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 模糊查询(where name like 要查询的数据)</span>
<span class="token comment">-- like </span>
<span class="token comment">-- % 替换任意个</span>
<span class="token comment">-- _ 替换1个</span>
<span class="token comment">-- 查询姓名中 以 "小" 开始的名字</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'小%'</span><span class="token punctuation">;</span>
		

<span class="token comment">-- 查询姓名中 有 "小" 所有的名字</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%小%'</span><span class="token punctuation">;</span>
		
<span class="token comment">-- 查询有2个字的名字</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'__'</span><span class="token punctuation">;</span>
		

<span class="token comment">-- 查询有3个字的名字</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'___'</span><span class="token punctuation">;</span>
						
<span class="token comment">-- 查询至少有2个字的名字</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">"__%"</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–范围查询(in)</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- in (1, 3, 8)表示在一个非连续的范围内</span>
<span class="token comment">-- 查询 年龄为18或34的姓名</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">18</span> <span class="token operator">or</span> age <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		

<span class="token comment">-- not in 不非连续的范围之内</span>
<span class="token comment">-- 年龄不是 18或34岁的信息</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- between ... and ...表示在一个连续的范围内</span>
<span class="token comment">-- 查询 年龄在18到34之间的的信息</span>


<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;=</span><span class="token number">18</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span><span class="token number">34</span><span class="token punctuation">;</span>

包含两端的数据
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">18</span> <span class="token operator">and</span> <span class="token number">34</span><span class="token punctuation">;</span>
		

		
<span class="token comment">-- not between ... and ...表示不在一个连续的范围内</span>
<span class="token comment">-- 查询 年龄不在18到34之间的的信息</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">not</span> <span class="token operator">between</span> <span class="token number">18</span> <span class="token operator">and</span> <span class="token number">34</span><span class="token punctuation">;</span>
		
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–空判断</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 判空is null</span>
<span class="token comment">-- 查询身高为空的信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> height <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token comment">-- 判非空is not null</span>
		
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> height <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–排序</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- order by 字段</span>
	<span class="token comment">-- asc</span>
	<span class="token comment">-- asc从小到大排列，即升序</span>
	<span class="token comment">-- desc</span>
	<span class="token comment">-- desc从大到小排序，即降序</span>
	<span class="token comment">-- 查询年龄在18到34岁之间的男性，按照年龄从小到大到排序</span>


<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">18</span> <span class="token operator">and</span> <span class="token number">34</span> <span class="token operator">and</span> 
	gender <span class="token operator">=</span> <span class="token string">'男'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>

	


	<span class="token comment">-- 查询年龄在18到34岁之间的女性，身高从高到矮排序</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">34</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token string">'女'</span> 
	<span class="token keyword">order</span> <span class="token keyword">by</span> height <span class="token keyword">desc</span><span class="token punctuation">;</span>
	

	<span class="token comment">-- order by 多个字段</span>
	<span class="token comment">-- 查询年龄在18到34岁之间的女性，身高从高到矮排序, 如果身高相同的情况下按照年龄从小到大排序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">34</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token string">'女'</span> 
	<span class="token keyword">order</span> <span class="token keyword">by</span> height <span class="token keyword">desc</span><span class="token punctuation">,</span>age <span class="token keyword">asc</span><span class="token punctuation">;</span>
	
	
    <span class="token comment">-- 如果年龄也相同那么按照id从大到小排序</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">34</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token string">'女'</span> 
	<span class="token keyword">order</span> <span class="token keyword">by</span> height <span class="token keyword">desc</span><span class="token punctuation">,</span>age <span class="token keyword">asc</span><span class="token punctuation">,</span>id <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–聚合函数</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 总数</span>
	<span class="token comment">-- count</span>
	<span class="token comment">-- 查询男性有多少人</span>
说明:
<span class="token number">1</span> <span class="token operator">*</span> 即id  表示计算所有行数
<span class="token number">2</span>  count也可以计算字段<span class="token punctuation">,</span>但是默认不包括<span class="token boolean">null</span><span class="token punctuation">(</span>区别于<span class="token number">0</span><span class="token punctuation">)</span>  例如 <span class="token function">count</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>height值为<span class="token boolean">null</span><span class="token punctuation">,</span>不会统计进去<span class="token punctuation">.</span>

<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
	
	<span class="token comment">-- 最大值</span>
	<span class="token comment">-- max</span>
	<span class="token comment">-- 查询最大的年龄</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
	
	<span class="token comment">-- 查询女性的最高 身高</span>

<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">'女'</span>
	


	<span class="token comment">-- 最小值</span>
	<span class="token comment">-- min</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>


	<span class="token comment">-- 求和</span>
	<span class="token comment">-- sum</span>
	<span class="token comment">-- 计算所有人的年龄总和</span>

<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
	
	
	<span class="token comment">-- 平均值</span>
	<span class="token comment">-- avg</span>
	<span class="token comment">-- 计算平均年龄</span>

<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
	


	<span class="token comment">-- 计算平均年龄 sum(age)/count(*)</span>

<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
	


	<span class="token comment">-- 四舍五入 round(123.23 , 1) 保留1位小数</span>
	<span class="token comment">-- 计算所有人的平均年龄，保留2位小数</span>

<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students<span class="token punctuation">;</span>
	


	<span class="token comment">-- 计算男性的平均身高 保留2位小数</span>

<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
	
	<span class="token boolean">null</span>是不会进行计算 的
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> 
	 gender <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–分组</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token keyword">select</span> 分组的字段 <span class="token keyword">from</span> 表名 <span class="token keyword">group</span> <span class="token keyword">by</span> 分组字段 <span class="token keyword">having</span> 分组的条件 <span class="token punctuation">;</span>
	<span class="token comment">-- group by</span>
	<span class="token comment">-- 按照性别分组,查询所有的性别</span>

<span class="token keyword">select</span> gender <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>



	<span class="token comment">-- 计算每种性别中的人数</span>

<span class="token keyword">select</span> gender<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>



	<span class="token comment">-- group_concat(...)</span>
	<span class="token comment">-- 查询同种性别中的姓名</span>
	
<span class="token keyword">select</span> gender<span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>


	
	<span class="token comment">-- 查询每组性别的平均年龄</span>

<span class="token keyword">select</span> gender<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span>  students <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
	


	<span class="token comment">-- having(注意having和group by 连用 having后通常也要跟 聚合函数)</span>
	<span class="token comment">-- 查询平均年龄超过30岁的性别，以及姓名</span>

<span class="token keyword">select</span> gender<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">from</span> students 
	<span class="token keyword">group</span> <span class="token keyword">by</span> gender <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">;</span>
	

	
	<span class="token comment">-- 查询每种性别中的人数多于2个的信息</span>
<span class="token keyword">select</span> gender<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> gender
	 <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>



	<span class="token comment">-- with rollup 汇总的作用(了解)</span>
<span class="token keyword">select</span> gender<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> 
	gender  <span class="token keyword">with rollup</span> <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–分页</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- limit start, count</span>
	<span class="token comment">-- limit 放在最后面(注意)</span>

	起始的位置<span class="token operator">=</span> <span class="token punctuation">(</span>页数<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> 每一页的个数
	
	<span class="token comment">-- 限制查询出来的数据个数</span>
	<span class="token comment">-- 查询前5个数据</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>

	<span class="token comment">-- 每页显示2个，第1个页面</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>

	<span class="token comment">-- 每页显示2个，第2个页面</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token comment">-- 每页显示2个，第3个页面</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token comment">-- 每页显示2个，第4个页面</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>

	<span class="token comment">-- 每页显示2个，显示第6页的信息, 按照年龄从小到大排序</span>
	
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span> <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> 
  <p><img src="./1555941096828.png" alt="Alt text"></p> 
  <blockquote> 
   <p><strong>select 子句必须准遵循的顺序</strong><br> select=&gt;from=&gt;where=&gt;group by=&gt;having=&gt;order by=&gt;limit start,count;</p> 
  </blockquote> 
  <hr> 
  <blockquote> 
   <p>–子查询</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 标量子查询: 子查询返回的结果是一个数据(一行一列)</span>
<span class="token comment">-- 列子查询: 返回的结果是一列(一列多行)</span>
<span class="token comment">-- 行子查询: 返回的结果是一行(一行多列)</span>
<span class="token comment">-- 查询所有价格大于 平均价格 的商品，并且按 价格降序 排序 order desc</span>
<span class="token comment">--1.平均价格</span>

<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> goods<span class="token punctuation">;</span>
<span class="token comment">--2.大于平均价格</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> goods <span class="token keyword">where</span> price <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> goods<span class="token punctuation">)</span>  <span class="token keyword">order</span> <span class="token keyword">by</span> price <span class="token keyword">desc</span><span class="token punctuation">;</span>



<span class="token comment">-- 查询每种类型中最贵的电脑信息(难)</span>

<span class="token comment">-- 1 查找 每种类型 中 最贵的 max_price 价格</span>

<span class="token keyword">select</span> cate_name <span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> goods <span class="token keyword">group</span> <span class="token keyword">by</span> cate_name<span class="token punctuation">;</span>


<span class="token comment">-- 2 查询最贵的信息</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> goods <span class="token keyword">where</span> <span class="token punctuation">(</span>cate_name<span class="token punctuation">,</span>price<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'台式机'</span><span class="token punctuation">,</span><span class="token number">9188</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> goods <span class="token keyword">where</span> <span class="token punctuation">(</span>cate_name<span class="token punctuation">,</span>price<span class="token punctuation">)</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> cate_name <span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">from</span> goods <span class="token keyword">group</span> <span class="token keyword">by</span> cate_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
  <h4><a id="_660"></a>联结</h4> 
  <blockquote> 
   <p>–主键</p> 
  </blockquote> 
  <blockquote> 
   <p>–外键</p> 
  </blockquote> 
  <blockquote> 
   <p>–内联结inner join on</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- inner join ... on</span>
<span class="token comment">-- select ... from 表A inner join 表B;</span>
<span class="token operator">-</span> 查询 有能够对应班级的学生以及班级信息\

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表a <span class="token keyword">inner</span> <span class="token keyword">join</span> 表B <span class="token keyword">on</span> 条件<span class="token punctuation">;</span>
	
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> classes
	 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id<span class="token punctuation">;</span>


elect <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> classes
	 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id <span class="token keyword">where</span> students<span class="token punctuation">.</span>gender <span class="token operator">=</span><span class="token string">'女'</span><span class="token punctuation">;</span>

	<span class="token comment">-- 按照要求显示姓名、班级select students.name,classes.name from students inner join classes</span>
	 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id<span class="token punctuation">;</span>


	<span class="token comment">-- 给数据表起名字</span>
<span class="token keyword">select</span> s<span class="token punctuation">.</span>name<span class="token punctuation">,</span>c<span class="token punctuation">.</span>name <span class="token keyword">from</span> students <span class="token keyword">as</span> s 
	<span class="token keyword">inner</span> <span class="token keyword">join</span> classes <span class="token keyword">as</span> c <span class="token keyword">on</span> s<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> c<span class="token punctuation">.</span>id<span class="token punctuation">;</span>


	<span class="token comment">-- 查询 有能够对应班级的学生以及班级信息，显示学生的所有信息 students.*，只显示班级名称 classes.name.</span>
	
<span class="token keyword">select</span> students<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span>classes<span class="token punctuation">.</span>name <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> classes
	 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

	
	<span class="token comment">-- 在以上的查询中，将班级名显示在第1列</span>
<span class="token keyword">select</span> classes<span class="token punctuation">.</span>name <span class="token punctuation">,</span>students<span class="token punctuation">.</span><span class="token operator">*</span>  <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> classes
	 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id<span class="token punctuation">;</span>


	<span class="token comment">-- 查询 有能够对应班级的学生以及班级信息, 按照班级名进行排序</span>
	
<span class="token keyword">select</span> classes<span class="token punctuation">.</span>name <span class="token punctuation">,</span>students<span class="token punctuation">.</span><span class="token operator">*</span>  <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> classes
	 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id <span class="token keyword">order</span> <span class="token keyword">by</span> classes<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
	
	<span class="token comment">-- 当时同一个班级的时候，按照学生的id进行从小到大排序</span>
	
<span class="token keyword">select</span> classes<span class="token punctuation">.</span>name <span class="token punctuation">,</span>students<span class="token punctuation">.</span><span class="token operator">*</span>  <span class="token keyword">from</span> students <span class="token keyword">inner</span> <span class="token keyword">join</span> classes
 <span class="token keyword">on</span> students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id 
 <span class="token keyword">order</span> <span class="token keyword">by</span> classes<span class="token punctuation">.</span>name <span class="token keyword">asc</span> <span class="token punctuation">,</span>students<span class="token punctuation">.</span>id <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–左外联结left join on</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 查询每位学生对应的班级信息</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">left</span> <span class="token keyword">join</span> classes <span class="token keyword">on</span> 
	students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
	


<span class="token comment">-- 查询没有对应班级信息的学生</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">left</span> <span class="token keyword">join</span> classes <span class="token keyword">on</span> 
	students<span class="token punctuation">.</span>cls_id <span class="token operator">=</span> classes<span class="token punctuation">.</span>id <span class="token keyword">where</span> classes<span class="token punctuation">.</span>name <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
	
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–右外联结right join on</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- right join on</span>
<span class="token comment">-- 将数据表名字互换位置，用left join完成</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">right</span> <span class="token keyword">join</span> classes <span class="token keyword">on</span> 
	classes<span class="token punctuation">.</span>id <span class="token operator">=</span> students<span class="token punctuation">.</span>cls_id<span class="token punctuation">;</span>
</code></pre> 
  <hr> 
  <blockquote> 
   <p>–自连接</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">--数据操作前的准备</span>
<span class="token comment">--创建数据库表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> areas<span class="token punctuation">(</span>
    aid <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    atitle <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    pid <span class="token keyword">int</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--从sql文件中导入数据</span>
<span class="token comment">-- source 具体地址/areas.sql;</span>

	source xxx<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">;</span>

	
<span class="token comment">--查询一共有多少个省</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">--例1：查询省的名称为“山西省”的所有城市</span>

<span class="token comment">-- 分两步</span>
<span class="token comment">-- 第一步查到山西 的编号 </span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> atitle <span class="token operator">=</span> <span class="token string">'山西省'</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> aid <span class="token keyword">from</span> areas <span class="token keyword">where</span> atitle <span class="token operator">=</span> <span class="token string">'山西省'</span><span class="token punctuation">;</span>

<span class="token comment">-- 第二步查到pid是山西 的编号 </span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">=</span> <span class="token string">'140000'</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">=</span> <span class="token punctuation">(</span>
<span class="token keyword">select</span> aid <span class="token keyword">from</span> areas <span class="token keyword">where</span> atitle <span class="token operator">=</span> <span class="token string">'山西省'</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">=</span> <span class="token punctuation">(</span>
		<span class="token keyword">select</span> aid <span class="token keyword">from</span> areas <span class="token keyword">where</span> atitle <span class="token operator">=</span> <span class="token string">'杭州市'</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 自联</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">as</span> a1 <span class="token keyword">inner</span> <span class="token keyword">join</span> areas <span class="token keyword">as</span> a2 
	<span class="token keyword">on</span> a1<span class="token punctuation">.</span>pid <span class="token operator">=</span> a2<span class="token punctuation">.</span>aid  <span class="token keyword">where</span> a2<span class="token punctuation">.</span>atitle <span class="token operator">=</span> <span class="token string">'杭州市'</span><span class="token punctuation">;</span> 
	
<span class="token comment">--例2：查询市的名称为“广州市”的所有区县</span>
	
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">where</span> pid <span class="token operator">=</span> <span class="token punctuation">(</span>
<span class="token keyword">select</span> aid <span class="token keyword">from</span> areas <span class="token keyword">where</span> atitle <span class="token operator">=</span> <span class="token string">'广州市'</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> areas <span class="token keyword">as</span> a1 <span class="token keyword">inner</span> <span class="token keyword">join</span> areas <span class="token keyword">as</span> a2 
	<span class="token keyword">on</span> a1<span class="token punctuation">.</span>pid <span class="token operator">=</span> a2<span class="token punctuation">.</span>aid  <span class="token keyword">where</span> a2<span class="token punctuation">.</span>atitle <span class="token operator">=</span> <span class="token string">'上海'</span><span class="token punctuation">;</span> 
</code></pre> 
  <hr> 
  <blockquote> 
   <p><strong>–修改表结构</strong>(重点是思路)</p> 
  </blockquote> 
  <pre><code class="prism language-sql"><span class="token comment">-- 创建表格的格式</span>
<span class="token comment">--create table if not exists 表名 (</span>
<span class="token comment">--id int unsigned primary key auto_increment, 这个是主键</span>
<span class="token comment">--name varchar(40) not null); 这个名称</span>
</code></pre> 
  <hr> 
  <pre><code class="prism language-sql"><span class="token comment">--第一步 创建 "商品种类表" -goods_cates</span>
<span class="token comment">--id跟名称</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> goods_cates<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">--第二步 创建 "商品品牌表" -goods_brands</span>
<span class="token comment">--id跟名称</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> goods_brands<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--第三步 更新种类信息表</span>
<span class="token comment">--1. 要把类型查询出来</span>

<span class="token keyword">select</span> cate_name <span class="token keyword">from</span> goods <span class="token keyword">group</span> <span class="token keyword">by</span> cate_name<span class="token punctuation">;</span>

<span class="token comment">--2. 批量插入数据 </span>
<span class="token comment">--insert into goods_cates (name) values('123');</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> goods_cates<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">select</span> cate_name <span class="token keyword">from</span> goods <span class="token keyword">group</span> <span class="token keyword">by</span> cate_name<span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment"># 批量插入的语句</span>


<span class="token comment">--第四 更新品牌信息表</span>
<span class="token comment">--1. 要把品牌信息查询出来</span>

<span class="token keyword">select</span> brand_name <span class="token keyword">from</span> goods <span class="token keyword">group</span> <span class="token keyword">by</span> brand_name<span class="token punctuation">;</span>


<span class="token comment">--2. 批量插入数据</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> goods_brands<span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">select</span> brand_name <span class="token keyword">from</span> goods <span class="token keyword">group</span> <span class="token keyword">by</span> brand_name<span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">--第五 更新种类信息成种类信息表中的id</span>
<span class="token comment">--1. 种类信息跟要替换成表进行内联</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> goods <span class="token keyword">inner</span> <span class="token keyword">join</span> goods_cates <span class="token keyword">on</span> goods<span class="token punctuation">.</span>cate_name <span class="token operator">=</span> goods_cates<span class="token punctuation">.</span>name<span class="token punctuation">;</span>




<span class="token comment">--2. 通过特殊的update 进行更新</span>

必须把 <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 这个去掉

<span class="token keyword">update</span> <span class="token punctuation">(</span>goods <span class="token keyword">inner</span> <span class="token keyword">join</span> goods_cates <span class="token keyword">on</span> goods<span class="token punctuation">.</span>cate_name <span class="token operator">=</span> goods_cates<span class="token punctuation">.</span>name<span class="token punctuation">)</span> 
	<span class="token keyword">set</span> goods<span class="token punctuation">.</span>cate_name <span class="token operator">=</span> goods_cates<span class="token punctuation">.</span>id<span class="token punctuation">;</span>



<span class="token comment">--第六步 更新品牌信息成品牌信息表的id</span>
<span class="token comment">--1. 把要更新的表两张表进行内联</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> goods <span class="token keyword">inner</span> <span class="token keyword">join</span> goods_brands <span class="token keyword">on</span> goods<span class="token punctuation">.</span>brand_name <span class="token operator">=</span> goods_brands<span class="token punctuation">.</span>name<span class="token punctuation">;</span>


<span class="token comment">--2.通过特殊的update语句进行更新 </span>

<span class="token keyword">update</span> <span class="token punctuation">(</span>goods <span class="token keyword">inner</span> <span class="token keyword">join</span> goods_brands <span class="token keyword">on</span> goods<span class="token punctuation">.</span>brand_name <span class="token operator">=</span> goods_brands<span class="token punctuation">.</span>name<span class="token punctuation">)</span> 
	<span class="token keyword">set</span> goods<span class="token punctuation">.</span>brand_name <span class="token operator">=</span> goods_brands<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

	
<span class="token comment">--第七步 修改字段(注意类型必须跟外键的主键类型一致)</span>
<span class="token comment">-- alter table 表名 change 旧字段 新字段 类型</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> goods change cate_name cate_id <span class="token keyword">int</span> <span class="token keyword">unsigned</span><span class="token punctuation">;</span>


<span class="token comment">-- 外键的使用(了解)</span>

<span class="token comment">-- 向goods表里插入任意一条品牌数据"老王牌拖拉机"</span>
<span class="token comment">-- 你会发现我们外键不能创建,因为没有对应的品牌</span>


<span class="token comment">-- 约束 数据的插入 使用 外键 foreign key</span>
<span class="token comment">-- alter table 主表名 add foreign key (主表的外键) references 外键表(外键主键);</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> goods <span class="token keyword">add</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>cate_id<span class="token punctuation">)</span> <span class="token keyword">references</span> goods_cates<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>





<span class="token operator">-</span> 创建表的同时设置外键 <span class="token punctuation">(</span>注意 goods_cates 和 goods_brands 两个表必须事先存在<span class="token punctuation">)</span>
<span class="token comment">-- foreign key (主表的外键) references 外键表(主键)</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> goods_key<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">''</span><span class="token punctuation">,</span>
    price <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    cate_id <span class="token keyword">int</span> <span class="token keyword">unsigned</span><span class="token punctuation">,</span>
    brand_id <span class="token keyword">int</span> <span class="token keyword">unsigned</span><span class="token punctuation">,</span>
    is_show <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">,</span>
    is_saleoff <span class="token keyword">bit</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span>
 	<span class="token comment">-- 添加外键</span>

 	<span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>cate_id<span class="token punctuation">)</span> <span class="token keyword">references</span> goods_cates<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
     
<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- 如何取消外键约束</span>
<span class="token comment">-- 需要先获取外键约束名称,该名称系统会自动生成,可以通过查看表创建语句来获取名称</span>
<span class="token comment">--show create table 表名;</span>

<span class="token keyword">show</span> crate <span class="token keyword">table</span> goods<span class="token punctuation">;</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> goods <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> goods_ibfk_1<span class="token punctuation">;</span> 删除功能

<span class="token keyword">alter</span> <span class="token keyword">table</span> goods <span class="token keyword">drop</span>  <span class="token keyword">key</span> cate_id<span class="token punctuation">;</span>删除标识


<span class="token comment">-- 获取名称之后就可以根据名称来删除外键约束</span>
<span class="token comment">--alter table 表名 drop foreign key 外键名;</span>
</code></pre> 
  <hr> 
  <p>以上内容主要以练习为主,更多内容可以阅[读数据库系统概论] .王珊等,以下暂未总结(抱歉!):</p> 
  <h4><a id="pymysql_930"></a>pymysql库的使用</h4> 
  <h4><a id="_932"></a>事务</h4> 
  <h4><a id="_934"></a>索引</h4> 
  <h4><a id="_936"></a>存储过程</h4> 
  <h4><a id="_938"></a>触发器</h4> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
