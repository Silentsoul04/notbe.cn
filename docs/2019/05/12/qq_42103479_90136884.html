<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Kali操作之四漏洞映射 « NotBeCN</title>
  <meta name="description" content="         &nbsp;◆漏洞映射：   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;根据已经发现的开放端口和服务程序，查找、分析目标系统中存在的漏洞   漏洞映射旨在识别和分析目标环境中的决定性安全缺陷，有时也称为脆弱性评估。它是一种 在IT基础设施的安全控制中探寻已...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/qq_42103479_90136884.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Kali操作之四漏洞映射</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <p style="margin-left:0cm;"><strong>&nbsp;</strong><strong><span style="color:#00b050;">◆漏洞映射：</span></strong></p> 
  <p style="margin-left:0cm;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;根据已经发现的开放端口和服务程序，查找、分析目标系统中存在的漏洞</p> 
  <p style="margin-left:0cm;">漏洞映射旨在识别和分析目标环境中的决定性安全缺陷，有时也称为脆弱性评估。它是一种 在IT基础设施的安全控制中探寻已知弱点的分析方法，是脆弱性管理计划的一个关键组成部 分。测试人员在完成了信息收集、目标识别和服务枚举的相关工作后，就可着手分析目标设 施中可能存在的安全漏洞。安全漏洞可能导致目标系统发生安全事故，有害于业务系统的保 密性、完整性和可用性。</p> 
  <p style="margin-left:0cm;">●&nbsp;&nbsp;&nbsp; 漏洞的两种常见类型：本地漏洞和远程漏洞。</p> 
  <p style="margin-left:0cm;">●&nbsp;&nbsp;&nbsp; 几款有助于査找并分析目标环境中存在的安全缺陷的安全工具。本章依据这些工具在安仝评 估中的主要功能对它们进行了分类，把它们分为 OpenVAS 工具、Cisco 分析工具、模糊分析 工具、SMB分析工具、SNMP分析工具和Web应用程序分析工具。</p> 
  <p style="margin-left:0cm;">值得注意的是，在进行渗透测试（包括内部和外部）时，人工评估和自动化脆弱性分析都很 等重要。完全依赖自动化测试工具获得的评估结果，可能会有假阳性（误报）和假阴性（漏 报）的情况。同时，审计人员对技术评估工具的熟悉程度同样影响着渗透测试工作的质量。 要保障渗透工作的长期质量，要在注重评估工具质量的同时，不断提高审计人员的技能水 平。本质上说，自动化工具生成的脆弱性分析结果不可能是最终的评估结果；自动化工具不 能识别逻辑错误、未发现的漏洞、未公布的软件缺陷，以及影响安全的人类因素。因此，应 当同时结合自动化分析和人工分析的方法，综合评估安全漏洞，这将大幅度提升渗透测试工 作的成功概率。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶&nbsp; </span></strong><span style="color:#FF0000;">漏洞的类型</span></p> 
  <p style="margin-left:0cm;">按照产生缺陷的不同阶段，漏洞可划分为以下三个大类：设计类、实施类和运营类。</p> 
  <p style="margin-left:0cm;">&nbsp;&nbsp;●&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#00b050;">设计类漏洞：</span>在软件设计阶段，因软件规格指标设计不当而产生的安全弱点。</p> 
  <p style="margin-left:0cm;">&nbsp;&nbsp;●&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#00b050;">实施类漏洞：</span>位于系统代码中的技术安全缺陷。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;●&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:#00b050;">运营类漏洞：</span>由于系统的配置或部署不当而导致的安全漏洞。</p> 
  <p style="margin-left:0cm;">基于对这三个类别的分析，我们总结出了漏洞的两个通用类型，即本地漏洞和远程漏洞。上述三类类漏洞既可以是本地漏洞，也可以是远程漏洞。</p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">在上述三类漏洞之中，哪种漏洞问题最难解决？</span></p> 
  <p style="margin-left:0cm;">开发人员根据安全性需求指定系统安全规格，并依此在实施过程中实现各种安全指标。因 此，解决设计类漏洞的时间最长。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶</span></strong>&nbsp; <span style="color:#FF0000;">本地漏洞</span></p> 
  <p style="margin-left:0cm;">攻击人员以本地（物理）访问方式，通过执行代码的手段才能触发的漏洞称为“本地漏洞”。攻 击人员能够利用这种类型的漏洞提高自身的访问权限，不受限制地访问该计算机系统。</p> 
  <p style="margin-left:0cm;">例如，Bob拥有访问MS&nbsp;&nbsp; Windows Server 2008（32&nbsp;&nbsp;&nbsp;&nbsp; 位x86&nbsp;&nbsp;&nbsp;&nbsp; 平台）服务器的本地权限。管理员 通过某种安全策略限制了他的访问权限，禁止他运行特定的应用程序。在极端条件下，他发 现恶意代码可让他获取该计算机的系统级别或内核级别权限。利用了著名的安全漏洞（例 如，CVE-2013-0232、GP Trap&nbsp;&nbsp;&nbsp; Handler&nbsp;&nbsp; nt!KiTrap0D）之后，他提升了自己的权限等级，并 能够进行管理级别的操作，可不受限制地执行应用程序。这个范例表明，恶意的安全对手可 通过本地漏洞轻易地提升他们访问计算机系统的权限。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶</span></strong>&nbsp; <span style="color:#FF0000;">远程漏洞</span></p> 
  <p style="margin-left:0cm;">在物理上不接触主机的情况下，攻击人员使用恶意程序通过网络触发的系统漏洞，称作远程 漏洞。这种类型的漏洞可使得攻击人员越过物理上的和本地上的限制，获取远程主机的访问 权限。</p> 
  <p style="margin-left:0cm;">例如，Bob和Alice分别联入互联网。他们的IP地址不同，分属不同的国家。假设Alice的电脑 运行的操作系统是Windows XP，使用了生物学认证技术。再假如Bob&nbsp; 事先知道Alice主机的操 作系统和IP地址。Bob极力想获取Alice电脑的远程控制权限。同时，他了解到可通过MS0867&nbsp;&nbsp; 漏洞（Windows&nbsp; Server Service&nbsp;&nbsp;&nbsp;&nbsp; 的漏洞）远程攻击Windows&nbsp;&nbsp;&nbsp; XP&nbsp;&nbsp;&nbsp;&nbsp; 主机。</p> 
  <p style="margin-left:0cm;">他使用了有关exploit程序获取了Alice主机的访问权限。 <span style="color:#FF0000;">漏洞（</span><span style="color:#FF0000;">vulnerability</span><span style="color:#FF0000;">）和漏洞利用程序（</span><span style="color:#FF0000;">exploit</span><span style="color:#FF0000;">）的关系是什么？</span></p> 
  <p style="margin-left:0cm;">漏洞是系统上存在的安全弱点。共计人员可利用有关漏洞或bug获取该主机的未经授权的操作 权限。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶</span></strong>&nbsp; <span style="color:#FF0000;">漏洞的分类</span></p> 
  <p style="margin-left:0cm;">随着近些年来技术领域的持续发展，人们也在不断总结安全漏洞的各种分类方法，期待以最 合理的方式划分所有的常见漏洞。但是，就常见的影响系统安全的编程问题来说，还没有一 种分类方法可以将之完全归纳。实际上，单一的漏洞可能分别属于多个类别或类型，这是现今分类方法都解决不了的问题。另外，每种系统平台都需要与外部环境进行交互，这又带来 分类方法的关联性问题、复杂性问题和扩展性问题。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶</span></strong>&nbsp; OpenVAS脆弱性分析工具</p> 
  <p style="margin-left:0cm;">OpenVAS是一款封装了多种安全工具和安全服务的软件，是一个强大的漏洞管理平台。它采 用了客户端/服务器的框架。其客户端测试目标主机网络漏洞的一系列操作，都是通过服务器 端程序实现的。它的设计兼备模块化和稳定性的特点，支持并行安全测试，且兼容多种操作 系统（Linux/Win32）。OpenVAS的核心组件和主要功能如下。</p> 
  <p style="margin-left:0cm;">●<span style="color:#00b050;">&nbsp;&nbsp;&nbsp; OpenVAS scanner</span><span style="color:#00b050;">（扫描器）</span>：负责管理、执行各种网络漏洞测试（NVT，Network Vulnerability&nbsp;&nbsp;&nbsp; Test）。NVT的订阅服务提供每日更新。整个平台可通过订阅服务更新测试插件 （参见http://www.openvas.org/nvt-feeds.html）。</p> 
  <p style="margin-left:0cm;">●<span style="color:#00b050;">&nbsp;&nbsp;&nbsp; OpenVAS Client</span><span style="color:#00b050;">（客户端）</span>：即传统形式的桌面客工具和命令行工具（CLI）。它通过OTP 协议（OpenVAS&nbsp; Transfer&nbsp;&nbsp;&nbsp;&nbsp; Protocol）控制扫描器。OTP相当于OpenVAS&nbsp; scanner的前段通信 协议。</p> 
  <p style="margin-left:0cm;">●&nbsp;&nbsp;&nbsp; <span style="color:#00b050;">OpenVAS Manager</span><span style="color:#00b050;">（管理程序）</span>：漏洞扫描平台的中央控制服务。管理程序仅负责集中存 储配置文件和存储扫描结果。此外，它的OMP&nbsp;&nbsp;&nbsp;&nbsp; 协议（OpenVAS&nbsp;&nbsp;&nbsp;&nbsp; Management&nbsp;&nbsp;&nbsp;&nbsp; Protocol）完 全基于&nbsp; XML，可用于各种用途。OMP 可用于设置扫描计划、生成测试报告、筛选扫描结果和 聚合活动。</p> 
  <p style="margin-left:0cm;">●&nbsp;&nbsp;&nbsp; <span style="color:#00b050;">Greenbone&nbsp;&nbsp; Security&nbsp;&nbsp; Assistant</span><span style="color:#00b050;">（安全助手）</span>：工作于OMP&nbsp;&nbsp; 的Web&nbsp;&nbsp;&nbsp; 服务。它用于向用户提 供一种基于OMP的Web客户端，方便用户配置、管理、控制具体的扫描操作。它的桌面版客 户端程序叫做GSA&nbsp;&nbsp;&nbsp; Desktop，功能完全一样。此外，OpenVAS&nbsp;&nbsp; CLI（命令行工具）还支持在 文本命令行下运行OMP协议的指令。</p> 
  <p style="margin-left:0cm;">●&nbsp;&nbsp;&nbsp; <span style="color:#00b050;">OpenVAS administrator</span>：负责用户管理和订阅更新</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶</span></strong>&nbsp; Cisco Global Exploiter（测试Cisco设备的14种独立漏洞）</p> 
  <p style="margin-left:0cm;"># cd /usr/bin</p> 
  <p style="margin-left:0cm;">#cge.pl</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">例：</span><span style="color:#00b050;">#cge.pl&nbsp; 10.200.213.25.3 </span></p> 
  <p style="margin-left:0cm;">上述指令进行的是第3类测试——测试Cisco&nbsp;&nbsp;&nbsp;&nbsp; IOS&nbsp; HTTPAuth漏洞，而且程序成功地利用了某个漏洞。进行深入调查之后，会发现其他类型的Cisco设备同样存在这种漏洞，而且可以使用相似的手段利用这些漏洞。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶</span></strong>&nbsp; <span style="color:#FF0000;">模糊（</span><span style="color:#FF0000;">Fuzz</span><span style="color:#FF0000;">）测试工具</span></p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">模糊分析</span>是一种软件测试技术。审计人员和开发人员采用模糊分析技术，测试意外数据、无效数据和随机的数据输入对应用程序的影响。人们关注应用程序在模糊测试中出现的异常状 态和崩溃问题。这种测试技术可深度揭露软件所隐含的其他测试手段不可能挖掘出来的漏洞。它能发现的漏洞有缓冲区溢出、格式化字符串、代码注入、迷途指针、竞争条件、拒绝 服务条件和许多其他类型的漏洞。</p> 
  <p style="margin-left:0cm;">Kali&nbsp; Linux&nbsp; 带有多种模糊测试工具。<span style="color:#00b050;">这些工具可以测试文件格式、网络协议、命令行输入、环境变量和</span><span style="color:#00b050;">Web</span><span style="color:#00b050;">应用。不可信的数据输入源都会输入不安全的和不一致的数据。</span>例如，&nbsp;&nbsp;&nbsp;&nbsp; Web应用程序和互联网用户之间的信任边界不可预知。既然如此，就应当对所有可能的数据输入都 进行尝试（模糊测试），以验证巳知和未知的漏洞。<span style="color:#00b050;">模糊分析是一种相对简单有效的测试方</span> <span style="color:#00b050;">法，可用于质量保证和安全测试。由于这个原因，它有时也被称为健壮性测试（</span><span style="color:#00b050;">robustness testing</span><span style="color:#00b050;">）或否定测试（</span><span style="color:#00b050;">negative&nbsp;&nbsp;&nbsp; testing</span><span style="color:#00b050;">）。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">模糊分析的关键步骤是什么？</span></p> 
  <p style="margin-left:0cm;">通常认为，模糊测试由6 个步骤组成。这些步骤分别是<span style="color:#00b050;">识别目标</span>、<span style="color:#00b050;">识别输入</span>、<span style="color:#00b050;">生成模糊测试数据</span>、<span style="color:#00b050;">执行模糊数据</span>、<span style="color:#00b050;">监控输出</span>和<span style="color:#00b050;">鉴别问题的可利用性</span>（是否是exploit）。有关细节，请参见 Fuzzing：Brute&nbsp;&nbsp; Force&nbsp; Vulnerability Discovery的ppt文件。该文件可在下述网址下载： <a href="http://recon.cx/en/f/msutton-fuzzing.ppt" rel="nofollow">http://recon.cx/en/f/msutton-fuzzing.ppt</a>。</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶ BED</span></strong></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">Bruteforce Exploit&nbsp;&nbsp; Detector</span><span style="color:#000000;">（</span><span style="color:#000000;">BED</span><span style="color:#000000;">）是纯文本协议的模糊测试工具，用于检测软件常见漏</span> <span style="color:#000000;">洞。它可以检测出缓冲区溢出漏洞、格式化字符串漏洞、整数溢出、</span><span style="color:#000000;">DoS</span><span style="color:#000000;">条件等漏洞。</span><span style="color:#000000;">BED </span><span style="color:#000000;">程序可以根据指定的协议，自动发送含有问题字符串的命令组合，以测试目标的处理方式。</span> <span style="color:#000000;">它目前支持的协议包括</span><span style="color:#000000;">ftp</span><span style="color:#000000;">、</span><span style="color:#000000;">smtp</span><span style="color:#000000;">、</span><span style="color:#000000;">pop</span><span style="color:#000000;">、</span><span style="color:#000000;">http</span><span style="color:#000000;">、</span><span style="color:#000000;">irc</span><span style="color:#000000;">、</span><span style="color:#000000;">imap</span><span style="color:#000000;">、</span><span style="color:#000000;">pjl</span><span style="color:#000000;">、</span><span style="color:#000000;">lpd</span><span style="color:#000000;">、</span><span style="color:#000000;">finger</span><span style="color:#000000;">、</span><span style="color:#000000;">socks4</span><span style="color:#000000;">和</span><span style="color:#000000;"> socks5</span><span style="color:#000000;">。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;"># cd /usr/share/bed/ </span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;"># bed.pl</span></p> 
  <p style="margin-left:0cm;">&nbsp;</p> 
  <p style="margin-left:0cm;"><strong><span style="color:#FF0000;">▶ JBroFuzz</span></strong></p> 
  <p style="margin-left:0cm;">JBroFuzz是对Web应用程序进行模糊测试的著名平台。它可模拟HTTP协议和HTTPS协议的 Web请求。获悉要测试的域名和测试的URL部分之后，审计人员可以自己手工构造测试的请 求，也可以使用程序预定义的payload数据库，生成基于已知漏洞的恶意请求，再把这些请求 发送到目标服务器以进行模糊测试。JbroFuzz&nbsp; 的数据库能够帮助审计人员进行XSS、SQL 注 入、缓冲区溢出、格式字符串错误等问题的自动化测试。而后，程序会记录目标的相应回 复，以供进一步检査。基于执行测试的类型，审计人员应当手动调查服务器的响应或结果， 以便识别出任何可能存在的漏洞。</p> 
  <p style="margin-left:0cm;">JBroFuzz的关键功能包括模糊管理、payload的分类处理、通过浏览器的代理服务器嗅探 Web&nbsp; 请求和回复、枚举网站目录等。这些功能都是应用协议模糊测试不可或缺的组成部分。 如需启动JBroFuzz程序，可在终端中使用下述指令</p> 
  <p style="margin-left:0cm;">#cd&nbsp; /usr/share/zaproxy/lib/jbrofuzz/</p> 
  <p style="margin-left:0cm;">#java&nbsp;&nbsp;&nbsp;&nbsp; -jar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JBroFuzz.jar</p> 
  <p style="margin-left:0cm;"><a name="_Hlk8227749"><strong><span style="color:#FF0000;">▶</span></strong></a><strong><span style="color:#FF0000;"> SMB</span></strong><strong><span style="color:#FF0000;">分析工具</span></strong></p> 
  <p style="margin-left:0cm;">Server&nbsp;&nbsp; Message&nbsp; Block（SMB）是应用层协议，通常用于文件和打印机共享服务。此外，它 还可将网络中不同节点的串口服务和其他通信协议共享。SMB&nbsp;&nbsp;&nbsp; 又称为&nbsp;&nbsp;&nbsp; CIFS（Common Internet&nbsp;&nbsp; File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System）。 SMB采用了单纯的客户端/服务器的CS架构，而且兼容Linux和Windows等多种平台。 NetBIOS（Network&nbsp;&nbsp; BasicInput&nbsp;&nbsp;&nbsp; Output&nbsp;&nbsp;&nbsp;&nbsp; System）是SMB&nbsp;&nbsp;&nbsp; 协议的组成部分，用于Windows系统 的传输服务。NetBIOS 工作于&nbsp;&nbsp;&nbsp;&nbsp; TCP/IP 协议（NBT），因此同一局域网内的每台电脑都可通 过唯一的网络名称和IP地址与另一台电脑进行通信。</p> 
  <p style="margin-left:0cm;">此外，对于DEC/RPC服务程序实现的网络节点间IPC（跨进程通信）而言，其认证通道同样 使用SMB协议。也就是说，不同电脑、不同进程间都可通过SMB的认证通道进行数据交换。 NetBIOS服务通常在不同的TCP端口和UDP端口（135、137、138、139、445）上提供不同 的服务。因为SMB功能强大而防护能力脆弱，所以它是黑客的首要攻击目标。人们曾经曝光 了SMB协议的大量漏洞，这些漏洞都为入侵者敞开了方便之门。本节将介绍获取SMB信息的 多个工具，它们可获取主机名、运行服务、域控制器、MAC地址、操作系统类型、当前登录 用户、隐藏共享、时间信息、用户群组、当前会话、打印机、可用磁盘等信息。</p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">ImpacketSamrdump</span></p> 
  <p style="margin-left:0cm;">Samrdump 是获取主机敏感信息的工具。它通过&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DCE/RPC（Distributed Computing Environment/Remote&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Procedure&nbsp;&nbsp;&nbsp;&nbsp; Call）服务调用 SAM（安全账户管理器，Security&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Account Manager）的远程接口，继而获取信息。它可列举同一局域网内的目标主机上的所有的系统 共享、用户账户和其他信息。</p> 
  <p style="margin-left:0cm;">如需启动ImpacketSamrdump，可在shell中执行下述指令。</p> 
  <p style="margin-left:0cm;">#cd&nbsp;&nbsp; /usr/share/doc/python-impacketdoc/examples</p> 
  <p style="margin-left:0cm;">/samrdump.py</p> 
  <p style="margin-left:0cm;"># python&nbsp;&nbsp;&nbsp; samrdump.py</p> 
  <p style="margin-left:0cm;">上述指令将显示它的使用说明和必要的语法简介。简单的说，<span style="color:#00b050;">python&nbsp; samrdump.py user:pass@ip&nbsp; port/SMB</span>这样的指令就可对指定目标的指定端口（139或445）进行检测。</p> 
  <p style="margin-left:0cm;">▶ SNMP分析工具</p> 
  <p style="margin-left:0cm;">SNMP（Simple&nbsp; Network Management&nbsp; Protocol）是一个运行于UDP 协议161 端口的应用层 协议。SNMP&nbsp;&nbsp; 协议主要用于网络设备运行状态的监控，以关注需要管理员干预的事件，及时 了解诸如电源断电、网络不可达等网络运行情况。采用了SNMP管理技术的网络结构，通常由 网络设备、管理端和代理端组成。</p> 
  <p style="margin-left:0cm;">管理端程序负责网络管理和状态监控的管理任务。代理端是网络设备运行的软件。可运行客 户端程序的网络设备包括支持SNMP协议路由器、交换机、集线器、网络摄像头、网桥，以及 安装客户端程序的操作系统（Linux、Windows）主机。安装了代理端程序的设备通过SNMP 协议向管理端报告设备带宽、正常运行时间、运行进程、网络接口、系统服务等数据信息。 SNMP&nbsp; 信息通过多个变量分别描述了系统不同方面的配置情况。SNMP&nbsp; 信息采用MIB（Management&nbsp;&nbsp;&nbsp; Information Base）的层次结构方式组织消息中的各种变量，每个变量有 确定的唯一对象标识符（Object Identifier，OID）。SNMP&nbsp;&nbsp; 协议共有三个版本，即v1、v2和 v3。</p> 
  <p style="margin-left:0cm;">以安全角度看，vl和v2版本的方案均是通过团体字符串实现安全防护。而v3在保密性、完整性 和身份验证方面的功能更好。</p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">SNMP&nbsp;&nbsp; Walk</span></p> 
  <p style="margin-left:0cm;">SNMP&nbsp; Walk是一个功能强大的SNMP信息采集工具。它可依据设备类型提取所有配置数据。 这些信息将对攻击的后续工作非常有用。此外，SNMP&nbsp; Walk&nbsp; 可针对性地获取单组MIB数据或 特定OID值</p> 
  <p style="margin-left:0cm;">#snmpwalk</p> 
  <p style="margin-left:0cm;">上述命令将显示该程序的使用说明和选项说明。SNMP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Walk&nbsp;&nbsp; 可以使用三种不同版本的SNMP 协议（即vl、v2c和v3），这也是它的主要优势所在。在远程设备使用的SNMP协议不能向下 兼容时，这一优势将发挥作用。</p> 
  <p style="margin-left:0cm;">本例将使用下述指令，在指令行中分别以v1和v2c版本的 SNMP协议获取远程主机的信息。</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">snmpwalk&nbsp; -v&nbsp;&nbsp; 2c&nbsp; -c&nbsp;&nbsp; public -O&nbsp; T&nbsp;&nbsp;&nbsp; -L&nbsp;&nbsp; f snmpwalk.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10.20.127.49</span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">上述指令的输出信息可帮助我们深入地了解目标主机。其中，选项</span><span style="color:#00b050;">-c&nbsp; </span><span style="color:#00b050;">用于指定提取</span><span style="color:#00b050;">MIB&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#00b050;">所需</span> <span style="color:#00b050;">的团体字符串，</span><span style="color:#00b050;">-O </span><span style="color:#00b050;">选项将输出结果以可读的文本（</span><span style="color:#00b050;">T</span><span style="color:#00b050;">）形式进行输出，</span><span style="color:#00b050;">-L</span><span style="color:#00b050;">选项将数据保存为文</span> <span style="color:#00b050;">件（</span><span style="color:#00b050;">f snmpwalk.txt</span></p> 
  <p style="margin-left:0cm;">▶Web程序分析工具</p> 
  <p style="margin-left:0cm;">现在的应用程序大多采用了多种Web技术，这不仅增加了程序问题的复杂性，而且增加了敏 感数据泄露的风险。一直以来，Web&nbsp; 应用程序从始至终都是恶意对手窃取、操纵、破坏和敲 诈企业业务的目标。Web 应用程序的大量普及，也给渗透测试人员带来了前所未有的巨大挑 战。Web&nbsp;&nbsp;&nbsp; 应用程序（前端）和数据库（后端）都是加固网络安全的重点。Web应用程序扮演 着数据处理系统的角色，而数据库负责存储敏感数据（例如信用卡号、用户信息、认证数据 等），所以两者的安全性都要兼顾</p> 
  <p style="margin-left:0cm;">Web应用程序的安全分析分为“Web应用程序测试”和“数据库测试”两个部分</p> 
  <p style="margin-left:0cm;">▶数据库评估工具</p> 
  <ol>
   <li>DBPwAudit</li> 
  </ol>
  <p style="margin-left:0cm;">DBPwAudit是一款审计Oracle、MySQL、MS-SQL&nbsp;&nbsp;&nbsp; 和IBM&nbsp;&nbsp; DB2&nbsp;&nbsp; 服务器密码安全性的工具，它 是Java程序。这款工具大幅度地简化了使用新数据库（评估）技术的难度。在目标系统没有 采用强密码安全策略的情况下，它可帮助渗透测试人员找到数据库管理系统的有效账户。目 前，它支持字典式密码攻击机制。</p> 
  <p style="margin-left:0cm;">如需启动&nbsp; DBPwAudit 程序，可在shell&nbsp; 中使用下述指令。</p> 
  <p style="margin-left:0cm;">#cd /usr/share/dbpwaudit/</p> 
  <p style="margin-left:0cm;">#dbpwaudit</p> 
  <p style="margin-left:0cm;">如需知道DBPwAudit可以驱动的数据 库类型，可使用下述指令。</p> 
  <p style="margin-left:0cm;">#dbpwaudit&nbsp; -L</p> 
  <p style="margin-left:0cm;">进行字典 式测试之前，我们需要提前准备好两个字典文件，即users.txt和passwwords.txt。然后使用下 述指令</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#dbpwaudit&nbsp; -s&nbsp; 10.2.251.24 -d pokeronline -D MySQL&nbsp;&nbsp;&nbsp;&nbsp; -U \&nbsp;&nbsp;&nbsp; users.txt –P</span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">-d&nbsp;&nbsp;&nbsp; </span><span style="color:#00b050;">选项代表目标数</span> <span style="color:#00b050;">据库的名称，</span><span style="color:#00b050;">-D&nbsp; </span><span style="color:#00b050;">选项用于指定相应的数据库管理系统（</span><span style="color:#00b050;">DBMS</span><span style="color:#00b050;">）。</span><span style="color:#00b050;">-U </span><span style="color:#00b050;">选项指定用户名字典，</span><span style="color:#00b050;"> -P</span><span style="color:#00b050;">选项则用来指定采用的密码字典。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">2</span><span style="color:#000000;">．</span><span style="color:#000000;">SQLMap</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">SQLMap</span><span style="color:#000000;">是一款先进的自动执行</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入的审计工具。针对指定的</span><span style="color:#000000;">URL</span><span style="color:#000000;">，它可以扫描、发现</span> <span style="color:#000000;">并利用</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入漏洞。目前，</span><span style="color:#000000;">SQLMap</span><span style="color:#000000;">支持的数据库管理系统包括</span><span style="color:#000000;">MS-SQL</span><span style="color:#000000;">、</span><span style="color:#000000;">MySQL</span><span style="color:#000000;">、</span><span style="color:#000000;"> Oracle</span><span style="color:#000000;">和</span><span style="color:#000000;">PostgreSQL</span><span style="color:#000000;">。略微处理之后，它也能够识别诸如</span><span style="color:#000000;">DB2</span><span style="color:#000000;">、</span><span style="color:#000000;">Informix</span><span style="color:#000000;">、</span><span style="color:#000000;">Sybase</span><span style="color:#000000;">、</span><span style="color:#000000;"> Interbase</span><span style="color:#000000;">和</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp; MS&nbsp;&nbsp;&nbsp;&nbsp; Access&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">之类的数据库系统。</span><span style="color:#000000;">SQLMap </span><span style="color:#000000;">采用</span><span style="color:#000000;">4</span><span style="color:#000000;">种独特的</span><span style="color:#000000;">&nbsp;&nbsp; SQL&nbsp;&nbsp; </span><span style="color:#000000;">注入技术，分別</span> <span style="color:#000000;">是</span><span style="color:#00b050;">SQL</span><span style="color:#00b050;">盲注</span><span style="color:#000000;">、</span><span style="color:#00b050;">联合査询</span><span style="color:#00b050;">SQL</span><span style="color:#00b050;">注入</span><span style="color:#000000;">、</span><span style="color:#00b050;">累加式注入（</span><span style="color:#00b050;">stacked&nbsp;&nbsp;&nbsp;&nbsp; query</span><span style="color:#00b050;">）</span><span style="color:#000000;">和</span><span style="color:#00b050;">基于时间的</span><span style="color:#00b050;">SQL</span><span style="color:#00b050;">盲注入</span><span style="color:#000000;">。</span> <span style="color:#000000;">它功能广泛，可对数据库进行指纹识别、服务枚举、数据提取，并可访问目标主机的文件系</span> <span style="color:#000000;">统，在获取完全操作权时甚至可以执行任意命令。此外，该工具还可以从</span><span style="color:#000000;">Burp&nbsp;&nbsp; Proxy</span><span style="color:#000000;">或</span><span style="color:#000000;">Web Scarab</span><span style="color:#000000;">的日志，以及标准的文本文件中解析测试目标的列表。它还能够调用</span><span style="color:#000000;">Google&nbsp; dorks </span><span style="color:#000000;">的</span> <span style="color:#000000;">分类数据，使用</span><span style="color:#000000;">Google</span><span style="color:#000000;">搜索引擎搜索指定目标的可测试网址。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">如需启动</span><span style="color:#000000;">SQLMap</span><span style="color:#000000;">程序，可在</span><span style="color:#000000;">shell</span><span style="color:#000000;">中使用下述指令：</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#cd /usr/share/sqlmap/ </span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#sqlmap&nbsp;&nbsp; -h</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">上述命令将显示所有可用的选项。这些选项可以分为</span><span style="color:#000000;">11</span><span style="color:#000000;">个逻辑分类，即目标规格、连接请求</span> <span style="color:#000000;">参数、注入</span><span style="color:#000000;">payload</span><span style="color:#000000;">、注入技术、指纹识别、枚举选项、用户自定义函数（</span><span style="color:#000000;">UDF</span><span style="color:#000000;">）注入、文件</span> <span style="color:#000000;">系统访问选项、操作系统访问选项、</span><span style="color:#000000;">Windows&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">注册表访问和其他杂项</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">例：</span><span style="color:#00b050;">sqlmap&nbsp; -u "http://testphp.example.com/artists.php? artist=2" -p&nbsp;&nbsp;&nbsp;&nbsp; "artist"-f -b --current-user&nbsp; -current-db --dbs --users</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">-p</span><span style="color:#000000;">选项用来指定目标</span><span style="color:#000000;"> URL</span><span style="color:#000000;">里需要测试的参数。默认情况下，</span><span style="color:#000000;">SQLMap</span><span style="color:#000000;">会扫描所有可用的参数（</span><span style="color:#000000;">GET</span><span style="color:#000000;">、</span><span style="color:#000000;">POST</span><span style="color:#000000;">、</span><span style="color:#000000;"> HTTPCookie</span><span style="color:#000000;">和</span><span style="color:#000000;">User-Agent</span><span style="color:#000000;">），但是我们通过指定参数（</span><span style="color:#000000;">-p"Parameter&nbsp;&nbsp;&nbsp; 1</span><span style="color:#000000;">，</span><span style="color:#000000;">Parameter&nbsp; 2"</span><span style="color:#000000;">）限</span> <span style="color:#000000;">制了测试对象的范围。这将提升</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入的速度，从而提高访问后台数据库的速度。在下面</span> <span style="color:#000000;">的测试中，我们使用</span><span style="color:#000000;">--tables</span><span style="color:#000000;">选项和</span><span style="color:#000000;">-D</span><span style="color:#000000;">选项，从数据库</span><span style="color:#000000;">fanart</span><span style="color:#000000;">中提取所有表的信息</span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">sqlmap -u "http://testphp.example.com/artists.php? artist=2" --tables&nbsp; -D fanart -v&nbsp; 0</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">如果两次测试都使用了相同的</span><span style="color:#000000;">&nbsp; URL</span><span style="color:#000000;">，</span><span style="color:#000000;">SQLMap </span><span style="color:#000000;">程序使用了上次会话</span> <span style="color:#000000;">（</span><span style="color:#000000;">session</span><span style="color:#000000;">）中提取的指纹信息，并没有从头对数据库进行测试。这种功能可让用户随时终止</span> <span style="color:#000000;">并保存测试会话，以便在后续阶段继续此次会话。此处，我们还可以使用</span><span style="color:#000000;">--dump</span><span style="color:#000000;">或</span><span style="color:#000000;">--dump&nbsp;&nbsp; all </span><span style="color:#000000;">选项，对数据库信息进行自动存储。这个程序还有其他一些高级选项，例如</span><span style="color:#000000;">--os-cmd</span><span style="color:#000000;">、</span><span style="color:#000000;">--osshell </span><span style="color:#000000;">或</span><span style="color:#000000;">--os-pw </span><span style="color:#000000;">用于可帮助渗透测试者获得远程访问系统权限，并执行任意命令。但是，此</span> <span style="color:#000000;">类功能仅支持</span><span style="color:#000000;">MS-SQL</span><span style="color:#000000;">、</span><span style="color:#000000;">MySQL</span><span style="color:#000000;">和</span><span style="color:#000000;">PostgreSQL</span><span style="color:#000000;">这三种运行于操作系统的数据库系统。如果还</span> <span style="color:#000000;">需要使用</span><span style="color:#000000;">SQLMap</span><span style="color:#000000;">的其他选项</span></p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">Metasploit</span><span style="color:#FF0000;">框架可以支持</span><span style="color:#FF0000;">SQLMap</span><span style="color:#FF0000;">的哪些选项？</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">SQLMap</span><span style="color:#000000;">的</span><span style="color:#000000;">--ospwn</span><span style="color:#000000;">选项、</span><span style="color:#000000;">--os-smbrelay</span><span style="color:#000000;">选项、</span><span style="color:#000000;">--priv-sec</span><span style="color:#000000;">选项和</span><span style="color:#000000;">--msf-path</span><span style="color:#000000;">选项，都是在数据</span> <span style="color:#000000;">库系统的操作系统上执行的指令选项。</span><span style="color:#000000;">Metasploit</span><span style="color:#000000;">可通过三种</span><span style="color:#000000;">payload</span><span style="color:#000000;">使用这些选项：</span><span style="color:#000000;">shell</span><span style="color:#000000;">、</span> <span style="color:#000000;">交互式命令环境和</span><span style="color:#000000;">GUI</span><span style="color:#000000;">访问（</span><span style="color:#000000;">VNC</span><span style="color:#000000;">）。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#FF0000;">3</span><span style="color:#FF0000;">．</span><span style="color:#FF0000;">SQL&nbsp; Ninja</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">SQL Ninja </span><span style="color:#000000;">是一款</span><span style="color:#000000;">SQL </span><span style="color:#000000;">注入的审计工具，专门用于评估后台数据库采用</span><span style="color:#000000;">MS-SQL&nbsp; Server</span><span style="color:#000000;">的</span><span style="color:#000000;"> Web</span><span style="color:#000000;">应用程序。它可通过</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入漏洞获取远程数据库服务器的</span><span style="color:#000000;">shell</span><span style="color:#000000;">运行权限，而不是提取</span> <span style="color:#000000;">数据库数据的工具。</span><span style="color:#000000;">SQL Ninja </span><span style="color:#000000;">的功能有：对服务器进行指纹识别、暴力破解密码、提升权限、上传后门、直接调用</span><span style="color:#000000;">shell</span><span style="color:#000000;">、反连方法连接</span><span style="color:#000000;">shell</span><span style="color:#000000;">（绕过防火墙的技术）、反射</span><span style="color:#000000;">shell</span><span style="color:#000000;">、</span><span style="color:#000000;">DNS </span><span style="color:#000000;">隧道、单命令执行等。它还可以与</span><span style="color:#000000;">Metasploit</span><span style="color:#000000;">进行集成。因此，它不仅是扫描</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入漏洞的</span> <span style="color:#000000;">工具，而且还是利用已知漏洞获取操作系统访问权限的工具。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">SQL Ninja </span><span style="color:#000000;">不是初学者玩的玩具。如果您需要配置并使用这种工具，请详细阅读作者的使用说明，在实际应用前充分了解这款工具。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">如需启动</span><span style="color:#000000;">SQL&nbsp;&nbsp;&nbsp; Ninja</span><span style="color:#000000;">，可在桌面菜单里依次选中</span><span style="color:#000000;">Kali&nbsp;&nbsp;&nbsp;&nbsp; Linux |&nbsp;&nbsp;&nbsp; Vulnerability&nbsp;&nbsp;&nbsp; Analysis |Database Assessment&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; sqlninja</span><span style="color:#000000;">，或者在</span><span style="color:#000000;">shell&nbsp;&nbsp; </span><span style="color:#000000;">中使用下述指令。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#sqlninja</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">上述指令将在屏幕上显示程序所有的可用选项。在进行测试前，需要根据已反映目标的情况</span> <span style="color:#000000;">更改配置文件的参数和利用漏洞的选项。首先，您要将样本配置文件解压缩出来，把它重新</span> <span style="color:#000000;">命名，然后移动到正确的目录中，进行如下修改。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#cd /usr/share/doc/sqlninja/ </span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#gzip&nbsp;&nbsp; –d sqlninja.conf.example.gz </span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#cp&nbsp;&nbsp; sqlninja.conf.example.gz/usr/share/sqlninja/sqlninja.conf</span></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="251" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084914955.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTAzNDc5,size_16,color_FFFFFF,t_70" width="1200"></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">然后，我们要修改配置文件，使其符合我们的测试内容。您需要在配置文件中找到下述内</span> <span style="color:#000000;">容，然后删除行首的注释符号，并根据实际情况对有关选项进行调整。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">（首先进行备份，好习惯的养成）</span></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="61" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084912401.png" width="1200"></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">本文根据情况将配置文件的下述内容进行了调整</span><span style="color:#000000;">。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#vim&nbsp;&nbsp;&nbsp; &nbsp; sqlninja.conf</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#Host&nbsp; (required)</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">host =&nbsp; testasp.example.com</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#Port&nbsp;&nbsp; (optional,&nbsp;&nbsp;&nbsp; default:&nbsp; 80)</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">port =&nbsp; 80</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#Vulnerable&nbsp; page (e.g.:&nbsp; /dir/target.asp)</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">page&nbsp;&nbsp;&nbsp; =&nbsp; /showforum.asp stringstart&nbsp;&nbsp;&nbsp;&nbsp; =&nbsp; id=0;</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#Local host:&nbsp; your IP &nbsp;&nbsp;&nbsp;&nbsp; address&nbsp; (for &nbsp; backscan and&nbsp; revshell modes)</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">lhost&nbsp;&nbsp;&nbsp; =&nbsp; 192.168.0.3</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">msfpath&nbsp;&nbsp;&nbsp; =&nbsp; /usr/share/exploits/framework3</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#Name of&nbsp;&nbsp;&nbsp;&nbsp; the&nbsp;&nbsp; procedure &nbsp;&nbsp;&nbsp; to use/create&nbsp; to launch&nbsp;&nbsp;&nbsp; commands. &nbsp;&nbsp;&nbsp; Default is </span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#"xp_cmdshell". If&nbsp;&nbsp; set to "NULL", openrowset+sp_oacreate&nbsp; will&nbsp;&nbsp;&nbsp; be used </span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#for &nbsp; each&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; command</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">xp_name&nbsp; =&nbsp; xp_cmdshell</span></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="724" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084916911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTAzNDc5,size_16,color_FFFFFF,t_70" width="969"></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">在上述配置文件中，我们仅修改了一些必要的参数，其他没有提及的内容均采用了默认值。另外，在使用</span><span style="color:#000000;">SQL&nbsp; Ninja&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">之前，还有必要使用其他工具检查</span><span style="color:#000000;">SQL </span><span style="color:#000000;">注入的漏洞。在配置好配置文件之后，就可以使用它的攻击模式</span><span style="color:#000000;">-m&nbsp;&nbsp;&nbsp; &nbsp; t/test&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">对目标进行检测。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#cd /usr/share/doc/sqlninja/</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#sqlninja&nbsp; &nbsp;&nbsp; -m&nbsp; t(</span><span style="color:#000000;">以下实例为示范，非个人操作</span><span style="color:#000000;">)</span></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="320" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084911987.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTAzNDc5,size_16,color_FFFFFF,t_70" width="600"></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">可见，程序成功地识别出了配置文件的各种设置，而且盲注测试取得了成功。接下来，我们可以对目标进行指纹识别，以获取</span><span style="color:#000000;">SQLServer</span><span style="color:#000000;">的更多信息，并取得目标操作系统的操作权限。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#sqlninja&nbsp; &nbsp;&nbsp; -m f</span></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="447" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084911631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTAzNDc5,size_16,color_FFFFFF,t_70" width="596"></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="844" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084913480.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTAzNDc5,size_16,color_FFFFFF,t_70" width="562"></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">上述信息表明，目标系统存在漏洞，其指定的数据库安全策略并不够安全。我们有机会上传</span><span style="color:#000000;"> NetCat</span><span style="color:#000000;">的后门程序，继而获取被攻陷主机的长期控制权，并可通过它的</span><span style="color:#000000;">shell</span><span style="color:#000000;">执行任意的指令。此时，人们常用</span><span style="color:#000000;">Metasploit</span><span style="color:#000000;">的攻击模式进行进一步的渗透。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#sqlninja&nbsp; &nbsp; -m&nbsp; &nbsp;&nbsp; u</span></p> 
  <p style="margin-left:0cm;"><img alt="" class="has" height="745" src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512084913502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMTAzNDc5,size_16,color_FFFFFF,t_70" width="746"></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">至此，我们巳经成功上传后门。然后我们可通过该后门获得</span><span style="color:#000000;"> s/dirshell</span><span style="color:#000000;">、</span><span style="color:#000000;">k/backscan</span><span style="color:#000000;">或</span><span style="color:#000000;"> r/revshell</span><span style="color:#000000;">。此外，采用</span><span style="color:#000000;">m/metasploit</span><span style="color:#000000;">的髙级选项可以使用</span><span style="color:#000000;">Metasploit&nbsp;&nbsp; </span><span style="color:#000000;">框架的</span><span style="color:#000000;">SQLNinja</span><span style="color:#000000;">封装程序</span> <span style="color:#000000;">访问目标主机的</span><span style="color:#000000;">GUI</span><span style="color:#000000;">。如需详细了解</span><span style="color:#000000;">SQLNinja</span><span style="color:#000000;">的使用方法或它的配置文件，可以访问</span><span style="color:#000000;"> http://sqlninja.source&nbsp;&nbsp;&nbsp; forge.net/sqlninja-howto.html</span></p> 
  <p style="margin-left:0cm;">▶<span style="color:#FF0000;">Web</span><span style="color:#FF0000;">应用程序评估工具</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">本节介绍的工具主要关注</span><span style="color:#000000;">Web</span><span style="color:#000000;">基础设施前端程序的安全性。它们都可以识别、分析并利用应用程序的安全漏洞。这些漏洞包括缓冲区溢出、跨站脚本（</span><span style="color:#000000;">XSS</span><span style="color:#000000;">）、</span><span style="color:#000000;">SQL&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">注入、</span><span style="color:#000000;">SSI&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">注入、</span><span style="color:#000000;"> XML</span><span style="color:#000000;">注入、应用配置错误、功能滥用、会话预测、信息泄露以及许多其他类型的漏洞。</span><span style="color:#000000;">7.2</span><span style="color:#000000;">节</span> <span style="color:#000000;">已经讨论过，应用程序漏洞有多种分类标准。如需更深入了解这些漏洞的特性，强烈建议掌握上述漏洞分类标准。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">1</span><span style="color:#00b050;">．</span><span style="color:#00b050;">Burp&nbsp;&nbsp; Suite</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">Burp&nbsp;&nbsp;&nbsp; Suite</span><span style="color:#000000;">组合了一系列功能强大的</span><span style="color:#000000;">Web</span><span style="color:#000000;">应用程序的安全工具。这些工具能够演示攻击人员对</span><span style="color:#000000;"> Web</span><span style="color:#000000;">应用程序的渗透方法。它们能够或手动或自动地扫描、分析并利用</span><span style="color:#000000;">Web</span><span style="color:#000000;">应用程序的安全</span> <span style="color:#000000;">漏洞。</span><span style="color:#000000;">Burp Suit</span><span style="color:#000000;">将有关工具整合为一体，能够在多个工具之间传递和共享信息，成为了一个</span> <span style="color:#000000;">完整的攻击平台。这一特性使得</span><span style="color:#000000;">Burp Suite</span><span style="color:#000000;">成为了简单有效的</span><span style="color:#000000;">Web</span><span style="color:#000000;">应用程序攻击框架。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">如需启动</span><span style="color:#000000;">Burp&nbsp;&nbsp; Suit</span><span style="color:#000000;">，可在桌面菜单里依次选中</span><span style="color:#000000;">Kali&nbsp;&nbsp;&nbsp;&nbsp; Linux |&nbsp;&nbsp;&nbsp; Web&nbsp; Applications&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; Web Vulnerability&nbsp;&nbsp;&nbsp;&nbsp; Scanners |&nbsp;&nbsp;&nbsp; burpsuite</span><span style="color:#000000;">，或在终端中使用下述指令。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#burpsuite</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">上述指令将在屏幕上显示</span><span style="color:#000000;">Burp Suite&nbsp; </span><span style="color:#000000;">的程序窗口。您可以通过对应的选项卡访问它所集成的</span> <span style="color:#000000;">全部工具（</span><span style="color:#000000;">Target</span><span style="color:#000000;">、</span><span style="color:#000000;">Proxy</span><span style="color:#000000;">、</span><span style="color:#000000;">Spider</span><span style="color:#000000;">、</span><span style="color:#000000;">Scanner</span><span style="color:#000000;">、</span><span style="color:#000000;">Intruder</span><span style="color:#000000;">、</span><span style="color:#000000;">Repeater</span><span style="color:#000000;">、</span><span style="color:#000000;">Sequencer</span><span style="color:#000000;">、</span><span style="color:#000000;">Decoder </span><span style="color:#000000;">和</span><span style="color:#000000;">Comparer</span><span style="color:#000000;">）。如需了解它们的用法和配置等详细信息，可以使用</span><span style="color:#000000;">Help</span><span style="color:#000000;">菜单或者访问</span><span style="color:#000000;"> http://www.portswigger.net/suite/help.html</span><span style="color:#000000;">。本例将使用</span><span style="color:#000000;">Burp&nbsp; Suite</span><span style="color:#000000;">的多个工具分析小型的</span><span style="color:#000000;"> Web&nbsp;&nbsp; </span><span style="color:#000000;">应用程序。要注意，</span><span style="color:#000000;">Burp&nbsp; Suite&nbsp; </span><span style="color:#000000;">有两个版本：免费版和商业版。</span><span style="color:#000000;">Kali Linux </span><span style="color:#000000;">收录的版本是</span> <span style="color:#000000;">它的免费版，因此有些功能受到限制。使用</span><span style="color:#000000;">Burp&nbsp;&nbsp;&nbsp;&nbsp; Suite&nbsp; </span><span style="color:#000000;">检查</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入漏洞的相应步骤如下。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">1.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">首先，选择</span><span style="color:#000000;">Proxy |&nbsp;&nbsp;&nbsp; Options</span><span style="color:#000000;">，检查</span><span style="color:#000000;">proxy&nbsp;&nbsp;&nbsp;&nbsp; listeners</span><span style="color:#000000;">的属性。本例采用程序的默认设置，即监</span> <span style="color:#000000;">听</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp; 8080 </span><span style="color:#000000;">端口。您还可以根据评估任务的实际情况设置这个界面的其他选项，例如主机重定</span> <span style="color:#000000;">向、</span><span style="color:#000000;">SSL</span><span style="color:#000000;">证书、客户端请求拦截、服务器响应拦截、页面属性和请求头修改等。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">2.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">选择</span><span style="color:#000000;">Proxy&nbsp; |&nbsp;&nbsp;&nbsp; Intercept</span><span style="color:#000000;">，选中</span><span style="color:#000000;">intercept&nbsp; is&nbsp; on</span><span style="color:#000000;">标签。</span><span style="color:#000000;"> 3.&nbsp; </span><span style="color:#000000;">打开你最习惯的浏览器（例如</span><span style="color:#000000;">Firefox</span><span style="color:#000000;">），并设置</span><span style="color:#000000;">HTTP/HTTPS&nbsp;&nbsp; </span><span style="color:#000000;">协议的代理服务器为本地代</span> <span style="color:#000000;">理（</span><span style="color:#000000;">127.0.0.1,&nbsp;&nbsp;&nbsp;&nbsp; 8080</span><span style="color:#000000;">）。代理服务器能够拦截、检查并修改浏览器发往目标</span><span style="color:#000000;">Web</span><span style="color:#000000;">应用程序之</span> <span style="color:#000000;">间的客户端请求，并且能够记录服务器发回的所有响应。在这种设置中，</span><span style="color:#000000;">Burp&nbsp; Suite&nbsp; </span><span style="color:#000000;">的功能</span> <span style="color:#000000;">类似中间人代理服务器。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">4.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">浏览目标网站（例如，</span><span style="color:#000000;">http:&nbsp;&nbsp;&nbsp;&nbsp; //testphp.targetdomain.com</span><span style="color:#000000;">），您可在</span><span style="color:#000000;">Burp Suite&nbsp; </span><span style="color:#000000;">的</span><span style="color:#000000;">Proxy | Intercept</span><span style="color:#000000;">选项卡中看到浏览器发送的请求数据（</span><span style="color:#000000;">http&nbsp;&nbsp;&nbsp;&nbsp; request</span><span style="color:#000000;">）。在本例中，我们不对浏览器</span> <span style="color:#000000;">请求进行任何修改，直接转发这个请求。如需修改请求，可以在</span><span style="color:#000000;">Raw</span><span style="color:#000000;">、</span><span style="color:#000000;">Headers</span><span style="color:#000000;">或者</span><span style="color:#000000;">Hex</span><span style="color:#000000;">选项</span> <span style="color:#000000;">卡中修改。清注意，在访问索引页（</span><span style="color:#000000;">index</span><span style="color:#000000;">）等网页时，浏览器会对网页中的各种资源（例如</span> <span style="color:#000000;">图像、</span><span style="color:#000000;">Flash</span><span style="color:#000000;">文件）发送单独的获取请求。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">5.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">在此，强烈建议访问尽可能多的网页，以帮助</span><span style="color:#000000;">Burp&nbsp;&nbsp;&nbsp;&nbsp; Suite</span><span style="color:#000000;">列出可用页的</span><span style="color:#000000;">GET</span><span style="color:#000000;">和</span><span style="color:#000000;">POST </span><span style="color:#000000;">请求。</span> <span style="color:#000000;">当然，也可以使用程序的</span><span style="color:#000000;">&nbsp;&nbsp; Spider&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">功能自动完成分析过程。如需使用</span><span style="color:#000000;">&nbsp; Spider</span><span style="color:#000000;">的爬虫功能，可在</span> <span style="color:#000000;">菜单中选中</span><span style="color:#000000;">&nbsp;&nbsp; Target</span><span style="color:#000000;">｜</span><span style="color:#000000;">Site&nbsp;&nbsp;&nbsp; Map</span><span style="color:#000000;">，右键点击目标网址（本例是</span><span style="color:#000000;">http://testphp.examples.com</span><span style="color:#000000;">），</span> <span style="color:#000000;">然后选择</span><span style="color:#000000;">spider&nbsp;&nbsp;&nbsp;&nbsp; this&nbsp;&nbsp;&nbsp; host</span><span style="color:#000000;">。此后，程序将会自动发现、扫描可用页面；当遇到需要递交数据的</span> <span style="color:#000000;">页面（例如登录）时，程序将提示您进行人工干预。此操作结束后，可在</span><span style="color:#000000;">Target</span><span style="color:#000000;">｜</span><span style="color:#000000;">Site&nbsp;&nbsp;&nbsp;&nbsp; map</span><span style="color:#000000;">选</span> <span style="color:#000000;">项卡右侧的面板中査看可访问网页清单和页面属性（方法、</span><span style="color:#000000;">URL</span><span style="color:#000000;">、参数、响应码等）。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">6.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">您可选择一个采用</span><span style="color:#000000;">GET</span><span style="color:#000000;">或</span><span style="color:#000000;">POST&nbsp; </span><span style="color:#000000;">模式传递参数的页面，用</span><span style="color:#000000;">Intruder&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">进行测试。关键是要找到</span> <span style="color:#000000;">可能的参数标识符，获取有用数据，并对这些参数进行模糊测试，以检测已知漏洞。右键单</span> <span style="color:#000000;">击选定的请求，并选择</span><span style="color:#000000;">&nbsp; send&nbsp; to intruder</span><span style="color:#000000;">。本例测试的网址</span> <span style="color:#000000;">是</span><span style="color:#000000;">http://testphp.targetdomain.com/listproducts.&nbsp; php?artist=2</span><span style="color:#000000;">；程序将以不同长度的字符替代</span><span style="color:#000000;"> 2</span><span style="color:#000000;">，以找到已知的漏洞。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">7.&nbsp;&nbsp; </span><span style="color:#000000;">接下来，我们要指定攻击类型以及有效载荷（</span><span style="color:#000000;">payload</span><span style="color:#000000;">）的位置（</span><span style="color:#000000;">Intruder |&nbsp;&nbsp;&nbsp; Positions</span><span style="color:#000000;">），以</span> <span style="color:#000000;">进行自动测试。有效载荷的位置有</span><span style="color:#000000;">§2§</span><span style="color:#000000;">标识。然后，我们通过菜单进入</span><span style="color:#000000;"> Intruder&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; Payloads</span><span style="color:#000000;">，</span> <span style="color:#000000;">从预定义字符块列表中选择预定义的有效载荷（</span><span style="color:#000000;">payload</span><span style="color:#000000;">），本例选择</span><span style="color:#000000;">Character&nbsp;&nbsp;&nbsp;&nbsp; blocks</span><span style="color:#000000;">。当</span> <span style="color:#000000;">然，您还可以指定自定义的有效载荷。设置完毕后，选择菜单</span><span style="color:#000000;">Intruder |&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp; </span><span style="color:#000000;">执行测试任务。</span> <span style="color:#000000;">此时，程序将会在弹出的窗口里显示测试目标应用程序时发送的全部请求。待程序处理完所</span> <span style="color:#000000;">有指定的有效载荷之后，我们可通过远程响应的比较结果判断</span><span style="color:#000000;">Web</span><span style="color:#000000;">应用程序的意外行为。使</span> <span style="color:#000000;">用鼠标右键点击选定的请求并选择</span><span style="color:#000000;">send&nbsp;&nbsp; response&nbsp;&nbsp;&nbsp;&nbsp; to comparer</span><span style="color:#000000;">，即可对响应进行比较。</span><span style="color:#000000;">BurpSuite&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">可以对两个（或更多）的请求或响应进行逐字逐节（</span><span style="color:#000000;">bytes</span><span style="color:#000000;">和</span><span style="color:#000000;">words</span><span style="color:#000000;">）的比较。如需详细</span> <span style="color:#000000;">了解各种攻击类型，请访问</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp; http://www.portswigger.net/burp/help/intruder_positions. html#attacktype</span><span style="color:#000000;">；如需了解有关有效载荷选项的更多信息，请访问</span><span style="color:#000000;"> http://www.portswigger.net/burp/help/&nbsp;&nbsp;&nbsp;&nbsp; intruder_payloads_types.html</span><span style="color:#000000;">。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">8.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">在比较响应的过程中，我们发现其中一个有效载荷请求存在</span><span style="color:#000000;">&nbsp;&nbsp; SQL&nbsp;&nbsp; </span><span style="color:#000000;">注入漏洞。为了验证其真</span> <span style="color:#000000;">实性，我们决定使用</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp; Repeater </span><span style="color:#000000;">重现该请求。即使用鼠标右键点击该请求，然后选择</span><span style="color:#000000;"> send request&nbsp;&nbsp; to repeater</span><span style="color:#000000;">，之后单击</span><span style="color:#000000;">&nbsp; Repeater </span><span style="color:#000000;">选项卡中的</span><span style="color:#000000;"> go </span><span style="color:#000000;">按钮，将会立即获取指定请求的远程</span> <span style="color:#000000;">响应。在本例中，我们注意到响应页面中的下述错误信息。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">Error:&nbsp;&nbsp; Unknown&nbsp;&nbsp;&nbsp; column 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAA'&nbsp;&nbsp;&nbsp;&nbsp; in&nbsp; 'where&nbsp;&nbsp;&nbsp; clause' Warning&nbsp;&nbsp;&nbsp; :&nbsp;&nbsp;&nbsp;&nbsp; mysql_fetch_array():&nbsp; supplied argument&nbsp;&nbsp;&nbsp; is&nbsp; not&nbsp;&nbsp;&nbsp; a&nbsp;&nbsp;&nbsp;&nbsp; valid&nbsp; MySQL&nbsp;&nbsp; result resource in /var/www/vhosts/default/htdocs/listproducts.php&nbsp; on line&nbsp;&nbsp;&nbsp;&nbsp; 74</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">9.&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">上述信息是</span><span style="color:#000000;">SQL&nbsp;&nbsp; </span><span style="color:#000000;">注入漏洞的典型特征。除了检验这种类型的安全问题，我们还可以使用</span><span style="color:#000000;"> Burp&nbsp;&nbsp;&nbsp; Suite&nbsp; </span><span style="color:#000000;">的</span><span style="color:#000000;">sequencer&nbsp;&nbsp; </span><span style="color:#000000;">测试应用程序</span><span style="color:#000000;">session&nbsp;&nbsp;&nbsp; tokens</span><span style="color:#000000;">的散化程度，检测</span><span style="color:#000000;">session</span><span style="color:#000000;">的可预测问</span> <span style="color:#000000;">题。有关</span><span style="color:#000000;">sequencer</span><span style="color:#000000;">的基本用法，请参见</span><span style="color:#000000;">http://www.portswigger. net/suite/sequencerhelp.html</span><span style="color:#000000;">。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">Burp&nbsp;&nbsp;&nbsp; Suite&nbsp; </span><span style="color:#000000;">是款多功能的</span><span style="color:#000000;">Web&nbsp;&nbsp; </span><span style="color:#000000;">应用程序安全工具。它是应用广泛、功能强大的</span><span style="color:#000000;">Web</span><span style="color:#000000;">应用程序</span> <span style="color:#000000;">攻击平台。篇幅所限，本文不逐一介绍它的各个功能。所以，建议通过它的官方</span> <span style="color:#000000;">网站（</span><span style="color:#000000;">http://www.portswigger.net/</span><span style="color:#000000;">）详细了解它的各种用法。</span><strong><span style="color:#FF0000;">2</span></strong><strong><span style="color:#FF0000;">．</span></strong><strong><span style="color:#FF0000;">Nikto2</span></strong></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">Nikto2</span><span style="color:#000000;">是一款基础的</span><span style="color:#000000;">Web</span><span style="color:#000000;">服务器安全扫描工具。它可以扫描、检测由下述问题引起的的安全漏洞：服务器的配置不当问题、默认和不安全的文件、过旧的服务端应用程序。</span><span style="color:#000000;">Nikto2</span><span style="color:#000000;">程序完全</span> <span style="color:#000000;">是</span><span style="color:#000000;">LibWhisker2</span><span style="color:#000000;">的再开发版。因此，它支持跨平台部署、</span><span style="color:#000000;">SSL</span><span style="color:#000000;">、常见的主机身份验证方式</span> <span style="color:#000000;">（</span><span style="color:#000000;">NTLM/Basic</span><span style="color:#000000;">）、多代理，并采用了多种</span><span style="color:#000000;">&nbsp;&nbsp;&nbsp; IDS&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">规避技术。它还支持子域名枚举、应用程序安</span> <span style="color:#000000;">全检査（</span><span style="color:#000000;">XSS</span><span style="color:#000000;">、</span><span style="color:#000000;">SQL</span><span style="color:#000000;">注入等），并能够使用字典的攻击方法猜测认证信息。</span> <span style="color:#000000;">如需启动</span><span style="color:#000000;">Niklo2&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">程序，可在终端中使用下述指令。</span></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">#nikto</span></p> 
  <p style="margin-left:0cm;">&nbsp;<span style="color:#000000;">上述指令将显示其所有选项及其扩展特性。</span></p> 
  <p style="margin-left:0cm;"><strong><span style="color:#00b050;">#nikto -h&nbsp; testphp.example.com&nbsp; -p &nbsp;&nbsp;&nbsp; 80 -T&nbsp; 3478b&nbsp;&nbsp;&nbsp; -t 3 &nbsp;&nbsp;&nbsp; -D&nbsp; &nbsp; \&nbsp;&nbsp; &nbsp; V&nbsp;&nbsp; &nbsp; -o&nbsp; &nbsp;&nbsp; webtest&nbsp;&nbsp; –F</span></strong></p> 
  <p style="margin-left:0cm;"><span style="color:#000000;">上述指令中，</span><span style="color:#000000;">-T </span><span style="color:#000000;">选项指定测试类型为</span><span style="color:#000000;"> Information&nbsp;&nbsp;&nbsp;&nbsp; Disclosure</span><span style="color:#000000;">（信息泄露）、</span><span style="color:#000000;">Injection </span><span style="color:#000000;">（</span><span style="color:#000000;">XSS/Script/HTML</span><span style="color:#000000;">）、</span><span style="color:#000000;">Remote&nbsp; File&nbsp;&nbsp;&nbsp; Retrieval</span><span style="color:#000000;">（</span><span style="color:#000000;">Server Wide</span><span style="color:#000000;">）、</span><span style="color:#000000;">Command&nbsp;&nbsp;&nbsp;&nbsp; Execution&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">和</span><span style="color:#000000;"> Software&nbsp;&nbsp;&nbsp; Identification</span><span style="color:#000000;">（软件识別）；</span><span style="color:#000000;">-t&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">选项控制每个测试类型执行的超时时间：</span><span style="color:#000000;">-DV&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">选项控</span> <span style="color:#000000;">制显示格式；</span><span style="color:#000000;">-o</span><span style="color:#000000;">和</span><span style="color:#000000;">-F</span><span style="color:#000000;">选项用于定义扫描报告以特定的格式和编写。</span><span style="color:#000000;">Nikto</span><span style="color:#000000;">还有其他的选项，例</span> <span style="color:#000000;">如</span><span style="color:#000000;">-mutate</span><span style="color:#000000;">（猜测子域、文件、目录、用户名）、</span><span style="color:#000000;">-evasion</span><span style="color:#000000;">（规避</span><span style="color:#000000;">IDS</span><span style="color:#000000;">检测）和</span><span style="color:#000000;">-Single&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:#000000;">（单组</span> <span style="color:#000000;">规则测试模式），都可以用来进行更为深入的安全评估。</span></p> 
  <p style="margin-left:0cm;">▶<span style="color:#00b050;">3</span><span style="color:#00b050;">．</span><span style="color:#00b050;">Paros&nbsp; Proxy</span></p> 
  <p style="margin-left:0cm;">Paros&nbsp;&nbsp; Proxy 是一款名不见经传的深入分析安全漏洞的评估工具。它能以爬虫方式分析整个网 站的网址，并执行各种漏洞测试。同时，审计人员还可以利用它的代理服务器功能拦截本机 浏览器和目标应用程序服务器之间的Web流量（支持HTTP/HTTPS协议）。审计人员可以利 用这种机制修改本机发往目标服务程序的特定请求，从而进行手工测试。因此，&nbsp;&nbsp;&nbsp;&nbsp; Paros Proxy 不仅是Web&nbsp;&nbsp;&nbsp; 应用程序安全评估的主动评估工具，而且还是它的被动评估工具。 如需启动Paros&nbsp; Proxy程序，可在终端中使用下述指令。</p> 
  <p style="margin-left:0cm;">#paros</p> 
  <p style="margin-left:0cm;">上述指令将加载Paros Proxy程序的图形窗口。在开始测试前，你需要在浏览器中设置本地代 理，即设置代理的 IP&nbsp;&nbsp;&nbsp;&nbsp; 为 127.0.0.1，端口为&nbsp;&nbsp;&nbsp;&nbsp; 8080。如需调整默认设置，可在菜单Tools | Options中调整连接设置、本地代理的设置、HTTP认证和其他相关设置。在设置好浏览器之 后，就可以访问目标网页了。使用Paros&nbsp;&nbsp; Proxy进行漏洞测试的具体步骤如下。 1.&nbsp; 在本例中，我们访问http://testphp.targetdomain.com。此后，Paros&nbsp;&nbsp; Proxy的Sites选项卡里 显示这个网址。</p> 
  <p style="margin-left:0cm;">2.&nbsp;&nbsp;&nbsp; 使用鼠标右键单击http://testphp.targetdomain.com&nbsp;&nbsp;&nbsp; 并选择Spider，以爬虫方式分析整个网 站的网址。扫描网址的时间取决于网站的页面数量。</p> 
  <p style="margin-left:0cm;">3.&nbsp;&nbsp;&nbsp; 在程序抓取完网址之后，您可通过底部的Spider&nbsp;&nbsp;&nbsp;&nbsp; 标签査看所有抓取到的网址信息。此外， 也可以通过在Sites选项卡中选择特定网站的网页，以跟踪其请求和响应。</p> 
  <p style="margin-left:0cm;">4.&nbsp;&nbsp;&nbsp; 您在右侧面板中的&nbsp;&nbsp;&nbsp; Trap&nbsp;&nbsp; 选项卡中，调查特定的请求和响应的响应。在对目标应用程序进行 手动测试时，这项功能尤其有用。此外，您可通过菜单&nbsp;&nbsp;&nbsp; Tools |&nbsp;&nbsp;&nbsp; Manual&nbsp;&nbsp;&nbsp;&nbsp; Request&nbsp; Editor，手工 构建一个HTTP请求。</p> 
  <p style="margin-left:0cm;">5.&nbsp;&nbsp;&nbsp; 在 Sites&nbsp; 选项卡里选中目标网站，然后在菜单中选择&nbsp;&nbsp;&nbsp;&nbsp; Analyze&nbsp; |&nbsp;&nbsp;&nbsp; Scan&nbsp; All，可对选定网站进 行自动化的漏洞测试。另外，您还可以在 Analyze&nbsp; |&nbsp;&nbsp;&nbsp; Scan&nbsp; Policy 指定安全测试的特定类型， 然后使用单独的&nbsp;&nbsp;&nbsp; Analyze&nbsp; |&nbsp;&nbsp;&nbsp; Scan&nbsp; 功能进行特定类型的安全测试（而不是Scan&nbsp;&nbsp;&nbsp; All 进行的那种 全面测试）。</p> 
  <p style="margin-left:0cm;">6.&nbsp;&nbsp;&nbsp; 在程序完成漏洞测试之后，您可在底部的Alerts 选项卡中看到大量的安全警告。依照其危 害程度，这些漏洞被分为High、Low和Medium三种级別。</p> 
  <p style="margin-left:0cm;">7.&nbsp;&nbsp;&nbsp; 如需查看上次扫描结果的报告，可打开菜单Report |&nbsp;&nbsp;&nbsp;&nbsp; Last&nbsp;&nbsp; Scan&nbsp; Report。它将会把本此测试 发现的所有漏洞保存为网页格式文件/root/paros/session/LatestScannedReport.htm。</p> 
  <p style="margin-left:0cm;">在本例中，我们仅进行了基本的漏洞评估测试。如需获取Paros Proxy选项的详细说明，请访 问其官方的用户手册，地址为 http://www.ipi.com/Training/SecTesting/paros_user_guide.pdf。</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">4</span><span style="color:#00b050;">．</span><span style="color:#00b050;">W3AF</span></p> 
  <p style="margin-left:0cm;">W3AF是一款功能丰富的Web应用程序攻击和审计框架，它主要用于探测和利用Web漏洞。它 实现了全自动化的应用程序安全评估过程。整个框架的设计理念遵循了下述三个主要的操作 步骤：识别、审计和攻击。在进行毎个操作步骤时，审计员都可使用其提供的注重特定测试 标准的功能插件。W3AF 的这些插件实现了互相之间的通信和数据共享，有助于协同完成测 试任务。它可检査、利用的Web应用程序漏洞包括SQL注入、跨站脚本、远程和本地文件包 含、缓冲区溢出、XPath 注入、操作系统命令、错误的应用配置等。有关各个插件的详细信 息，请查询<a href="http://w3af.sourceforge.net/plugin-descriptions.php" rel="nofollow">http://w3af.sourceforge.net/plugin-descriptions.php</a>。</p> 
  <p style="margin-left:0cm;">如需启动&nbsp; W3AF，可在桌面菜单中依次选中&nbsp;&nbsp;&nbsp; Kali&nbsp;&nbsp;&nbsp;&nbsp; Linux |&nbsp;&nbsp;&nbsp; Web&nbsp; Applications&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; Web&nbsp; Vulnerability Scanners |&nbsp;&nbsp;&nbsp; w3af&nbsp; (Console)，或在终端中使用下述指令。</p> 
  <p style="margin-left:0cm;">w3af_console</p> 
  <p style="margin-left:0cm;">上述命令将进入到W3AF特有的控制台模式（提示符为w3af&gt;&gt;&gt;）。虽然在桌面菜单里也有这 个程序的GUI版本，但是考虑到操作灵活性，我们倾向于使用它的控制台版本。</p> 
  <p style="margin-left:0cm;">w3af&gt;&gt;&gt; help</p> 
  <p style="margin-left:0cm;">上述指令将显示配置w3af测试所需的基本选项。在需要查看帮助时，可随时使用help命令查 看特定选项的说明信息。本例首先配置output&nbsp; 插件，然后启用特定的audit&nbsp; 测试选项，设置 target并对目标网站进行扫描。相关指令如下。 w3af&gt;&gt;&gt;&nbsp;&nbsp;&nbsp; plugins</p> 
  <p style="margin-left:0cm;">w3af/plugins&gt;&gt;&gt;&nbsp; help</p> 
  <p style="margin-left:0cm;">w3af/plugins&gt;&gt;&gt;&nbsp; output</p> 
  <p style="margin-left:0cm;">w3af/plugins&gt;&gt;&gt;&nbsp; output&nbsp;&nbsp;&nbsp; console, htmlFile</p> 
  <p style="margin-left:0cm;">w3af/plugins&gt;&gt;&gt;&nbsp; output&nbsp;&nbsp;&nbsp; config&nbsp;&nbsp;&nbsp; htmlFile w3af/plugins/output/config:htmlFile&gt;&gt;&gt; help</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:htmlFile&gt;&gt;&gt;&nbsp;&nbsp; view</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:htmlFile&gt;&gt;&gt;&nbsp;&nbsp; set verbose&nbsp;&nbsp;&nbsp;&nbsp; True</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:htmlFile&gt;&gt;&gt;&nbsp;&nbsp; set fileName&nbsp;&nbsp;&nbsp;&nbsp; testreport.html</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:htmlFile&gt;&gt;&gt;&nbsp;&nbsp; back w3af/plugins&gt;&gt;&gt; output&nbsp;&nbsp;&nbsp; config&nbsp;&nbsp;&nbsp; console</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:console&gt;&gt;&gt;&nbsp;&nbsp;&nbsp; help</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:console&gt;&gt;&gt;&nbsp;&nbsp;&nbsp; view</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:console&gt;&gt;&gt;&nbsp;&nbsp;&nbsp; set verbose&nbsp;&nbsp;&nbsp;&nbsp; False</p> 
  <p style="margin-left:0cm;">w3af/plugins/output/config:console&gt;&gt;&gt;&nbsp;&nbsp;&nbsp; back w3af/plugins&gt;&gt;&gt; audit</p> 
  <p style="margin-left:0cm;">w3af/plugins&gt;&gt;&gt;&nbsp; audit htaccessMethods,&nbsp;&nbsp;&nbsp;&nbsp; osCommanding,&nbsp; sqli,&nbsp;&nbsp; xss</p> 
  <p style="margin-left:0cm;">w3af/plugins&gt;&gt;&gt;&nbsp; back</p> 
  <p style="margin-left:0cm;">w3af&gt;&gt;&gt; target</p> 
  <p style="margin-left:0cm;">w3af/config:target&gt;&gt;&gt;&nbsp;&nbsp; help</p> 
  <p style="margin-left:0cm;">w3af/config:target&gt;&gt;&gt;&nbsp;&nbsp; view w3af/config:target&gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; set target&nbsp;&nbsp;&nbsp;&nbsp; http://testphp.example.com/</p> 
  <p style="margin-left:0cm;">w3af/config:target&gt;&gt;&gt;&nbsp;&nbsp; back</p> 
  <p style="margin-left:0cm;">w3af&gt;&gt;&gt;</p> 
  <p style="margin-left:0cm;">我们通过上述指令调整好了各项参数。然后，我们将通过下述指令，评估目标的 SQL注入、 跨站脚本、操作系统命令、htaccess错误配置等漏洞的安全问题。</p> 
  <p style="margin-left:0cm;">w3af&gt;&gt;&gt; start Auto-enabling&nbsp; plugin:&nbsp;&nbsp; grep.error500</p> 
  <p style="margin-left:0cm;">Auto-enabling&nbsp;&nbsp; plugin:&nbsp;&nbsp; grep.httpAuthDetect</p> 
  <p style="margin-left:0cm;">Found&nbsp; 2&nbsp;&nbsp; URLs&nbsp; and&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp; different points&nbsp;&nbsp;&nbsp; of&nbsp; injection.</p> 
  <p style="margin-left:0cm;">The list of&nbsp; URLs&nbsp; is:</p> 
  <p style="margin-left:0cm;">http://testphp.example.com/ http://testphp.example.com/search.php?test=query</p> 
  <p style="margin-left:0cm;">The list of&nbsp; fuzzable requests is:</p> 
  <p style="margin-left:0cm;">http://testphp.example.com/&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; Method: GET</p> 
  <p style="margin-left:0cm;">http://testphp.example.com/search.php?test=query|&nbsp;&nbsp;&nbsp;&nbsp; Method: POST|Parameters: (searchFor="")</p> 
  <p style="margin-left:0cm;">Starting&nbsp;&nbsp;&nbsp; sqli&nbsp;&nbsp;&nbsp; plugin&nbsp;&nbsp;&nbsp; execution. Starting&nbsp;&nbsp;&nbsp;&nbsp; osCommanding&nbsp;&nbsp; plugin&nbsp;&nbsp;&nbsp; execution.</p> 
  <p style="margin-left:0cm;">A&nbsp;&nbsp;&nbsp;&nbsp; possible OS Commanding&nbsp; was&nbsp;&nbsp;&nbsp; found at:</p> 
  <p style="margin-left:0cm;">"http://testphp.example.com/search.php?test=query",&nbsp;&nbsp;&nbsp;&nbsp; using</p> 
  <p style="margin-left:0cm;">HTTP&nbsp;&nbsp; method&nbsp; POST. The&nbsp;&nbsp;&nbsp; sent&nbsp;&nbsp; post-data&nbsp;&nbsp;&nbsp; was:</p> 
  <p style="margin-left:0cm;">"searchFor=run+ping+-n+3+localhost＆goButton=go".Please&nbsp;&nbsp;&nbsp; review&nbsp;&nbsp;&nbsp; manually. This information&nbsp;&nbsp;&nbsp;&nbsp; was&nbsp;&nbsp;&nbsp; found in&nbsp; the&nbsp;&nbsp;&nbsp;&nbsp; request&nbsp; with&nbsp;&nbsp; id&nbsp; 22.</p> 
  <p style="margin-left:0cm;">Starting&nbsp;&nbsp;&nbsp; xss plugin&nbsp;&nbsp;&nbsp; execution.</p> 
  <p style="margin-left:0cm;">Cross&nbsp;&nbsp; Site&nbsp;&nbsp;&nbsp; Scripting was&nbsp;&nbsp;&nbsp; found at:</p> 
  <p style="margin-left:0cm;">"http://testphp.example.com/search.php?test=query",</p> 
  <p style="margin-left:0cm;">using&nbsp;&nbsp; HTTP method&nbsp; POST. The&nbsp;&nbsp;&nbsp; sent&nbsp;&nbsp; post-data&nbsp;&nbsp;&nbsp;&nbsp; was: "searchFor=ScRIPt/SrC=http://x4Xp/x.js&lt;/ScRIPt&gt;＆goButton=go".</p> 
  <p style="margin-left:0cm;">This vulnerability&nbsp;&nbsp;&nbsp; affects&nbsp;&nbsp;&nbsp; Internet&nbsp; Explorer 6,Internet&nbsp;&nbsp;&nbsp;&nbsp; Explorer 7,Netscape with&nbsp;&nbsp; IE&nbsp; rendering engine,Mozilla&nbsp;&nbsp;&nbsp;&nbsp; Firefox,Netscape&nbsp; with</p> 
  <p style="margin-left:0cm;">Gecko&nbsp; rendering&nbsp;&nbsp;&nbsp; engine.</p> 
  <p style="margin-left:0cm;">This vulnerability&nbsp;&nbsp;&nbsp; was&nbsp;&nbsp;&nbsp; found in&nbsp; the&nbsp;&nbsp;&nbsp;&nbsp; request&nbsp; with&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp; 39.</p> 
  <p style="margin-left:0cm;">Starting&nbsp;&nbsp;&nbsp; htaccessMethods plugin&nbsp;&nbsp;&nbsp; execution. Finished scanning process.</p> 
  <p style="margin-left:0cm;">上述信息表明，W3AF发现该Web应用程序存在多个严重的安全漏洞。我们已经在配置中指定 好了测试报告的文件名，该文件位于/pentest/web/w3af/testreport.&nbsp; html。扫描报告会列出所 有漏洞的全部细节，其中包括&nbsp;&nbsp;&nbsp; W3AF 程序和目标 Web&nbsp; 应用程序之间每个请求信息、相应响 应、所传递的数据以及调试信息等。本例没有使用别的的插件（plugins）、配置文件 （profiles）和漏洞利用（exploit）选项。因此，本书强烈建议读者参考官方的用户指南，进 行各种练习。官方手册的下载网址是&nbsp;&nbsp;&nbsp; http://w3af. sourceforge.net/documentation/user/w3afUsersGuide.pdf。</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">5</span><span style="color:#00b050;">．</span><span style="color:#00b050;">WafW00f</span></p> 
  <p style="margin-left:0cm;">WafW00f是检测Web应用程序防火墙（WAF）的Python脚本程序。在评估WAF保护的目标主 机时，许多漏洞评估技术都难以奏效；而这正是WafW00f程序擅长的测试环境。部署于应用 服务器和Internet流量之间的WAF防火墙，不仅提高了测试策略的难度，同时还使渗透测试人 员开发的高级规避技术面临了新的挑战。</p> 
  <p style="margin-left:0cm;">如需启动WafW00f程序，可在终端中使用下述指令。</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#wafw00f</span></p> 
  <p style="margin-left:0cm;">上述指令将在显示器上显示简单的使用说明，以及几个典型的指令范例。本例中，我们将通 过下述指令，分析目标网站是否使用WAF系统。</p> 
  <p style="margin-left:0cm;">#wafw00f &nbsp; http://www.example.net/</p> 
  <p style="margin-left:0cm;">WAFW00F&nbsp; -&nbsp;&nbsp; Web &nbsp; Application&nbsp; &nbsp;&nbsp; Firewall&nbsp; &nbsp; Detection&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; Tool</p> 
  <p style="margin-left:0cm;">By&nbsp;&nbsp; &nbsp; Sandro&nbsp; Gauci ＆＆ &nbsp;&nbsp; Wendel&nbsp; G. Henrique</p> 
  <p style="margin-left:0cm;">Checking&nbsp;&nbsp; http://www.example.net/</p> 
  <p style="margin-left:0cm;">The &nbsp; site &nbsp; <a href="http://www.example.net/" rel="nofollow">http://www.example.net/</a>&nbsp; is&nbsp; &nbsp; behind &nbsp;&nbsp;&nbsp;&nbsp; a&nbsp;&nbsp; dotDefender &nbsp;&nbsp;Number&nbsp; of&nbsp;&nbsp; requests: 5</p> 
  <p style="margin-left:0cm;">上述信息表明，目标应用程序服务器处于防火墙的保护之下（例如，dotDefender）。通过这 些信息，我们可以进一步地调查规避WAF规则的方法。这可能涉及一些如HTTP参数污染、空 字节替换、规范化处理、使用十六进制字符或Unicode字符对恶意URL进行编码等技术。</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">6</span><span style="color:#00b050;">．</span><span style="color:#00b050;">WebScarab</span></p> 
  <p style="margin-left:0cm;">WebScarab&nbsp;&nbsp; 是一款功能强大的&nbsp;&nbsp;&nbsp; Web&nbsp; 应用程序的安全评估工具。它有多种操作模式，主要模 式为拦截代理。将WebScarab代理部署于终端用户浏览器和目标Web应用程序之间，可监 控、修改二者之间的请求和回应。审计人员可以手动构造连接请求，然后检査目标Web应用 程序返回的响应信息。WebScarab&nbsp;&nbsp;&nbsp; 集成了诸多工具，这些工具包括 fuzzer、session&nbsp;&nbsp; ID analysis、spider、web&nbsp; services&nbsp; analyzer、XSS&nbsp;&nbsp;&nbsp;&nbsp; 和 CRLF&nbsp; 漏洞扫描器和&nbsp; transcoder等程序。</p> 
  <p style="margin-left:0cm;">如需启动WebScarab&nbsp; Lite程序，可在桌面菜单里依次选中Kali&nbsp;&nbsp;&nbsp; Linux |&nbsp;&nbsp;&nbsp; WebApplications |Web Vulnerability&nbsp;&nbsp;&nbsp;&nbsp; Scanners |&nbsp;&nbsp;&nbsp; webscarab，或在终端中使用下述指令。</p> 
  <p style="margin-left:0cm;"><span style="color:#00b050;">#webscarab</span></p> 
  <p style="margin-left:0cm;">上述指令将执行精简版的 WebScarab。根据本例的需要，我们通过菜单&nbsp; Tools |&nbsp;&nbsp;&nbsp; Use&nbsp;&nbsp;&nbsp; fullfeatured interface 令程序显示全部的功能选项。程序将询问您是否启用这项功能，然后会重 启该应用程序。再次启动之后，WebScarab的界面上将新增很多工具的选项卡。在开始评估 工作之前，我们应调整浏览器程序，使其使用本地代理服务器（127.0.0.1,&nbsp;&nbsp;&nbsp; 8080），以使得 浏览器通过WebScarab 的拦截代理访问目标主机。另外，您可以在Proxy&nbsp; |&nbsp;&nbsp;&nbsp; Listeners选项卡中 调整本地代理服务器的有关设置（IP地址或端口）。使用WebScarab程序分析目标应用程序 的session&nbsp;&nbsp; ID 的步骤如下。 1.&nbsp; 设置好浏览器的代理服务器选项之后，您可使用浏览器访问目标网站（例如 http://testphp.targetdomain.com/），并访问尽可能多的链接。浏览的页面越多，发现已知和 未知漏洞的机会也就越大。除了这种方法，您还可在Summary选项卡中使用鼠标右键点击目 标网站，然后选择Spider&nbsp;&nbsp; tree；此后，程序将自动査找目标应用程序的所有可用链接。</p> 
  <p style="margin-left:0cm;">2.&nbsp;&nbsp;&nbsp; 如果想检查特定页面的请求和响应数据，可单击底部的Summary标签。程序将表格的形式 显示原始的和解析过的浏览器请求。此外，您还可以看到以 HTML、XML、TEXT和Hex格式 显示的响应信息。</p> 
  <p style="margin-left:0cm;">3.&nbsp;&nbsp;&nbsp; 在测试过程中，我们决定对目标应用程序链接中的某个参数（例如，artist=l）以&nbsp;&nbsp; GET&nbsp;&nbsp; 请求 进行模糊测试。这种测试有助于找到未被发现的漏洞。我们使用鼠标右键点击选定的链接， 并选择Use as fuzz&nbsp;&nbsp; template。然后转到Fuzzer&nbsp;&nbsp;&nbsp;&nbsp; 选项卡，点击Parameters&nbsp; 附近的&nbsp;&nbsp; Add&nbsp;&nbsp; 按钮， 人工添加需要进行模糊测试的参数。在本例中，我们写了一个小型文本文件，这个文件含有 已知的SQL 注入数据（例如，1&nbsp;&nbsp;&nbsp;&nbsp; AND1=2、1AND1=1、单引号[’]），然后指定这个文本文件 作为模糊测试的参数值。这种指定操作可通过Fuzzer选项卡下的Sources按钮完成。准备好模 糊测试数据后，我们点击&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp; 开始测试。所有测试完成后，可以双击单个请求以检査其相应 的响应。我们在本例中发现了MySQL注入漏洞。</p> 
  <p style="margin-left:0cm;">Error:&nbsp;&nbsp; You&nbsp;&nbsp;&nbsp; have&nbsp; an error&nbsp; in&nbsp; your&nbsp; SQL&nbsp;&nbsp; syntax;&nbsp;&nbsp;&nbsp;&nbsp; check the&nbsp;&nbsp;&nbsp;&nbsp; manual&nbsp; that&nbsp;&nbsp; corresponds&nbsp;&nbsp;&nbsp; to your MySQL&nbsp;&nbsp;&nbsp;&nbsp; server&nbsp;&nbsp;&nbsp;&nbsp; version&nbsp;&nbsp; for the&nbsp;&nbsp;&nbsp;&nbsp; right&nbsp; syntax&nbsp;&nbsp;&nbsp; to use&nbsp;&nbsp;&nbsp; near&nbsp;&nbsp;&nbsp;&nbsp; '\'' at&nbsp; line&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; Warning: mysql_fetch_array():supplied&nbsp;&nbsp;&nbsp;&nbsp; argument&nbsp;&nbsp;&nbsp; is&nbsp; not&nbsp;&nbsp;&nbsp; a&nbsp;&nbsp; valid&nbsp; MySQL&nbsp;&nbsp; result resource in /var/www/vhosts/default/htdocs/listproducts.php&nbsp; on line&nbsp;&nbsp;&nbsp;&nbsp; 74</p> 
  <p style="margin-left:0cm;">4.&nbsp;&nbsp;&nbsp; 最后，我们分析目标应用程序的session&nbsp;&nbsp; ID。我们选中Session&nbsp;&nbsp;&nbsp; ID Analysis选项卡，并在组 合框中选中Previous Requests。等程序加载了特定请求之后，我们在底部设定采样次数（例 如，20）。然后点击Fetch&nbsp;&nbsp;&nbsp;&nbsp; 按钮开始对session&nbsp;&nbsp; ID进行采样。之后，点击Test按钮对样本进行 分析。而后，可在Analysis选项卡下看到分析结果。此外，我们可在&nbsp;&nbsp;&nbsp;&nbsp; Visualization&nbsp;&nbsp; 选项卡屮看 到相应的可视化分析。这种分析用于判断session&nbsp;&nbsp; ID 的杂化程度和不可预期性。上述指标如 果不理想，就可能引发通过某session ID劫持他人session或获取他人认证信息的事故。 WebScarab 另有大量的选项和其他的功能，它们有助于我们提髙对渗透测试的认识。有关 WebScarab 项目的更多信息，请访问 http://www.owasp.org/index.php/Category:OWASP_WebScarab_Project。</p> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
