<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>第四章作业(一) « NotBeCN</title>
  <meta name="description" content="                  作者：A.y.   日期：2019/5/12   上机环境：eclipse   第四章作业 一、题目要求 同学们应该都去麦当劳或肯德基吃过快餐吧？请同学们参考肯德基官网的信息模拟肯德基快餐店的收银系统，合理使用C++或Java或Python结合设计模式（2种以上）至少实现系统的...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/1557726107386.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">第四章作业(一)</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p>作者：A.y.</p> 
  <p>日期：2019/5/12</p> 
  <p>上机环境：eclipse</p> 
  <p>第四章作业<br> 一、题目要求<br> 同学们应该都去麦当劳或肯德基吃过快餐吧？请同学们参考肯德基官网的信息模拟肯德基快餐店的收银系统，合理使用C++或Java或Python结合设计模式（2种以上）至少实现系统的以下功能：<br> 1.正常餐品结算和找零。<br> 2.基本套餐结算和找零。<br> 3.使用优惠劵购买餐品结算和找零。<br> 4.可在一定时间段参与店内活动（自行设计或参考官网信息）。<br> 5.模拟打印小票的功能（写到文件中）。</p> 
  <p>二、基本思路分析<br> 利用工厂方法模式用于产生每一种顾客点的产品,每个产品有一个价格属性和一个返回价格的函数,每一种产品对应一种工厂类,每个产品工厂类中的实现接口Factory(),并实现方法Method()用于生产每一种产品对象。在客户类中,使用单例模式创建唯一的客户对象,Menu()方法用来显示点餐界面,Choice()方法用来接收顾客单次点餐信息,并调用Ininform()函数记录相应的点餐信息,ShowMessage()函数用来显示顾客已点餐的信息,disCount()函数用来计算顾客优惠卷以及活动后的折扣价,Intext()函数用来将顾客的点餐信息存入文件中(模拟小票打印功能),InDatabase()函数用来将顾客点餐餐品的详细信息及价格存入数据库中记录。</p> 
  <p>三、UML类图<br> 工厂方法模式(餐品以及餐品工厂类):<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512134850319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 单例模式(客户类):<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512134908640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 四、主要运行代码</p> 
  <pre><code class="prism language-java"><span class="token keyword">package</span> kfc收银系统<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Scanner<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>BufferedWriter<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>File<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>FileWriter<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>*<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>text<span class="token punctuation">.</span>DateFormat<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>text<span class="token punctuation">.</span>SimpleDateFormat<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Calendar<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> Client instance <span class="token operator">=</span> null<span class="token punctuation">;</span>
	String<span class="token punctuation">[</span><span class="token punctuation">]</span> name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token comment">//表示用户已点餐品名</span>
	<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token comment">//表示已点餐品对应分份数</span>
	<span class="token keyword">int</span> choice<span class="token punctuation">,</span>number<span class="token punctuation">;</span>                    <span class="token comment">//餐品编号以及餐品份数</span>
    <span class="token keyword">int</span> money<span class="token punctuation">,</span>change<span class="token punctuation">;</span>                     <span class="token comment">//顾客支付收款、找零数</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> price<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>symbol<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment">//餐品总额和顾客点完餐标志</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> Client <span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token operator">==</span>null<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>	
			instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
    	<span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token comment">//主菜单函数</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t欢迎来到KFC,请点餐 (在每月的8,18,28号有八折活动(不能与会员卡同时使用))\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t1.鸡腿：10元/个 \t2.汉堡：14元/个"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t3.鸡肉卷：12元/个\t4.黄金鸡块：8元/份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t5.蛋挞：4元/个 \t6.薯条：8元/份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t7.牛角五方：7元/个"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t8.果汁：6元/杯 \t9.可乐：6元/杯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t10.单人套餐1：鸡腿一个+鸡肉卷一个+可乐一杯 24元/份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t11.单人套餐2：汉堡一个+薯条一份+果汁一杯 23元/份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t12.双人套餐1：鸡腿一个+汉堡一个+蛋挞两个+黄金鸡块一份+可乐两杯 44元/份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t13.双人套餐2：汉堡一个+鸡肉卷一个+牛角五方两个+薯条一份+果汁两杯 49元/份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t14.结束点餐"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Number</span><span class="token punctuation">(</span>String nam<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//顾客点餐份数函数</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\t请输入所需餐品("</span><span class="token operator">+</span>nam<span class="token operator">+</span><span class="token string">")份数:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Scanner sc1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
		number <span class="token operator">=</span> sc1<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Ininform</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>String b<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//记录顾客点餐和餐品份数函数</span>
		<span class="token keyword">int</span> symbol<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>j<span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>i<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				symbol<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>symbol<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			name<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>b<span class="token punctuation">;</span>
			num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">;</span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
			num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment">//显示顾客点餐信息函数</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"已点餐："</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>i<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t"</span><span class="token operator">+</span>name<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"×"</span><span class="token operator">+</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Intext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//模拟打印小票函数</span>
		Date d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		DateFormat me <span class="token operator">=</span>DateFormat<span class="token punctuation">.</span><span class="token function">getDateTimeInstance</span><span class="token punctuation">(</span>DateFormat<span class="token punctuation">.</span>MEDIUM<span class="token punctuation">,</span>DateFormat<span class="token punctuation">.</span>MEDIUM<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			File fp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"ticket.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			fp<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span><span class="token punctuation">(</span>FileWriter writer<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>
				BufferedWriter out<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>writer<span class="token punctuation">)</span>
			<span class="token punctuation">)</span><span class="token punctuation">{</span>
				out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"消费小票："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				out<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">" 点餐信息："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				out<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>i<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
				<span class="token punctuation">{</span>
					out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token operator">+</span>name<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"×"</span><span class="token operator">+</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				out<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">" 消费总价："</span><span class="token operator">+</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
				out<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">" 消费时间："</span><span class="token operator">+</span>me<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>IOException e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Choice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment">//顾客单次选餐函数</span>
		<span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>               <span class="token comment">//a表示点餐价格,n表示点餐餐品类数</span>
		String nam<span class="token operator">=</span>null<span class="token punctuation">;</span>           <span class="token comment">//nam表示点餐名</span>
		Scanner sc2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\n\t请输入点餐号："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		choice <span class="token operator">=</span> sc2<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">switch</span><span class="token punctuation">(</span>choice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"鸡腿"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">DrumstickFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"汉堡"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HamburgerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"鸡肉卷"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ChickenRollsFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"黄金鸡块"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ChickenNuggetsFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"蛋挞"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">EggTartFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"薯条"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ChipsFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"牛角五方"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		    a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">CroissantFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"果汁"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">JuiceFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"可乐"</span><span class="token punctuation">;</span>
			n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ColoFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">10</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"单人套餐1"</span><span class="token punctuation">;</span>
			<span class="token function">Number</span><span class="token punctuation">(</span>nam<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"鸡腿"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"鸡肉卷"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"可乐"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Combo1Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">11</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"单人套餐2"</span><span class="token punctuation">;</span>
			<span class="token function">Number</span><span class="token punctuation">(</span>nam<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"汉堡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"薯条"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"果汁"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Combo2Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>	
		<span class="token keyword">case</span> <span class="token number">12</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"双人套餐1"</span><span class="token punctuation">;</span>
			<span class="token function">Number</span><span class="token punctuation">(</span>nam<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"汉堡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"鸡腿"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"可乐"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"蛋挞"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"黄金鸡块"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Combo3Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">13</span><span class="token operator">:</span>
			nam<span class="token operator">=</span><span class="token string">"双人套餐2"</span><span class="token punctuation">;</span>
			<span class="token function">Number</span><span class="token punctuation">(</span>nam<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"汉堡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"鸡肉卷"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"果汁"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"牛角五方"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token string">"薯条"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Combo4Factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">14</span><span class="token operator">:</span>
			symbol<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>choice<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">Number</span><span class="token punctuation">(</span>nam<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Ininform</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span>nam<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		price<span class="token operator">=</span>price<span class="token operator">+</span>a<span class="token operator">*</span>number<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">order</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">//顾客点餐函数</span>
		<span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>symbol<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		 <span class="token punctuation">{</span>
			<span class="token function">Choice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">Change</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">//顾客找零函数</span>
		change<span class="token operator">=</span>n<span class="token operator">-</span>price<span class="token punctuation">;</span>
		<span class="token keyword">return</span> change<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">discount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment">//顾客打折函数</span>
		Calendar now <span class="token operator">=</span> Calendar<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> a <span class="token operator">=</span>now<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>Calendar<span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">8</span><span class="token operator">||</span>a<span class="token operator">==</span><span class="token number">18</span><span class="token operator">||</span>a<span class="token operator">==</span><span class="token number">28</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\n\t今天是优惠日!可享受八折折扣!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			price<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>price<span class="token operator">*</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{</span>
		String m<span class="token punctuation">;</span>
		Scanner sc4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\n\t今天不是优惠日...是否有优惠券(优惠券打8.8折)："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		m <span class="token operator">=</span> sc4<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"是"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			price<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>price<span class="token operator">*</span><span class="token number">0.88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">InDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> ClassNotFoundException<span class="token punctuation">,</span> SQLException<span class="token punctuation">{</span>   <span class="token comment">//数据库记录函数</span>
		 String driverName<span class="token operator">=</span><span class="token string">"com.microsoft.sqlserver.jdbc.SQLServerDriver"</span><span class="token punctuation">;</span>
		 String dbURL<span class="token operator">=</span><span class="token string">"jdbc:sqlserver://127.0.0.1:1433;DatabaseName=KFC"</span><span class="token punctuation">;</span><span class="token comment">//kfc为我的数据库名</span>
		 String userName<span class="token operator">=</span><span class="token string">"sa"</span><span class="token punctuation">;</span><span class="token comment">//我的数据库用户名</span>
		 String userPwd<span class="token operator">=</span><span class="token string">"a291374161"</span><span class="token punctuation">;</span><span class="token comment">//我的密码</span>
		 <span class="token keyword">int</span> s<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		 Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driverName<span class="token punctuation">)</span><span class="token punctuation">;</span>
		 <span class="token keyword">try</span><span class="token punctuation">{</span>
		    Connection con<span class="token operator">=</span>DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>dbURL<span class="token punctuation">,</span>userName<span class="token punctuation">,</span>userPwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
		        Statement stmt1 <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        Statement stmt2 <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        Statement stmt3 <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        DateFormat dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        Date date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		        ResultSet rs1 <span class="token operator">=</span> stmt1<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM kfc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//查询数据库内数据</span>
		        String o <span class="token operator">=</span> dateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//o为当前日期的标准模式</span>
		        <span class="token keyword">if</span><span class="token punctuation">(</span>rs1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">//初始化当天的销售记录</span>
		        <span class="token punctuation">{</span>
		        	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>rs1<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"日期"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		        	<span class="token punctuation">{</span>
		        		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>rs1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		        			<span class="token punctuation">{</span>
		        			s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		        			<span class="token keyword">break</span><span class="token punctuation">;</span>
		        			<span class="token punctuation">}</span>
		        	<span class="token punctuation">}</span>
		        	<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		        	<span class="token punctuation">{</span>
		        		String A <span class="token operator">=</span> <span class="token string">"INSERT INTO kfc VALUES('"</span><span class="token operator">+</span>o<span class="token operator">+</span><span class="token string">"','0','0','0','0','0','0','0','0','0','0')"</span><span class="token punctuation">;</span>
		                stmt1<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> 	
		        	<span class="token punctuation">}</span>
		        <span class="token punctuation">}</span>
		        <span class="token keyword">else</span>
		        <span class="token punctuation">{</span>
		        	String A <span class="token operator">=</span> <span class="token string">"INSERT INTO kfc VALUES('"</span><span class="token operator">+</span>o<span class="token operator">+</span><span class="token string">"','0','0','0','0','0','0','0','0','0','0')"</span><span class="token punctuation">;</span>
		            stmt1<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span>
		        <span class="token punctuation">}</span>
		        ResultSet rs2 <span class="token operator">=</span> stmt2<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM kfc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			    <span class="token keyword">while</span><span class="token punctuation">(</span>rs2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      
			    	   <span class="token keyword">if</span><span class="token punctuation">(</span>rs2<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"日期"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span>
			    	   <span class="token punctuation">{</span>
			    		   
			    		   <span class="token keyword">break</span><span class="token punctuation">;</span>
			    	   <span class="token punctuation">}</span>
			   String B <span class="token operator">=</span> <span class="token string">"UPDATE kfc SET 销售额 ="</span><span class="token operator">+</span>price<span class="token operator">+</span><span class="token string">"+"</span><span class="token operator">+</span>rs2<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"销售额"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" WHERE 日期='"</span><span class="token operator">+</span>o<span class="token operator">+</span><span class="token string">"'"</span><span class="token punctuation">;</span>   
			   stmt2<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//更新当天的销售额</span>
			   <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>i<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
		       <span class="token punctuation">{</span>
		    	   ResultSet rs3 <span class="token operator">=</span> stmt3<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM kfc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			       <span class="token keyword">while</span><span class="token punctuation">(</span>rs3<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			    	   <span class="token keyword">if</span><span class="token punctuation">(</span>rs3<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"日期"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span>
			    	   <span class="token punctuation">{</span>
			    		   <span class="token keyword">break</span><span class="token punctuation">;</span>
			    	   <span class="token punctuation">}</span>
		    	   <span class="token keyword">int</span> p<span class="token operator">=</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>rs3<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    	   String C <span class="token operator">=</span> <span class="token string">"UPDATE kfc SET "</span><span class="token operator">+</span>name<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">" = "</span><span class="token operator">+</span>p<span class="token operator">+</span><span class="token string">" WHERE 日期='"</span><span class="token operator">+</span>o<span class="token operator">+</span><span class="token string">"'"</span><span class="token punctuation">;</span>
		    	   stmt3<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//更新当天的销售量</span>
		       <span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
		    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"数据库连接失败！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>        
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> ClassNotFoundException<span class="token punctuation">,</span> SQLException <span class="token punctuation">{</span>
		Client c <span class="token operator">=</span> <span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Scanner sc3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//顾客点餐</span>
		c<span class="token punctuation">.</span><span class="token function">discount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//顾客是否享受折扣</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">" 点餐价格："</span><span class="token operator">+</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\t实际收款："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		c<span class="token punctuation">.</span>money <span class="token operator">=</span> sc3<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//输入收到顾客的钱</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\n 找零："</span><span class="token operator">+</span>c<span class="token punctuation">.</span><span class="token function">Change</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>money<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//返回找零数</span>
		c<span class="token punctuation">.</span><span class="token function">Intext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//模拟开小票功能</span>
		c<span class="token punctuation">.</span><span class="token function">InDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//销售信息存入数据库</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
  <p>五、调试截图<br> 1.点同样的餐品时点餐信息会重复出现<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135212393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 错误代码<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135221453.png" alt="在这里插入图片描述"><br> 错误原因是未加入点餐重复判断代码<br> 修改后:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051213540622.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 2.初始化数据库信息时,无法插入java中自己定义的变量(o是定义的字符串变量)<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135238155.png" alt="在这里插入图片描述"><br> 错误代码：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135351937.png" alt="在这里插入图片描述"><br> 错误原因：插入变量形式错误,应该是要用”+变量名+”的形式与sql语句连接。<br> 修改后：<img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135417750.png" alt="在这里插入图片描述"></p> 
  <p>3.数据库查询问题,要匹配插入的数据信息是否为当天的数据信息时,发现无法查询当前行的信息。<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135440768.png" alt="在这里插入图片描述"><br> 错误代码<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135450515.png" alt="在这里插入图片描述"><br> 错误原因是由于调用executeQuery()方法查询时,返回的查询结果指针指向的是第一条记录的上一条记录,但实际上并不存在这一条记录,因此需要调用ResultSet类中的next()方法来指向记录的第一行才可以查询记录。<br> 修改后:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135503847.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>3.初始化第二天点餐信息出现插入错误</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135911512.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 错误代码:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135930540.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>错误原因是由于在这段代码内只判断了数据库内是否为空行以及第一行的日期属性是否与当前日期一致,若不一致则插入当天的初始化销售数据,没有考虑到数据库可能会有多行数据,应该让每一行的日期属性都与当天日期比较,都不一致再插入当天的初始化销售数据<br> 修改后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135942977.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>六、运行截图<br> 控制台点餐:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512135956310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512140014250.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 数据库记录:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512140222530.png" alt="在这里插入图片描述"><br> 模拟小票:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512140228648.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk2NDgy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>个人总结:<br> 在这次的章节作业中用到了很多之前没有试过的东西，之前的写代码的时候大部分类都冗余在一个主类中，上一次作业接触了简单的几种设计模式之后，对于代码设计的清晰性更加的了解了。在这次设计中我用到了连接数据库的方法，在调试的时候遇到了很多的问题,ResultSet中的next()函数是将数据库指针指向下一行，若下一行不存在则返回值为false，否则为true，但是在设计的时候我的思路是想先判断下一行是否存在再决定是否指向下一行的，需要添加标记变量才能做到；还遇到一个比较棘手的问题就是”结果集已关闭”，这个问题主要是因为ResultSet内嵌套使用ResultSet引起的，在java里每个ResultSet结果集都需要一个单独的Statement来支撑，如果想使用多个Result就必须使用创建多个Statement，因为我将消费记录的初始化、销售额的累加以及餐品销量的累加分别创建了3个Statement对象来进行存储，在这次作业之后我也对java连接数据库的操作第一次有了这么多的了解。</p> 
  <p>个人博客：</p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
