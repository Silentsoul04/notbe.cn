<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>fastDFS+nginx搭建文件服务器 « NotBeCN</title>
  <meta name="description" content="                      准备下载好的软件：   上传到应用服务器： filezilla.exe工具自选 安装流程：   前提：安装fastDFS之前，先配置环境   解压：libfastcommonV1.0.7.tar.gz  进入解压后的目录，进行编译：  开始安装：  安装路径为：   l...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/weixin_40816738_90116144.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">fastDFS+nginx搭建文件服务器</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-github-gist"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175543356.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512120559612.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175611940.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175619977.png" alt="在这里插入图片描述"><br> 准备下载好的软件：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175633150.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175640353.png" alt="在这里插入图片描述"><br> 上传到应用服务器：<br> filezilla.exe工具自选<br> 安装流程：</p> 
  <p>前提：安装fastDFS之前，先配置环境<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051117565378.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175659293.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 解压：libfastcommonV1.0.7.tar.gz<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175712639.png" alt="在这里插入图片描述"><br> 进入解压后的目录，进行编译：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175726304.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 开始安装：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175740265.png" alt="在这里插入图片描述"><br> 安装路径为：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175759621.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175805483.png" alt="在这里插入图片描述"><br> lib64是64位环境：<br> lib位32位环境<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175818594.png" alt="在这里插入图片描述"><br> 解压FastDFS_v5.05.tar.gz:<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175831557.png" alt="在这里插入图片描述"><br> 解压后目录：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175842801.png" alt="在这里插入图片描述"><br> 进入FastDFS-5.05目录，执行编译<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175854494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 安装：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051117591192.png" alt="在这里插入图片描述"><br> 安装后目录：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175922532.png" alt="在这里插入图片描述"><br> 安装到/usr/bin目录下的文件：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175933778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 查看配置文件：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511175946348.png" alt="在这里插入图片描述"><br> 把FastDFS-5.05/conf下面的所有配置文件复制到etc/fdfs目录下面：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180000805.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 查看/etc/fdfs目录下面的文件：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180013360.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 修改tracker.conf配置文件，进行配置tracker服务<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180028709.png" alt="在这里插入图片描述"><br> 修改前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180042434.png" alt="在这里插入图片描述"><br> 修改后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180056359.png" alt="在这里插入图片描述"><br> 在/路径下面创建配置文件中的目录：</p> 
  <p>在/fastdfs目录下面，分别创建stroage和client目录</p> 
  <p>启动tracker服务：<br> 进入/usr/bin目录下面：执行一下命令：<br> fdfs_trackerd /etc/fdfs/tracker.conf<br> 格式：fdfs_trackerd +配置文件<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180235618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 如果配置文件修改了：需要重启：执行以下命令：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180330782.png" alt="在这里插入图片描述"><br> 修改storage.conf文件，配置storage服务<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180340268.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>修改前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118034778.png" alt="在这里插入图片描述"></p> 
  <p>修改后：</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180353128.png" alt="在这里插入图片描述"><br> 修改组名称，也就是访问图片的前缀：<br> 修改前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180401930.png" alt="在这里插入图片描述"><br> 修改后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180408868.png" alt="在这里插入图片描述"><br> 修改图片实际存储的路径：<br> 修改前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180413612.png" alt="在这里插入图片描述"><br> 修改后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118042078.png" alt="在这里插入图片描述"><br> storage需要向tracker定时汇报：<br> 修改前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180426685.png" alt="在这里插入图片描述"><br> 修改后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180431595.png" alt="在这里插入图片描述"><br> 保存退出：<br> 进入/usr/bin目录下面：启动storage服务：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180438596.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 如果修改了配置文件，需要重启：执行下面的命令即可<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180445959.png" alt="在这里插入图片描述"></p> 
  <p>查看storage进程是否启动成功：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180453964.png" alt="在这里插入图片描述"></p> 
  <p>查看tracker进程是否启动成功：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180500289.png" alt="在这里插入图片描述"><br> 进入/etc/fdfs/目录下：配置client<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180507576.png" alt="在这里插入图片描述"><br> 修改client存储日志的路径：<br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118052047.png" alt="在这里插入图片描述"><br> 后：<br> 修改tracker_server:<br> 前<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180542302.png" alt="在这里插入图片描述"><br> 后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180548502.png" alt="在这里插入图片描述"></p> 
  <p>测试文件上传：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180556334.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 格式：fdfs_test+配置文件+upload+文件地址</p> 
  <p>上传成功：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180602927.png" alt="在这里插入图片描述"><br> 查看上传的文件：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180609659.png" alt="在这里插入图片描述"><br> data：存储文件目录<br> log：存储日志</p> 
  <p>刚才用fdfs提供的客户端上传了一个文件到服务服务器上去了。到目前为止fastDFS文件服务器搭建完成了，但仅仅基于一个文件系统，不能用http进行访问，因此，借助nginx+fastDFS即可解决！</p> 
  <p>解压fastDFS nginx整合包：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180616890.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180624750.png" alt="在这里插入图片描述"></p> 
  <p>修改配置文件：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118063799.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180644743.png" alt="在这里插入图片描述"><br> 后：<br> 把local删除即可</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118065182.png" alt="在这里插入图片描述"><br> 下面开始配置nginx：<br> 前提：安装环境<br> yum install gcc-c++<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180657853.png" alt="在这里插入图片描述"><br> yum install pcre pcre-devel<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180705287.png" alt="在这里插入图片描述"><br> yum install zlib zlib-devel<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180710924.png" alt="在这里插入图片描述"><br> yum install openssl openssl-devel<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180718469.png" alt="在这里插入图片描述"></p> 
  <p>解压：nginx压缩包</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180724126.png" alt="在这里插入图片描述"><br> 进入nginx-1.12.0目录下面：</p> 
  <p>执行以下命令：</p> 
  <pre><code>./configure \
--prefix=/usr/local/nginx \
--pid-path=/var/run/nginx/nginx.pid \
--lock-path=/var/lock/nginx.lock \
--error-log-path=/var/log/nginx/error.log \
--http-log-path=/var/log/nginx/access.log \
--with-http_gzip_static_module \
--http-client-body-temp-path=/var/temp/nginx/client \
--http-proxy-temp-path=/var/temp/nginx/proxy \
--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \
--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \
--http-scgi-temp-path=/var/temp/nginx/scgi \
--add-module=/home/tar/fastDFS/fastdfs-nginx-module/src
</code></pre> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180741706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 进行编译：<br> make<br> 进行安装：<br> make install<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180819834.png" alt="在这里插入图片描述"></p> 
  <p>将/home/tar/fastDFS/fastdfs-nginx-module/src目录下面的mod_fastdfs.conf文件复制到/etc/fdfs目录下面：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180830184.png" alt="在这里插入图片描述"></p> 
  <p>在/etc/fdfs路径下面查看，复制的文件<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180838704.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 编辑mod_fastdfs.conf文件，修改存储日志的路径：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180848493.png" alt="在这里插入图片描述"><br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180855120.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180907104.png" alt="在这里插入图片描述"></p> 
  <p>去/fastdfs路径下面创建配置的日志存储路径：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180913548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 进入/etc/fdfs路径下面修改mod_fastdfs.conf配置文件，<br> 将tracker_server地址进行修改：<br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180923389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180930362.png" alt="在这里插入图片描述"></p> 
  <p>修改组织名称：<br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118093695.png" alt="在这里插入图片描述"></p> 
  <p>后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118094310.png" alt="在这里插入图片描述"></p> 
  <p>是否需要添加一个叫imooc的组织的名称，默认false，修改为true<br> 注：组织的名称要对应，可以自定义<br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180950724.png" alt="在这里插入图片描述"><br> 后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511180956518.png" alt="在这里插入图片描述"><br> 进入nginx的安装目录：<br> /usr/local/nginx/conf下，修改nginx.conf的配置文件<br> 添加以下内容：</p> 
  <pre><code>server{
            listen       88;
            server_name  192.168.43.4;
        
        location /imooc.M00 {
           ngx_fastdfs_module;
             }
        }
</code></pre> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051118101479.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 进入nginx目录下面启动nginx：<br> ./nginx -t<br> 注：-t检查nginx配置文件是否正确<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181048209.png" alt="在这里插入图片描述"><br> 级联创建上面不存在的目录：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181053633.png" alt="在这里插入图片描述"><br> 再次检查nginx配置文件是否配置正确：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181109242.png" alt="在这里插入图片描述"><br> 启动nginx<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181117655.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181128225.png" alt="在这里插入图片描述"></p> 
  <p>如果访问不到nginx，请关闭防火墙即可。<br> 查看防火墙运行状态：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181135465.png" alt="在这里插入图片描述"><br> 关闭防火墙：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181141616.png" alt="在这里插入图片描述"><br> /etc/init.d/iptables stop<br> <a href="http://192.168.43.4:88/imooc/00/00/wKgrBFxDFl2AM5sIAAEGyRhnCig191_big.jpg" rel="nofollow">http://192.168.43.4:88/imooc/00/00/wKgrBFxDFl2AM5sIAAEGyRhnCig191_big.jpg</a></p> 
  <p>浏览器会访问不到：<br> 修改配置文件，将图片路径和storage一直即可<br> 前：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/201905111811492.png" alt="在这里插入图片描述"><br> 后：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181155656.png" alt="在这里插入图片描述"></p> 
  <p>启动服务：<br> 重启tracker服务和storage服务：<br> /usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf restart<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181203345.png" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181208210.png" alt="在这里插入图片描述"></p> 
  <p>springboot整合fastdfs<br> github地址：<br> <a href="https://github.com/tobato/FastDFS_Client" rel="nofollow">https://github.com/tobato/FastDFS_Client</a></p> 
  <p>引入maven依赖：</p> 
  <pre><code>&lt;!-- 高性能分布式文件服务器 --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.github.tobato&lt;/groupId&gt;
    &lt;artifactId&gt;fastdfs-client&lt;/artifactId&gt;
    &lt;version&gt;1.26.2&lt;/version&gt;
  &lt;/dependency&gt;

&lt;!--  测试工具类--&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;
  &lt;/dependency&gt;
</code></pre> 
  <p>和启动类同级创建FastdfsImporter ：</p> 
  <pre><code>/**
 * 导入FastDFS-Client组件
 *
 * @author tobato
 */
@Configuration
@Import(FdfsClientConfig.class)
// 解决jmx重复注册bean的问题
@EnableMBeanExport(registration = RegistrationPolicy.IGNORE_EXISTING)
public class FastdfsImporter {
    // 导入依赖组件
}
</code></pre> 
  <p>在application.properties配置文件中添加，fastdfs配置信息：</p> 
  <pre><code>############################################################
#
# 分布式文件系统fastdfs 配置
#
############################################################
#读取时间
fdfs.so-timeout=1501
#连接超时时间
fdfs.connect-timeout=601
#设置图片高的尺寸(缩略图)
fdfs.thumb-image.height=80
#设置图片宽的尺寸(缩略图)
fdfs.thumb-image.width=80
#tracker服务配置地址列表
fdfs.tracker-list=192.168.43.4:22122
</code></pre> 
  <p>添加2个工具类：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181313821.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181320788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgxNjczOA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190511181327732.png" alt="在这里插入图片描述"><br> springboot整合fastdfs完成</p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
