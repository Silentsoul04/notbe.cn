<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>网络编程 « NotBeCN</title>
  <meta name="description" content="                  网络的相关概念   网络通信-IP   IP地址（Internet Protocol）：唯一标识网络上的每一台计算机   IP地址的组成：32位，由4个8位二进制数组成      二进制变成十进制方法：位数数值乘以2的位数次方，最大到255   IP地址 = 网络地址 +主机地...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/kY_98_90136660.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">网络编程</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <h1><a id="_0"></a>网络的相关概念</h1> 
  <h3><a id="IP_1"></a>网络通信-IP</h3> 
  <p>IP地址（Internet Protocol）：唯一标识网络上的每一台计算机</p> 
  <p>IP地址的组成：32位，由4个8位二进制数组成</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512062911247.png" alt="在这里插入图片描述"></p> 
  <p>二进制变成十进制方法：位数数值乘以2的位数次方，最大到255</p> 
  <p><strong>IP地址</strong> = 网络地址 +主机地址</p> 
  <p><strong>网络地址</strong>：标识计算机或网络设备所在的网段</p> 
  <p><strong>主机地址</strong>：标识特定主机或网络设备</p> 
  <h3><a id="IP_20"></a>IP地址的配置和检测：</h3> 
  <ul> 
   <li> <p>查看IP地址，检测网络是否畅通</p> </li> 
   <li> <p>查看本机的IP地址：ipconfig</p> </li> 
   <li> <p>测试网络是否通畅：ping （再加上）目标IP地址</p> </li> 
  </ul> 
  <p>【1. 开始里面直接输入cmd；2. 打开dos系统；3. 输入代码】</p> 
  <p>DNS域名解析：Domain Name System，域名系统</p> 
  <p>为了好访问，好记忆。通过DNS</p> 
  <h3><a id="_36"></a>网络服务器：</h3> 
  <p>通常指在网络环境下，具有较高计算能力，能够提供用户服务功能的计算机</p> 
  <p>B/S：浏览器服务器端的服务程序【好处：服务器端自己升级就行了】</p> 
  <p>C/S：客户端服务器端的服务程序</p> 
  <p>网络通信协议：</p> 
  <p>为在网络中不同的计算机之间进行通信而建立的规则、标准或约定的集合</p> 
  <p>【数据在网络中传输是很复杂的】</p> 
  <p><strong>HTTP协议</strong>：超文本传输协议，互联网应用最广泛的。</p> 
  <p><strong>FTP协议</strong>：文件传输协议。</p> 
  <p><strong>SMTP协议</strong>：简单邮件传输协议。</p> 
  <p><code>TCP协议</code>（Transmission Control Protocol 传输控制协议）：面向连接的、可靠的、基于字节流的传输通信协议。</p> 
  <p><code>UDP协议</code>（User Datagram Protocol 用户数据报协议）：无连接的协议，在传输数据之前，客户端和服务器并不建立和维护连接，效率很快。</p> 
  <h3><a id="Socket_68"></a>Socket：</h3> 
  <p>通信链路的端点就被称为“套接字”（英文名Socket）；是提供给应用程序的接口<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512064009308.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2tZXzk4,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 【Socket的底层机制复杂，Java平台提供了一些简单的API，可以更简单有效的使用Socket开发而无需了解底层机制】</p> 
  <h4><a id="Socket_74"></a>Socket分类</h4> 
  <ul> 
   <li>流式套接字（SOCK_ STREAM）【面向连接、可靠的数据传输服务（对应服务是TCP链接）】</li> 
   <li>数据报式套接字（SOCK_ DGRAM）【无连接服务（数据报似的，基于UDP）更高效】<br> 原始式套接字(SOCK_ RAW)</li> 
  </ul> 
  <p>java.net包：</p> 
  <p>Socket</p> 
  <p>ServerSocket</p> 
  <p>DatagramPacket</p> 
  <p>DatagramSocket</p> 
  <p>InetAddress</p> 
  <p>……</p> 
  <h2><a id="_95"></a>网络通信/传输协议</h2> 
  <ul> 
   <li>网络通信协议<br> 为在网络种不同的计算机之间进行通信而建立的规则、标准或与约定的集合</li> 
   <li>TCP协议<br> 面向连接的、可靠的、基于字节流的传输通信协议</li> 
   <li>UDP协议<br> 无连接的协议，在传输数据之前，客户端和服务器并不建立和维护连接</li> 
  </ul> 
  <h3><a id="Socket_103"></a>Socket编程</h3> 
  <pre><code>套接字使用TCP提供了两台计算机之间的通信协议。客户端创建一个套接字，并尝试连接服务器的套接字。

当连接建立时，服务器会创建有个Socket对象。客户端和服务器就可以通过对Socket对象的写入和读取来进行通信。

java.net.Socket类代表了一个套接字，并且java.net.ServerSocket类为服务器提供了一种监听客户端，并与他们建立连接的机制。

两台计算机之间使用套接字建立TCP连接的步骤如下：
</code></pre> 
  <p>1.服务器实例化一个ServerSocket对象，表示通过服务器上的端口通信；<br> 2.服务器调用ServerSocket类的accept()方法一直等待，直到客户端连接到服务器上给定的端口；<br> 3.服务器等待客户端实例化一个Socket对象，指定服务器名称和端口号来请求连接；<br> 4.Socket类的构造函数试图将客户端连接到指定的服务器和端口号。如果通信被建立，则在客户端创建一个Socket对象与服务器进行通信；在服务器端，accept()方法返回服务器上一个新的socket引用，该socket连接到客户端的socket。<br> 5. 连接建立后，通过使用I/O流进行通信，每一个socket都有一个输入流和一个输出流，客户端的输出流连接到服务器端的输入流，而客户端的输入流连接到服务器端的输出流。</p> 
  <p><strong>客户端</strong></p> 
  <pre><code>public class LogicServicer {
	public static void main(String[] args) {
		try {
			//接收客户端请求
			//创建一个Socket
			ServerSocket serverSocket = new ServerSocket(5000);
			//使用accept()侦听并接收到此ServerSocket的连接
			Socket socket = serverSocket.accept();//侦听到之前都是阻塞的
			//获得输入流，获得用户的请求
			//数据流输入
			InputStream is = socket.getInputStream();
			// BufferedReader读取字符流
			BufferedReader br = new BufferedReader(new InputStreamReader(is));
			String info;
			// BufferedReader的方法可以一行一行的读
			while((info = br.readLine())!=null){
				System.out.println("客户端："+info);
			}
			//给客户端一个响应
			String reply = "欢迎登陆";
			//通过输出流将响应发送回给客户端
			OutputStream os = socket.getOutputStream();
			os.write(reply.getBytes());	
			//释放相应资源
			os.close();
			br.close();
			is.close();
			socket.close();
			serverSocket.close();
		} catch (IOException e) {
			e.printStackTrace();
		} } }
</code></pre> 
  <p><strong>服务端</strong></p> 
  <pre><code>public class LogicClient {
	public static void main(String[] args) {
		//创建一个客户端的Socket
		try {
			Socket socket = new Socket("localhost",5000);
			//通过输出流发送请求
			//直接输出数据流
			String info = "用户名：樱桃小丸子；密码：123456";
			OutputStream os = socket.getOutputStream();
			//打散成数据数组
			byte[] infos = info.getBytes();
			os.write(infos);
			//关闭输出流，这是一个半关闭
			socket.shutdownOutput();
			//通过输入流接收服务器给我的响应
			InputStream is = socket.getInputStream();
			BufferedReader br = new BufferedReader(new InputStreamReader(is));
			String reply;
			while((reply = br.readLine())!=null){
				System.out.println("服务器："+reply);
			}
			//释放资源
			os.close();
			socket.close();
		} catch (UnknownHostException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		} } }
</code></pre> 
  <h3><a id="UDPSocket_187"></a>基于UDP协议的Socket网络编程步骤</h3> 
  <p>利用 DatagramPacket 对象封装数据报<br> 利用 DatagramSocket 发送数据报<br> 利用 DatagramSocket 接收数据报<br> 利用 DatagramPacket 处理数据报<br> DatagramPacket类</p> 
  <p>封装了数据报的数据、数据长度、目标地址和目标端口</p> 
  <p>DatagramSocket类</p> 
  <p>接收和发送DatagramPacket对象封装好的数据报</p> 
  <p>【两个类都在java.net包里】</p> 
  <p>例子：</p> 
  <p>礼物—数据（字符串）</p> 
  <p>包裹—DatagramPacket</p> 
  <p>快递点—DatagramSocket</p> 
  <p>寄礼物—send()</p> 
  <p>收礼物—receive()</p> 
  <pre><code>public class LogicServicer {
	public static void main(String[] args) {	
		byte[] infos = new byte[1024];
		DatagramPacket dp = new DatagramPacket(infos,infos.length);
		//快递点
		DatagramSocket socket=null;
		try {
			socket = new DatagramSocket(5000);
			//在快递点取礼物
			socket.receive(dp);
			//拆礼物
			String info = new String(dp.getData(),0,dp.getData().length);
			System.out.println("客户端说："+info);	
			//给客户端一个响应
			String reply ="一件羽绒服";
			byte[] reply2 = reply.getBytes();
			//客户端地址
			SocketAddress sa = dp.getSocketAddress();
			//打开一个包裹
			DatagramPacket dp1 = new DatagramPacket(reply2,reply2.length,sa);
			//寄出去
			socket.send(dp1);	
		} catch (SocketException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}finally{
			socket.close();
		} } }
</code></pre> 
  <p>基于UDP的Socket通信，客户端：</p> 
  <pre><code>public class LogicClient {
	public static void main(String[] args) {
		//买礼物
		String info="心形巧克力！";
		byte[] infos = info.getBytes();
		//对方地址和邮编（端口号）
		InetAddress ia;
		//快递点
		DatagramSocket socket = null; 
		try {
			ia = InetAddress.getByName("localhost");
			//包裹包装礼物
			DatagramPacket dp = new DatagramPacket(infos, infos.length, ia, 5000);
			socket = new DatagramSocket();
			//通过快递点往外寄出礼物
			try {
				socket.send(dp);
			} catch (IOException e) {
				e.printStackTrace();
			}
			//接收服务器的响应
			byte[] replys = new byte[1024];
			DatagramPacket dp1 = new DatagramPacket(replys,replys.length);
			socket.receive(dp1);
			String reply = new String(dp1.getData(),0,dp.getData().length);
			System.out.println("服务器的响应："+reply);
		} catch (UnknownHostException e) {
			e.printStackTrace();
		} catch (SocketException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}finally{
			socket.close();
		} } }
</code></pre> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
