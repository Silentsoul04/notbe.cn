<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Docker极简学习(一) « NotBeCN</title>
  <meta name="description" content="                   什么是Docker? 简介: Docker,一个开源的引擎,可以轻松的为任何应用创建一个轻量级的,可移植,自给自足的容器,开发者在啊笔记本上编译测试通过的容器可以批量地在生产环境中部署,包括VMs(虚拟机),bare metal,OpenStack集群和其他的基础应用平台. ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/weixin_38339025_90120439.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Docker极简学习(一)</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">  
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-tomorrow-night-eighties"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p><strong>什么是Docker?</strong><br> <strong>简介:</strong> Docker,一个开源的引擎,可以轻松的为任何应用创建一个轻量级的,可移植,自给自足的容器,开发者在啊笔记本上编译测试通过的容器可以批量地在生产环境中部署,包括VMs(虚拟机),bare metal,OpenStack集群和其他的基础应用平台.</p> 
  <ol> 
   <li>Docker应用在什么地方</li> 
  </ol> 
  <ul> 
   <li>Web应用的自动化打包和发布</li> 
   <li>自动化测试和持续集成,部署</li> 
   <li>在服务型环境中部署和调整数据库或其他的后台应用</li> 
   <li>从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境.</li> 
  </ul> 
  <ol start="2"> 
   <li>Docker有什么优点</li> 
  </ol> 
  <ul> 
   <li>简化程序<br> Docker 让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的 Linux 机器上，便可以实现虚拟化。Docker改变了虚拟化的方式，开发者可以直接将自己的应用放入Docker进行管理。对于开发者极为便利,所以已成为一种主流.过去需要用数天乃至数周的部署任务，在Docker容器的处理下，只需要数秒就能完成。</li> 
   <li>节省开支<br> 一方面，云计算时代到来，使开发者不必为了追求效果而配置高额的硬件，Docker 改变了高性能必然高价格的思维定势。Docker 与云的结合，让云空间得到更充分的利用。不仅解决了硬件管理的问题，也改变了虚拟化的方式。</li> 
   <li>做更少的选择<br> Docker 打包更为简洁,快速.比如 Docker 镜像,其中包含了运行环境和配置，所以 Docker 可以简化部署多种应用实例工作。比如 Web 应用、后台应用、数据库应用、大数据应用比如 Hadoop 集群、消息队列等等都可以打包成一个镜像部署。</li> 
  </ul> 
  <p><strong>Docker的相关概念</strong></p> 
  <p>Docker 是一个为<strong>开发者和运维者</strong>去<strong>开发、发布和在容器中运行应用</strong>的平台。使用Linux容器来部署应用程序被称为容器化。 容器并非新的概念，但容器的使用使得应用的发布更为简单.</p> 
  <p>容器化越来越流行，因为容器化具有以下的优点：</p> 
  <ul> 
   <li>灵活(Flexible):即使最复杂的应用也能够被容器化。</li> 
   <li>轻量(Lightweight)：容器最大化利用和分享宿主主机的内核。</li> 
   <li>可互换(interchangeable)：你可以即时部署更新和升级应用。</li> 
   <li>便捷(Portable)：你可以在本地构建应用，并部署到容器云，并在任何地方运行。</li> 
   <li>可扩展(Scalable): 你可以增加和自动分发容器的个数。</li> 
   <li>可堆叠(Stackable)：你可以垂直堆叠服务和即时堆叠服务。<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512003146897.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMzOTAyNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li> 
  </ul> 
  <p><strong>镜像和容器</strong><br> 容器是通过运行一个镜像来启动的.镜像是一个可执行程序包，其中包含运行应用程序所需的所有内容,包括代码，运行时库，环境变量和配置文件。</p> 
  <p>容器其实是一个镜像的运行时实例，它是一个在内存中运行的镜像（即一个镜像有了状态，或者一个用户进程）。可以通过linux环境键入docker ps来查看一系列正在运行的容器。<br> <strong>容器和虚拟机</strong><br> 一个容器是在linux服务本地运行，并和其他的容器共享主机的内核。它运行在一个独立的进程中，相对于其他可执行的进程（比如虚拟机）来说，容器的内存占用空间更小，更加的轻量化。</p> 
  <p>相比之下，虚拟机（VM）运行一个完整的“客户”操作系统，通过虚拟机管理程序虚拟访问主机资源。 一般来说，虚拟机提供的环境比大多数应用程序需要的资源更多。<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512004350684.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMzOTAyNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <strong>Docker环境准备</strong><br> 首先下载主机支持的Docker版本,包括社区版和企业版),也有对应的Windows,Linux和Mac版的.<br> 例如在centos上安装:<br> <code>yum -y install docker-io</code><br> 启动:<br> <code>service docker start</code><br> <strong>Docker版本测试</strong></p> 
  <ol> 
   <li>运行<code>docker --version</code>命令,并确保所安装的docker支持该命令.</li> 
  </ol> 
  <pre><code>docker --version

Docker version 18.09.2, build 6247962
</code></pre> 
  <ol start="2"> 
   <li>运行```docker info(或者docker version)查看更多的Docker安装信息</li> 
  </ol> 
  <pre><code>docker info 

Containers: 5
 Running: 0
 Paused: 0
 Stopped: 5
Images: 7
Server Version: 18.09.2
Storage Driver: overlay2
 Backing Filesystem: extfs
 Supports d_type: true
 Native Overlay Diff: true
Logging Driver: json-file
Cgroup Driver: cgroupfs
Plugins:
 Volume: local
 Network: bridge host macvlan null overlay
 Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog
Swarm: inactive
Runtimes: runc
Default Runtime: runc
Init Binary: docker-init
containerd version: 9754871865f7fe2f4e74d43e2fc7ccd237edcbce
runc version: 09c8266bf2fcf9519a651b04ae54c967b9ab86ec
init version: fec3683
......
</code></pre> 
  <p>同时为了避免权限错误,应使用sudo来查看,并添加用户到<code>docker</code>组中.</p> 
  <p><strong>测试Docker安装是否成功</strong></p> 
  <ol> 
   <li>运行一个简单的镜像(hello-world)来测试docker安装是否成功</li> 
  </ol> 
  <pre><code>docker run hello-world

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre> 
  <ol start="2"> 
   <li>列出在你机器上下载的Docker镜像</li> 
  </ol> 
  <pre><code>dockers image ls

mysql                   latest              990386cbd5c0        2 days ago          443MB
docs/docker.github.io   latest              d3e9ac15d81a        2 days ago          1.62GB
nginx                   latest              53f3fd8007f7        3 days ago          109MB
ubuntu                  latest              d131e0fa2585        2 weeks ago         102MB
centos                  latest              9f38484d220f        8 weeks ago         202MB
scrapinghub/splash      latest              241c7dde86d9        2 months ago        1.22GB
hello-world             latest              fce289e99eb9        4 months ago        1.84kB
</code></pre> 
  <ol start="3"> 
   <li>列出已经退出的<code>hello-world</code>容器(由镜像产生)的消息,如果该容器正在运行,则不需要<code>-all</code>选项</li> 
  </ol> 
  <pre><code>docker container ls -all

CONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS                     PORTS               NAMES
405f7985eadd        hello-world                    "/hello"                 6 minutes ago       Exited (0) 6 minutes ago                       thirsty_jackson
ec3086b56677        docs/docker.github.io:latest   "/bin/sh -c '#(nop) …"   47 hours ago        Exited (0) 47 hours ago                        boring_wing
a83e0966ea05        docs/docker.github.io:latest   "/bin/sh -c '#(nop) …"   47 hours ago        Exited (0) 47 hours ago                        elegant_snyder
2a100bf45522        nginx                          "nginx -g 'daemon of…"   2 days ago          Exited (0) 2 days ago                          webserver
9457297972b8        ubuntu                         "bash"                   2 days ago          Exited (127) 2 days ago                        serene_euler
7788536e62aa        hello-world                    "/hello"                 2 days ago          Exited (0) 2 days ago                          trusting_mayer
</code></pre> 
  <p><strong>总结和回顾</strong></p> 
  <pre><code>## List Docker CLI commands(列出dockers命令)
docker
docker container --help

## Display Docker version and info(查看docker信息)
docker --version
docker version
docker info

## Execute Docker image(运行Dockers镜像)
docker run hello-world

## List Docker images(列出镜像)
docker image ls

## List Docker containers (running, all, all in quiet mode)(同上,列出全部镜像)
docker container ls
docker container ls --all
docker container ls -aq
</code></pre> 
  <p><strong>结语</strong><br> 容器化使得CI/CD(持续集成/持续部署)更加无缝化.例如:</p> 
  <ul> 
   <li>应用没有系统任何系统依赖</li> 
   <li>更新可以被推顺到分布式应用的任何部分</li> 
   <li>更高的利用系统资源</li> 
  </ul> 
  <p>使用Docker,扩展应用程序就是启动新的可执行文件,而不是运行繁重的虚拟机.</p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
