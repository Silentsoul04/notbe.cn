<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>这些linux小技巧大大提高你的工作效率 « NotBeCN</title>
  <meta name="description" content="         前言   linux中的一些小技巧可以大大提高你的工作效率，本文就细数那些提高效率或者短小却有效的linux技巧。       学习Python中的小伙伴，需要学习资料的话，可以前往我的微信公众号：速学原画，后台回复：CSDN，即可拿Python学习资料    这里有我自己整理了一套最新的pyt...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/1557726343261.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">这些linux小技巧大大提高你的工作效率</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <p><strong>前言</strong></p> 
  <p>linux中的一些小技巧可以大大提高你的工作效率，本文就细数那些提高效率或者短小却有效的linux技巧。</p> 
  <blockquote> 
   <p><strong>学习Python中的小伙伴，需要学习资料的话，可以前往我的微信公众号：速学原画，后台回复：CSDN，即可拿Python学习资料</strong></p> 
   <p><strong>这里有我自己整理了一套最新的python系统学习教程，包括从基础的python脚本到web开发、爬虫、数据分析、数据可视化、机器学习等。送给正在学习python的小伙伴！这里是python学习者聚集地，欢迎初学和进阶中的小伙伴！</strong></p> 
  </blockquote> 
  <p><strong>命令编辑及光标移动</strong></p> 
  <p>这里有很多快捷键可以帮我们修正自己的命令。接下来使用光标二字代替光标的位置。</p> 
  <p><strong>删除从开头到光标处的命令文本</strong></p> 
  <p>ctrl + u，例如：</p> 
  <p>cd /proc/tty;ls -al光标</p> 
  <p>如果此时使用ctrl + u快捷键，那么该条命令都会被清除，而不需要长按backspace键。</p> 
  <p><strong>删除从光标到结尾处的命令文本</strong></p> 
  <p>ctrl+k，例如：</p> 
  <p>cd /proc/tty光标;ls -al</p> 
  <p>如果此时使用ctrl + k快捷键，那么从光标开始处到结尾的命令文本将会被删除。</p> 
  <p>还有其他的操作，不再举例，例如：</p> 
  <p>ctrl + a:光标移动到命令开头</p> 
  <p>ctrl + e：光标移动到命令结尾</p> 
  <p>alt f:光标向前移动一个单词</p> 
  <p>alt b：光标向后移动一个单词</p> 
  <p>ctrl w：删除一个词（以空格隔开的字符串）</p> 
  <p><strong>历史命令快速执行</strong></p> 
  <p>我们都知道history记录了执行的历史命令，而使用!＋历史命令前的数字，可快速执行历史命令。具体可参考阅读：《<a href="https://link.zhihu.com/?target=https%3A//www.yanbinghu.com/2018/12/22/40915.html" rel="nofollow">Linux中“!”的惊叹用法</a>》。另外，还可以使用ctrl+r搜索执行过的命令。</p> 
  <p><strong>部分历史命令查看</strong></p> 
  <p>history会显示大量的历史命令，而fc -l只会显示部分。</p> 
  <p><strong>实时查看日志</strong></p> 
  <p>$ tail -f filename.log</p> 
  <p>tail -f 加文件名，可以实时显示日志文件内容。当然，使用less命令查看文件内容，并且使用shift+f键，也可达到类似的效果。</p> 
  <p><strong>磁盘或内存情况查看</strong></p> 
  <p><strong>怎么知道当前磁盘是否满了呢？</strong></p> 
  <p>$ df -h</p> 
  <p>/dev/sda14&nbsp; &nbsp; &nbsp; 4.6G&nbsp; 10M&nbsp; 4.4G&nbsp; 1% /tmp</p> 
  <p>/dev/sda11&nbsp; &nbsp; &nbsp; 454M&nbsp; 366M&nbsp; 61M&nbsp; 86% /boot</p> 
  <p>/dev/sda15&nbsp; &nbsp; &nbsp; 55G&nbsp; 18G&nbsp; 35G&nbsp; 35% /home</p> 
  <p>/dev/sda1&nbsp; &nbsp; &nbsp; 256M&nbsp; 31M&nbsp; 226M&nbsp; 12% /boot/efi</p> 
  <p>tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 786M&nbsp; 64K&nbsp; 786M&nbsp; 1% /run/user/1000</p> 
  <p>使用df命令可以快速查看各挂载路径磁盘占用情况。</p> 
  <p><strong>当前目录各个子目录占用空间大小</strong></p> 
  <p>如果你已经知道home目录占用空间较大了，你想知道home目录下各个目录占用情况：</p> 
  <p>$ du -h –-max-depth=1 /home(或者-d 1)</p> 
  <p>18G&nbsp; &nbsp; /home/hyb</p> 
  <p>16K&nbsp; &nbsp; /home/lost+found</p> 
  <p>18G&nbsp; &nbsp; /home/</p> 
  <p>这里指定了目录深度，否则的话，它会递归统计子目录占用空间大小，可自行尝试。</p> 
  <p><strong>当前内存使用情况</strong></p> 
  <p>$ free -h</p> 
  <p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; used&nbsp; &nbsp; &nbsp; &nbsp; free&nbsp; &nbsp; &nbsp; shared&nbsp; buff/cache&nbsp; available</p> 
  <p>Mem:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.7G&nbsp; &nbsp; &nbsp; &nbsp; 3.5G&nbsp; &nbsp; &nbsp; &nbsp; 452M&nbsp; &nbsp; &nbsp; &nbsp; 345M&nbsp; &nbsp; &nbsp; &nbsp; 3.7G&nbsp; &nbsp; &nbsp; &nbsp; 3.5G</p> 
  <p>Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7.6G&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0B&nbsp; &nbsp; &nbsp; &nbsp; 7.6G</p> 
  <p>通过free的结果，很容易看到当前总共内存多少，剩余可用内存多少等等。</p> 
  <p><strong>使用-h参数</strong></p> 
  <p>不知道你是否注意到，我们在前面几个命令中，都使用了-h参数，它的作用是使得结果以人类可读的方式呈现，所以我们看到它呈现的单位是G,M等，如果不使用-h参数，可以自己尝试一下会是什么样的结果呈现。</p> 
  <p><strong>根据名称查找进程id</strong></p> 
  <p>想快速直接查找进程id，可以使用：</p> 
  <p>$ pgrep hello</p> 
  <p>22692</p> 
  <p>或者：</p> 
  <p>$ pidof hello</p> 
  <p>22692</p> 
  <p>其中，hello是进程名称。</p> 
  <p><strong>根据名称杀死进程</strong></p> 
  <p>一般我们可以使用kill　-9 pid方式杀死一个进程，但是这样就需要先找到这个进程的进程id，实际上我们也可以直接根据名称杀死进程，例如：</p> 
  <p>$ killall hello</p> 
  <p>或者：</p> 
  <p>$ pkill hello</p> 
  <p><strong>查看进程运行时间</strong></p> 
  <p>可以使用下面的命令查看进程已运行时间：</p> 
  <p>$ ps -p 24525 -o lstart,etime</p> 
  <p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; STARTED&nbsp; &nbsp; ELAPSED</p> 
  <p>Sat Mar 23 20:52:08 2019&nbsp; &nbsp; &nbsp; 02:45</p> 
  <p>其中24525是你要查看进程的进程id。</p> 
  <p><strong>快速目录切换</strong></p> 
  <p>cd -　回到上一个目录</p> 
  <p>cd 回到用户家目录</p> 
  <p><strong>多条命令执行</strong></p> 
  <p>我们知道使用分号隔开可以执行多条命令，例如：</p> 
  <p>$ cd /temp/log/;rm -rf *</p> 
  <p>但是如果当前目录是/目录，并且/temp/log目录不存在，那么就会发生激动人心的一幕：</p> 
  <p>bash: cd: /temp/log: No such file or directory</p> 
  <p>（突然陷入沉默）</p> 
  <p>因为;可以执行多条命令，但是不会因为前一条命令失败，而导致后面的不会执行，因此，cd执行失败后，仍然会继续执行rm -rf *，由于处于/目录下，结果可想而知。</p> 
  <p>所以你还以为这种事故是对rf -rf *的力量一无所知的情况下产生的吗？</p> 
  <p>如果解决呢？很简单，使用&amp;&amp;，例如:</p> 
  <p>$ cd /temp/log/&amp;&amp;rm -rf *</p> 
  <p>这样就会确保前一条命令执行成功，才会执行后面一条。</p> 
  <p><strong>查看压缩日志文件</strong></p> 
  <p>有时候日志文件是压缩的，那么能不能偷懒一下，不解压查看呢？当然可以啦。</p> 
  <p>例如：</p> 
  <p>$ zcat test.gz</p> 
  <p>test log</p> 
  <p>或者：</p> 
  <p>$ zless test.gz</p> 
  <p>test log</p> 
  <p><strong>删除乱码文件</strong></p> 
  <p>无论是自己意外创建还是程序异常创建，难免会出现一些命名奇怪或者乱码的文件，如何删除呢？参考《<a href="https://link.zhihu.com/?target=https%3A//www.yanbinghu.com/2019/01/19/8873.html" rel="nofollow">linux中删除特殊名称文件的多种方式</a>》。</p> 
  <p><strong>清空文件内容</strong></p> 
  <p>比如有一个大文件，你想快速删除，或者不想删除，但是想清空内容：</p> 
  <p>&gt;filename</p> 
  <p><strong>将日志同时记录文件并打印到控制台</strong></p> 
  <p>在执行shell脚本，常常会将日志重定向，但是这样的话，控制台就没有打印了，如何使得既能记录日志文件，又能将日志输出到控制台呢？</p> 
  <p>$ ./test.sh |tee test.log</p> 
  <p><strong>终止并恢复进程执行</strong></p> 
  <p>我们使用ctrl+z 暂停一个进程的执行，也可以使用fg恢复执行。例如我们使用</p> 
  <p>$ cat filename</p> 
  <p>当我们发现文件内容可能很多时，使用ctrl+z暂停程序，而如果又想要从刚才的地方继续执行，则只需要使用fg命令即可恢复执行。或者使用bg使得进程继续在后台执行。</p> 
  <p><strong>计算程序运行时间</strong></p> 
  <p>我们可能会进程写一些小程序，并且想要知道它的运行时间，实际上我们可以很好的利用time命令帮我们计算，例如：</p> 
  <p>$ time ./fibo 30</p> 
  <p>the 30 result is 832040</p> 
  <p>real&nbsp; &nbsp; 0m0.088s</p> 
  <p>user&nbsp; &nbsp; 0m0.084s</p> 
  <p>sys&nbsp; &nbsp; 0m0.004s</p> 
  <p>它会显示系统时间，用户时间以及实际使用的总时间。</p> 
  <p><strong>查看内存占用前10的进程</strong></p> 
  <p>$ ps -aux|sort -k4nr |head -n 10</p> 
  <p>这里综合使用了ps，sort，head命令，可分别参考《<a href="https://link.zhihu.com/?target=https%3A//www.yanbinghu.com/2018/04/06/53515.html" rel="nofollow">ps命令详解</a>》，《<a href="https://link.zhihu.com/?target=https%3A//www.yanbinghu.com/2018/11/06/43352.html" rel="nofollow">一个命令帮你对文本排序</a>》和《<a href="https://link.zhihu.com/?target=https%3A//www.yanbinghu.com/2018/10/05/61779.html" rel="nofollow">linux常用命令－文本查看篇</a>》。</p> 
  <p><strong>快速查找你需要的命令</strong></p> 
  <p>我们都知道man可以查看命令的帮助手册，但是如果我们想要某个功能却不知道使用哪个命令呢？别着急，还是可以使用man：</p> 
  <p>$ man -k "copy files"</p> 
  <p>cp (1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - copy files and directories</p> 
  <p>cpio (1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - copy files to and from archives</p> 
  <p>git-checkout-index (1) - Copy files from the index to the working tree</p> 
  <p>gvfs-copy (1)&nbsp; &nbsp; &nbsp; &nbsp; - Copy files</p> 
  <p>gvfs-move (1)&nbsp; &nbsp; &nbsp; &nbsp; - Copy files</p> 
  <p>install (1)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - copy files and set attributes</p> 
  <p>使用-k参数，使得与copy files相关的帮助手册都显示出来了。</p> 
  <p><strong>命令行下的复制粘贴</strong></p> 
  <p>我们知道，在命令行下，复制不能再是ctrl + c了，因为它表示终止当前进程，而命令行下的复制粘贴需要使用下面的快捷键：</p> 
  <p>ctrl + insert</p> 
  <p>shift + insert</p> 
  <p><strong>搜索包含某个字符串的文件</strong></p> 
  <p>例如，要在当前目录下查找包含test字符串的文件：</p> 
  <p>$ grep -rn "test"</p> 
  <p>test2.txt:1:test</p> 
  <p>它便可以找到该字符串在哪个文件的第几行。</p> 
  <p><strong>屏幕冻结</strong></p> 
  <p>程序运行时，终端可能输出大量的日志，你想简单查看一下，又不想记录日志文件，此时可以使用ctrl+s键，冻结屏幕，使得日志不再继续输出，而如果想要恢复，可使用ctrl+q退出冻结。</p> 
  <p><strong>无编辑器情况下编辑文本文件</strong></p> 
  <p>如果在某些系统上连基本的vi编辑器都没有，那么可以使用下面的方式进行编辑内容：</p> 
  <p>$ cat &gt;file.txt</p> 
  <p>some words</p> 
  <p>(ctrl+d)</p> 
  <p>编辑完成后，ctrl+d即可保存。</p> 
  <p><strong>查看elf文件</strong></p> 
  <p><strong>查看elf文件头信息</strong></p> 
  <p>例如：</p> 
  <p>$ readelf -h filename</p> 
  <p>我们在显示结果中，可以看到运行的平台，elf文件类型，大小端情况等。</p> 
  <p><strong>查看库中是否包含某个接口</strong></p> 
  <p>$ nm filename |grep interface</p> 
  <p>这里是从文件filename中查看是否包含interface接口，前提是该文件包含符号表。</p> 
  <p>更多相关内容，可参考《<a href="https://link.zhihu.com/?target=https%3A//www.yanbinghu.com/2018/09/26/61877.html" rel="nofollow">linux常用命令-开发调试篇</a>》</p> 
  <p><strong>过滤查看日志</strong></p> 
  <p>例如想要查看包含test关键字的日志行：</p> 
  <p>$ sed -n "/test/p" logfile</p> 
  <p>这样只会显示那些包含test行的日志。</p> 
  <p><strong>总结</strong></p> 
  <p>本文所提到的内容建议自己上机操作，体验效果。本文总结了一些常用的linux小技巧，你还有哪些linux小技巧？欢迎留言分享。</p> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
