<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>【Linux云计算架构：第二阶段-Linux必会的20多种服务】第27章——tomcat环境搭建实现JSP连接mysql « NotBeCN</title>
  <meta name="description" content="                  g第二十五章 tomcat环境搭和管理及实现jsp通过tomcat连接mysql   本节所讲内容： 25.1 什么是Tomcat？ 25.2 什么事java 25.3 安装配置Tomcat即其他安装配置   25.1 什么是Tomcat 官方网站：http:#tomcat.a...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/1557726444755.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">【Linux云计算架构：第二阶段-Linux必会的20多种服务】第27章——tomcat环境搭建实现JSP连接mysql</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p>g第二十五章 tomcat环境搭和管理及实现jsp通过tomcat连接mysql</p> 
  <p>本节所讲内容：<br> 25.1 什么是Tomcat？<br> 25.2 什么事java<br> 25.3 安装配置Tomcat即其他安装配置</p> 
  <p>25.1 什么是Tomcat<br> 官方网站：http:#<a href="http://tomcat.apache.org/" rel="nofollow">tomcat.apache.org/</a><br> Tomcat 是 Apache 软件基金会（Apache Software Foundation）的 Jakarta 项目中的一个核心项目，由 Apache、Sun 和其他一些公司及个人共同开发而成。由于有了 Sun 的参与和支持，最新的 Servlet 和JSP 规范总是能在 Tomcat 中得到体现，Tomcat 5 支持最新的 Servlet 2.4 和 JSP 2.0 规范。因为Tomcat 技术先进、性能稳定，而且免费，因而深受 Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的 Web 应用服务器。<br> Tomcat 服务器是一个免费的开放源代码的 Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试 JSP 程序的首选。 Tomcat 和 IIS 等 Web 服务器一样，具有处理 HTML 页面的功能。不过，Tomcat 处理静态 HTML 的能力不如 Apache 服务器。<br> 了解jsp<br> JSP：全名为Java Server Pages，中文名叫java服务器页面， 是由Sun Microsystems公司倡导、许多公司参与一起建立的一种动态网页技术标准。JSP技术有点类似ASP技术，它是在传统的网页HTML（标准通用标记语言的子集）文件(<em>.htm,</em>.html)中插入Java程序段(Scriptlet)和JSP标记(tag)，从而形成JSP文件，后缀名为(*.jsp)。 用JSP开发的Web应用是跨平台的，既能在Linux下运行，也能在其他操作系统上运行。<br> 支持 JSP 网站，收费版 web 服务器：oracle 的 weblogic ； IBM 的 websphere<br> WebLogic 是美国 Oracle 公司出品的一个 application server 确切的说是一个基于 JAVAEE 架构的中间件，WebLogic 是用于开发、集成、部署和管理大型分布式 Web 应用、网络应用和数据库应用的 Java应用服务器。将 Java 的动态功能和 Java Enterprise 标准的安全性引入大型网络应用的开发、集成、部署和管理之中。<br> WebSphere 是 IBM 的软件平台。它是 Web 应用程序和跨平台、跨产品解决方案所需要的整个中间件基础设施。WebSphere 提供了可靠、灵活和健壮的软件运行服务。</p> 
  <p>中间件<br> 中间件是一种独立的系统软件或服务程序，分布式应用软件借助这种软件在不同的技术之间共享资源。中间件位于客户机/服务器的操作系统之上，管理计算机资源和网络通讯。是连接两个独立应用程序或独立系统的软件。相连接的系统，即使它们具有不同的接口，但通过中间件相互之间仍能交换信息。执行中间件的一个关键途径是信息传递。通过中间件，应用程序可以工作于多平台或OS环境。<br> 中间件是一类连接软件组件和应用的计算机软件，它包括一组服务。以便于运行在一台或多台机器上的多个软件通过网络进行交互。该技术所提供的互操作性，推动了一致分布式体系架构的演进，该架构通常用于支持并简化那些复杂的分布式应用程序，它包括web服务器、事务监控器和消息队列软件。</p> 
  <p>25.2 什么是java<br> JDK : java development kit (套件) 。简单的说 JDK 是面向开发人员使用的 SDK，它提供了 Java的开发环境和运行环境。就是Java开发工具，是进行Java开发的基础。<br> JDK(Java Development Kit)是Sun Microsystems针对Java开发人员的产品。自从Java推出以来，JDK已经成为使用最广泛的Java SDK。JDK 是整个Java的核心，包括了Java运行环境，Java工具和Java基础的类库。JDK是学好Java的第一步。而专门运行在x86平台的Jrocket在服务端运行效率也要比Sun JDK好很多。从SUN的JDK5.0开始,提供了泛型等非常实用的功能，其版本也不断更新，运行效率得到了非常大的提高。<br> SDK：Software Development Kit，软件开发工具包，一般都是一些软件工程师为特定的软件包、软件框架、硬件平台、操作系统等建立应用软件时的开发工具的集合。可以包括函数库、编译程序等。<br> JRE：java Runtime Enviroment 是指 Java 的运行环境，是面向 Java 程序的使用者，而不是开发者，运行JAVA程序所必须的环境的集合，包含JVM标准实现及Java核心类库。Java Runtime Environment（包括Java Plug-in）是Sun的产品，包括两部分：Java Runtime Environment和Java Plug-in。JRE是可以在其上运行、测试和传输应用程序的Java平台。它包括Java虚拟机（jvm）、Java核心类库和支持文件。它不包含开发工具(JDK)–编译器、调试器和其它工具。JRE需要辅助软件–Java Plug-in–以便在浏览器中运行applet。<br> JVM：java virtual machineJVM 就是我们常说的 java 虚拟机。JVM是一种用于计算设备的规范，它是一个虚构出来的计算机，是通过在实际的计算机上仿真模拟各种计算机功能来实现的。JVM是java的核心和基础，在java编译器和OS平台之间的虚拟处理器。它是一种基于下层的操作系统和硬件平台并利用软件方法来实现的抽象的计算机，可以在上面执行java的字节码程序。java编译器只需面向JVM，生成JVM能理解的代码或字节码文件。Java源文件经编译器，编译成字节码程序，通过JVM将每一条指令翻译成不同平台机器码，通过特定平台运行<br> 在 JDK的安装目录里你可以找到 jre目录里面有两个文件夹bin 和 lib,在这里可以认为 bin 里的就是 jvm， lib 中则是 jvm 工作所需要的类库，而 jvm 和 lib 和起来就称为 jre。</p> 
  <p>Tomcat工作模式和端口<br> 模式：B/S模式<br> 端口：8080<br> Java se：是由Sun Microsystems公司于1995年5月推出的Java程序设计语言和Java平台的总称。用Java实现的HotJava浏览器（支持Java applet）显示了Java的魅力：跨平台、动态的Web、Internet计算。从此，Java被广泛接受并推动了Web的迅速发展，常用的浏览器现在均支持Java applet。<br> Applet：小应用程序是采用Java编程语言编写的程序，该程序可以包含在 HTML（标准通用标记语言的一个应用）页中，与在页中包含图像的方式大致相同。<br> SE(J2SE),standard edition，标准版，是我们通常用的一个版本，从JDK 5.0开始，改名为Java SE。<br> EE(J2EE),enterprise edition，企业版，使用这种JDK开发J2EE应用程序，从JDK 5.0开始，改名为Java EE。<br> ME(J2ME),micro edition，主要用于移动设备、嵌入式设备上的java应用程序，从JDK5.0开始，改名为Java ME。<br> 没有JDK的话，无法编译Java程序，如果想只运行Java程序，要确保已安装相应的JRE。<br> Tomcat所有软件<br> Jdk工具：<br> http:#<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" rel="nofollow">www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a><br> #JDK下载页面</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155043774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>25.3 安装配置Tomcat即其他安装配置<br> 我们选择的是通用的二进制安装包,64位的<br> Tomcat：<br> http:#<a href="http://tomcat.apache.org/" rel="nofollow">tomcat.apache.org/</a><br> https:#<a href="http://tomcat.apache.org/download-80.cgi" rel="nofollow">tomcat.apache.org/download-80.cgi</a> #tomcat下载页面<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155057115.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>点击版本号跳转到相应的软件包类型选择下载（我们这里选择tar包）：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155108462.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>MySQL-Connector-Java：<br> http:#<a href="http://dev.mysql.com/downloads/connector/" rel="nofollow">dev.mysql.com/downloads/connector/</a> #官网下载网站<br> 选择Connector/j 跳转下载页面<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155112839.png" alt="在这里插入图片描述"><br> 选择Paltform Independent，选择tar包后面的Download<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051215511764.png" alt="在这里插入图片描述"><br> 不用注册，No thanks，just start my download<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155122471.png" alt="在这里插入图片描述"><br> Tomcat-native：<br> Tomcat Native 这个项目可以让 Tomcat 使用 Apache 的 apr 包来处理包括文件和网络IO操作，以提升性能。直接说就是用tomcat-native这个软件来提高tomcat处理静态页面的性能。这个软件在tomcat的bin目录下已经提供，不用单独去下载了！可以tomcat处理静态的性能略逊于apache！<br> MySQL:<br> http:#<a href="http://dev.mysql.com/downloads/mysql/" rel="nofollow">dev.mysql.com/downloads/mysql/</a> #mysql官方下载网址，选择版本下载即<br> 最有所有软件的版本如下：<br> MySQL-Connector-Java： mysql-connector-java-5.1.36<br> Tomcat： apache-tomcat-8.5.24<br> JDK： jdk-8u152-linux-x64.tar.gz<br> MySQL： mysql-5.6.26<br> 部署Tomcat使用jsp链接Msql<br> 常见的网页类型：<br> HTML&amp;HTM：HyperText Markup Language 超文本连接标示语言 .html .html<br> ASP：Active Server Page 动态服务器页面（微软开发） .asp<br> <a href="http://ASP.net" rel="nofollow">ASP.net</a>：ASP的下一个版本，也是建立在通用语言上的程序架构，网页后缀如aspx<br> PHP：Hypertext Preprocessor 超级本本预处理语言 .php .php5 .phps<br> JSP：JAVA Server Pages Sun Microsystems公司倡导，有点类似ASP技术 .jsp</p> 
  <p>25.3.1 安装JDK<br> 注意：安装之前需要查看下系统是否安装了openjdk，如果安装了openjdk，请先卸载，否则安装不了oracle官方的jdk<br> 卸载方法：yum remove java-* -y<br> 注意:生成环境中建议大家统一使用oracle-jdk,他比openjdk的性能好,兼容性大</p> 
  <p>安装JDK8<br> 解压文件到目录下<br> [root@localhost opt]# tar xf jdk-8u152-linux-x64.tar.gz -C /usr/local/<br> [root@localhost opt]# cd /usr/local/<br> [root@localhost local]# ln -sv jdk1.8.0_152 jdk1.8<br> ‘jdk1.8’ -&gt; ‘jdk1.8.0_152’<br> 配置环境变量,让系统变量读到jdk的路径<br> [root@localhost local]# vim /etc/profile.d/jdk8.sh<br> export JAVA_HOME=/usr/local/jdk1.8.0_152<br> export CLASS_PATH=.:<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          J
         </mi>
         <mi>
          A
         </mi>
         <mi>
          V
         </mi>
         <msub>
          <mi>
           A
          </mi>
          <mi>
           H
          </mi>
         </msub>
         <mi>
          O
         </mi>
         <mi>
          M
         </mi>
         <mi>
          E
         </mi>
         <mi mathvariant="normal">
          /
         </mi>
         <mi>
          l
         </mi>
         <mi>
          i
         </mi>
         <mi>
          b
         </mi>
         <mi mathvariant="normal">
          /
         </mi>
         <mi>
          d
         </mi>
         <mi>
          t
         </mi>
         <mi mathvariant="normal">
          .
         </mi>
         <mi>
          j
         </mi>
         <mi>
          a
         </mi>
         <mi>
          r
         </mi>
         <mo>
          :
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         JAVA_HOME/lib/dt.jar:
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.09618em;">J</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right: 0.22222em;">V</span><span class="mord"><span class="mord mathit">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.02778em;">O</span><span class="mord mathit" style="margin-right: 0.10903em;">M</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.01968em;">l</span><span class="mord mathit">i</span><span class="mord mathit">b</span><span class="mord">/</span><span class="mord mathit">d</span><span class="mord mathit">t</span><span class="mord">.</span><span class="mord mathit" style="margin-right: 0.05724em;">j</span><span class="mord mathit">a</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span></span></span></span>JAVA_HOME/jar/tools.jar:<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          J
         </mi>
         <mi>
          A
         </mi>
         <mi>
          V
         </mi>
         <msub>
          <mi>
           A
          </mi>
          <mi>
           H
          </mi>
         </msub>
         <mi>
          O
         </mi>
         <mi>
          M
         </mi>
         <mi>
          E
         </mi>
         <mi mathvariant="normal">
          /
         </mi>
         <mi>
          j
         </mi>
         <mi>
          r
         </mi>
         <mi>
          e
         </mi>
         <mi mathvariant="normal">
          /
         </mi>
         <mi>
          l
         </mi>
         <mi>
          i
         </mi>
         <mi>
          b
         </mi>
         <mi>
          e
         </mi>
         <mi>
          x
         </mi>
         <mi>
          p
         </mi>
         <mi>
          o
         </mi>
         <mi>
          r
         </mi>
         <mi>
          t
         </mi>
         <mi>
          P
         </mi>
         <mi>
          A
         </mi>
         <mi>
          T
         </mi>
         <mi>
          H
         </mi>
         <mo>
          =
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         JAVA_HOME/jre/lib export PATH=
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.09618em;">J</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right: 0.22222em;">V</span><span class="mord"><span class="mord mathit">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.02778em;">O</span><span class="mord mathit" style="margin-right: 0.10903em;">M</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.05724em;">j</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">e</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.01968em;">l</span><span class="mord mathit">i</span><span class="mord mathit">b</span><span class="mord mathit">e</span><span class="mord mathit">x</span><span class="mord mathit">p</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right: 0.13889em;">T</span><span class="mord mathit" style="margin-right: 0.08125em;">H</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span></span></span></span>JAVA_HOME/bin:<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mi>
          J
         </mi>
         <mi>
          A
         </mi>
         <mi>
          V
         </mi>
         <msub>
          <mi>
           A
          </mi>
          <mi>
           H
          </mi>
         </msub>
         <mi>
          O
         </mi>
         <mi>
          M
         </mi>
         <mi>
          E
         </mi>
         <mi mathvariant="normal">
          /
         </mi>
         <mi>
          j
         </mi>
         <mi>
          r
         </mi>
         <mi>
          e
         </mi>
         <mi mathvariant="normal">
          /
         </mi>
         <mi>
          b
         </mi>
         <mi>
          i
         </mi>
         <mi>
          n
         </mi>
         <mo>
          :
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         JAVA_HOME/jre/bin:
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.09618em;">J</span><span class="mord mathit">A</span><span class="mord mathit" style="margin-right: 0.22222em;">V</span><span class="mord"><span class="mord mathit">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.02778em;">O</span><span class="mord mathit" style="margin-right: 0.10903em;">M</span><span class="mord mathit" style="margin-right: 0.05764em;">E</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.05724em;">j</span><span class="mord mathit" style="margin-right: 0.02778em;">r</span><span class="mord mathit">e</span><span class="mord">/</span><span class="mord mathit">b</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span></span></span></span>PATH<br> 重读变量,生效<br> [root@localhost local]# . /etc/profile.d/jdk8.sh<br> [root@localhost local]# java -version<br> java version “1.8.0_152”<br> Java™ SE Runtime Environment (build 1.8.0_152-b16)<br> Java HotSpot™ 64-Bit Server VM (build 25.152-b16, mixed mode)</p> 
  <p>25.3.2 安装tomcat<br> [root@XueGod63 ~]# tar xvf apache-tomcat-8.5.24.tar.gz -C /usr/local/src/<br> [root@XueGod63 ~]# cd /usr/local/src/apache-tomcat-8.5.24/<br> 注意：Tomcat有两种安装方式，一种是直接解压就可以使用的二进制文件，第二种是编译安装，我们这里采用了第一种方法，下载的tomcat软件直接解压就可以执行的二进制文件，因为在官方默认下载的便是使用第一种方法安装，那么下载解压后的目录如下：<br> tomcat<br> |—bin Tomcat：存放启动和关闭tomcat脚本；<br> |—conf Tomcat：存放不同的配置文件（server.xml和web.xml）；<br> |—lib：包含Tomcat使用的jar文件.unix平台此目录下的任何文件都被加到Tomcat的classpath中；<br> |—logs：存放Tomcat执行时的LOG文件；<br> |—webapps：Tomcat的主要Web发布目录（包括应用程序示例）；<br> |— ROOT：tomcat的家目录<br> |— index.jsp：Tomcat的默认首页文件<br> |—work：存放jsp编译后产生的class文件或servlet文件存放<br> |—temp：存放Tomcat运行时所产生的临时文件<br> [root@XueGod63 apache-tomcat-8.5.24]# ls bin/ #tomcat的执行脚本文件<br> bootstrap.jar configtest.bat <a href="http://setclasspath.sh" rel="nofollow">setclasspath.sh</a> tomcat-native.tar.gz<br> catalina.bat <a href="http://configtest.sh" rel="nofollow">configtest.sh</a> shutdown.bat tool-wrapper.bat<br> <a href="http://catalina.sh" rel="nofollow">catalina.sh</a> <a href="http://daemon.sh" rel="nofollow">daemon.sh</a> <a href="http://shutdown.sh" rel="nofollow">shutdown.sh</a> <a href="http://tool-wrapper.sh" rel="nofollow">tool-wrapper.sh</a><br> catalina-tasks.xml digest.bat startup.bat version.bat<br> commons-daemon.jar <a href="http://digest.sh" rel="nofollow">digest.sh</a> <a href="http://startup.sh" rel="nofollow">startup.sh</a> <a href="http://version.sh" rel="nofollow">version.sh</a><br> commons-daemon-native.tar.gz setclasspath.bat tomcat-juli.jar<br> #bat为windows下的脚本（批处理）<br> #sh为Linux下的脚本，Shell<br> #catalina.sh是一个最关键的脚本，其他的启动脚本如startup，<a href="http://shutdown.sh" rel="nofollow">shutdown.sh</a>,都是使用了不同的参数调用了该脚本，startup是以start参数调用了catalina脚本，shutdown使用stop调用了catalina脚本！<br> [root@XueGod63 apache-tomcat-8.5.24]# cd … ； mv apache-tomcat-8.5.24/ /usr/local/tomcat ； cd<br> Tomcat启动脚本<br> [root@Xuegod68 ~]# vim /etc/init.d/tomcat<br> #!/bin/bash</p> 
  <h1><a id="_134"></a></h1> 
  <h1><a id="tomcat_startup_script_for_the_Tomcat_server_135"></a>tomcat startup script for the Tomcat server</h1> 
  <h1><a id="_136"></a></h1> 
  <h1><a id="chkconfig_345_80_20_137"></a>chkconfig: 345 80 20</h1> 
  <h1><a id="description_start_the_tomcat_deamon_138"></a>description: start the tomcat deamon</h1> 
  <h1><a id="_139"></a></h1> 
  <h1><a id="Source_function_library_140"></a>Source function library</h1> 
  <p>JAVA_HOME=/usr/local/jdk1.8.0_152<br> export JAVA_HOME<br> CATALANA_HOME=/usr/local/tomcat<br> export CATALINA_HOME<br> case “$1” in<br> start)<br> echo “Starting Tomcat…”<br> $CATALANA_HOME/bin/startup.sh<br> ;;<br> stop)<br> echo “Stopping Tomcat…”<br> $CATALANA_HOME/bin/shutdown.sh<br> ;;<br> restart)<br> echo “Stopping Tomcat…”<br> $CATALANA_HOME/bin/shutdown.sh<br> sleep 2<br> echo<br> echo “Starting Tomcat…”<br> $CATALANA_HOME/bin/startup.sh<br> ;;<br> <em>)<br> echo “Usage: $prog {start|stop|restart}”<br> ;;<br> esac<br> exit 0<br> [root@XueGod63 ~]# chmod +x /etc/init.d/tomcat<br> [root@XueGod63 ~]# service tomcat start<br> Using CATALINA_BASE: /usr/local/tomcat<br> Using CATALINA_HOME: /usr/local/tomcat<br> Using CATALINA_TMPDIR:/usr/local/tomcat/temp<br> Using JRE_HOME: /usr<br> Using CLASSPATH: /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar<br> Tomcat started<br> [root@XueGod63 ~]# chkconfig --add tomcat<br> [root@XueGod63 ~]# chkconfig tomcat on<br> [root@XueGod63 ~]# netstat -antup | grep 8080 #查看是否启动<br> tcp 0 0:::8080 :::</em> LISTEN 3154/java</p> 
  <p>测试Tomcat<br> 览器访问 http:#192.168.1.63:8080<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155200155.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 点击manager App,需要一个用户名和密码：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155206246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 创建管理Manger App用户<br> [root@Xuegod63 ~]# vim /usr/local/tomcat/conf/tomcat-users.xml</p> 
  <!--&#10;  &lt;role rolename=&#34;tomcat&#34;/&gt;&#10;  &lt;role rolename=&#34;role1&#34;/&gt;&#10;  &lt;user username=&#34;tomcat&#34; password=&#34;tomcat&#34; roles=&#34;tomcat&#34;/&gt;&#10;  &lt;user username=&#34;both&#34; password=&#34;tomcat&#34; roles=&#34;tomcat,role1&#34;/&gt;&#10;  &lt;user username=&#34;role1&#34; password=&#34;tomcat&#34; roles=&#34;role1&#34;/&gt;&#10;--> 
  <p>#去掉注释
   <!--    --> 修改为如下，<br> <br> <br> <br> <br> <br> <br> </p> 
  <p>角色说明<br> 1：“manager-gui”：Allows access to the html interface（允许通过web的方式登录查看服务器信息）。<br> 2：“manager-script”: Allows access to the plain text interface（允许以纯文本的方式访问）。<br> 3：“manager-jmx”: Allows access to the JMX proxy interface（允许jmx的代理访问）。<br> 4：“manager-status”: Allows access to the read-only status pages（允许以只读状态访问）。<br> 5: admin-gui: 允许访问HTML GUI<br> 6 : admin-script: 允许访问文本接口<br> 官方说明http:#<a href="http://tomcat.apache.org/tomcat-9.0-doc/manager-howto.html#Configuring_Manager_Application_Access" rel="nofollow">tomcat.apache.org/tomcat-9.0-doc/manager-howto.html#Configuring_Manager_Application_Access</a><br> tomcat8以上还要增加以下配置<br> [root@Xuegod63 ~]# vim /usr/local/tomcat/conf/Catalina/localhost/manager.xml<br> 内容如下：<br> <br> <br> <br> 重启tomcat<br> [root@Xuegod63~]# /etc/init.d/tomcat stop &amp;&amp; /etc/init.d/tomcat start<br> 搭建基于域名的虚拟主机<br> [root@XueGod63 ~]# ls /usr/local/tomcat/conf/<br> Catalina catalina.properties logging.properties tomcat-users.xml web.xml<br> catalina.policy context.xml server.xml tomcat-users.xsd<br> server.xml是Tomcat的主配置文件（全局）,服务器设置的，例如端口设置，路径设置。<br> context里设置tomcat数据源，用来连接数据库。<br> tomcat_user主要是用户名和密码的设置。<br> web是默认首页等等之类的设置<br> [root@XueGod63 ~]# vim /usr/local/tomcat/conf/server.xml<br> <br> <br> <br> <br> <br> <br> #在末尾的上面添加上面这几行<br> appBase指定应用程序(网站)的基本路径,这里可以存放多个程序(网站),一般是相对路径,相对于tomcat的安装目录。<br> Context path="“为虚拟目录，如果是空，表示直接就是/，如果是如path=“aa”,那么访问的时候就是site:8080/aa<br> docBase=”……" 为实际目录，就是可以是绝对路径，如果是相对路径就是基于appBase<br> [root@XueGod63 ~]# service tomcat stop ; service tomcat start<br> [root@XueGod63 ~]# mkdir -p /var/www/html/{web1,web2}<br> [root@XueGod63 ~]# echo <a href="http://xuegod.com" rel="nofollow">xuegod.com</a> &gt; /var/www/html/web1/index.html<br> [root@XueGod63 ~]# echo <a href="http://xuegod.cn" rel="nofollow">xuegod.cn</a>&gt; /var/www/html/web2/index.html</p> 
  <p>客户机host文件：<br> 192.168.1.63 <a href="http://xuegod.com" rel="nofollow">xuegod.com</a><br> 192.168.1.63 <a href="http://xuegod.cn" rel="nofollow">xuegod.cn</a></p> 
  <p>网页测试<br> <a href="http://xuegod.com:8080" rel="nofollow">xuegod.com:8080</a> <a href="http://xuegod.cn:8080" rel="nofollow">xuegod.cn:8080</a><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155229524.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155234314.png" alt="在这里插入图片描述"></p> 
  <p>补充:真实的生产环境中，需要一个合法的域名和一个合法的公网IP，把域名解析到IP上，然后在web服务器里修改配置文件</p> 
  <p>安装tomcat-Native<br> Tomcat 可以使用 apr 来提供更好的伸缩性、性能和集成到本地服务器技术。用来提高 tomcat 的性能。 tomcat native 在具体的运行平台上，提供了一种优化技术，它本身是基于 ARP（Apache Portable（轻便） Runtime）技术<br> 我们应用了 tomcat native 技术之后，tomcat 在跟操作系统级别的交互方面可以做得更好，并且它更像apache 一样，可以更好地作为一台 web server。 tomcat 可以利用 apache 的 apr 接口，使用操作系统的部分本地操作，从而提升性能APR 提升的是静态页面处理能力<br> 注意:这个包在tomcat8的bin 目录已经提供<br> 关于tomcat-native的相关介绍及下载： http:#<a href="http://tomcat.apache.org/download-native.cgi" rel="nofollow">tomcat.apache.org/download-native.cgi</a><br> [root@XueGod63 ]# yum install apr-devel gcc gcc-c++ openssl-devel openssl<br> [root@localhost ~]# cd /usr/local/tomcat/bin/<br> [root@localhost bin]# cp tomcat-native.tar.gz /usr/local/<br> [root@localhost bin]# cd /usr/local/<br> [root@localhost local]# tar xf tomcat-native.tar.gz -C /usr/local/src/<br> [root@localhost local]# cd /usr/local/src/<br> [root@localhost src]# cd tomcat-native-1.2.16-src/native/<br> [root@localhost native]# ./configure --with-apr=/usr/ --with-java-home=/usr/local/jdk1.8.0_152 --with-ssl<br> [root@localhost native]# make &amp;&amp; make install<br> 安装完：提示：<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155239953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>需要添加库文件：<br> [root@xuegod63 native]# vim /etc/ld.so.conf<br> /usr/local/apr/lib ##添加此行<br> [root@xuegod63 native]# ldconfig<br> [root@xuegod63 native]# echo “ldconfig” &gt;&gt;/etc/rc.local<br> 添加环境变量:<br> [root@localhost native]# vim /etc/profile.d/jdk8.sh<br> 最后添加:<br> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/apr/lib<br> 重读生效:<br> [root@localhost native]#source /etc/profile.d/jdk8.sh</p> 
  <p>配置Tomcat 默认以apr运行模式<br> tomcat中一共有三种运行模式，分别是:bio,nio,apr<br> bio是阻塞式IO操作，使用的是传统的java i/o处理方式，对于每一个请求都要创建一个线程来进行处理，所以开销较大不适合处理高并发的场景<br> nio是基于java中非阻塞IO操作的API实现，比传统的i/o处理方式有更高的并发运行性能，<br> apr是从操作系统级别解决异步IO问题，大幅度提高服务器的并发处理性能，也是Tomcat生产环境运行的首选方式</p> 
  <p>编辑主服务文件,指定处理协议为apr<br> [root@localhost native]# vim /usr/local/tomcat/conf/server.xml<br> 将默认的protocol="HTTP/1.1"修改为protocol=“org.apache.coyote.http11.Http11AprProtocol”<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155245964.png" alt="在这里插入图片描述"></p> 
  <p>引用apr:<br> [root@localhost native]# vim /usr/local/tomcat/bin/catalina.sh<br> 253行下面添加:<br> JAVA_OPTS="$JAVA_OPTS -Djava.library.path=/usr/local/apr/lib"<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155251525.png" alt="在这里插入图片描述"></p> 
  <p>重启服务生效:<br> [root@XueGod63 ~]# service tomcat stop ; service tomcat start<br> [root@xuegod63 ~]# cat /usr/local/tomcat/logs/catalina.out | grep Native #看日志看是否支持native ,是否有看到APR版本号<br> 17-Sep-2015 20:09:24.293 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded APR based Apache Tomcat Native library 1.1.33 using APR version 1.3.9.<br> 17-Sep-2015 20:09:24.293 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].</p> 
  <p>配置https加密访问<br> [root@xuegod63 ~]# vim /usr/local/tomcat/conf/server.xml #启用SSL证书及端口</p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155312807.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 强制http跳转到https访问<br> [root@xuegod63 ~]# vim /usr/local/tomcat/conf/web.xml #加入方框的代码 重启即可<br> <img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/20190512155316849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>25.3.3 安装mysql (安装MySQL部分，根据实际情况来选择安装方式，可以选择编译安装，也可以用rpm包来安装，只要保证服务正常运行即可)<br> [root@localhost ~]# yum install mariadb mariadb-server -y</p> 
  <p>测试数据<br> mysql&gt; create database tomcat; #测试数据库，为了和后面方便测试，这里创建tomcat<br> mysql&gt; use tomcat<br> mysql&gt; create table tt(id int,name varchar(128)); #创建测试表<br> mysql&gt; insert into tt values (1,“come on boy”),(2,“come on girl”);#创建测试数据<br> mysql&gt; grant all on tomcat.* to tomcat@localhost identified by ‘tomcat’; #授权用户<br> mysql&gt; \q<br> [root@XueGod63 ~]# mysql -utomcat -ptomcat #测试tomcat可以登陆（OK）</p> 
  <p>测试jsp链接mysql<br> Jsp链接mysql，官方提供了工具：安装mysql-connector<br> 安装mysql-connector<br> [root@XueGod63 ~]# tar xvf mysql-connector-java-5.1.36.tar.gz -C /usr/local/src/<br> [root@XueGod63 ~]# cd /usr/local/src/mysql-connector-java-5.1.36/<br> [root@XueGod63 ~]# cp /usr/local/src/mysql-connector-java-5.1.36/mysql-connector-java-5.1.36-bin.jar /usr/local/tomcat/lib/ #只需要复制到tomcat的lib目录下，重启tomcat就可以生效<br> [root@XueGod63 ~]# service tomcat stop; service tomcat start<br> 测试<br> [root@XueGod63 ~]# vim /usr/local/tomcat/webapps/ROOT/mysql.jsp #建立测试页面<br> &lt;%@ page contentType=“text/html;charset=utf-8”%&gt;<br> &lt;%@ page import=“java.sql.*”%&gt;</p> &lt;% Class.forName("org.gjt.mm.mysql.Driver").newInstance(); String url ="jdbc:mysql:#localhost/tomcat?user=tomcat&amp;password=tomcat&amp;useUnicode=true&amp;characterEncoding=utf-8"; Connection conn= DriverManager.getConnection(url); Statement stmt=conn.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_UPDATABLE); String sql="select * from tt"; ResultSet rs=stmt.executeQuery(sql); while(rs.next()){%&gt; step:&lt;%=rs.getString(1)%&gt; context:&lt;%=rs.getString(2)%&gt;
  <br>
  <br> &lt;%}%&gt; &lt;%out.print("Congratulations!!! JSP connect MYSQL IS OK!!");%&gt; &lt;%rs.close(); stmt.close(); conn.close(); %&gt; #代码复制注意核对，由于编码问题，复制到vim中可能会增加多余的%号，记得删除 
  <p>浏览器访问：<a href="http://192.168.1.63:8080/mysql.jsp" rel="nofollow">http://192.168.1.63:8080/mysql.jsp</a></p> 
  <p><img src="https://uzshare.com/_p?https://img-blog.csdnimg.cn/2019051215532573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTkxMDU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>总结：<br> 25.1 什么是Tomcat？<br> 25.2 什么事java<br> 25.3 安装配置Tomcat</p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
