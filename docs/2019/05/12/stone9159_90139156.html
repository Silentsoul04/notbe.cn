<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>python opencv 常用方法整理 « NotBeCN</title>
  <meta name="description" content="                      描述        函数名        详细                图片读取        cv2.imread()        img=cv2.imread(图片路径,cv2.IMREAD_UNCHANGED) ##原图展示 cv2.IMREAD_UNCH...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/stone9159_90139156.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">python opencv 常用方法整理</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <table border="1" cellpadding="1" cellspacing="1" style="width:500px;">
   <tbody>
    <tr>
     <td style="width:123px;"> <p>描述</p> </td> 
     <td style="width:46px;"> <p>函数名</p> </td> 
     <td style="width:310px;"> <p>详细</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图片读取</p> </td> 
     <td style="width:46px;"> <p>cv2.imread()</p> </td> 
     <td style="width:310px;"> <p>img=cv2.imread(图片路径,cv2.IMREAD_UNCHANGED)</p> <p>##原图展示</p> <p>cv2.IMREAD_UNCHANGED</p> <p>##灰度图展示</p> <p>cv2.IMREAD_GRAYSCALE</p> <p>##彩色图展示</p> <p>cv2.IMREAD_COLOR</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图片保存</p> </td> 
     <td style="width:46px;"> <p>cv2.imwrite()</p> </td> 
     <td style="width:310px;"> <p>cv2.imwrite('image/gray_test.jpg',img)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图片展示</p> </td> 
     <td style="width:46px;"> <p>cv2.imshow()</p> </td> 
     <td style="width:310px;"> <p>展示，只能展示一张图</p> <p>如果需要展示多个图，使用以下方式</p> <p>imgs = np.hstack(images)<br> cv2.imshow("mutil_pic", imgs)</p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图片暂停展示</p> </td> 
     <td style="width:46px;"> <p>cv2.waitKey(num)</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> <p>&nbsp;</p> <p>##按键输入消失</p> <p>num&lt;0</p> <p>##0或不填系数 ，一直不消失</p> <p>num==0</p> <p>##停滞num秒</p> <p>num&gt;0</p> <p>&nbsp;</p> <p><a name="t5"></a></p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>关闭所有窗口</p> </td> 
     <td style="width:46px;"> <p>cv2.destroyAllWindows()</p> </td> 
     <td style="width:310px;"> <p>cv2.destroyAllWindows()</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像赋值</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>1)基本操作</p> <p>img[100,100]=255 #灰度图赋值</p> <p>img[100,100,0]=255 #彩色图单通道赋值</p> <p>img[100,100]=[255,255,255] #彩色图多通道赋值</p> <p>&nbsp;</p> <p>2)numpy操作</p> <p>img.item(100, 100, 2) #获得（100,100）点，2通道的值</p> <p>img.itemset((100, 100, 2), 255) #设置（100,100）点2通道的值</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>获取图像属性</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##获取BGR图 高、宽、深度</p> <p>h，w，d=img.shape</p> <p>&nbsp;</p> <p>##获得图片数据类型</p> <p>img.dtype</p> <p>&nbsp;</p> <p>##获得图片大小 h*w 或 h*w*d</p> <p>img_size=img.size</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>感兴趣区域ROI</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##获得面部图像</p> <p>face= img[220:400, 250:350]</p> <p>&nbsp;</p> <p>##粘贴脸部图像，可以跨图粘贴</p> <p>img[0:180, 0:100]=face</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>通道分解合并</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##通道分解方案1</p> <p>b=img[:,:,0]</p> <p>g=img[:,:,1]</p> <p>r=img[:,:,2]</p> <p>&nbsp;</p> <p>##通道分解方案2</p> <p>b,g,r=cv2.split(img)</p> <p>&nbsp;</p> <p>##通道合并</p> <p>rgb=cv2.merge([r,g,b])</p> <p>&nbsp;</p> <p>##只显示蓝色通道</p> <p>b=cv2.split(a)[0]</p> <p>g = np.zeros((rows,cols),dtype=a.dtype)</p> <p>r = np.zeros((rows,cols),dtype=a.dtype)</p> <p>m=cv2.merge([b,g,r])</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像加法</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##超过255则为0</p> <p>result1= img1 + img2</p> <p>&nbsp;</p> <p>##超过255则为255</p> <p>result2=cv2.add(img1, img2)</p> <p>&nbsp;</p> <p>##图像带权重融合，第5个参数为偏移量</p> <p>result=cv2.addWeighted(img1,0.5,img2,0.5, 0)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像类型转换</p> </td> 
     <td style="width:46px;"> <p>cv2.cvtColor()</p> </td> 
     <td style="width:310px;"> <p>##彩色图转灰度图</p> <p>img2=cv2.cvtColor(img1, cv2.COLOR_BGR2GRAY)</p> <p>&nbsp;</p> <p>##BGR图转RGB图（重点：opencv的通道是 蓝、绿、红跟计算机常用的红、绿、蓝通道相反）</p> <p>img2=cv2.cvtColor(img1, cv2.COLOR_BGR2RGB)</p> <p>&nbsp;</p> <p>##灰度图转BGR图,每个通道都是之前的灰度值</p> <p>img2=cv2.cvtColor(img1, cv2.COLOR_GRAY2BGR)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像缩放 （宽、高）</p> </td> 
     <td style="width:46px;"> <p>cv2.resize()</p> </td> 
     <td style="width:310px;"> <p>##图片缩放-&gt;(200,100)</p> <p>img2=cv2.resize(img1, (200, 100))</p> <p>&nbsp;</p> <p>##按比例缩放-&gt;(0.5,1.2)</p> <p>img2=cv2.resize(img1, (round(cols * 0.5), round(rows * 1.2)))</p> <p>&nbsp;</p> <p>##按比例缩放，参数版</p> <p>img2=cv2.resize(img1, None, fx=1.2, fy=0.5)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像翻转</p> </td> 
     <td style="width:46px;"> <p>cv2.flip()</p> </td> 
     <td style="width:310px;"> <p>img2=cv2.flip(img1, 0) #上下翻转</p> <p>img2=cv2.flip(img1, 1) #左右翻转</p> <p>img2=cv2.flip(img1, -1) #上下、左右翻转</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像移动、旋转、缩放</p> </td> 
     <td style="width:46px;"> <p>cv2.warpAffine()</p> </td> 
     <td style="width:310px;"> <p>##图像移动=&gt;(100,200)</p> <p>M = np.float32([[1, 0, 100], [0, 1, 200]])</p> <p>b=cv2.warpAffine(img1, M, (height, width))</p> <p>&nbsp;</p> <p>##图像中心、旋转45度、缩放0.6</p> <p>M=cv2.getRotationMatrix2D((height/2,width/2),45,0.6)</p> <p>img2=cv2.warpAffine(img1, M, (height, width))</p> <p>&nbsp;</p> <p>##图像菱形转换</p> <p>p1=np.float32([[0,0],[cols-1,0],[0,rows-1]]) #左上角、右上角、左下角</p> <p>p2=np.float32([[0,rows*0.33],[cols*0.85,rows*0.25],[cols*0.15,rows*0.7]])</p> <p>M=cv2.getAffineTransform(p1,p2)</p> <p>dst=cv2.warpAffine(img,M,(cols,rows))</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像阈值转换 、二值化</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>r,b=cv2.threshold(img, 127, 255, cv2.THRESH_BINARY) #图像二值化，阈值127,r为返回阈值，b为二值图</p> <p>r,b=cv2.threshold(img, 127, 255, cv2.THRESH_BINARY_INV) #图像反二值化</p> <p>r,b=cv2.threshold(a,127,255,cv2.THRESH_BINARY) #低于threshold则为0</p> <p>r,b=cv2.threshold(a,127,255,cv2.THRESH_BINARY_INV) #高于threshold则为0</p> <p>r,b=cv2.threshold(a,127,255,cv2.THRESH_TRUNC) #截断=&gt;高于threshold则为threshold</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像平滑处理</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##均值滤波</p> <p>img2=cv2.blur(img1, (5, 5))&nbsp; #sum(square)/25</p> <p>&nbsp;</p> <p>##normalize=1 均值滤波,normalize=0 区域内像素求和</p> <p>img1=cv2.boxFilter(img, -1, (2, 2), normalize=1)</p> <p>&nbsp;</p> <p>##高斯滤波,第三个参数是方差,默认0计算公式： sigmaX=sigmaxY=0.3((ksize-1)*0.5-1)+0.8 (注:卷积核只能是奇数)</p> <p>img1=cv2.GaussianBlur(img, (3, 3), 0)&nbsp; #距离像素中心点近的权重较大，以高斯方式往四周分布</p> <p>&nbsp;</p> <p>##中值滤波,效果非常好👍</p> <p>img1=cv2.medianBlur(img,3)&nbsp; #获得中心点附近像素排序后的中值</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>形态学操作</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##图像腐蚀，k为全1卷积核</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.erode(img, k, iterations=2)</p> <p>&nbsp;</p> <p>##图像膨胀</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.dilate(img, k, iterations=2)</p> <p>&nbsp;</p> <p>##图像开运算 （先腐蚀后膨胀），去掉图形外侧噪点</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_OPEN, k, iterations=2)</p> <p>&nbsp;</p> <p>##图像闭运算（先膨胀后腐蚀） ，去掉图形内侧噪点</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_CLOSE, k, iterations=2)</p> <p>&nbsp;</p> <p>##图像梯度运算（膨胀-腐蚀）</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_GRADIENT, k)</p> <p>&nbsp;</p> <p>##高帽运算 （原图-开运算），获得图形外噪点</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_TOPHAT, k)</p> <p>&nbsp;</p> <p>##黑帽运算（闭运算-原图），获得图像内噪点</p> <p>k=np.ones((10,10),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_BLACKHAT, k)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像梯度，边缘提取</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##sobel梯度边缘提取，卷积核竖向[[-1,-2,-1][0,0,0][1,2,1]]</p> <p>sobelx = cv2.Sobel(o,cv2.CV_64F,1,0,ksize=3) #横向边缘提取</p> <p>sobely = cv2.Sobel(o,cv2.CV_64F,0,1,ksize=3) #竖向边缘提取</p> <p>sobelx = cv2.convertScaleAbs(sobelx) # 负值取正，图像展示只能有正值</p> <p>sobely = cv2.convertScaleAbs(sobely)</p> <p>sobelxy = cv2.addWeighted(sobelx,0.5,sobely,0.5,0) #图像融合</p> <p>&nbsp;</p> <p>##scharr梯度边缘提取，卷积核竖向[[-3,-10,-3][0,0,0][3,10,3]] ，scharr比sobel卷积核过滤出更多细节</p> <p>scharrx = cv2.Scharr(o,cv2.CV_64F,1,0)</p> <p>scharry = cv2.Scharr(o,cv2.CV_64F,0,1)</p> <p>scharrx = cv2.convertScaleAbs(scharrx) # 负值取正</p> <p>scharry = cv2.convertScaleAbs(scharry)</p> <p>scharrxy = cv2.addWeighted(scharrx,0.5,scharry,0.5,0) #图像融合</p> <p>&nbsp;</p> <p>## 拉普拉斯梯度,边缘提取版本1 , 拉普拉斯图像梯度 [[0,1,0][1,-4,1][0,1,0] ]</p> <p>img1 = cv2.Laplacian(img, cv2.CV_64F)</p> <p>img1 = cv2.convertScaleAbs(img1)</p> <p>&nbsp;</p> <p>##拉普拉斯梯度,边缘提取版本2，结果略有不同</p> <p>f=np.array([[0,1,0],[1,-4,1],[0,1,0]])</p> <p>img1=cv2.filter2D(img, -1, f)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>canny边缘检测</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##canny边缘检测理论</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sobel梯度大小：0.5|x|+0.5|y|</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 高斯滤波&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 梯度方向：arctan(y/x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 同方向上保留最大梯度&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</p> <p>去噪-------------------------&gt;梯度-------------------------------------&gt;非极大值抑制----------------------------&gt;</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 跟高阈值连通的线会保留</p> <p>滞后阈值---------------------&gt;out</p> <p>&nbsp;</p> <p>##canny边缘检测代码</p> <p>img1 = cv2.Canny(img,100,200) #参数：图片、低阈值、高阈值</p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像金字塔</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##图片向下采样，高斯滤波 1/2 删掉偶数列</p> <p>img1 = cv2.pyrDown(img)</p> <p>&nbsp;</p> <p>##图片向上采样 ，面积*2 高斯滤波*4 ，下采样为不可逆运算</p> <p>img3=cv2.pyrUp(img2)</p> <p>&nbsp;</p> <p>##计算拉普拉斯金字塔</p> <p>img1 = cv2.pyrDown(img) #下采样</p> <p>img2=cv2.pyrUp(img1) #上采样</p> <p>img3=img-img2</p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像轮廓标注</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>gray_img=cv2.cvtColor(img,cv2.COLOR_BGR2GRAY) #灰度图转化</p> <p>dep,img_bin=cv2.threshold(gray_img,128,255,cv2.THRESH_BINARY) #二值图转化</p> <p>image_,contours,hierarchy=cv2.findContours(img_bin,mode=cv2.RETR_TREE,</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; method=cv2.CHAIN_APPROX_SIMPLE) #获得图像轮廓</p> <p>to_write=img.copy() #原始图像copy，否则会在原图上绘制</p> <p>ret=cv2.drawContours(to_write,contours,-1,(0,0,255),2) #红笔绘制图像轮廓</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>直方图</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##matplotlib 绘制直方图</p> <p>plt.hist(img.ravel(),256)</p> <p>&nbsp;</p> <p>##用opencv计算直方图列表</p> <p>hist=cv2.calcHist(images= [img],channels=[0],mask=None,histSize=[256],ranges=[0,255])</p> <p>&nbsp;</p> <p>##掩膜提取局部直方图</p> <p>pad=np.zeros(img.shape,np.uint8)</p> <p>pad[200:400,200:400]=255</p> <p>hist_MASK=cv2.calcHist(images= [img],channels=[0],mask=pad,histSize=[256],ranges=[0,255])</p> <p>&nbsp;</p> <p>##opencv 交、并、补、异或操作</p> <p>masked_img=cv2.bitwise_and(img,mask)</p> <p>&nbsp;</p> <p>##直方图均衡化原理</p> <p>图像直方图-&gt;直方图归一化-&gt;累计直方图-&gt;*255 x坐标映射-&gt;对原来的像素值进行新像素值编码</p> <p>&nbsp;</p> <p>##直方图均衡化调用</p> <p>img1=cv2.equalizeHist(img)</p> <p>##matplotlib绘制图片前通道转换</p> <p>img_rgb=cv2.cvtColor(img,cv2.COLOR_BGR2RGB) #通道不一致性</p> <p>&nbsp;</p> <p>##matplotlib多图绘制在一个面板上</p> <p>plt.subplot('221'),plt.imshow(img,cmap=plt.cm.gray),plt.axis('off'),plt.title('original')</p> <p>plt.subplot('222'), plt.imshow(img1, cmap=plt.cm.gray), plt.axis('off')</p> <p>plt.subplot('223'), plt.hist(img.ravel(),256)</p> <p>plt.subplot('224'), plt.hist(img1.ravel(), 256)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>图像傅里叶变换（空间域=&gt;频域）</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> <p>##图像傅里叶变换 （转化为虚数，实部为幅度，虚部为频率）</p> <p>fft=np.fft.fft2(img)</p> <p>fft_center=np.fft.fftshift(fft)</p> <p>fft_flect=20*np.log(np.abs(fft_center))</p> <p>&nbsp;</p> <p>##图像傅里叶逆变换</p> <p>fft_left=np.fft.ifftshift(fft_center)</p> <p>ifft=np.fft.ifft2(fft_left)</p> <p>img_f=np.abs(ifft)</p> <p>&nbsp;</p> <p>##高通滤波</p> <p>h_c,w_c=round(h/2),round(w/2)</p> <p>fft_center[h_c-10:h_c+10,w_c-10:w_c+10]=0&nbsp; #原图操作，低频信号归0</p> <p>&nbsp;</p> <p>##opencv 傅里叶变换</p> <p>dft=cv2.dft(np.float32(img),flags=cv2.DFT_COMPLEX_OUTPUT)</p> <p>fft_center=np.fft.fftshift(dft)</p> <p>&nbsp;</p> <p>##opencv 低通滤波</p> <p>mask=np.zeros((h,w,2),dtype=np.uint8)&nbsp;&nbsp;&nbsp; #定义掩膜</p> <p>h_c,w_c=round(h/2),round(w/2)</p> <p>R=20</p> <p>mask[h_c-R:h_c+R,w_c-R:w_c+R]=1</p> <p>dshift=fft_center*mask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #点乘，保留低频信号</p> <p>&nbsp;</p> <p>##opencv 傅里叶反变换</p> <p>fft_left=np.fft.ifftshift(dshift)</p> <p>ifft=cv2.idft(fft_left)</p> <p>img_f=cv2.magnitude(ifft[:,:,0],ifft[:,:,1]) #Square(x*2+y*2）<br> &nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
   </tbody>
  </table>
  <p>&nbsp;</p> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
