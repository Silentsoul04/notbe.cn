<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>python opencv å¸¸ç”¨æ–¹æ³•æ•´ç† Â« NotBeCN</title>
  <meta name="description" content="                      æè¿°        å‡½æ•°å        è¯¦ç»†                å›¾ç‰‡è¯»å–        cv2.imread()        img=cv2.imread(å›¾ç‰‡è·¯å¾„,cv2.IMREAD_UNCHANGED) ##åŸå›¾å±•ç¤º cv2.IMREAD_UNCH...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2019/05/12/stone9159_90139156.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">å…³äº</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">ç¤¾åŒº</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">å°„ä¸ªé¸­å­</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">python opencv å¸¸ç”¨æ–¹æ³•æ•´ç†</h1>
    <p class="post-meta">May 12, 2019</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <table border="1" cellpadding="1" cellspacing="1" style="width:500px;">
   <tbody>
    <tr>
     <td style="width:123px;"> <p>æè¿°</p> </td> 
     <td style="width:46px;"> <p>å‡½æ•°å</p> </td> 
     <td style="width:310px;"> <p>è¯¦ç»†</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾ç‰‡è¯»å–</p> </td> 
     <td style="width:46px;"> <p>cv2.imread()</p> </td> 
     <td style="width:310px;"> <p>img=cv2.imread(å›¾ç‰‡è·¯å¾„,cv2.IMREAD_UNCHANGED)</p> <p>##åŸå›¾å±•ç¤º</p> <p>cv2.IMREAD_UNCHANGED</p> <p>##ç°åº¦å›¾å±•ç¤º</p> <p>cv2.IMREAD_GRAYSCALE</p> <p>##å½©è‰²å›¾å±•ç¤º</p> <p>cv2.IMREAD_COLOR</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾ç‰‡ä¿å­˜</p> </td> 
     <td style="width:46px;"> <p>cv2.imwrite()</p> </td> 
     <td style="width:310px;"> <p>cv2.imwrite('image/gray_test.jpg',img)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾ç‰‡å±•ç¤º</p> </td> 
     <td style="width:46px;"> <p>cv2.imshow()</p> </td> 
     <td style="width:310px;"> <p>å±•ç¤ºï¼Œåªèƒ½å±•ç¤ºä¸€å¼ å›¾</p> <p>å¦‚æœéœ€è¦å±•ç¤ºå¤šä¸ªå›¾ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹å¼</p> <p>imgs = np.hstack(images)<br> cv2.imshow("mutil_pic", imgs)</p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾ç‰‡æš‚åœå±•ç¤º</p> </td> 
     <td style="width:46px;"> <p>cv2.waitKey(num)</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> <p>&nbsp;</p> <p>##æŒ‰é”®è¾“å…¥æ¶ˆå¤±</p> <p>num&lt;0</p> <p>##0æˆ–ä¸å¡«ç³»æ•° ï¼Œä¸€ç›´ä¸æ¶ˆå¤±</p> <p>num==0</p> <p>##åœæ»numç§’</p> <p>num&gt;0</p> <p>&nbsp;</p> <p><a name="t5"></a></p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å…³é—­æ‰€æœ‰çª—å£</p> </td> 
     <td style="width:46px;"> <p>cv2.destroyAllWindows()</p> </td> 
     <td style="width:310px;"> <p>cv2.destroyAllWindows()</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒèµ‹å€¼</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>1)åŸºæœ¬æ“ä½œ</p> <p>img[100,100]=255 #ç°åº¦å›¾èµ‹å€¼</p> <p>img[100,100,0]=255 #å½©è‰²å›¾å•é€šé“èµ‹å€¼</p> <p>img[100,100]=[255,255,255] #å½©è‰²å›¾å¤šé€šé“èµ‹å€¼</p> <p>&nbsp;</p> <p>2)numpyæ“ä½œ</p> <p>img.item(100, 100, 2) #è·å¾—ï¼ˆ100,100ï¼‰ç‚¹ï¼Œ2é€šé“çš„å€¼</p> <p>img.itemset((100, 100, 2), 255) #è®¾ç½®ï¼ˆ100,100ï¼‰ç‚¹2é€šé“çš„å€¼</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>è·å–å›¾åƒå±æ€§</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##è·å–BGRå›¾ é«˜ã€å®½ã€æ·±åº¦</p> <p>hï¼Œwï¼Œd=img.shape</p> <p>&nbsp;</p> <p>##è·å¾—å›¾ç‰‡æ•°æ®ç±»å‹</p> <p>img.dtype</p> <p>&nbsp;</p> <p>##è·å¾—å›¾ç‰‡å¤§å° h*w æˆ– h*w*d</p> <p>img_size=img.size</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>æ„Ÿå…´è¶£åŒºåŸŸROI</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##è·å¾—é¢éƒ¨å›¾åƒ</p> <p>face= img[220:400, 250:350]</p> <p>&nbsp;</p> <p>##ç²˜è´´è„¸éƒ¨å›¾åƒï¼Œå¯ä»¥è·¨å›¾ç²˜è´´</p> <p>img[0:180, 0:100]=face</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>é€šé“åˆ†è§£åˆå¹¶</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##é€šé“åˆ†è§£æ–¹æ¡ˆ1</p> <p>b=img[:,:,0]</p> <p>g=img[:,:,1]</p> <p>r=img[:,:,2]</p> <p>&nbsp;</p> <p>##é€šé“åˆ†è§£æ–¹æ¡ˆ2</p> <p>b,g,r=cv2.split(img)</p> <p>&nbsp;</p> <p>##é€šé“åˆå¹¶</p> <p>rgb=cv2.merge([r,g,b])</p> <p>&nbsp;</p> <p>##åªæ˜¾ç¤ºè“è‰²é€šé“</p> <p>b=cv2.split(a)[0]</p> <p>g = np.zeros((rows,cols),dtype=a.dtype)</p> <p>r = np.zeros((rows,cols),dtype=a.dtype)</p> <p>m=cv2.merge([b,g,r])</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒåŠ æ³•</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##è¶…è¿‡255åˆ™ä¸º0</p> <p>result1= img1 + img2</p> <p>&nbsp;</p> <p>##è¶…è¿‡255åˆ™ä¸º255</p> <p>result2=cv2.add(img1, img2)</p> <p>&nbsp;</p> <p>##å›¾åƒå¸¦æƒé‡èåˆï¼Œç¬¬5ä¸ªå‚æ•°ä¸ºåç§»é‡</p> <p>result=cv2.addWeighted(img1,0.5,img2,0.5, 0)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒç±»å‹è½¬æ¢</p> </td> 
     <td style="width:46px;"> <p>cv2.cvtColor()</p> </td> 
     <td style="width:310px;"> <p>##å½©è‰²å›¾è½¬ç°åº¦å›¾</p> <p>img2=cv2.cvtColor(img1, cv2.COLOR_BGR2GRAY)</p> <p>&nbsp;</p> <p>##BGRå›¾è½¬RGBå›¾ï¼ˆé‡ç‚¹ï¼šopencvçš„é€šé“æ˜¯ è“ã€ç»¿ã€çº¢è·Ÿè®¡ç®—æœºå¸¸ç”¨çš„çº¢ã€ç»¿ã€è“é€šé“ç›¸åï¼‰</p> <p>img2=cv2.cvtColor(img1, cv2.COLOR_BGR2RGB)</p> <p>&nbsp;</p> <p>##ç°åº¦å›¾è½¬BGRå›¾,æ¯ä¸ªé€šé“éƒ½æ˜¯ä¹‹å‰çš„ç°åº¦å€¼</p> <p>img2=cv2.cvtColor(img1, cv2.COLOR_GRAY2BGR)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒç¼©æ”¾ ï¼ˆå®½ã€é«˜ï¼‰</p> </td> 
     <td style="width:46px;"> <p>cv2.resize()</p> </td> 
     <td style="width:310px;"> <p>##å›¾ç‰‡ç¼©æ”¾-&gt;(200,100)</p> <p>img2=cv2.resize(img1, (200, 100))</p> <p>&nbsp;</p> <p>##æŒ‰æ¯”ä¾‹ç¼©æ”¾-&gt;(0.5,1.2)</p> <p>img2=cv2.resize(img1, (round(cols * 0.5), round(rows * 1.2)))</p> <p>&nbsp;</p> <p>##æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œå‚æ•°ç‰ˆ</p> <p>img2=cv2.resize(img1, None, fx=1.2, fy=0.5)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒç¿»è½¬</p> </td> 
     <td style="width:46px;"> <p>cv2.flip()</p> </td> 
     <td style="width:310px;"> <p>img2=cv2.flip(img1, 0) #ä¸Šä¸‹ç¿»è½¬</p> <p>img2=cv2.flip(img1, 1) #å·¦å³ç¿»è½¬</p> <p>img2=cv2.flip(img1, -1) #ä¸Šä¸‹ã€å·¦å³ç¿»è½¬</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾</p> </td> 
     <td style="width:46px;"> <p>cv2.warpAffine()</p> </td> 
     <td style="width:310px;"> <p>##å›¾åƒç§»åŠ¨=&gt;(100,200)</p> <p>M = np.float32([[1, 0, 100], [0, 1, 200]])</p> <p>b=cv2.warpAffine(img1, M, (height, width))</p> <p>&nbsp;</p> <p>##å›¾åƒä¸­å¿ƒã€æ—‹è½¬45åº¦ã€ç¼©æ”¾0.6</p> <p>M=cv2.getRotationMatrix2D((height/2,width/2),45,0.6)</p> <p>img2=cv2.warpAffine(img1, M, (height, width))</p> <p>&nbsp;</p> <p>##å›¾åƒè±å½¢è½¬æ¢</p> <p>p1=np.float32([[0,0],[cols-1,0],[0,rows-1]]) #å·¦ä¸Šè§’ã€å³ä¸Šè§’ã€å·¦ä¸‹è§’</p> <p>p2=np.float32([[0,rows*0.33],[cols*0.85,rows*0.25],[cols*0.15,rows*0.7]])</p> <p>M=cv2.getAffineTransform(p1,p2)</p> <p>dst=cv2.warpAffine(img,M,(cols,rows))</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒé˜ˆå€¼è½¬æ¢ ã€äºŒå€¼åŒ–</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>r,b=cv2.threshold(img, 127, 255, cv2.THRESH_BINARY) #å›¾åƒäºŒå€¼åŒ–ï¼Œé˜ˆå€¼127,rä¸ºè¿”å›é˜ˆå€¼ï¼Œbä¸ºäºŒå€¼å›¾</p> <p>r,b=cv2.threshold(img, 127, 255, cv2.THRESH_BINARY_INV) #å›¾åƒåäºŒå€¼åŒ–</p> <p>r,b=cv2.threshold(a,127,255,cv2.THRESH_BINARY) #ä½äºthresholdåˆ™ä¸º0</p> <p>r,b=cv2.threshold(a,127,255,cv2.THRESH_BINARY_INV) #é«˜äºthresholdåˆ™ä¸º0</p> <p>r,b=cv2.threshold(a,127,255,cv2.THRESH_TRUNC) #æˆªæ–­=&gt;é«˜äºthresholdåˆ™ä¸ºthreshold</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒå¹³æ»‘å¤„ç†</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##å‡å€¼æ»¤æ³¢</p> <p>img2=cv2.blur(img1, (5, 5))&nbsp; #sum(square)/25</p> <p>&nbsp;</p> <p>##normalize=1 å‡å€¼æ»¤æ³¢,normalize=0 åŒºåŸŸå†…åƒç´ æ±‚å’Œ</p> <p>img1=cv2.boxFilter(img, -1, (2, 2), normalize=1)</p> <p>&nbsp;</p> <p>##é«˜æ–¯æ»¤æ³¢,ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ–¹å·®,é»˜è®¤0è®¡ç®—å…¬å¼ï¼š sigmaX=sigmaxY=0.3((ksize-1)*0.5-1)+0.8 (æ³¨:å·ç§¯æ ¸åªèƒ½æ˜¯å¥‡æ•°)</p> <p>img1=cv2.GaussianBlur(img, (3, 3), 0)&nbsp; #è·ç¦»åƒç´ ä¸­å¿ƒç‚¹è¿‘çš„æƒé‡è¾ƒå¤§ï¼Œä»¥é«˜æ–¯æ–¹å¼å¾€å››å‘¨åˆ†å¸ƒ</p> <p>&nbsp;</p> <p>##ä¸­å€¼æ»¤æ³¢,æ•ˆæœéå¸¸å¥½ğŸ‘</p> <p>img1=cv2.medianBlur(img,3)&nbsp; #è·å¾—ä¸­å¿ƒç‚¹é™„è¿‘åƒç´ æ’åºåçš„ä¸­å€¼</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å½¢æ€å­¦æ“ä½œ</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##å›¾åƒè…èš€ï¼Œkä¸ºå…¨1å·ç§¯æ ¸</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.erode(img, k, iterations=2)</p> <p>&nbsp;</p> <p>##å›¾åƒè†¨èƒ€</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.dilate(img, k, iterations=2)</p> <p>&nbsp;</p> <p>##å›¾åƒå¼€è¿ç®— ï¼ˆå…ˆè…èš€åè†¨èƒ€ï¼‰ï¼Œå»æ‰å›¾å½¢å¤–ä¾§å™ªç‚¹</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_OPEN, k, iterations=2)</p> <p>&nbsp;</p> <p>##å›¾åƒé—­è¿ç®—ï¼ˆå…ˆè†¨èƒ€åè…èš€ï¼‰ ï¼Œå»æ‰å›¾å½¢å†…ä¾§å™ªç‚¹</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_CLOSE, k, iterations=2)</p> <p>&nbsp;</p> <p>##å›¾åƒæ¢¯åº¦è¿ç®—ï¼ˆè†¨èƒ€-è…èš€ï¼‰</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_GRADIENT, k)</p> <p>&nbsp;</p> <p>##é«˜å¸½è¿ç®— ï¼ˆåŸå›¾-å¼€è¿ç®—ï¼‰ï¼Œè·å¾—å›¾å½¢å¤–å™ªç‚¹</p> <p>k=np.ones((5,5),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_TOPHAT, k)</p> <p>&nbsp;</p> <p>##é»‘å¸½è¿ç®—ï¼ˆé—­è¿ç®—-åŸå›¾ï¼‰ï¼Œè·å¾—å›¾åƒå†…å™ªç‚¹</p> <p>k=np.ones((10,10),np.uint8)</p> <p>img1=cv2.morphologyEx(img, cv2.MORPH_BLACKHAT, k)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒæ¢¯åº¦ï¼Œè¾¹ç¼˜æå–</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##sobelæ¢¯åº¦è¾¹ç¼˜æå–ï¼Œå·ç§¯æ ¸ç«–å‘[[-1,-2,-1][0,0,0][1,2,1]]</p> <p>sobelx = cv2.Sobel(o,cv2.CV_64F,1,0,ksize=3) #æ¨ªå‘è¾¹ç¼˜æå–</p> <p>sobely = cv2.Sobel(o,cv2.CV_64F,0,1,ksize=3) #ç«–å‘è¾¹ç¼˜æå–</p> <p>sobelx = cv2.convertScaleAbs(sobelx) # è´Ÿå€¼å–æ­£ï¼Œå›¾åƒå±•ç¤ºåªèƒ½æœ‰æ­£å€¼</p> <p>sobely = cv2.convertScaleAbs(sobely)</p> <p>sobelxy = cv2.addWeighted(sobelx,0.5,sobely,0.5,0) #å›¾åƒèåˆ</p> <p>&nbsp;</p> <p>##scharræ¢¯åº¦è¾¹ç¼˜æå–ï¼Œå·ç§¯æ ¸ç«–å‘[[-3,-10,-3][0,0,0][3,10,3]] ï¼Œscharræ¯”sobelå·ç§¯æ ¸è¿‡æ»¤å‡ºæ›´å¤šç»†èŠ‚</p> <p>scharrx = cv2.Scharr(o,cv2.CV_64F,1,0)</p> <p>scharry = cv2.Scharr(o,cv2.CV_64F,0,1)</p> <p>scharrx = cv2.convertScaleAbs(scharrx) # è´Ÿå€¼å–æ­£</p> <p>scharry = cv2.convertScaleAbs(scharry)</p> <p>scharrxy = cv2.addWeighted(scharrx,0.5,scharry,0.5,0) #å›¾åƒèåˆ</p> <p>&nbsp;</p> <p>## æ‹‰æ™®æ‹‰æ–¯æ¢¯åº¦,è¾¹ç¼˜æå–ç‰ˆæœ¬1 , æ‹‰æ™®æ‹‰æ–¯å›¾åƒæ¢¯åº¦ [[0,1,0][1,-4,1][0,1,0] ]</p> <p>img1 = cv2.Laplacian(img, cv2.CV_64F)</p> <p>img1 = cv2.convertScaleAbs(img1)</p> <p>&nbsp;</p> <p>##æ‹‰æ™®æ‹‰æ–¯æ¢¯åº¦,è¾¹ç¼˜æå–ç‰ˆæœ¬2ï¼Œç»“æœç•¥æœ‰ä¸åŒ</p> <p>f=np.array([[0,1,0],[1,-4,1],[0,1,0]])</p> <p>img1=cv2.filter2D(img, -1, f)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>cannyè¾¹ç¼˜æ£€æµ‹</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##cannyè¾¹ç¼˜æ£€æµ‹ç†è®º</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sobelæ¢¯åº¦å¤§å°ï¼š0.5|x|+0.5|y|</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; é«˜æ–¯æ»¤æ³¢&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æ¢¯åº¦æ–¹å‘ï¼šarctan(y/x)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; åŒæ–¹å‘ä¸Šä¿ç•™æœ€å¤§æ¢¯åº¦&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</p> <p>å»å™ª-------------------------&gt;æ¢¯åº¦-------------------------------------&gt;éæå¤§å€¼æŠ‘åˆ¶----------------------------&gt;</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è·Ÿé«˜é˜ˆå€¼è¿é€šçš„çº¿ä¼šä¿ç•™</p> <p>æ»åé˜ˆå€¼---------------------&gt;out</p> <p>&nbsp;</p> <p>##cannyè¾¹ç¼˜æ£€æµ‹ä»£ç </p> <p>img1 = cv2.Canny(img,100,200) #å‚æ•°ï¼šå›¾ç‰‡ã€ä½é˜ˆå€¼ã€é«˜é˜ˆå€¼</p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒé‡‘å­—å¡”</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##å›¾ç‰‡å‘ä¸‹é‡‡æ ·ï¼Œé«˜æ–¯æ»¤æ³¢ 1/2 åˆ æ‰å¶æ•°åˆ—</p> <p>img1 = cv2.pyrDown(img)</p> <p>&nbsp;</p> <p>##å›¾ç‰‡å‘ä¸Šé‡‡æ · ï¼Œé¢ç§¯*2 é«˜æ–¯æ»¤æ³¢*4 ï¼Œä¸‹é‡‡æ ·ä¸ºä¸å¯é€†è¿ç®—</p> <p>img3=cv2.pyrUp(img2)</p> <p>&nbsp;</p> <p>##è®¡ç®—æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”</p> <p>img1 = cv2.pyrDown(img) #ä¸‹é‡‡æ ·</p> <p>img2=cv2.pyrUp(img1) #ä¸Šé‡‡æ ·</p> <p>img3=img-img2</p> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒè½®å»“æ ‡æ³¨</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>gray_img=cv2.cvtColor(img,cv2.COLOR_BGR2GRAY) #ç°åº¦å›¾è½¬åŒ–</p> <p>dep,img_bin=cv2.threshold(gray_img,128,255,cv2.THRESH_BINARY) #äºŒå€¼å›¾è½¬åŒ–</p> <p>image_,contours,hierarchy=cv2.findContours(img_bin,mode=cv2.RETR_TREE,</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; method=cv2.CHAIN_APPROX_SIMPLE) #è·å¾—å›¾åƒè½®å»“</p> <p>to_write=img.copy() #åŸå§‹å›¾åƒcopyï¼Œå¦åˆ™ä¼šåœ¨åŸå›¾ä¸Šç»˜åˆ¶</p> <p>ret=cv2.drawContours(to_write,contours,-1,(0,0,255),2) #çº¢ç¬”ç»˜åˆ¶å›¾åƒè½®å»“</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>ç›´æ–¹å›¾</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>##matplotlib ç»˜åˆ¶ç›´æ–¹å›¾</p> <p>plt.hist(img.ravel(),256)</p> <p>&nbsp;</p> <p>##ç”¨opencvè®¡ç®—ç›´æ–¹å›¾åˆ—è¡¨</p> <p>hist=cv2.calcHist(images= [img],channels=[0],mask=None,histSize=[256],ranges=[0,255])</p> <p>&nbsp;</p> <p>##æ©è†œæå–å±€éƒ¨ç›´æ–¹å›¾</p> <p>pad=np.zeros(img.shape,np.uint8)</p> <p>pad[200:400,200:400]=255</p> <p>hist_MASK=cv2.calcHist(images= [img],channels=[0],mask=pad,histSize=[256],ranges=[0,255])</p> <p>&nbsp;</p> <p>##opencv äº¤ã€å¹¶ã€è¡¥ã€å¼‚æˆ–æ“ä½œ</p> <p>masked_img=cv2.bitwise_and(img,mask)</p> <p>&nbsp;</p> <p>##ç›´æ–¹å›¾å‡è¡¡åŒ–åŸç†</p> <p>å›¾åƒç›´æ–¹å›¾-&gt;ç›´æ–¹å›¾å½’ä¸€åŒ–-&gt;ç´¯è®¡ç›´æ–¹å›¾-&gt;*255 xåæ ‡æ˜ å°„-&gt;å¯¹åŸæ¥çš„åƒç´ å€¼è¿›è¡Œæ–°åƒç´ å€¼ç¼–ç </p> <p>&nbsp;</p> <p>##ç›´æ–¹å›¾å‡è¡¡åŒ–è°ƒç”¨</p> <p>img1=cv2.equalizeHist(img)</p> <p>##matplotlibç»˜åˆ¶å›¾ç‰‡å‰é€šé“è½¬æ¢</p> <p>img_rgb=cv2.cvtColor(img,cv2.COLOR_BGR2RGB) #é€šé“ä¸ä¸€è‡´æ€§</p> <p>&nbsp;</p> <p>##matplotlibå¤šå›¾ç»˜åˆ¶åœ¨ä¸€ä¸ªé¢æ¿ä¸Š</p> <p>plt.subplot('221'),plt.imshow(img,cmap=plt.cm.gray),plt.axis('off'),plt.title('original')</p> <p>plt.subplot('222'), plt.imshow(img1, cmap=plt.cm.gray), plt.axis('off')</p> <p>plt.subplot('223'), plt.hist(img.ravel(),256)</p> <p>plt.subplot('224'), plt.hist(img1.ravel(), 256)</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>å›¾åƒå‚…é‡Œå¶å˜æ¢ï¼ˆç©ºé—´åŸŸ=&gt;é¢‘åŸŸï¼‰</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> <p>##å›¾åƒå‚…é‡Œå¶å˜æ¢ ï¼ˆè½¬åŒ–ä¸ºè™šæ•°ï¼Œå®éƒ¨ä¸ºå¹…åº¦ï¼Œè™šéƒ¨ä¸ºé¢‘ç‡ï¼‰</p> <p>fft=np.fft.fft2(img)</p> <p>fft_center=np.fft.fftshift(fft)</p> <p>fft_flect=20*np.log(np.abs(fft_center))</p> <p>&nbsp;</p> <p>##å›¾åƒå‚…é‡Œå¶é€†å˜æ¢</p> <p>fft_left=np.fft.ifftshift(fft_center)</p> <p>ifft=np.fft.ifft2(fft_left)</p> <p>img_f=np.abs(ifft)</p> <p>&nbsp;</p> <p>##é«˜é€šæ»¤æ³¢</p> <p>h_c,w_c=round(h/2),round(w/2)</p> <p>fft_center[h_c-10:h_c+10,w_c-10:w_c+10]=0&nbsp; #åŸå›¾æ“ä½œï¼Œä½é¢‘ä¿¡å·å½’0</p> <p>&nbsp;</p> <p>##opencv å‚…é‡Œå¶å˜æ¢</p> <p>dft=cv2.dft(np.float32(img),flags=cv2.DFT_COMPLEX_OUTPUT)</p> <p>fft_center=np.fft.fftshift(dft)</p> <p>&nbsp;</p> <p>##opencv ä½é€šæ»¤æ³¢</p> <p>mask=np.zeros((h,w,2),dtype=np.uint8)&nbsp;&nbsp;&nbsp; #å®šä¹‰æ©è†œ</p> <p>h_c,w_c=round(h/2),round(w/2)</p> <p>R=20</p> <p>mask[h_c-R:h_c+R,w_c-R:w_c+R]=1</p> <p>dshift=fft_center*mask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #ç‚¹ä¹˜ï¼Œä¿ç•™ä½é¢‘ä¿¡å·</p> <p>&nbsp;</p> <p>##opencv å‚…é‡Œå¶åå˜æ¢</p> <p>fft_left=np.fft.ifftshift(dshift)</p> <p>ifft=cv2.idft(fft_left)</p> <p>img_f=cv2.magnitude(ifft[:,:,0],ifft[:,:,1]) #Square(x*2+y*2ï¼‰<br> &nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
    <tr>
     <td style="width:123px;"> <p>&nbsp;</p> </td> 
     <td style="width:46px;"> <p>&nbsp;</p> </td> 
     <td style="width:310px;"> <p>&nbsp;</p> </td> 
    </tr>
   </tbody>
  </table>
  <p>&nbsp;</p> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="æŸšå­ç¤¾åŒº">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>æœ€æ–°èµ„è®¯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">é‚®ç®±</a>
    
    <a href="https://uzshare.com" target="_blank">æŸšå­ç¤¾åŒº</a>
    
    <a href="https://uzzz.org" target="_blank">æ‰¾ç»„ç»‡</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">æœ€æ–°</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[åŸåˆ›è½¯ä»¶] [è½¯ä»¶å‘å¸ƒ] å®šæ—¶å¤‡ä»½æ–‡ä»¶å‘é€é‚®ç®±ï¼Œä¸å†æ€•æ•°æ®ä¸¢å¤±äº†</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Getæ™ºèƒ½å†™ä½œæ»¡æœˆè®° â€”â€”äº§å“ç¯‡</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">ã€Šæ·±åº¦æ¢ç´¢C++å¯¹è±¡æ¨¡å‹ã€‹..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql å¤šè¡¨è”æŸ¥ä¹‹è¿æ¥æŸ¥è¯¢</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golangåŸºç¡€(äºŒ)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">ä»Šæ—¥ä»½çš„PTAåˆ·é¢˜</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Androidä¹‹æŠ˜çº¿å›¾</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Androidä¹‹å®ç°é€‰ä¸­æ—¶æ”¹å˜æ ·å¼</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">ç›®å½•</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
