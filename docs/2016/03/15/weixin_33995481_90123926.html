<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>git的使用--不错的博客【转】 « NotBeCN</title>
  <meta name="description" content="             转自：http://www.cnblogs.com/wang_yb/p/3867221.html    GIT 的常规操作    常规操作也是我自己平时常用的几个命令, 学自于 pro git 这本书中    git 配置文件         git的配置文件位置针对所有用户：/etc/...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2016/03/15/weixin_33995481_90123926.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">git的使用--不错的博客【转】</h1>
    <p class="post-meta">Mar 15, 2016</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h2><span style="font-size:15px;">转自：<a href="http://www.cnblogs.com/wang_yb/p/3867221.html" rel="nofollow">http://www.cnblogs.com/wang_yb/p/3867221.html</a></span></h2> 
   <h2>GIT 的常规操作</h2> 
   <p>常规操作也是我自己平时常用的几个命令, 学自于 pro git 这本书中</p> 
   <h3>git 配置文件</h3> 
   <ol>
    <li> <p>git的配置文件位置<br>针对所有用户：/etc/gitconfig<br>针对当前用户： ～/.gitconfig</p> </li> 
    <li> <p>查看配置的方法</p> <pre><code class="hljs cpp">git config --<span class="hljs-built_in">list</span></code></pre> </li> 
    <li> <p>修改配置的方法</p> <pre><code class="hljs python">git config --<span class="hljs-keyword">global user.name <span class="hljs-string">"wangyubin" (修改的是～/.gitconfig) git config --system user.name <span class="hljs-string">"wangyubin" (修改的是/etc/gitconfig)</span></span></span></code></pre> </li> 
   </ol>
   <h3>git 基本使用</h3> 
   <ol>
    <li> <p>clone现有仓库</p> <pre><code class="hljs lisp">git clone URL  (<span class="hljs-name">URL支持git，ssh，http，https等各种协议)</span></code></pre> </li> 
    <li>git中文件的各个状态 
     <ul>
      <li>unstaged - git仓库中没有此文件的相关记录</li> 
      <li>modified - git仓库中有这个文件的记录，并且此文件当前有改动</li> 
      <li>staged - 追加,删除或修改的文件被暂时保存，这些追加,删除和修改并没有提交到git仓库</li> 
      <li>commited - 追加或修改的文件被提交到本地git仓库（git仓库中大部分都是这种文件，所以git status不显示这些文件）</li> 
     </ul></li> 
    <li> <p>查看git仓库中各文件状态</p> <pre><code class="hljs fortran">git <span class="hljs-keyword">status</span></code></pre> </li> 
    <li> <p>初始化一个仓库</p> <pre><code class="hljs swift">git <span class="hljs-keyword">init</span></code></pre> <p>在当前文件夹下生成.git目录，完成初始化，此时此文件夹下的所有文件处于unstaged状态</p> </li> 
    <li> <p>追加文件</p> <pre><code class="hljs swift">git add test.<span class="hljs-built_in">c</span></code></pre> <p>test.c的文件变为staged状态，其他文件还是unstaged状态</p> <p>5.1 追加文件的结果1 - 恢复为原先状态（变为unstaged）</p> <pre><code class="hljs swift">git rm --cache test.<span class="hljs-built_in">c</span></code></pre> <p>5.2 追加文件的结果2 - 提交到git仓库（变为commited）</p> <pre><code class="hljs sql">git <span class="hljs-keyword">commit -<span class="hljs-keyword">m <span class="hljs-string">"my message"</span></span></span></code></pre> </li> 
    <li> <p>修改文件</p> <pre><code class="hljs ruby">echo <span class="hljs-string">"aaa" <span class="hljs-meta">&gt;&gt; test.c</span></span></code></pre> <p>test.c的状态变为modified</p> <p>6.1 修改文件的结果1</p> <pre><code class="hljs swift">git add test.<span class="hljs-built_in">c (暂时保存修改的内容，即变为staged）</span></code></pre> <p>下面有2条路可以选择：<br>6.1.1 取消刚才的暂时保存</p> <pre><code class="hljs sql">git <span class="hljs-keyword">reset <span class="hljs-keyword">test.<span class="hljs-keyword">c （状态变回modified）</span></span></span></code></pre> <p>6.2.2 将暂存的修改提交到git仓库</p> <pre><code class="hljs sql">git <span class="hljs-keyword">commit -<span class="hljs-keyword">m <span class="hljs-string">"my message"</span></span></span></code></pre> <p>6.2 修改文件的结果2</p> <pre><code class="hljs css"><span class="hljs-selector-tag">git <span class="hljs-selector-tag">checkout <span class="hljs-selector-tag">test<span class="hljs-selector-class">.c （将<span class="hljs-selector-tag">test<span class="hljs-selector-class">.c恢复为<span class="hljs-selector-tag">git仓库中的最新版本，即变为<span class="hljs-selector-tag">commited状态，<span class="hljs-selector-tag">test<span class="hljs-selector-class">.c的内容和5<span class="hljs-selector-class">.2节一样）</span></span></span></span></span></span></span></span></span></span></span></code></pre> </li> 
    <li> <p>删除文件<br>7.1 从git仓库和磁盘上删除文件</p> <pre><code class="hljs swift">git rm test.<span class="hljs-built_in">c （当前目录中删除了test.<span class="hljs-built_in">c，在git仓库中暂时删除了test.<span class="hljs-built_in">c，相当于staged状态）</span></span></span></code></pre> <p>7.1.1 从git仓库中删除test.c</p> <pre><code class="hljs sql">git <span class="hljs-keyword">commit -<span class="hljs-keyword">m <span class="hljs-string">"my message" (git仓库以后不再维护<span class="hljs-keyword">test.<span class="hljs-keyword">c)</span></span></span></span></span></code></pre> <p>7.1.2 删错了，恢复刚才的操作</p> <pre><code class="hljs sql">git <span class="hljs-keyword">reset <span class="hljs-keyword">HEAD <span class="hljs-keyword">test.<span class="hljs-keyword">c (恢复到删除前的状态，当前目录中已删除的<span class="hljs-keyword">test.<span class="hljs-keyword">c也恢复了，<span class="hljs-keyword">test.<span class="hljs-keyword">c仍文commited状态)</span></span></span></span></span></span></span></span></code></pre> <p>7.2 仅从git仓库中删除文件</p> <pre><code class="hljs swift">git rm --cache test.<span class="hljs-built_in">c （当前目录中没有删除了test.<span class="hljs-built_in">c，仅在git仓库中暂时删除了test.<span class="hljs-built_in">c，相当于staged状态）</span></span></span></code></pre> <p>7.2.1 从git仓库中删除test.c</p> <pre><code class="hljs sql">git <span class="hljs-keyword">commit -<span class="hljs-keyword">m <span class="hljs-string">"my message" (git仓库以后不再维护<span class="hljs-keyword">test.<span class="hljs-keyword">c，但是当前目录中仍然有<span class="hljs-keyword">test.<span class="hljs-keyword">c)</span></span></span></span></span></span></span></code></pre> <p>7.2.2 删错了，恢复刚才的操作</p> <pre><code class="hljs sql">git <span class="hljs-keyword">reset <span class="hljs-keyword">HEAD <span class="hljs-keyword">test.<span class="hljs-keyword">c （和<span class="hljs-number">7.1<span class="hljs-number">.2一样）</span></span></span></span></span></span></code></pre> <p>7.3 误删除后的恢复<br>如果删除了一个文件，并且commit之后发现删错了。也可以恢复，</p> <pre><code class="hljs sql">git log  （查看各次的提交信息）
git checkout <span class="hljs-keyword">commit号 （恢复到未删除前的commint号，此时删除的文件也恢复到磁盘上了） git checkout <span class="hljs-keyword">master (备份好删除的文件后，再回到最新状态)</span></span></code></pre> </li> 
   </ol>
   <h3>git 远程仓库</h3> 
   <ol>
    <li> <p>查看远程仓库<br>1.1 简单查看-所有仓库</p> <pre><code class="hljs lisp">git remote (只能查看远程仓库的名字)</code></pre> <p>1.2 查看更多内容-所有仓库</p> <pre><code class="hljs lisp">git remote -v (远程仓库的名字及git地址)</code></pre> <p>1.3 查看单个仓库的信息</p> <pre><code class="hljs sql">git remote <span class="hljs-keyword">show [remote-<span class="hljs-keyword">name]</span></span></code></pre> </li> 
    <li> <p>新建远程仓库</p> <pre><code class="hljs groovy">git remote add [shortname] [url]
ex. git remote add mc <span class="hljs-string">git:<span class="hljs-comment">//www.host.com/gitdir/mycode.git</span></span></code></pre> </li> 
    <li> <p>修改远程仓库</p> <pre><code class="hljs css"><span class="hljs-selector-tag">git <span class="hljs-selector-tag">remote <span class="hljs-selector-tag">rename <span class="hljs-selector-attr">[oldnanme] <span class="hljs-selector-attr">[newname]</span></span></span></span></span></code></pre> </li> 
    <li> <p>删除远程仓库</p> <pre><code class="hljs fortran">git remote rm [remote-<span class="hljs-keyword">name]</span></code></pre> </li> 
    <li> <p>远程仓库的数据<br>5.1 获取数据</p> <pre><code class="hljs fortran">git fetch [remote-<span class="hljs-keyword">name] (获取仓库的所有更新，但是不自动合并当前分支) git pull (获取仓库的所有更新, 并且自动合并到当前分支)</span></code></pre> <p>5.2 上传数据</p> <pre><code class="hljs fortran">git push [remote-<span class="hljs-keyword">name] [branch-<span class="hljs-keyword">name] ex. git push origin master</span></span></code></pre> </li> 
   </ol>
   <h3>git 标签</h3> 
   <ol>
    <li> <p>列出标签<br>1.1 查看所有tag</p> <pre><code class="hljs nginx"><span class="hljs-attribute">git tag</span></code></pre> <p>1.2 查看某个tag</p> <pre><code class="hljs sql">git <span class="hljs-keyword">show [tag-<span class="hljs-keyword">name]</span></span></code></pre> </li> 
    <li> <p>新建标签<br>2.1 轻量级tag</p> <pre><code class="hljs fortran">git tag [tag-<span class="hljs-keyword">name]</span></code></pre> <p>2.2 带标注的tag</p> <pre><code class="hljs bash">git tag <span class="hljs-_">-a [tag-name] -m <span class="hljs-string">"tag message"</span></span></code></pre> <p>2.3 后期追加tag</p> <pre><code class="hljs sql">git log <span class="hljs-comment">--pretty=oneline (查看所有的commit号) git tag -a [tag-name] [<span class="hljs-keyword">commit号前几位即可]</span></span></code></pre> </li> 
    <li> <p>删除标签</p> <pre><code class="hljs fortran">git tag -d [tag-<span class="hljs-keyword">name]</span></code></pre> </li> 
    <li> <p>提交标签到远程仓库</p> <pre><code class="hljs lua">git push [remote-name] <span class="hljs-comment">--tags ex. git push origin <span class="hljs-comment">--tags</span></span></code></pre> </li> 
   </ol>
   <h3>git 分支</h3> 
   <ol>
    <li> <p>查看和切换分支</p> <pre><code class="hljs lua">git branch (查看所有的分支及当前处于哪个分支)
git branch -v (查看所有的分支的详细信息)
git branch <span class="hljs-comment">--merged (查看已经合并的分支) git branch <span class="hljs-comment">--no-merged (查看还没合并的分支) git checkout [branch-name] (切换到某个分支)</span></span></code></pre> </li> 
    <li> <p>新建分支</p> <pre><code class="hljs fortran">git branch [branch-<span class="hljs-keyword">name] (新建一个分支) git branch -b [branch-<span class="hljs-keyword">name] (新建一个分支并切换到这个分支上)</span></span></code></pre> </li> 
    <li> <p>合并分支</p> <pre><code class="hljs fortran">git <span class="hljs-built_in">merge [branch-<span class="hljs-keyword">name] ex. 将分支<span class="hljs-built_in">btest合并到主分支master git checkout master git <span class="hljs-built_in">merge <span class="hljs-built_in">btest</span></span></span></span></span></code></pre> <p>merge时有冲突的文件会列出来，需要手动合并</p> <p>将冲突手动解决后，再次用 git status来查看是否还有 unmerged的文件。<br>如果没有冲突的文件，就可以 git commit 来提交这次合并了。</p> </li> 
    <li> <p>删除分支</p> <pre><code class="hljs fortran">git branch -d [branch-<span class="hljs-keyword">name] 或者 git branch -D [branch-<span class="hljs-keyword">name] (强制删除某个还未合并的分支)</span></span></code></pre> </li> 
    <li>远程分支相关<br>5.1 新建远程分支
     <ol>
      <li>git checkout [local_branch] (首先进入想要上传的分支)</li> 
      <li>git remote add [remote_repo] [remote_branch]<br>(这里的[remote_branch]是远程分支的名字，一般和[local_branch]同名,<br>[remote_repo]是远程仓库的名字)</li> 
     </ol><p>5.2 向远程分支推送数据</p> <pre><code class="hljs css"><span class="hljs-selector-tag">git <span class="hljs-selector-tag">push <span class="hljs-selector-attr">[remote_repo] <span class="hljs-selector-attr">[remote_branch]</span></span></span></span></code></pre> <p>5.3 删除远程分支</p> <pre><code class="hljs css"><span class="hljs-selector-tag">git <span class="hljs-selector-tag">push <span class="hljs-selector-attr">[remote_repo] :<span class="hljs-selector-attr">[remote_branch] (注意远程分支前有个"<span class="hljs-selector-pseudo">:")</span></span></span></span></span></code></pre> </li> 
    <li> <p>合并分支的另一个方法：衍和</p> </li> 
   </ol>
   <p>衍和可以简化master上的提交记录，使得代码可以方便的回退，<br>但是在公共仓库上用衍和有一定的风险。<br>衍和我基本用不上，这里就不赘述了。</p> 
   <h2>服务器创建 git 仓库, 并将其作为远程仓库</h2> 
   <p>其实 git 是分布式的 SCM. 并不存在谁是服务器, 谁是客户端的问题, 这里所说的服务器上的git仓库, 指的是多人合作开发时, 共用的, 作为最终发布版本的 git 仓库.<br>这个 git 仓库就相当于你在 github 上建的仓库, 会将你在各个电脑上做的代码等提交到上面进行统一管理.</p> 
   <ol>
    <li>服务端 (远程 git 仓库) 
     <ul>
      <li> <p>生成用于git服务的账户 (一般就用git)</p> <pre><code class="hljs nginx"><span class="hljs-attribute">groupadd gpxxx useradd -m -g gpxxx gitxxx</span></code></pre> </li> 
      <li> <p>初始化服务端的git 仓库</p> <pre><code class="hljs dos"><span class="hljs-built_in">cd ~/ <span class="hljs-built_in">mkdir git-repo <span class="hljs-built_in">cd git-repo <span class="hljs-built_in">mkdir test.git <span class="hljs-built_in">cd test.git git --bare init</span></span></span></span></span></code></pre> </li> 
     </ul></li> 
    <li>客户端 (本地 git 仓库) 
     <ul>
      <li> <p>新建本地git 仓库</p> <pre><code class="hljs bash"><span class="hljs-built_in">cd ~/gitlocal mkdir <span class="hljs-built_in">test <span class="hljs-built_in">cd <span class="hljs-built_in">test git init</span></span></span></span></code></pre> </li> 
      <li> <p>初始化本地仓库</p> <pre><code class="hljs sql">touch README
git add README
git <span class="hljs-keyword">commit -<span class="hljs-keyword">m <span class="hljs-string">'first commit for init'</span></span></span></code></pre> </li> 
      <li> <p>设置git用户信息</p> <pre><code class="hljs python">git config --<span class="hljs-keyword">global user.name <span class="hljs-string">"wangyubin" git config --<span class="hljs-keyword">global user.email <span class="hljs-string">"xxx@xxx.com"</span></span></span></span></code></pre> </li> 
      <li> <p>关联远程仓库</p> <pre><code class="hljs ruby">git remote add origin gituser@&lt;server address&gt;<span class="hljs-symbol">:~/test.git/</span></code></pre> </li> 
      <li> <p>将本地仓库提交到远程</p> <pre><code class="hljs perl">git <span class="hljs-keyword">push origin master</span></code></pre> </li> 
     </ul></li> 
   </ol>
   <h2>git 使用中遇到的一些问题</h2> 
   <h3>git pull 时, 远程文件与本地文件有冲突</h3> 
   <p>如果远程的仓库被其他人更新了, 并且更新的内容与我自己本地编辑的内容有冲突. 这时执行 git pull 可能有如下message:</p> 
   <pre><code class="hljs sql">Auto-merging path/to/conflict-file
CONFLICT (content): <span class="hljs-keyword">Merge conflict <span class="hljs-keyword">in <span class="hljs-keyword">path/<span class="hljs-keyword">to/conflict-<span class="hljs-keyword">file <span class="hljs-keyword">Automatic <span class="hljs-keyword">merge <span class="hljs-keyword">failed; fix conflicts and then <span class="hljs-keyword">commit the <span class="hljs-keyword">result.</span></span></span></span></span></span></span></span></span></span></code></pre> 
   <p>用文本编辑器 vim 或者 emacs 之类的来编辑冲突的文件 path/to/conflict-file, 冲突的地方有类似如下的显示</p> 
   <pre><code class="hljs python">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
    App_Log.logger.debug(<span class="hljs-string">u'开始时间: ' + utils.datetime2str(datetime.datetime.now())) file = request.FILES.get(<span class="hljs-string">'file-xxx') App_Log.logger.debug(<span class="hljs-string">u'结束时间: ' + utils.datetime2str(datetime.datetime.now())) ======= file = request.FILES.get(<span class="hljs-string">'xxxx') &gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class="hljs-number">3602514cc2bf1b3a64470b31ad79e07fe372add5</span></span></span></span></span></code></pre> 
   <p><code>=====</code>&nbsp;之上的 &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD 是本地的内容<br><code>=====</code>&nbsp;之下的 &gt;&gt;&gt;&gt;&gt;&gt;&gt; 3602514cc2bf1b3a64470b31ad79e07fe372add5 是远程的内容(这个commit号每次都会不同)<br>根据实际情况, 删除多余的内容(包括===== &gt;&gt;&gt;&gt;&gt; &lt;&lt;&lt;&lt;&lt;&lt; 之类的), 修改冲突的地方, 如果以本地的代码为准的话, 会得到如下结果:</p> 
   <pre><code class="hljs python">App_Log.logger.debug(<span class="hljs-string">u'开始时间: ' + utils.datetime2str(datetime.datetime.now())) file = request.FILES.get(<span class="hljs-string">'file-xxx') App_Log.logger.debug(<span class="hljs-string">u'结束时间: ' + utils.datetime2str(datetime.datetime.now()))</span></span></span></code></pre> 
   <p>然后 git commit -am '提交的信息' 就解决了冲突.<br>最后, 也可以将本地的修改同步到远程 git 仓库: git push</p> 
   <h3>git pull 时, 本地还有未commit 的文件</h3> 
   <p>从远程仓库更新时, 假使本地还有没commit的文件A, 远程仓库的A文件却被修改了. 此时进行 git pull 时有如下信息:</p> 
   <pre><code class="hljs vbnet"><span class="hljs-number">6a707cc..f93575d master -&gt; origin/master Updating <span class="hljs-number">6a707cc..f93575d <span class="hljs-keyword">error: Your local changes <span class="hljs-keyword">to the following files would be overwritten <span class="hljs-keyword">by merge: apps/myapp/utils.py Please, commit your changes <span class="hljs-keyword">or stash them before you can merge. Aborting</span></span></span></span></span></span></code></pre> 
   <p>此时, 如果不想将本地文件commit(可能只是临时的修改), 但是又像将远程的仓库更新下来, 可以这样:</p> 
   <pre><code class="hljs perl">$ git stash    <span class="hljs-comment"># 先将自己的改变保存起来 Saved working directory <span class="hljs-keyword">and <span class="hljs-keyword">index <span class="hljs-keyword">state WIP on master: <span class="hljs-number">6a707cc ... HEAD is now at <span class="hljs-number">6a707cc ... $ git pull <span class="hljs-comment"># 从远程仓库更新 Updating <span class="hljs-number">6a707cc..f93575d ... ... $ git stash <span class="hljs-keyword">pop <span class="hljs-comment"># 将自己的修改合并到更新后的代码中</span></span></span></span></span></span></span></span></span></span></code></pre> 
   <p>最后一步如果有冲突, 再参照上一节中解决冲突的步骤, 用文本编辑器修改冲突文件.</p> 
   <h3>git 分支合并时的冲突</h3> 
   <p>正在开发的分支和主分支的编辑了同一个文件时, 在主分支上进行 merge 的时候可能会产生冲突.<br>以下构造一个冲突的示例:</p> 
   <pre><code class="hljs sql">$ git branch test  # 创建一个分支 test, 但是没有进入test分支, 此时还在 master 分支上.
$ vim xxxx         # 编辑 master 分支上的一个已有的文件
$ git <span class="hljs-keyword">commit -am <span class="hljs-string">'xxx message' # 提交 <span class="hljs-keyword">master 分支的修改 $ git checkout <span class="hljs-keyword">test # 切换到 <span class="hljs-keyword">test 分支 $ vim xxxx # 编辑之前在 <span class="hljs-keyword">master 上编辑的文件, 可以编辑同一个地方, 造成冲突 $ git <span class="hljs-keyword">commit -am <span class="hljs-string">'xxx message' # 提交 <span class="hljs-keyword">test 分支的修改 $ git checkout <span class="hljs-keyword">master # 切换到 <span class="hljs-keyword">master 分支 $ git <span class="hljs-keyword">merge <span class="hljs-keyword">test # 将 <span class="hljs-keyword">test 分支合并到 <span class="hljs-keyword">master 分支, 由于上面编辑了同一文件, 这里会产生冲突 <span class="hljs-keyword">Auto-merging xxxx CONFLICT (<span class="hljs-keyword">content): <span class="hljs-keyword">Merge conflict <span class="hljs-keyword">in xxxx <span class="hljs-keyword">Automatic <span class="hljs-keyword">merge <span class="hljs-keyword">failed; fix conflicts and then <span class="hljs-keyword">commit the <span class="hljs-keyword">result.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
   <p>最后, 参照上一节中解决冲突的步骤, 用文本编辑器修改冲突文件.</p> 
   <h2>通过 git 提取补丁</h2> 
   <p>提取的补丁的方法有多种:</p> 
   <pre><code class="hljs sql">$ git format-patch -1     # 提取本次 <span class="hljs-keyword">commit 和上次 <span class="hljs-keyword">commit 之间的不同, 并生成<span class="hljs-keyword">patch文件 $ git <span class="hljs-keyword">format-<span class="hljs-keyword">patch <span class="hljs-number">-2 # 提取本次 <span class="hljs-keyword">commit 和 上上次 <span class="hljs-keyword">commit 之间的不同, 并生成<span class="hljs-keyword">patch文件 $ git <span class="hljs-keyword">format-<span class="hljs-keyword">patch <span class="hljs-keyword">commit号<span class="hljs-number">1 <span class="hljs-keyword">commit号<span class="hljs-number">2 # 提取<span class="hljs-number">2次<span class="hljs-keyword">commit号之间的不同, 并生成<span class="hljs-keyword">patch文件 (<span class="hljs-keyword">commit号可以通过 git <span class="hljs-keyword">log 来查看) $ git <span class="hljs-keyword">format-<span class="hljs-keyword">patch tag1 tag2 # 提取<span class="hljs-number">2次tag之间的不同, 并生成<span class="hljs-keyword">patch文件 (tag可以通过 git tag 来查看)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre> 
   <h2>通过 git 提取指定版本的源码</h2> 
   <p>这个功能在部署的时候比较有用.</p> 
   <pre><code class="hljs swift">$ git archive --format=tar --<span class="hljs-keyword">prefix=<span class="hljs-string">"tagxx/" tagxx &gt; ../tagxx.tar # 获取 tagxx 的源码, 加了 --<span class="hljs-keyword">prefix 的作用是在最终的 tagxx.tar 中加了一层文件夹 tagxx</span></span></span></code></pre> 
   <p>上面的 tagxx 也可以是 commit号</p> 
   <div> 
    <div>
     【作者】
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">张昺华</a> 
    </div> 
    <div>
     【出处】
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">http://www.cnblogs.com/sky-heaven/</a> 
    </div> 
    <div>
     【博客园】 
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">http://www.cnblogs.com/sky-heaven/</a> 
    </div> 
    <div>
     【新浪博客】 
     <a href="http://blog.sina.com.cn/u/2049150530" rel="nofollow">http://blog.sina.com.cn/u/2049150530</a> 
    </div> 
    <div>
     【知乎】 
     <a href="http://www.zhihu.com/people/zhang-bing-hua" rel="nofollow">http://www.zhihu.com/people/zhang-bing-hua</a> 
    </div> 
    <div>
     【我的作品---旋转倒立摆】 
     <a href="http://v.youku.com/v_show/id_XODM5NDAzNjQw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2" rel="nofollow">http://v.youku.com/v_show/id_XODM5NDAzNjQw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2</a> 
    </div> 
    <div>
     【我的作品---自平衡自动循迹车】 
     <a href="http://v.youku.com/v_show/id_XODM5MzYyNTIw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2" rel="nofollow">http://v.youku.com/v_show/id_XODM5MzYyNTIw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2</a> 
    </div> 
    <div>
     【新浪微博】 张昺华--sky
    </div> 
    <div>
     【twitter】 @sky2030_
    </div> 
    <div>
     【facebook】 张昺华 zhangbinghua
    </div> 
    <div>
     本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利.
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
