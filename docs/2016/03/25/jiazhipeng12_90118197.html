<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>spring 的权限控制：security « NotBeCN</title>
  <meta name="description" content="                 下面我们将实现关于Spring Security3的一系列教程.&nbsp;最终的目标是整合Spring Security + Spring3MVC&nbsp;完成类似于SpringSide3中mini-web的功能.&nbsp;Spring Security是什么?&nbsp;...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2016/03/25/jiazhipeng12_90118197.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">spring 的权限控制：security</h1>
    <p class="post-meta">Mar 25, 2016</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="artical-content-bak main-content editor-side-new"> 
   <div class="con editor-preview-side" id="result">
    <p><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">下面我们将实现关于Spring Security3的一系列教程.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">最终的目标是整合Spring Security + Spring3MVC&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">完成类似于SpringSide3中mini-web的功能.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">Spring Security是什么?</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>引用</p>
    <p>Spring Security，这是一种基于Spring AOP和Servlet过滤器的安全框架。它提供全面的安全性解决方案，同时在Web请求级和方法调用级处理身份确认和授权。在Spring Framework基础上，Spring Security充分利用了依赖注入（DI，Dependency Injection）和面向切面技术。</p>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">关于Spring Security学习的资料.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">最重要,最齐全的中文资料当然是family168的中文文档&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><a href="http://www.family168.com/oa/springsecurity/html/index.html" rel="nofollow" style="color:rgb(0,102,153);font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">Spring Security2参考文档</a><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><a href="http://www.family168.com/tutorial/springsecurity3/html/springsecurity.html" rel="nofollow" style="color:rgb(0,102,153);font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">Spring Security3 参考文档</a><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">附件包含了一个很好的初入门的PDF教程.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">最好是花30分钟先照着PDF上的教程一步一步的操作.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">虽然没有实际的应用价值,但对初学者认识SpringSecurity3很有帮助.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">我们的项目目录结构最终是:&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><img src="http://dl.iteye.com/upload/p_w_upload/451736/1bdbc126-14db-3a48-bfb3-6eedca9c1fc7.png" style="border:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;" alt="1bdbc126-14db-3a48-bfb3-6eedca9c1fc7.png"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">需要添加的jar包:&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><img src="http://dl.iteye.com/upload/p_w_upload/451738/cea111b5-ef8f-3179-a157-8818b300fd29.png" style="border:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;" alt="cea111b5-ef8f-3179-a157-8818b300fd29.png"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">我们先实现一个controller:&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">MainController.java</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Java代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-j list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">package</span>&nbsp;org.liukai.tutorial.controller;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.apache.log4j.Logger;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.stereotype.Controller;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.web.bind.annotation.RequestMapping;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.web.bind.annotation.RequestMethod;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="annotation" style="color:rgb(100,100,100);">@Controller</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="annotation" style="color:rgb(100,100,100);">@RequestMapping</span>(<span class="string" style="color:#0000FF;">"/main"</span>)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">class</span>&nbsp;MainController&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">protected</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">static</span>&nbsp;Logger&nbsp;logger&nbsp;=&nbsp;Logger.getLogger(<span class="string" style="color:#0000FF;">"controller"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;跳转到commonpage页面</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="color:rgb(100,100,100);">@RequestMapping</span>(value&nbsp;=&nbsp;<span class="string" style="color:#0000FF;">"/common"</span>,&nbsp;method&nbsp;=&nbsp;RequestMethod.GET)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;String&nbsp;getCommonPage()&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"Received&nbsp;request&nbsp;to&nbsp;show&nbsp;common&nbsp;page"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;<span class="string" style="color:#0000FF;">"commonpage"</span>;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;跳转到adminpage页面</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="color:rgb(100,100,100);">@RequestMapping</span>(value&nbsp;=&nbsp;<span class="string" style="color:#0000FF;">"/admin"</span>,&nbsp;method&nbsp;=&nbsp;RequestMethod.GET)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;String&nbsp;getAadminPage()&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"Received&nbsp;request&nbsp;to&nbsp;show&nbsp;admin&nbsp;page"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;<span class="string" style="color:#0000FF;">"adminpage"</span>;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">}&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">该controller有两个mapping映射:&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>引用</p>
    <p>main/common&nbsp;<br>main/admin</p>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">现在我们将同过Spring Security3框架实现成功登陆的人都能访问到main/common.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">但只有拥有admin权限的用户才能访问main/admin.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">我们先在web.xml中开启Spring3MVC和SpringSecurity3.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">web.xml</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;?</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">xml</span>&nbsp;<span class="attribute" style="color:#FF0000;">version</span>=<span class="attribute-value" style="color:#0000FF;">"1.0"</span>&nbsp;<span class="attribute" style="color:#FF0000;">encoding</span>=<span class="attribute-value" style="color:#0000FF;">"UTF-8"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">?&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">web-app</span>&nbsp;<span class="attribute" style="color:#FF0000;">id</span>=<span class="attribute-value" style="color:#0000FF;">"WebApp_ID"</span>&nbsp;<span class="attribute" style="color:#FF0000;">version</span>=<span class="attribute-value" style="color:#0000FF;">"2.4"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns</span>=<span class="attribute-value" style="color:#0000FF;">"http://java.sun.com/xml/ns/j2ee"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:xsi</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.w3.org/2001/XMLSchema-instance"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xsi:schemaLocation</span>="http://java.sun.com/xml/ns/j2ee&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;SpringSecurity必须的filter&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>springSecurityFilterChain<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-class</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>org.springframework.web.filter.DelegatingFilterProxy<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-class</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-mapping</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>springSecurityFilterChain<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">url-pattern</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>/*<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">url-pattern</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-mapping</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">context-param</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">param-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>contextConfigLocation<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">param-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">param-value</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/WEB-INF/spring-security.xml&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/WEB-INF/applicationContext.xml&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">param-value</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">context-param</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>spring<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-class</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-class</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">load-on-startup</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>1<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">load-on-startup</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-mapping</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>spring<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">url-pattern</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>/<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">url-pattern</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">servlet-mapping</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">listener</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">listener-class</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">listener-class</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">listener</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">web-app</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">要启用SpringSecurity3,我们需要完成以下两步:&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">1.在web.xml中声明DelegatingFilterProxy.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-mapping</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>springSecurityFilterChain<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-name</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">url-pattern</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>/*<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">url-pattern</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">filter-mapping</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">表示项目中所有路径的资源都要经过SpringSecurity.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">2.导入指定的SpringSecurity配置 :spring-security.xml&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">关于spring-security.xml的配置.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">我们把这个放到后面配置.以便更详细的讲解.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">注意一点.最好是将DelegatingFilterProxy写在DispatcherServlet之前.否则&nbsp;<br>SpringSecurity可能不会正常工作.</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">在web.xml中我们定义servlet:spring.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">按照惯例,我们必须声明一个spring-servle.xml&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">spring-servle.xml&nbsp;</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;?</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">xml</span>&nbsp;<span class="attribute" style="color:#FF0000;">version</span>=<span class="attribute-value" style="color:#0000FF;">"1.0"</span>&nbsp;<span class="attribute" style="color:#FF0000;">encoding</span>=<span class="attribute-value" style="color:#0000FF;">"UTF-8"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">?&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">beans</span>&nbsp;<span class="attribute" style="color:#FF0000;">xmlns</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/beans"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:xsi</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.w3.org/2001/XMLSchema-instance"</span>&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:p</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/p"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xsi:schemaLocation</span>="http://www.springframework.org/schema/beans&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;定义一个视图解析器&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:#FF0000;">id</span>=<span class="attribute-value" style="color:#0000FF;">"viewResolver"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">class</span>=<span class="attribute-value" style="color:#0000FF;">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">p:prefix</span>=<span class="attribute-value" style="color:#0000FF;">"/WEB-INF/jsp/"</span>&nbsp;<span class="attribute" style="color:#FF0000;">p:suffix</span>=<span class="attribute-value" style="color:#0000FF;">".jsp"</span>&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">beans</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">这个XML配置声明一个视图解析器.在控制器中会根据JSP名映射到/ WEB-INF/jsp中相应的位置.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">然后创建一个applicationContext.xml.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">applicationContext.xml.&nbsp;</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;?</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">xml</span>&nbsp;<span class="attribute" style="color:#FF0000;">version</span>=<span class="attribute-value" style="color:#0000FF;">"1.0"</span>&nbsp;<span class="attribute" style="color:#FF0000;">encoding</span>=<span class="attribute-value" style="color:#0000FF;">"UTF-8"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">?&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">beans</span>&nbsp;<span class="attribute" style="color:#FF0000;">xmlns</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/beans"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:xsi</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.w3.org/2001/XMLSchema-instance"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:context</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/context"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:mvc</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/mvc"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xsi:schemaLocation</span>="http://www.springframework.org/schema/beans&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/context&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/context/spring-context-3.0.xsd&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/mvc&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd"<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;激活spring的注解.&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">context:annotation-config</span>&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;扫描注解组件并且自动的注入spring&nbsp;beans中.&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;例如,他会扫描@Controller&nbsp;和@Service下的文件.所以确保此base-package设置正确.&nbsp;--<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">context:component-scan</span>&nbsp;<span class="attribute" style="color:#FF0000;">base-package</span>=<span class="attribute-value" style="color:#0000FF;">"org.liukai.tutorial"</span>&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;配置注解驱动的Spring&nbsp;MVC&nbsp;Controller&nbsp;的编程模型.注:次标签只在&nbsp;Servlet&nbsp;MVC工作!&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">mvc:annotation-driven</span>&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">beans</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">接着是创建JSP页面&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">commonpage.jsp</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Jsp代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-default list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;">&lt;%@&nbsp;page&nbsp;language=<span class="string" style="color:#0000FF;">"java"</span>&nbsp;contentType=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=<span class="string" style="color:#0000FF;">"UTF-8"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;<span class="string" style="color:#0000FF;">"-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN"</span>&nbsp;<span class="string" style="color:#0000FF;">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;html&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;meta&nbsp;http-equiv=<span class="string" style="color:#0000FF;">"Content-Type"</span>&nbsp;content=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;title&gt;Insert&nbsp;title&nbsp;here&lt;/title&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;Common&nbsp;Page&lt;/h1&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;每个人都能访问的页面.&lt;/p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=<span class="string" style="color:#0000FF;">"/spring3-security-integration/main/admin"</span>&gt;&nbsp;Go&nbsp;AdminPage&nbsp;&lt;/a&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&nbsp;/&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=<span class="string" style="color:#0000FF;">"/spring3-security-integration/auth/login"</span>&gt;退出登录&lt;/a&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/html&gt;&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">adminpage.jsp</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Jsp代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-default list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;">&lt;%@&nbsp;page&nbsp;language=<span class="string" style="color:#0000FF;">"java"</span>&nbsp;contentType=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=<span class="string" style="color:#0000FF;">"UTF-8"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;<span class="string" style="color:#0000FF;">"-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN"</span>&nbsp;<span class="string" style="color:#0000FF;">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;html&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;meta&nbsp;http-equiv=<span class="string" style="color:#0000FF;">"Content-Type"</span>&nbsp;content=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;title&gt;Insert&nbsp;title&nbsp;here&lt;/title&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;Admin&nbsp;Page&lt;/h1&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;管理员页面&lt;/p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=<span class="string" style="color:#0000FF;">"/spring3-security-integration/auth/login"</span>&gt;退出登录&lt;/a&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/html&gt;&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">这两个JSP对应着&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><img src="http://dl.iteye.com/upload/p_w_upload/451744/0d59b3d5-9ebe-37f6-b34d-e0f7ad666847.png" style="border:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;" alt="0d59b3d5-9ebe-37f6-b34d-e0f7ad666847.png"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><img src="http://dl.iteye.com/upload/p_w_upload/451746/7fc72a65-9c4e-3118-844d-7037bfbef3a0.png" style="border:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;" alt="7fc72a65-9c4e-3118-844d-7037bfbef3a0.png"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">当然还有登陆页面和拒绝访问页面&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><img src="http://dl.iteye.com/upload/p_w_upload/451742/228714e0-1212-3d70-b723-667a34ad97ba.png" style="border:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;" alt="228714e0-1212-3d70-b723-667a34ad97ba.png"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><img src="http://dl.iteye.com/upload/p_w_upload/451748/268fc009-b29e-3f05-afd0-d817f4a1b650.png" style="border:0px;font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;" alt="268fc009-b29e-3f05-afd0-d817f4a1b650.png"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">loginpage.jsp</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Jsp代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-default list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;">&lt;%@&nbsp;taglib&nbsp;uri=<span class="string" style="color:#0000FF;">"http://java.sun.com/jsp/jstl/core"</span>&nbsp;prefix=<span class="string" style="color:#0000FF;">"c"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;%@&nbsp;taglib&nbsp;uri=<span class="string" style="color:#0000FF;">"http://www.springframework.org/tags/form"</span>&nbsp;prefix=<span class="string" style="color:#0000FF;">"form"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;%@&nbsp;taglib&nbsp;uri=<span class="string" style="color:#0000FF;">"http://www.springframework.org/tags"</span>&nbsp;prefix=<span class="string" style="color:#0000FF;">"spring"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;%@&nbsp;page&nbsp;language=<span class="string" style="color:#0000FF;">"java"</span>&nbsp;contentType=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=<span class="string" style="color:#0000FF;">"UTF-8"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;<span class="string" style="color:#0000FF;">"-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN"</span>&nbsp;<span class="string" style="color:#0000FF;">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;html&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;meta&nbsp;http-equiv=<span class="string" style="color:#0000FF;">"Content-Type"</span>&nbsp;content=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;title&gt;Insert&nbsp;title&nbsp;here&lt;/title&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;Login&lt;/h1&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;id=<span class="string" style="color:#0000FF;">"login-error"</span>&gt;${error}&lt;/div&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;form&nbsp;action=<span class="string" style="color:#0000FF;">"../j_spring_security_check"</span>&nbsp;method=<span class="string" style="color:#0000FF;">"post"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=<span class="string" style="color:#0000FF;">"j_username"</span>&gt;Username&lt;/label&gt;&nbsp;&lt;input&nbsp;id=<span class="string" style="color:#0000FF;">"j_username"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=<span class="string" style="color:#0000FF;">"j_username"</span>&nbsp;type=<span class="string" style="color:#0000FF;">"text"</span>&nbsp;/&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;label&nbsp;for=<span class="string" style="color:#0000FF;">"j_password"</span>&gt;Password&lt;/label&gt;&nbsp;&lt;input&nbsp;id=<span class="string" style="color:#0000FF;">"j_password"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=<span class="string" style="color:#0000FF;">"j_password"</span>&nbsp;type=<span class="string" style="color:#0000FF;">"password"</span>&nbsp;/&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input&nbsp;type=<span class="string" style="color:#0000FF;">"submit"</span>&nbsp;value=<span class="string" style="color:#0000FF;">"Login"</span>&nbsp;/&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/html&gt;&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">deniedpage.jsp</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Jsp代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-default list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;">&lt;%@&nbsp;page&nbsp;language=<span class="string" style="color:#0000FF;">"java"</span>&nbsp;contentType=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=<span class="string" style="color:#0000FF;">"UTF-8"</span>%&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;<span class="string" style="color:#0000FF;">"-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN"</span>&nbsp;<span class="string" style="color:#0000FF;">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;html&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;meta&nbsp;http-equiv=<span class="string" style="color:#0000FF;">"Content-Type"</span>&nbsp;content=<span class="string" style="color:#0000FF;">"text/html;&nbsp;charset=UTF-8"</span>&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;title&gt;Insert&nbsp;title&nbsp;here&lt;/title&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/head&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;你的权限不够!&lt;/h1&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;只有拥有Admin权限才能访问!&lt;/p&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=<span class="string" style="color:#0000FF;">"/spring3-security-integration/auth/login"</span>&gt;退出登录&lt;/a&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/body&gt;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&lt;/html&gt;&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">还有一个controller用于映射上面两个JSP页面..&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br>LoginLogoutController.java</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Java代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-j list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">package</span>&nbsp;org.liukai.tutorial.controller;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.apache.log4j.Logger;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.stereotype.Controller;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.ui.ModelMap;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.web.bind.annotation.RequestMapping;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.web.bind.annotation.RequestMethod;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.web.bind.annotation.RequestParam;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="annotation" style="color:rgb(100,100,100);">@Controller</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="annotation" style="color:rgb(100,100,100);">@RequestMapping</span>(<span class="string" style="color:#0000FF;">"auth"</span>)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">class</span>&nbsp;LoginLogoutController&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">protected</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">static</span>&nbsp;Logger&nbsp;logger&nbsp;=&nbsp;Logger.getLogger(<span class="string" style="color:#0000FF;">"controller"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;指向登录页面</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="color:rgb(100,100,100);">@RequestMapping</span>(value&nbsp;=&nbsp;<span class="string" style="color:#0000FF;">"/login"</span>,&nbsp;method&nbsp;=&nbsp;RequestMethod.GET)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;String&nbsp;getLoginPage(&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="color:rgb(100,100,100);">@RequestParam</span>(value&nbsp;=&nbsp;<span class="string" style="color:#0000FF;">"error"</span>,&nbsp;required&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">false</span>)&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">boolean</span>&nbsp;error,&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelMap&nbsp;model)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"Received&nbsp;request&nbsp;to&nbsp;show&nbsp;login&nbsp;page"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">if</span>&nbsp;(error&nbsp;==&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">true</span>)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;Assign&nbsp;an&nbsp;error&nbsp;message</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.put(<span class="string" style="color:#0000FF;">"error"</span>,&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" style="color:#0000FF;">"You&nbsp;have&nbsp;entered&nbsp;an&nbsp;invalid&nbsp;username&nbsp;or&nbsp;password!"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">else</span>&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.put(<span class="string" style="color:#0000FF;">"error"</span>,&nbsp;<span class="string" style="color:#0000FF;">""</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;<span class="string" style="color:#0000FF;">"loginpage"</span>;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;指定无访问额权限页面</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation" style="color:rgb(100,100,100);">@RequestMapping</span>(value&nbsp;=&nbsp;<span class="string" style="color:#0000FF;">"/denied"</span>,&nbsp;method&nbsp;=&nbsp;RequestMethod.GET)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;String&nbsp;getDeniedPage()&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"Received&nbsp;request&nbsp;to&nbsp;show&nbsp;denied&nbsp;page"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;<span class="string" style="color:#0000FF;">"deniedpage"</span>;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">}&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">该controller实现了两个映射&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>引用</p>
    <p>auth/login&nbsp;&nbsp;&nbsp;&nbsp; --显示Login页面&nbsp;<br>auth/denied&nbsp;&nbsp;&nbsp; --显示拒绝访问页面</p>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">最后,让我们看看spring-security.xml的配置&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">spring-security.xml</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;?</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">xml</span>&nbsp;<span class="attribute" style="color:#FF0000;">version</span>=<span class="attribute-value" style="color:#0000FF;">"1.0"</span>&nbsp;<span class="attribute" style="color:#FF0000;">encoding</span>=<span class="attribute-value" style="color:#0000FF;">"UTF-8"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">?&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">beans</span>&nbsp;<span class="attribute" style="color:#FF0000;">xmlns</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/beans"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:xsi</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.w3.org/2001/XMLSchema-instance"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xmlns:security</span>=<span class="attribute-value" style="color:#0000FF;">"http://www.springframework.org/schema/security"</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">xsi:schemaLocation</span>="http://www.springframework.org/schema/beans&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/security&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/security/spring-security-3.0.xsd"<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;&nbsp;Spring-Security&nbsp;的配置&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;注意开启use-expressions.表示开启表达式.&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;see:http://www.family168.com/tutorial/springsecurity3/html/el-access.html&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:http</span>&nbsp;<span class="attribute" style="color:#FF0000;">auto-config</span>=<span class="attribute-value" style="color:#0000FF;">"true"</span>&nbsp;<span class="attribute" style="color:#FF0000;">use-expressions</span>=<span class="attribute-value" style="color:#0000FF;">"true"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access-denied-page</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/denied"</span>&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"permitAll"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/main/admin"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"hasRole('ROLE_ADMIN')"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/main/common"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"hasRole('ROLE_USER')"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:form-login</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">login-page</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">authentication-failure-url</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login?error=true"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">default-target-url</span>=<span class="attribute-value" style="color:#0000FF;">"/main/common"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:logout</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">invalidate-session</span>=<span class="attribute-value" style="color:#0000FF;">"true"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">logout-success-url</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">logout-url</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/logout"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:http</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;指定一个自定义的authentication-manager&nbsp;:customUserDetailsService&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-manager</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-provider</span>&nbsp;<span class="attribute" style="color:#FF0000;">user-service-ref</span>=<span class="attribute-value" style="color:#0000FF;">"customUserDetailsService"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:password-encoder</span>&nbsp;<span class="attribute" style="color:#FF0000;">ref</span>=<span class="attribute-value" style="color:#0000FF;">"passwordEncoder"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-provider</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-manager</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;对密码进行MD5编码&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:#FF0000;">class</span>=<span class="attribute-value" style="color:#0000FF;">"org.springframework.security.authentication.encoding.Md5PasswordEncoder"</span>&nbsp;<span class="attribute" style="color:#FF0000;">id</span>=<span class="attribute-value" style="color:#0000FF;">"passwordEncoder"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通过&nbsp;customUserDetailsService,Spring会自动的用户的访问级别.&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;也可以理解成:以后我们和数据库操作就是通过customUserDetailsService来进行关联.&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:#FF0000;">id</span>=<span class="attribute-value" style="color:#0000FF;">"customUserDetailsService"</span>&nbsp;<span class="attribute" style="color:#FF0000;">class</span>=<span class="attribute-value" style="color:#0000FF;">"org.liukai.tutorial.service.CustomUserDetailsService"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">beans</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">在配置中我们可以看到三个URL对应的三个权限&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"permitAll"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/main/admin"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"hasRole('ROLE_ADMIN')"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/main/common"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"hasRole('ROLE_USER')"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">需要注意的是我们使用了</span><a href="http://www.family168.com/tutorial/springsecurity3/html/el-access.html" rel="nofollow" style="color:rgb(0,102,153);font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">SpringEL表达式</a><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">来指定角色的访问.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">以下是表达式对应的用法.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>引用</p>
    <p><br>表达式 说明&nbsp;<br>hasRole([role]) 返回 true 如果当前主体拥有特定角色。&nbsp;<br>hasAnyRole([role1,role2]) 返回 true 如果当前主体拥有任何一个提供的角色 （使用逗号分隔的字符串队列）&nbsp;<br>principal 允许直接访问主体对象，表示当前用户&nbsp;<br>authentication 允许直接访问当前 Authentication对象 从SecurityContext中获得&nbsp;<br>permitAll 一直返回true&nbsp;<br>denyAll 一直返回false&nbsp;<br>isAnonymous() 如果用户是一个匿名登录的用户 就会返回 true&nbsp;<br>isRememberMe() 如果用户是通过remember-me 登录的用户 就会返回 true&nbsp;<br>isAuthenticated() 如果用户不是匿名用户就会返回true&nbsp;<br>isFullyAuthenticated() 如果用户不是通过匿名也不是通过remember-me登录的用户时， 就会返回true。&nbsp;<br></p>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">所以&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"permitAll"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">表示所有的人都可以访问/auth/login.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/main/admin"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"hasRole('ROLE_ADMIN')"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:intercept-url</span>&nbsp;<span class="attribute" style="color:#FF0000;">pattern</span>=<span class="attribute-value" style="color:#0000FF;">"/main/common"</span>&nbsp;<span class="attribute" style="color:#FF0000;">access</span>=<span class="attribute-value" style="color:#0000FF;">"hasRole('ROLE_USER')"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">则表示只有拥有对应的角色才能访问.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:form-login</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">login-page</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">authentication-failure-url</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login?error=true"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">default-target-url</span>=<span class="attribute-value" style="color:#0000FF;">"/main/common"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">表示通过 /auth/login这个映射进行登录.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">如果验证失败则返回一个URL:/auth/login?error=true&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">如果登录成功则默认指向:/main/common&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;">security:logout&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">invalidate-session</span>=<span class="attribute-value" style="color:#0000FF;">"true"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">logout-success-url</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/login"</span>&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute" style="color:#FF0000;">logout-url</span>=<span class="attribute-value" style="color:#0000FF;">"/auth/logout"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">很简单.我们开启了session失效功能.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">注销URL为:/auth/logout&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">注销成功后转向:/auth/login&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Xml代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-xml list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;指定一个自定义的authentication-manager&nbsp;:customUserDetailsService&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-manager</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-provider</span>&nbsp;<span class="attribute" style="color:#FF0000;">user-service-ref</span>=<span class="attribute-value" style="color:#0000FF;">"customUserDetailsService"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:password-encoder</span>&nbsp;<span class="attribute" style="color:#FF0000;">ref</span>=<span class="attribute-value" style="color:#0000FF;">"passwordEncoder"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-provider</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;/</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">security:authentication-manager</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comments" style="color:rgb(0,130,0);border:0px;">&lt;!--&nbsp;对密码进行MD5编码&nbsp;--&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:#FF0000;">class</span>=<span class="attribute-value" style="color:#0000FF;">"org.springframework.security.authentication.encoding.Md5PasswordEncoder"</span>&nbsp;<span class="attribute" style="color:#FF0000;">id</span>=<span class="attribute-value" style="color:#0000FF;">"passwordEncoder"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通过&nbsp;customUserDetailsService,Spring会自动的用户的访问级别.&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;也可以理解成:以后我们和数据库操作就是通过customUserDetailsService来进行关联.&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&gt;</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag" style="color:rgb(0,102,153);font-weight:bold;">&lt;</span><span class="tag-name" style="color:rgb(0,102,153);font-weight:bold;">bean</span>&nbsp;<span class="attribute" style="color:#FF0000;">id</span>=<span class="attribute-value" style="color:#0000FF;">"customUserDetailsService"</span>&nbsp;<span class="attribute" style="color:#FF0000;">class</span>=<span class="attribute-value" style="color:#0000FF;">"org.liukai.tutorial.service.CustomUserDetailsService"</span><span class="tag" style="color:rgb(0,102,153);font-weight:bold;">/&gt;</span>&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">一个自定义的CustomUserDetailsService,是实现SpringSecurity的UserDetailsService接口,但我们重写了他即便于我们进行数据库操作.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">DbUser.java</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Java代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-j list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">package</span>&nbsp;org.liukai.tutorial.domain;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">class</span>&nbsp;DbUser&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">private</span>&nbsp;String&nbsp;username;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">private</span>&nbsp;String&nbsp;password;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">private</span>&nbsp;Integer&nbsp;access;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//getter/setter</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">}&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">通过一个初始化的List来模拟数据库操作.&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">UserDao.java</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Java代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-j list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">package</span>&nbsp;org.liukai.tutorial.dao;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;java.util.ArrayList;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;java.util.List;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.apache.log4j.Logger;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.liukai.tutorial.domain.DbUser;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">class</span>&nbsp;UserDao&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">protected</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">static</span>&nbsp;Logger&nbsp;logger&nbsp;=&nbsp;Logger.getLogger(<span class="string" style="color:#0000FF;">"dao"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;DbUser&nbsp;getDatabase(String&nbsp;username)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;DbUser&gt;&nbsp;users&nbsp;=&nbsp;internalDatabase();&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">for</span>&nbsp;(DbUser&nbsp;dbUser&nbsp;:&nbsp;users)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">if</span>&nbsp;(dbUser.getUsername().equals(username)&nbsp;==&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">true</span>)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"User&nbsp;found"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;dbUser;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(<span class="string" style="color:#0000FF;">"User&nbsp;does&nbsp;not&nbsp;exist!"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">throw</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;RuntimeException(<span class="string" style="color:#0000FF;">"User&nbsp;does&nbsp;not&nbsp;exist!"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;初始化数据</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">private</span>&nbsp;List&lt;DbUser&gt;&nbsp;internalDatabase()&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;DbUser&gt;&nbsp;users&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;ArrayList&lt;DbUser&gt;();&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DbUser&nbsp;user&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">null</span>;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;DbUser();&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user.setUsername(<span class="string" style="color:#0000FF;">"admin"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;"admin"经过MD5加密后</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user.setPassword(<span class="string" style="color:#0000FF;">"21232f297a57a5a743894a0e4a801fc3"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user.setAccess(<span class="number" style="color:rgb(192,0,0);">1</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;users.add(user);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;DbUser();&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user.setUsername(<span class="string" style="color:#0000FF;">"user"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;"user"经过MD5加密后</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user.setPassword(<span class="string" style="color:#0000FF;">"ee11cbb19052e40b07aac0ca060c23ee"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user.setAccess(<span class="number" style="color:rgb(192,0,0);">2</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;users.add(user);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;users;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">}&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">自定义UserDetailsService .可以通过继承UserDetailsService&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">来达到灵活的自定义UserDetailsService&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">关于UserDetailsService更多信息. 可以查看</span><a href="http://www.family168.com/tutorial/springsecurity3/html/technical-overview.html#d0e1564" rel="nofollow" style="color:rgb(0,102,153);font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">SpringSecurity3文档</a><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">CustomUserDetailsService.java</strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></p>
    <p>Java代码&nbsp;&nbsp;<a title="收藏这段代码" style="color:rgb(0,102,153);text-decoration:underline;"><img class="star" src="http://liukai.iteye.com/p_w_picpaths/icon_star.png" alt="收藏代码" style="border:0px;"></a></p>
    <ol start="1" class="dp-j list-paddingleft-2" style="font-size:1em;line-height:1.4em;border:1px solid rgb(209,215,220);color:rgb(43,145,175);">
     <li><p><span style="color:#000000;">&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">package</span>&nbsp;org.liukai.tutorial.service;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;java.util.ArrayList;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;java.util.Collection;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;java.util.List;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.apache.log4j.Logger;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.liukai.tutorial.dao.UserDao;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.liukai.tutorial.domain.DbUser;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.dao.DataAccessException;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.security.core.GrantedAuthority;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.security.core.authority.GrantedAuthorityImpl;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.security.core.userdetails.User;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.security.core.userdetails.UserDetails;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.security.core.userdetails.UserDetailsService;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">import</span>&nbsp;org.springframework.security.core.userdetails.UsernameNotFoundException;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;*&nbsp;一个自定义的service用来和数据库进行操作.&nbsp;即以后我们要通过数据库保存权限.则需要我们继承UserDetailsService</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;*&nbsp;</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;*&nbsp;@author&nbsp;liukai</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;*&nbsp;</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">class</span>&nbsp;CustomUserDetailsService&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">implements</span>&nbsp;UserDetailsService&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">protected</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">static</span>&nbsp;Logger&nbsp;logger&nbsp;=&nbsp;Logger.getLogger(<span class="string" style="color:#0000FF;">"service"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">private</span>&nbsp;UserDao&nbsp;userDAO&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;UserDao();&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;UserDetails&nbsp;loadUserByUsername(String&nbsp;username)&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">throws</span>&nbsp;UsernameNotFoundException,&nbsp;DataAccessException&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserDetails&nbsp;user&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">null</span>;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">try</span>&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;搜索数据库以匹配用户登录名.</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;我们可以通过dao使用JDBC来访问数据库</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DbUser&nbsp;dbUser&nbsp;=&nbsp;userDAO.getDatabase(username);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;Populate&nbsp;the&nbsp;Spring&nbsp;User&nbsp;object&nbsp;with&nbsp;details&nbsp;from&nbsp;the&nbsp;dbUser</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;Here&nbsp;we&nbsp;just&nbsp;pass&nbsp;the&nbsp;username,&nbsp;password,&nbsp;and&nbsp;access&nbsp;level</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;getAuthorities()&nbsp;will&nbsp;translate&nbsp;the&nbsp;access&nbsp;level&nbsp;to&nbsp;the&nbsp;correct</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;role&nbsp;type</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;User(dbUser.getUsername(),&nbsp;dbUser.getPassword()&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.toLowerCase(),&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">true</span>,&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">true</span>,&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">true</span>,&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">true</span>,&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getAuthorities(dbUser.getAccess()));&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">catch</span>&nbsp;(Exception&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(<span class="string" style="color:#0000FF;">"Error&nbsp;in&nbsp;retrieving&nbsp;user"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">throw</span>&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;UsernameNotFoundException(<span class="string" style="color:#0000FF;">"Error&nbsp;in&nbsp;retrieving&nbsp;user"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;user;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">/**</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;获得访问角色权限</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;access</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></p></li>
     <li><p><span style="color:#000000;"><span class="comment" style="color:rgb(0,130,0);border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">public</span>&nbsp;Collection&lt;GrantedAuthority&gt;&nbsp;getAuthorities(Integer&nbsp;access)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;GrantedAuthority&gt;&nbsp;authList&nbsp;=&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;ArrayList&lt;GrantedAuthority&gt;(<span class="number" style="color:rgb(192,0,0);">2</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;所有的用户默认拥有ROLE_USER权限</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"Grant&nbsp;ROLE_USER&nbsp;to&nbsp;this&nbsp;user"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;authList.add(<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;GrantedAuthorityImpl(<span class="string" style="color:#0000FF;">"ROLE_USER"</span>));&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="color:rgb(0,130,0);border:0px;">//&nbsp;如果参数access为1.则拥有ROLE_ADMIN权限</span>&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">if</span>&nbsp;(access.compareTo(<span class="number" style="color:rgb(192,0,0);">1</span>)&nbsp;==&nbsp;<span class="number" style="color:rgb(192,0,0);">0</span>)&nbsp;{&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.debug(<span class="string" style="color:#0000FF;">"Grant&nbsp;ROLE_ADMIN&nbsp;to&nbsp;this&nbsp;user"</span>);&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;authList.add(<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">new</span>&nbsp;GrantedAuthorityImpl(<span class="string" style="color:#0000FF;">"ROLE_ADMIN"</span>));&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="color:rgb(127,0,85);font-weight:bold;">return</span>&nbsp;authList;&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p></li>
     <li><p><span style="color:#000000;">}&nbsp;&nbsp;</span></p></li>
    </ol>
    <p><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">最后启动服务器输入:&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><a href="http://localhost:8080/spring3-security-integration/auth/login" rel="nofollow" style="color:rgb(0,102,153);font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">http://localhost:8080/spring3-security-integration/auth/login</a><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;line-height:25.1999988555908px;font-size:x-large;"><strong>总结</strong></span><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><strong style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">通过本教程.我们对SpringSecurity3有了进一步的认识.&nbsp;<br>主要是了解了UserDetailsService的重要作用.&nbsp;<br>以及实现了模拟自定义数据的登录.(这点很重要,很多人学习了SpringSecurity却不知道&nbsp;<br>如何自定义权限)&nbsp;<br><br>这次教程因为内容很多,显得比较粗糙.很多地方并没有详细的阐明.&nbsp;<br>后面的教程还是SpringSecurity.&nbsp;<br>但我们将对SpringSecurity3新推出的一些特性进行详细的说明和理解.&nbsp;<br></strong><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"></span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">BTW:附件为本次教程源码.你可以下载后直接在tomcat或其他web服务器启动.也可以自行添加&nbsp;</span><br style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;"><span style="font-family:Helvetica, Tahoma, Arial, sans-serif;font-size:14px;line-height:25.1999988555908px;">maven插件启动.&nbsp;</span></p>
    <p><br></p>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
