<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>面向对象高级编程：定制类 « NotBeCN</title>
  <meta name="description" content="             看到类似__slots__这种形如__xxx__的变量或者函数名就要注意，这些在Python中是有特殊用途的。    __slots__我们已经知道怎么用了，__len__()方法我们也知道是为了能让class作用于len()函数。    除此之外，Python的class中还有许多这样...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2018/01/26/1557728987153.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">面向对象高级编程：定制类</h1>
    <p class="post-meta">Jan 26, 2018</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">看到类似<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__slots__</code>这种形如<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__xxx__</code>的变量或者函数名就要注意，这些在Python中是有特殊用途的。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;"><code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__slots__</code>我们已经知道怎么用了，<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__len__()</code>方法我们也知道是为了能让class作用于<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">len()</code>函数。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">除此之外，Python的class中还有许多这样有特殊用途的函数，可以帮助我们定制类。</p> 
   <h3 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;color:rgb(68,68,68);font-size:18px;line-height:24px;"> <a name="#__str__" style="color:rgb(5,147,211);background:transparent;"></a>__str__</h3> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">我们先定义一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">Student</code>类，打印一个实例：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>
<span class="prompt" style="color:rgb(153,0,115);">... </span>    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self, name)</span>:</span>
<span class="prompt" style="color:rgb(153,0,115);">... </span>        self.name = name
...
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>print(Student(<span class="string" style="color:rgb(221,17,68);">'Michael'</span>))
&lt;__main__.Student object at <span class="number" style="color:rgb(0,153,153);">0x109afb190</span>&gt;
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">打印出一堆<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">&lt;__main__.Student object at 0x109afb190&gt;</code>，不好看。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">怎么才能打印得好看呢？只需要定义好<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__str__()</code>方法，返回一个好看的字符串就可以了：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>
<span class="prompt" style="color:rgb(153,0,115);">... </span>    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self, name)</span>:</span>
<span class="prompt" style="color:rgb(153,0,115);">... </span>        self.name = name
<span class="prompt" style="color:rgb(153,0,115);">... </span>    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__str__</span><span class="params">(self)</span>:</span>
<span class="prompt" style="color:rgb(153,0,115);">... </span>        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> <span class="string" style="color:rgb(221,17,68);">'Student object (name: %s)'</span> % self.name
...
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>print(Student(<span class="string" style="color:rgb(221,17,68);">'Michael'</span>))
Student object (name: Michael)
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">这样打印出来的实例，不但好看，而且容易看出实例内部重要的数据。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">但是细心的朋友会发现直接敲变量不用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">print</code>，打印出来的实例还是不好看：</p> 
   <pre><code class="xml">&gt;&gt;&gt; s = Student('Michael')
&gt;&gt;&gt; s
<span class="tag" style="color:rgb(0,0,128);">&lt;<span class="title">__main__.Student</span> <span class="attribute" style="color:rgb(0,128,128);">object</span> <span class="attribute" style="color:rgb(0,128,128);">at</span> <span class="attribute" style="color:rgb(0,128,128);">0x109afb310</span>&gt;</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">这是因为直接显示变量调用的不是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__str__()</code>，而是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__repr__()</code>，两者的区别是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__str__()</code>返回用户看到的字符串，而<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__repr__()</code>返回程序开发者看到的字符串，也就是说，<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__repr__()</code>是为调试服务的。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">解决办法是再定义一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__repr__()</code>。但是通常<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__str__()</code>和<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__repr__()</code>代码都是一样的，所以，有个偷懒的写法：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>
    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self, name)</span>:</span>
        self.name = name
    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__str__</span><span class="params">(self)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> <span class="string" style="color:rgb(221,17,68);">'Student object (name=%s)'</span> % self.name
    __repr__ = __str__
</code></pre> 
   <h3 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;color:rgb(68,68,68);font-size:18px;line-height:24px;"> <a name="#__iter__" style="color:rgb(5,147,211);background:transparent;"></a>__iter__</h3> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">如果一个类想被用于<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">for ... in</code>循环，类似list或tuple那样，就必须实现一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__iter__()</code>方法，该方法返回一个迭代对象，然后，Python的for循环就会不断调用该迭代对象的<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__next__()</code>方法拿到循环的下一个值，直到遇到<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">StopIteration</code>错误时退出循环。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">我们以斐波那契数列为例，写一个Fib类，可以作用于for循环：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Fib</span><span class="params">(object)</span>:</span>
    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self)</span>:</span>
        self.a, self.b = <span class="number" style="color:rgb(0,153,153);">0</span>, <span class="number" style="color:rgb(0,153,153);">1</span> <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># 初始化两个计数器a，b</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__iter__</span><span class="params">(self)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> self <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># 实例本身就是迭代对象，故返回自己</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__next__</span><span class="params">(self)</span>:</span>
        self.a, self.b = self.b, self.a + self.b <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># 计算下一个值</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> self.a &gt; <span class="number" style="color:rgb(0,153,153);">100000</span>: <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># 退出循环的条件</span>
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">raise</span> StopIteration()
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> self.a <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># 返回下一个值</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">现在，试试把Fib实例作用于for循环：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">for</span> n <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">in</span> Fib():
<span class="prompt" style="color:rgb(153,0,115);">... </span>    print(n)
...
<span class="number" style="color:rgb(0,153,153);">1</span>
<span class="number" style="color:rgb(0,153,153);">1</span>
<span class="number" style="color:rgb(0,153,153);">2</span>
<span class="number" style="color:rgb(0,153,153);">3</span>
<span class="number" style="color:rgb(0,153,153);">5</span>
...
<span class="number" style="color:rgb(0,153,153);">46368</span>
<span class="number" style="color:rgb(0,153,153);">75025</span>
</code></pre> 
   <h3 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;color:rgb(68,68,68);font-size:18px;line-height:24px;"> <a name="#__getitem__" style="color:rgb(5,147,211);background:transparent;"></a>__getitem__</h3> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">Fib实例虽然能作用于for循环，看起来和list有点像，但是，把它当成list来使用还是不行，比如，取第5个元素：</p> 
   <pre><code class="xml">&gt;&gt;&gt; Fib()[5]
Traceback (most recent call last):
  File "<span class="tag" style="color:rgb(0,0,128);">&lt;<span class="title">stdin</span>&gt;</span>", line 1, in <span class="tag" style="color:rgb(0,0,128);">&lt;<span class="title">module</span>&gt;</span>
TypeError: 'Fib' object does not support indexing
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">要表现得像list那样按照下标取出元素，需要实现<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getitem__()</code>方法：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Fib</span><span class="params">(object)</span>:</span>
    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__getitem__</span><span class="params">(self, n)</span>:</span>
        a, b = <span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">1</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">for</span> x <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">in</span> range(n):
            a, b = b, a + b
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> a
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">现在，就可以按下标访问数列的任意一项了：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f = Fib()
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">0</span>]
<span class="number" style="color:rgb(0,153,153);">1</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">1</span>]
<span class="number" style="color:rgb(0,153,153);">1</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">2</span>]
<span class="number" style="color:rgb(0,153,153);">2</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">3</span>]
<span class="number" style="color:rgb(0,153,153);">3</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">10</span>]
<span class="number" style="color:rgb(0,153,153);">89</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">100</span>]
<span class="number" style="color:rgb(0,153,153);">573147844013817084101</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">但是list有个神奇的切片方法：</p> 
   <pre><code class="css">&gt;&gt;&gt; <span class="tag" style="color:rgb(0,0,128);">list</span>(<span class="tag" style="color:rgb(0,0,128);">range</span>(100))<span class="attr_selector">[5:10]</span>
<span class="attr_selector">[5, 6, 7, 8, 9]</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">对于Fib却报错。原因是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getitem__()</code>传入的参数可能是一个int，也可能是一个切片对象<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">slice</code>，所以要做判断：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Fib</span><span class="params">(object)</span>:</span>
    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__getitem__</span><span class="params">(self, n)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> isinstance(n, int): <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># n是索引</span>
            a, b = <span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">1</span>
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">for</span> x <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">in</span> range(n):
                a, b = b, a + b
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> a
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> isinstance(n, slice): <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># n是切片</span>
            start = n.start
            stop = n.stop
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> start <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">is</span> <span class="built_in" style="color:rgb(0,134,179);">None</span>:
                start = <span class="number" style="color:rgb(0,153,153);">0</span>
            a, b = <span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">1</span>
            L = []
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">for</span> x <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">in</span> range(stop):
                <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> x &gt;= start:
                    L.append(a)
                a, b = b, a + b
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> L
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">现在试试Fib的切片：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f = Fib()
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[<span class="number" style="color:rgb(0,153,153);">0</span>:<span class="number" style="color:rgb(0,153,153);">5</span>]
[<span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">2</span>, <span class="number" style="color:rgb(0,153,153);">3</span>, <span class="number" style="color:rgb(0,153,153);">5</span>]
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>f[:<span class="number" style="color:rgb(0,153,153);">10</span>]
[<span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">2</span>, <span class="number" style="color:rgb(0,153,153);">3</span>, <span class="number" style="color:rgb(0,153,153);">5</span>, <span class="number" style="color:rgb(0,153,153);">8</span>, <span class="number" style="color:rgb(0,153,153);">13</span>, <span class="number" style="color:rgb(0,153,153);">21</span>, <span class="number" style="color:rgb(0,153,153);">34</span>, <span class="number" style="color:rgb(0,153,153);">55</span>]
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">但是没有对step参数作处理：</p> 
   <pre><code class="css">&gt;&gt;&gt; <span class="tag" style="color:rgb(0,0,128);">f</span><span class="attr_selector">[:10:2]</span>
<span class="attr_selector">[1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">也没有对负数作处理，所以，要正确实现一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getitem__()</code>还是有很多工作要做的。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">此外，如果把对象看成<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">dict</code>，<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getitem__()</code>的参数也可能是一个可以作key的object，例如<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">str</code>。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">与之对应的是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__setitem__()</code>方法，把对象视作list或dict来对集合赋值。最后，还有一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__delitem__()</code>方法，用于删除某个元素。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">总之，通过上面的方法，我们自己定义的类表现得和Python自带的list、tuple、dict没什么区别，这完全归功于动态语言的“鸭子类型”，不需要强制继承某个接口。</p> 
   <h3 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;color:rgb(68,68,68);font-size:18px;line-height:24px;"> <a name="#__getattr__" style="color:rgb(5,147,211);background:transparent;"></a>__getattr__</h3> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">正常情况下，当我们调用类的方法或属性时，如果不存在，就会报错。比如定义<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">Student</code>类：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self)</span>:</span>
        self.name = <span class="string" style="color:rgb(221,17,68);">'Michael'</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">调用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">name</code>属性，没问题，但是，调用不存在的<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">score</code>属性，就有问题了：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s = Student()
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>print(s.name)
Michael
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>print(s.score)
Traceback (most recent call last):
  ...
AttributeError: <span class="string" style="color:rgb(221,17,68);">'Student'</span> object has no attribute <span class="string" style="color:rgb(221,17,68);">'score'</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">错误信息很清楚地告诉我们，没有找到<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">score</code>这个attribute。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">要避免这个错误，除了可以加上一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">score</code>属性外，Python还有另一个机制，那就是写一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getattr__()</code>方法，动态返回一个属性。修改如下：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self)</span>:</span>
        self.name = <span class="string" style="color:rgb(221,17,68);">'Michael'</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__getattr__</span><span class="params">(self, attr)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> attr==<span class="string" style="color:rgb(221,17,68);">'score'</span>:
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> <span class="number" style="color:rgb(0,153,153);">99</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">当调用不存在的属性时，比如<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">score</code>，Python解释器会试图调用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getattr__(self, 'score')</code>来尝试获得属性，这样，我们就有机会返回<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">score</code>的值：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s = Student()
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s.name
<span class="string" style="color:rgb(221,17,68);">'Michael'</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s.score
<span class="number" style="color:rgb(0,153,153);">99</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">返回函数也是完全可以的：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__getattr__</span><span class="params">(self, attr)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> attr==<span class="string" style="color:rgb(221,17,68);">'age'</span>:
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">lambda</span>: <span class="number" style="color:rgb(0,153,153);">25</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">只是调用方式要变为：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s.age()
<span class="number" style="color:rgb(0,153,153);">25</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">注意，只有在没有找到属性的情况下，才调用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getattr__</code>，已有的属性，比如<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">name</code>，不会在<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getattr__</code>中查找。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">此外，注意到任意调用如<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">s.abc</code>都会返回<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">None</code>，这是因为我们定义的<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getattr__</code>默认返回就是<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">None</code>。要让class只响应特定的几个属性，我们就要按照约定，抛出<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">AttributeError</code>的错误：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__getattr__</span><span class="params">(self, attr)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">if</span> attr==<span class="string" style="color:rgb(221,17,68);">'age'</span>:
            <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">lambda</span>: <span class="number" style="color:rgb(0,153,153);">25</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">raise</span> AttributeError(<span class="string" style="color:rgb(221,17,68);">'\'Student\' object has no attribute \'%s\''</span> % attr)
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">这实际上可以把一个类的所有属性和方法调用全部动态化处理了，不需要任何特殊手段。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">这种完全动态调用的特性有什么实际作用呢？作用就是，可以针对完全动态的情况作调用。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">举个例子：</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">现在很多网站都搞REST API，比如新浪微博、豆瓣啥的，调用API的URL类似：</p> 
   <ul style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">
    <li><a href="http://api.server/user/friends" rel="nofollow" style="color:rgb(5,147,211);text-decoration:none;background:transparent;">http://api.server/user/friends</a></li> 
    <li><a href="http://api.server/user/timeline/list" rel="nofollow" style="color:rgb(5,147,211);text-decoration:none;background:transparent;">http://api.server/user/timeline/list</a></li> 
   </ul>
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">如果要写SDK，给每个URL对应的API都写一个方法，那得累死，而且，API一旦改动，SDK也要改。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">利用完全动态的<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__getattr__</code>，我们可以写出一个链式调用：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Chain</span><span class="params">(object)</span>:</span>

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self, path=<span class="string" style="color:rgb(221,17,68);">''</span>)</span>:</span>
        self._path = path

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__getattr__</span><span class="params">(self, path)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> Chain(<span class="string" style="color:rgb(221,17,68);">'%s/%s'</span> % (self._path, path))

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__str__</span><span class="params">(self)</span>:</span>
        <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">return</span> self._path

    __repr__ = __str__
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">试试：</p> 
   <pre><code class="php">&gt;&gt;&gt; Chain().status.user.timeline.<span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">list</span>
<span class="string" style="color:rgb(221,17,68);">'/status/user/timeline/list'</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">这样，无论API怎么变，SDK都可以根据URL实现完全动态的调用，而且，不随API的增加而改变！</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">还有些REST API会把参数放到URL中，比如GitHub的API：</p> 
   <pre><code class="ruby"><span class="constant" style="color:rgb(0,153,153);">GET</span> /users/<span class="symbol" style="color:rgb(153,0,115);">:user/repos</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">调用时，需要把<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">:user</code>替换为实际用户名。如果我们能写出这样的链式调用：</p> 
   <pre><code class="undefined">Chain().users('michael').repos
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">就可以非常方便地调用API了。有兴趣的童鞋可以试试写出来。</p> 
   <h3 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;color:rgb(68,68,68);font-size:18px;line-height:24px;"> <a name="#__call__" style="color:rgb(5,147,211);background:transparent;"></a>__call__</h3> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">一个对象实例可以有自己的属性和方法，当我们调用实例方法时，我们用<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">instance.method()</code>来调用。能不能直接在实例本身上调用呢？在Python中，答案是肯定的。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">任何类，只需要定义一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__call__()</code>方法，就可以直接对实例进行调用。请看示例：</p> 
   <pre><code class="python"><span class="class" style="color:rgb(68,85,136);font-weight:bold;"><span class="keyword" style="color:rgb(51,51,51);">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span>
    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__init__</span><span class="params">(self, name)</span>:</span>
        self.name = name

    <span class="function"><span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">def</span> <span class="title" style="color:rgb(153,0,0);font-weight:bold;">__call__</span><span class="params">(self)</span>:</span>
        print(<span class="string" style="color:rgb(221,17,68);">'My name is %s.'</span> % self.name)
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">调用方式如下：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s = Student(<span class="string" style="color:rgb(221,17,68);">'Michael'</span>)
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>s() <span class="comment" style="color:rgb(153,153,136);font-style:italic;"># self参数不要传入</span>
My name <span class="keyword" style="color:rgb(51,51,51);font-weight:bold;">is</span> Michael.
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;"><code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__call__()</code>还可以定义参数。对实例进行直接调用就好比对一个函数进行调用一样，所以你完全可以把对象看成函数，把函数看成对象，因为这两者之间本来就没啥根本的区别。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">如果你把对象看成函数，那么函数本身其实也可以在运行期动态创建出来，因为类的实例都是运行期创建出来的，这么一来，我们就模糊了对象和函数的界限。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">那么，怎么判断一个变量是对象还是函数呢？其实，更多的时候，我们需要判断一个对象是否能被调用，能被调用的对象就是一个<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">Callable</code>对象，比如函数和我们上面定义的带有<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">__call__()</code>的类实例：</p> 
   <pre><code class="python"><span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>callable(Student())
<span class="built_in" style="color:rgb(0,134,179);">True</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>callable(max)
<span class="built_in" style="color:rgb(0,134,179);">True</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>callable([<span class="number" style="color:rgb(0,153,153);">1</span>, <span class="number" style="color:rgb(0,153,153);">2</span>, <span class="number" style="color:rgb(0,153,153);">3</span>])
<span class="built_in" style="color:rgb(0,134,179);">False</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>callable(<span class="built_in" style="color:rgb(0,134,179);">None</span>)
<span class="built_in" style="color:rgb(0,134,179);">False</span>
<span class="prompt" style="color:rgb(153,0,115);">&gt;&gt;&gt; </span>callable(<span class="string" style="color:rgb(221,17,68);">'str'</span>)
<span class="built_in" style="color:rgb(0,134,179);">False</span>
</code></pre> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">通过<code style="font-size:12px;font-family:Consolas, monospace, serif;color:rgb(221,0,85);border:1px solid rgb(221,221,221);background:rgb(250,250,250);">callable()</code>函数，我们就可以判断一个对象是否是“可调用”对象。</p> 
   <h3 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:normal;color:rgb(68,68,68);font-size:18px;line-height:24px;"> <a name="#-E5-B0-8F-E7-BB-93" style="color:rgb(5,147,211);background:transparent;"></a>小结</h3> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">Python的class允许定义许多定制方法，可以让我们非常方便地生成特定的类。</p> 
   <p style="color:rgb(102,102,102);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;">转载。原文：https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014319098638265527beb24f7840aa97de564ccc7f20f6000</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
