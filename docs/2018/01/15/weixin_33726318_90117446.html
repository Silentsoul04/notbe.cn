<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>2017北京ArchSummit-参会感想 « NotBeCN</title>
  <meta name="description" content="             大会背景    时间：2017.12.8~2017.7.9 地点：北京 会议：ArchSummit -北京 2017架构师峰会 日程：http://bj2017.archsummit.com/schedule    我关注的点        架构升级和优化     高可用体系的一些专题 ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2018/01/15/weixin_33726318_90117446.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">2017北京ArchSummit-参会感想</h1>
    <p class="post-meta">Jan 15, 2018</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1>大会背景</h1> 
   <p>时间：2017.12.8~2017.7.9 <br>地点：北京 <br>会议：ArchSummit -北京 2017架构师峰会 <br>日程：<a href="http://bj2017.archsummit.com/schedule" rel="nofollow">http://bj2017.archsummit.com/schedule</a></p> 
   <h1>我关注的点</h1> 
   <ol>
    <li>架构升级和优化</li> 
    <li>高可用体系的一些专题</li> 
   </ol>
   <h1>架构升级和优化</h1> 
   <h2>爱奇艺移动端架构演进</h2> 
   <ol>
    <li>分享了爱奇艺从php到java的技术转型中遇到的问题：技术栈的切换，开发人员的技术转型，技术组建更替迭代。</li> 
    <li>从三个方面爱奇艺的移动架构优化：快（cache+异步）、稳（熔断+限流+灾备）、准（系统监控+业务检测）</li> 
   </ol>
   <p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/571ccbb6c16f1d821a398c186006977a.png" alt="image.png" title="image.png"></p> 
   <h2>转转的推荐系统升级之路</h2> 
   <p>分享了转转的推荐系统架构的升级之路：</p> 
   <ol>
    <li>粗力度的个性化推荐</li> 
    <li>细粒度多维度个性化推荐：增加用户画像，增强数据复用性，属性级别细化</li> 
    <li>实时的推荐系统：离线处理用户画像，用户兴趣实时化</li> 
    <li>基于ML的排序模型、找回模型、用户兴趣模型</li> 
   </ol>
   <p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/8a60feaea50a387cc671c8e2d1cd18e1.png" alt="image.png" title="image.png"></p> 
   <h2>知乎feed流架构演进</h2> 
   <ol>
    <li>所有人的Feed 都一样(热门榜单)</li> 
    <li>Feed 个性化，推模型：大V的粉丝难以实时分发、资源消耗大、排序难以实时调整、基于关系链的变更过滤难做</li> 
    <li>Feed 个性化，拉模型 + 离线计算(预计算)：资源冗余大、rt长、计算策略复杂、算法难以实时调整</li> 
    <li>Feed 个性化，拉模型，采用 Redis Module，将计算下沉接近存储： <br><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/1b41ed8f6d55f87d09c733ef36d7a445.png" alt="image.png" title="image.png"></li> 
   </ol>
   <h1>高可用架构体系</h1> 
   <h2>滴滴的高可用架构</h2> 
   <p>1.业务增加的压力下带来的架构演进 <br><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/6071456f2514e1c60e08afe6c74fc38e.png" alt="image.png" title="image.png"></p> 
   <p>2.高可用的抓手 <br><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/71168b4fb530c5fda2ec8dc604197839.png" alt="image.png" title="image.png"></p> 
   <p>3.滴滴也搞了一套多活的架构，和集团不一样的地方是滴滴做的是同城多活，可以理解为同城下的单元化架构。 <br><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/71ae8486e67ec665e22c4151ea8c6c1f.png" alt="image.png" title="image.png"></p> 
   <p>4.滴滴在数据同步方面划分了不同维度的数据，使用了不同的数据同步方式。 <br><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/ff098d22e2a8bd924c41ee72f40007c3.png" alt="image.png" title="image.png"></p> 
   <h2>微博的弹性调度</h2> 
   <p>微博的业务场景：热点事件，如鹿晗恋爱、谢娜怀孕 </p> 
   <p>微博调度系统的架构演进：</p> 
   <ol>
    <li>人工：运维同学手动扩容</li> 
    <li>自动：根据QPS、AvgTime定时定量去扩容</li> 
    <li>智能化：根据RT/SLA/SUCCESSRATE做容量计算，每分钟进行采集和水位判定，达到预先设定的阈值水位进行自动扩容。</li> 
   </ol>
   <p>智能化弹性扩容中：</p> 
   <pre><code> 1. 为了防抖，每5分钟满足3次采集水位点才算达到阈值水位。    
 2. 为了计算准确性，去掉了性能最好和最差的百分之十的流量，计算中游的80%的流量。     
</code></pre> 
   <p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/61bcf4da4c5930c66513d70421c51610.png" alt="image.png" title="image.png"></p> 
   <h2>看分布式服务化架构关键技术：左耳朵耗子</h2> 
   <p>耗子哥的原标题是:<code>不改一行代码提升系统的性能和稳定性并支持秒杀：看分布式服务化架构关键技术</code>。看到这个标题还是很好奇的，带着疑问提前一小时来到耗子哥的专场，发现只有地下可以做了，再晚一点连站着的地方都没有了。 </p> 
   <p>1.耗子哥分享了他们的统一监控架构设计，通过日志的收集-&gt;聚合-&gt;计算-&gt;执行监控。</p> 
   <p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/f2f5b73fc1a8d893e4887e8178dc25a7.png" alt="image.png" title="image.png"></p> 
   <p>2.基于网关的流量调度技术，吧很多的事情前置到网关层去做 </p> 
   <p><img src="http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/cf58746f147e0dd0cadc0867aadc0a06.png" alt="image.png" title="image.png"></p> 
   <p>3.提到了如何不改一行代码：做秒杀、提升稳定性 <br>3.1. 先思考下，不改代码的情况下如何让一个性能很差的系统支持秒杀的场景？</p> 
   <pre><code>     耗子哥的案例中：通过流量网关，做一个随机数的规则开关，随机的结果不符合开关规则就会丢弃该请求，随机数的规则是根据请求数，以此达到随机流控的效果，间接的支持了秒杀。     
</code></pre> 
   <p>3.2. 如何不改代码节省百万的成本：原系统使用阿里云存储，阿里云价格较为昂贵，想切换到其他存储方，但是小厂家的储存的稳定性没有保证。最后选择使用小厂家的存储做主存储，阿里云作为关键数据的灾备，既节省了成本又保证了数据可靠性。 </p> 
   <p><em>启发</em>：在听这个分享之前，我一直在思考如果是让我不改代码支持秒杀，我会怎么做，心中一直没给自己一个满意的答案，虽然今天在听了耗子哥的方式之后，会给我们一种标题党的感觉，但是回头认真思考会发现，其实作为技术人员，我们往往容易在做事情的时候吧自己限制在自己的思维空间呢，很多事情都行通过技术来改变，但是有些时候一些东西其实是可以换一种方式更轻松更高效的解决的。</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
