<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>F# 20分钟快速上手（一） « NotBeCN</title>
  <meta name="description" content="             从Allen Lee的《从C# 3.0到F#》一文开始，感觉园子里F#正在升温。Chris Smith写了一个F#的小系列，这里翻译出来与大家分享。    第一篇，从零开始编写我们的第一个F#程序。    什么是F#，我为何要学它？    F#是一种.NET平台上的函数式编程语言。就像C...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2018/03/01/weixin_34292402_90129615.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">F# 20分钟快速上手（一）</h1>
    <p class="post-meta">Mar 1, 2018</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">从<a href="http://www.cnblogs.com/allenlooplee/" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">Allen Lee</a>的《<a href="http://www.cnblogs.com/allenlooplee/archive/2008/07/25/1251631.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">从C# 3.0到F#</a>》一文开始，感觉园子里F#正在升温。<a href="http://blogs.msdn.com/chrsmith" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">Chris Smith</a>写了一个F#的小系列，这里翻译出来与大家分享。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">第一篇，从零开始编写我们的第一个F#程序。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>什么是F#，我为何要学它？</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#是一种.NET平台上的<a href="http://en.wikipedia.org/wiki/Functional_programming" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">函数式编程</a>语言。就像C#和VB.NET，F#可以利用.NET的核心类库，如<a href="http://msdn.microsoft.com/en-us/netframework/aa663326.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">WPF</a>，<a href="http://msdn.microsoft.com/en-us/netframework/aa663324.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">WCF</a>，<a href="http://msdn.microsoft.com/en-us/office/aa905533.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">VSTO</a>等等，通过F#您甚至可以使用<a href="http://msdn.microsoft.com/en-us/xna/default.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">XNA</a>编写XBox游戏。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">仅仅如此并不意味着您应该去学习它。那为何要使用F#呢？作为一种函数式编程语言，F#使得某些领域的编程要比命令式编程（如使用C#）更为容易。并行编程（Parallel Programming）和面向语言编程（Language-Oriented Programming）是其中的两个领域。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">如果您曾经编写过.NET应用程序，并感觉自己在努力使用手头的语言表达自己的想法，也许F#就是您在寻找的。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>上路</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">首先得<a href="http://research.microsoft.com/research/downloads/Details/7ac148a7-149b-4056-aa06-1e6754efd36f/Details.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">下载</a>（F#的最新版本1.9.4.19）和安装。安装程序会在VS2005和VS2008中安装F#的项目系统（项目模板和项模板）。先来创建一个新的F#项目。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/images/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/createProject_2.png" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><img src="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/createProject_thumb.png" alt="createProject" width="524" height="368" style="border:0px none;"></a></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">然后添加一个新的F#源文件。默认条件下，新建的源文件包含了很多“教学”代码，全部删除，然后输入下面的代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">#light<br><br> let&nbsp;square&nbsp;x&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="line-height:1.5;">*</span>
    <span style="line-height:1.5;">&nbsp;x<br> let&nbsp;numbers&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">]<br> let&nbsp;squares&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;List.map&nbsp;square&nbsp;numbers<br> printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">N^2&nbsp;=&nbsp;%A</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;squares<br><br> open&nbsp;System<br> Console.ReadKey(</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">)&nbsp;<br></span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">按下F5运行程序，您会看到：</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/images/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/squareResults_2.png" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><img src="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/squareResults_thumb.png" alt="squareResults" width="576" height="311" style="border:0px none;"></a></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这些并没有太多让人兴奋的。我们来逐行的分析下代码，看看到底有什么不同之处，在此之前先介绍下VFSI。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>Visual Studio中的F#交互（Interactive）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#交互控制台（F# Interactive Console, FSI）采用的是“REPL loop”模式，即Read-Evaluate-Print-Loop。也就是输入一段代码，编译并执行，然后输出结果。通过它您可以快速地开发和测试程序。要在VS中启用FSI，打开Add-in Manager窗口。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/images/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/addInManager_2.png" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><img src="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/addInManager_thumb.png" alt="addInManager" width="428" height="370" style="border:0px none;"></a></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">选中“F# Inactive for Visual Studio”。然后，选中程序的前两行代码：</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/images/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/firstTwoLines_2.png" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><img src="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/firstTwoLines_thumb.png" alt="firstTwoLines" width="244" height="94" style="border:0px none;"></a></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">接着按下Alt+Enter（实际上，如果FSI还么有打开，需要按两次Alt+Enter）。这时会看到出现了一个工具窗口：</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/images/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/fsiWindow_2.png" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><img src="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_A1C2/fsiWindow_thumb.png" alt="fsiWindow" width="480" height="389" style="border:0px none;"></a></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们刚才做的事情是将代码片段直接发送给FSI会话，FSI将结果输出。结果是函数“square”的定义，它接受int类型参数，返回类型也是int。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">接下来在FSI窗口输入“List.map square [1 .. 2 .. 10];;”。“;;”是告诉FSI停止阅读程序，立即进行求值。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">&gt;</span>
    <span style="line-height:1.5;">&nbsp;List.map&nbsp;square&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">];;<br> val&nbsp;it&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;list&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">9</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">25</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">49</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">81</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">现在我们可以方便地通过FSI来学习F#了，马上来看看我们的程序究竟做了什么吧。不过仍建议您在VS源代码编辑器中输入代码，使用“Select（原文是Highlight，感觉Select更贴切） + Alt + Enter”将代码片段发送至FSI。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>语言基础</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>#light（OCaml兼容）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#源自OCaml，具有交互编译OCaml的能力，也就是可以不经修改即可编译简单的OCaml程序。这种能力也带来了令人讨厌的语法。#light（发音为hash-light）是一个编译器指令，可以简化F#的语法。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">强烈建议您保持使用#light，您会发现，在大多数F#代码片段中要么会声明它，要么是假定已经声明了它。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>let square x = x * x（类型推演）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这行代码定义了一个函数：square，它会求得数字x的平方。考虑一下C#中等价的代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">public</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">static</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;square(</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;x)<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">return</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="line-height:1.5;">*</span>
    <span style="line-height:1.5;">&nbsp;x;<br> }</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在C#中，您需要制定参数和返回值的类型信息，而F#则帮您搞定了。这种行为称为<strong>类型推演（Type Inference）</strong>。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">从函数的签名，F#可以知道“square”函数接受一个参数“x”，并且函数返回“x * x”（在函数体内的最后一次求值将作为返回值，因此无须return关键字）。因为很多基元类型都支持*操作，比如byte，uint64，double等，F#默认会使用int类型，有符号的32位整数。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">现在考虑下面的代码，它为其中的一个参数提供了“<strong>类型注解（type annotation）</strong>”，告诉编译器期望的类型。因为x标为“string”，“+”操作只定义在两个string间，因此y也必须为string类型，返回值是两个字符串拼接的结果。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">&gt;</span>
    <span style="line-height:1.5;">&nbsp;let&nbsp;concat&nbsp;(x&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">)&nbsp;y&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="line-height:1.5;">+</span>
    <span style="line-height:1.5;">&nbsp;y;;<br> val&nbsp;concat&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br><br></span>
    <span style="line-height:1.5;">&gt;</span>
    <span style="line-height:1.5;">&nbsp;concat&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">World!</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;;<br> val&nbsp;it&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;World!</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>&nbsp;
    <br>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">后面我们将讨论类型推演的更多高级主题，现在您只要享受F#编译器的智能带来的方便就好了。&nbsp;</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>let numbers = [1 .. 10]（F# lists）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这行代码声明了一个列表（list），其元素是从1至10。如果您用的是[|1 .. 10|]，F#会创建一个.NET的整型数组（array）。而在F#中，列表是一个不可变的链表（linked list），这也是函数式编程的基础。试着将这些代码输入到FSI中（记住添加“;;”）：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Define&nbsp;a&nbsp;list&nbsp;</span>
    <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
    <span style="line-height:1.5;">let&nbsp;vowels&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">e</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">i</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">o</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">u</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">]&nbsp;<br><br></span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Attach&nbsp;item&nbsp;to&nbsp;front&nbsp;(cons)</span>
    <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
    <span style="line-height:1.5;">let&nbsp;cons&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">a</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">&nbsp;::&nbsp;vowels&nbsp;<br><br></span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Concat&nbsp;two&nbsp;lists</span>
    <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
    <span style="line-height:1.5;">let&nbsp;sometimes&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;vowels&nbsp;@&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">y</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">]</span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我将在本系列的第二篇中更深入地介绍列表。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>let squares = List.map square numbers</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">现在我们有了一个整型列表（numbers）和一个函数（square），我们希望创建一个新的列表，它的每一项是对numbers的每一项进行square运算后的结果。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">幸运的是，List.map可以做到。考虑下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">&gt;</span>
    <span style="line-height:1.5;">&nbsp;List.map&nbsp;(fun&nbsp;x&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="line-height:1.5;">%</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">)&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">];;<br> val&nbsp;it&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">bool</span>
    <span style="line-height:1.5;">&nbsp;list<br></span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;[</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">代码（fun x -&gt; x % 2 = 0）定义了一个匿名函数，称为<a href="http://en.wikipedia.org/wiki/Lambda_calculus" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">lamdba表达式</a>，接受一个参数x，返回值为表达式“x % 2 = 0”的结果，也就是判断x是否为偶数。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">注意我们刚才做的——将一个函数作为参数传递给另一个函数。在C#中这个并不容易。但在F#可以很清楚地表达出来，而且代码很简洁。将函数像值一样传递被称为“一等函数（first order functions）”，也是函数式编程的基础。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>printfn "N^2 = %A" squares</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">printf是打印文本到控制台窗口的一种简单而又类型安全的方式。要更好地了解printf，考虑下面的例子，它打印一个整数、浮点数和字符串。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">%d&nbsp;*&nbsp;%f&nbsp;=&nbsp;%s</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">5</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0.75</span>
    <span style="line-height:1.5;">&nbsp;((</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">5.0</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">*</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0.75</span>
    <span style="line-height:1.5;">).ToString());;<br></span>
    <span style="color:rgb(128,0,128);line-height:1.5;">5</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">*</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0.750000</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">3.75</span>
    <span style="line-height:1.5;"><br> val&nbsp;it&nbsp;:&nbsp;unit&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;()</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">%d，%f，%s分别是int、float、string的占位符。%A则可用于打印任何值。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>Console.ReadKey(true) (.NET互操作)</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们程序的最后一行只是简单地调用了System.Console.ReadKey方法，这样可以让程序在关闭其暂停。因为F#建立在.NET的基础上，您可以在F#中调用任何.NET类库——从正则表达式到WinForms。代码“open System”用于打开命名空间，类似于C#中的using。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">现在我们已经有了F#的基础知识，可以继续学习更有趣的基础类型和F#概念了，希望您关注第二篇文章！</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">原文链接：<a href="http://blogs.msdn.com/chrsmith/archive/2008/05/02/f-in-20-minutes-part-i.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">http://blogs.msdn.com/chrsmith/archive/2008/05/02/f-in-20-minutes-part-i.aspx</a>。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:1.8;"><font color="#333333"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：http://www.cnblogs.com/anderslly/archive/2008/08/03/fs-in-20-minutes.html，如需转载请自行联系原作者。</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
