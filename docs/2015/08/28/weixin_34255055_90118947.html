<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>svn操作 « NotBeCN</title>
  <meta name="description" content="             转自：http://www.cnblogs.com/jx270/archive/2013/03/04/2943595.html    http://blog.sina.com.cn/s/blog_963453200101eiuq.html    &nbsp;    1、检出svn&nbs...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2015/08/28/weixin_34255055_90118947.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">svn操作</h1>
    <p class="post-meta">Aug 28, 2015</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p>转自：http://www.cnblogs.com/jx270/archive/2013/03/04/2943595.html</p> 
   <p>http://blog.sina.com.cn/s/blog_963453200101eiuq.html</p> 
   <p>&nbsp;</p> 
   <p>1、检出<br>svn&nbsp;&nbsp;co&nbsp;&nbsp;http://路径(目录或文件的全路径)　[本地目录全路径]&nbsp;</p> 
   <p>&nbsp;--username 用户名 --password 密码svn&nbsp;&nbsp;co&nbsp;&nbsp;svn://路径(目录或文件的全路径)　[本地目录全路径]&nbsp;&nbsp;--username 用户名 --password 密码<br>svn&nbsp;&nbsp;checkout&nbsp;&nbsp;http://路径(目录或文件的全路径)　[本地目录全路径] --username　用户名<br>svn&nbsp;&nbsp;checkout&nbsp;&nbsp;svn://路径(目录或文件的全路径)　[本地目录全路径]&nbsp;&nbsp;--username　用户名<br>注：如果不带--password 参数传输密码的话，会提示输入密码，建议不要用明文的--password 选项。<br>　　其中 username 与 password前是两个短线，不是一个。<br>　　不指定本地目录全路径，则检出到当前目录下。<br>例子：<strong><br></strong><span style="color:#ff0000;">svn co svn://</span>localhost/测试工具&nbsp;<span style="color:#000000;">/home/testtools</span>&nbsp;<span style="color:#ff0000;">--username</span>&nbsp;wzhnsc<br><span style="color:#ff0000;">svn co http://</span>localhost/test/testapp&nbsp;<span style="color:#ff0000;">--username</span>&nbsp;wzhnsc<br><span style="color:#ff0000;">svn checkout svn://</span>localhost/测试工具&nbsp;<span style="color:#000000;">/home/testtools</span>&nbsp;<span style="color:#ff0000;">--username</span>&nbsp;wzhnsc<br><span style="color:#ff0000;">svn</span>&nbsp;<span style="color:#ff0000;">checkout</span><span style="color:#ff0000;">http://</span>localhost/test/testapp&nbsp;<span style="color:#ff0000;">--username</span>&nbsp;wzhnsc<strong><strong><br><br></strong></strong>2<strong>、</strong>导出(导出一个干净的不带.svn文件夹的目录树<strong><strong><strong>)<br>svn&nbsp;&nbsp;export&nbsp;&nbsp;[-r 版本号]&nbsp;&nbsp;http://路径(目录或文件的全路径) [本地目录全路径]　--username　用户名<br>svn&nbsp;&nbsp;export&nbsp;&nbsp;[-r 版本号]&nbsp;&nbsp;svn://路径(目录或文件的全路径) [本地目录全路径]　--username　用户名<br>svn&nbsp;&nbsp;export&nbsp;&nbsp;本地检出的(即带有.svn文件夹的)目录全路径&nbsp;&nbsp;要导出的本地目录全路径<br>注：第一种从版本库导出干净工作目录树的形式是指定URL，<br>　　　如果指定了修订版本号，会导出相应的版本，<br>　　　如果没有指定修订版本，则会导出最新的，导出到指定位置。<br>　　　如果省略&nbsp;本地目录全路径，URL的最后一部分会作为本地目录的名字。<br>　　第二种形式是指定 本地检出的目录全路径 到 要导出的本地目录全路径，所有的本地修改将会保留，<br>　　　但是不在版本控制下(即没提交的新文件，因为.svn文件夹里没有与之相关的信息记录)的文件不会拷贝。<br>例子：<br></strong><span style="color:#ff0000;">svn</span>&nbsp;<strong>export</strong></strong></strong>&nbsp;<span style="color:#ff0000;">svn://</span>localhost/测试工具&nbsp;<span style="color:#000000;">/home/testtools</span>&nbsp;<span style="color:#ff0000;">--username</span>&nbsp;wzhnsc<strong><br><span style="color:#ff0000;">svn</span>&nbsp;<strong>export</strong></strong>&nbsp;<span style="color:#ff0000;">svn://</span>localhost/test/testapp&nbsp;<span style="color:#ff0000;">--username</span>&nbsp;wzhnsc<strong><br><span style="color:#ff0000;">svn</span>&nbsp;<strong>export</strong></strong>&nbsp;<span style="color:#000000;">/home/</span>testapp&nbsp;<span style="color:#000000;">/home/testtools</span><strong><strong><br></strong><br></strong>3、添加新文件&nbsp;<br>svn　add　文件名<br>注：告诉SVN服务器要添加文件了，还要用svn commint -m真实的上传上去！<br>例子：<br><span style="color:#ff0000;">svn add</span>&nbsp;test.php&nbsp;<span style="color:#000000;">＜－</span>&nbsp;添加test.php&nbsp;<br><span style="color:#ff0000;">svn commit -m</span>&nbsp;“添加我的测试用test.php“ test.php<br><span style="color:#ff0000;">svn add</span>&nbsp;*.php&nbsp;<span style="color:#000000;">＜－</span>&nbsp;添加当前目录下所有的php文件<br><span style="color:#ff0000;">svn commit -m</span>&nbsp;“添加我的测试用全部php文件“ *.php<br><br>4、提交<br>svn　commit　-m　“提交备注信息文本“　[-N]　[--no-unlock]　文件名<br>svn　ci　-m　“提交备注信息文本“　[-N]　[--no-unlock]　文件名<br>必须带上-m参数，参数可以为空，但是必须写上-m<strong><br></strong>例子：<br><span style="color:#ff0000;">svn commit -m</span>&nbsp;“提交当前目录下的全部在版本控制下的文件“ *&nbsp;<span style="color:#000000;">＜－</span>&nbsp;注意这个*表示全部文件<br><span style="color:#ff0000;">svn commit -m</span>&nbsp;“提交我的测试用test.php“ test.php<br><span style="color:#ff0000;">svn commit -m</span>&nbsp;“提交我的测试用test.php“&nbsp;<span style="color:#ff0000;">-N --no-unlock</span>&nbsp;test.php&nbsp;<span style="color:#000000;">＜－</span>&nbsp;保持锁就用–no-unlock开关<br><span style="color:#ff0000;">svn ci -m</span>&nbsp;“提交当前目录下的全部在版本控制下的文件“ *&nbsp;<span style="color:#000000;">＜－</span>&nbsp;注意这个*表示全部文件<br><span style="color:#ff0000;">svn ci -m</span>&nbsp;“提交我的测试用test.php“ test.php<br><span style="color:#ff0000;">svn ci -m</span>&nbsp;“提交我的测试用test.php“&nbsp;<span style="color:#ff0000;">-N --no-unlock</span>&nbsp;test.php&nbsp;<span style="color:#000000;">＜－</span>&nbsp;保持锁就用–no-unlock开关<br><br>5、更新文件<br>svn　update<br>svn　update　-r　修正版本　文件名<br>svn　update　文件名<br>例子：<br><span style="color:#ff0000;">svn update</span>&nbsp;<span style="color:#000000;">＜－ 后面没有目录，默认将当前目录以及子目录下的所有文件都更新到最新版本<br></span><span style="color:#ff0000;">svn update -r</span>&nbsp;<span style="color:#000000;">200 test.cpp</span>&nbsp;<span style="color:#000000;">＜－</span>&nbsp;<span style="color:#000000;">将版本库中的文件 test.cpp 还原到修正版本（revision）200<br></span><span style="color:#ff0000;">svn update</span>&nbsp;<span style="color:#000000;">test.php</span>&nbsp;<span style="color:#000000;">＜－</span>&nbsp;<span style="color:#000000;">更新与版本库同步。<br>　　　　　　　　　　　 提交的时候提示过期冲突，需要先 update 修改文件，<br>　　　　　　　　　　　 然后清除svn resolved，最后再提交commit。</span><br><br>6、删除文件<br>svn　delete　svn://路径(目录或文件的全路径) -m “删除备注信息文本”<br>推荐如下操作：<br><span style="color:#000000;">svn　delete　</span>文件名&nbsp;<br><span style="color:#000000;">svn　ci　-m　</span>“删除备注信息文本”<br>例子：<br><span style="color:#ff0000;">svn delete svn://</span>localhost/testapp/test.php&nbsp;<span style="color:#ff0000;">-m</span>&nbsp;“删除测试文件test.php”<br>推荐如下操作：<br><span style="color:#ff0000;">svn delete</span>&nbsp;test.php&nbsp;<br><span style="color:#ff0000;">svn ci -m</span>&nbsp;“删除测试文件test.php”<br><br>７、加锁/解锁&nbsp;<br>svn　lock　-m　“加锁备注信息文本“　[--force]　文件名&nbsp;<br>svn　unlock　文件名<br>例子：<br><span style="color:#ff0000;">svn lock -m</span>&nbsp;“锁信测试用test.php文件“ test.php&nbsp;<br><span style="color:#ff0000;">svn unlock</span>&nbsp;test.php<br><br>8、比较差异&nbsp;<br>svn　diff　文件名&nbsp;<br>svn　diff　-r　修正版本号m:修正版本号n　文件名<br>例子：<br><span style="color:#ff0000;">svn diff</span>&nbsp;test.php<span style="color:#000000;">＜－</span>&nbsp;将修改的文件与基础版本比较<br><span style="color:#ff0000;">svn diff -r</span>&nbsp;200<span style="color:#ff0000;">:</span>201 test.php<span style="color:#000000;">＜－</span>&nbsp;对 修正版本号200 和 修正版本号201 比较差异<br><br>9、查看文件或者目录状态<br>svn st&nbsp;目录路径/名<br>svn status 目录路径/名<span style="color:#000000;">＜－</span>&nbsp;目录下的文件和子目录的状态，正常状态不显示&nbsp;<br>　　　　　　　　　　　　　【?：不在svn的控制中； &nbsp;M：内容被修改；C：发生冲突；<br>　　　　　　　　　　　　　　A：预定加入到版本库；K：被锁定】&nbsp;<br>svn &nbsp;-v 目录路径/名<br>svn status -v 目录路径/名<span style="color:#000000;">＜－</span>&nbsp;显示文件和子目录状态<br>　　　　　　　　　　　　　　【第一列保持相同，第二列显示工作版本号，<br>　　　　　　　　　　　　　　　第三和第四列显示最后一次修改的版本号和修改人】&nbsp;<br>注：svn status、svn diff和 svn revert这三条命令在没有网络的情况下也可以执行的，<br>　　原因是svn在本地的.svn中保留了本地版本的原始拷贝。&nbsp;<br><br>10、查看日志<br>svn　log　文件名<br>例子：<br><span style="color:#ff0000;">svn log</span>&nbsp;test.php<span style="color:#000000;">＜－</span>&nbsp;显示这个文件的所有修改记录，及其版本号的变化&nbsp;<br><br>11、查看文件详细信息<br>svn　info　文件名<br>例子：<br><span style="color:#ff0000;">svn info</span>&nbsp;test.php<br><br>12、SVN 帮助<br>svn　help&nbsp;<span style="color:#000000;">＜－</span>&nbsp;全部功能选项<br>svn　help　ci&nbsp;<span style="color:#000000;">＜－ 具体功能的说明</span><br><br>13、查看版本库下的文件和目录列表&nbsp;<br>svn　list　svn://路径(目录或文件的全路径)<br>svn　ls　svn://路径(目录或文件的全路径)<br>例子：<br><span style="color:#ff0000;">svn list svn://</span>localhost/test<br><span style="color:#ff0000;">svn ls svn://</span>localhost/test&nbsp;<span style="color:#000000;">＜－</span>&nbsp;显示<span style="color:#ff0000;">svn://</span>localhost/test目录下的所有属于版本库的文件和目录&nbsp;<br><br>14、创建纳入版本控制下的新目录<br>svn　mkdir　目录名<br>svn　mkdir　-m　"新增目录备注文本"　http://目录全路径<br>例子：<br><span style="color:#ff0000;">svn mkdir</span>&nbsp;newdir<br><span style="color:#ff0000;">svn mkdir -m</span>&nbsp;"Making a new dir."&nbsp;<span style="color:#ff0000;">svn://</span>localhost/test/newdir&nbsp;<br>注：添加完子目录后，一定要回到根目录更新一下，不然在该目录下提交文件会提示“提交失败”<br><span style="color:#ff0000;">svn update</span><br>注：如果手工在checkout出来的目录里创建了一个新文件夹newsubdir，<br>　　再用<span style="color:#ff0000;">svn mkdir</span>&nbsp;newsubdir命令后，SVN会提示：<br>　　svn: 尝试用 “svn add”或 “svn add --non-recursive”代替？<br>　　svn: 无法创建目录“hello”: 文件已经存在<br>　　此时，用如下命令解决：<br>　　<span style="color:#ff0000;">svn add --non-recursive</span>&nbsp;newsubdir<br>　　在进入这个newsubdir文件夹，用ls -a查看它下面的全部目录与文件，会发现多了：.svn目录<br>　　再用 svn mkdir -m "添hello功能模块文件" svn://localhost/test/newdir/newsubdir 命令，<br>　　SVN提示：<br>　　svn: File already exists: filesystem '/data/svnroot/test/db', transaction '4541-1',<br>　　path '/newdir/newsubdir '<br><br>15、恢复本地修改&nbsp;<br>svn　revert　[--recursive]　文件名<br>注意: 本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复被删除的目录。<br>例子：<br><span style="color:#ff0000;">svn revert</span>&nbsp;foo.c&nbsp;<span style="color:#000000;">＜－</span>&nbsp;丢弃对一个文件的修改<br><span style="color:#ff0000;">svn revert --recursive</span>&nbsp;.&nbsp;<span style="color:#000000;">＜－恢复一整个目录的文件，. 为当前目录&nbsp;</span><br><br>16、把工作拷贝更新到别的URL&nbsp;<br>svn　switch　http://目录全路径　本地目录全路径<br>例子：<br><span style="color:#ff0000;">svn switch http://</span>localhost/test/456 .&nbsp;<span style="color:#000000;">＜－ (原为123的分支)当前所在目录分支到</span>localhost/test/456<br><br>17、解决冲突&nbsp;<br>svn　resolved　[本地目录全路径]<br>例子：<br>$ svn update<br>C foo.c<br>Updated to revision 31.<br>如果你在更新时得到冲突，你的工作拷贝会产生三个新的文件：<br>$ ls<br>foo.c<br>foo.c.mine<br>foo.c.r30<br>foo.c.r31<br>当你解决了foo.c的冲突，并且准备提交，运行svn resolved让你的工作拷贝知道你已经完成了所有事情。<br>你可以仅仅删除冲突的文件并且提交，但是svn resolved除了删除冲突文件，还修正了一些记录在工作拷贝管理区域的记录数据，所以我们推荐你使用这个命令。<br><br></p> 
   <p>18、不checkout而查看输出特定文件或URL的内容&nbsp;<br>svn　cat　http://文件全路径<br>例子：<br><span style="color:#ff0000;">svn cat http://</span>localhost/test/readme.txt</p> 
   <p>19、新建一个分支copy</p> 
   <p><span style="color:#ed1c24;">svn copy</span>&nbsp;branchA branchB&nbsp;&nbsp;-m "make B branch" // 从branchA拷贝出一个新分支branchB</p> 
   <p>20、合并内容到分支merge</p> 
   <p><span style="color:#ed1c24;">svn merge</span>&nbsp;branchA branchB&nbsp;&nbsp;// 把对branchA的修改合并到分支branchB</p> 
   <p>&nbsp;</p> 
   <p>&nbsp;</p> 
   <p>概要</p> 
   <p><a name="anchor_a4d3b02a466677324278a9a153fb4adb"></a>概述</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SAE自2011-7-10日起，将全面支持SVN代码部署，用户不仅可以通过任何SVN客户端部署代码，而且SAE现有的代码部署方式也已经对接应用的SVN仓库，即使不使用SVN客户端部署代码，也保证了代码版本。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如：通过在线代码编辑器(http://sdk.tools.sinaapp.com)等方式对代码的修改、部署等操作也会像svn commit一样，产生一个新版本。通过SVN客户端svn update可以获取最近的更新，也可以通过svn客户端回滚代码。</p> 
   <p><strong>SVN仓库地址</strong>：&nbsp;&nbsp;<a href="http://svn.sinaapp.com/" rel="nofollow">https://svn.sinaapp.com/your_app_name</a>&nbsp;<em>(您可以通过此地址直接访问)</em></p> 
   <p><em><em>如：应用域名是 test.sinaapp.com，那么SVN仓库地址是：</em><a href="https://svn.sinaapp.com/test" rel="nofollow"><em>https://svn.sinaapp.com/test</em></a></em></p> 
   <p><strong>SVN用户名</strong>：&nbsp; SAE安全邮箱&nbsp;&nbsp;&nbsp;&nbsp;</p> 
   <p><strong>SVN密码</strong>：&nbsp; SAE安全密码（如已启用微盾动态密码，则此处填写“安全密码”+“微盾动态密码”）</p> 
   <p><em>注：SVN用户名和密码为安全邮箱和安全密码，不是微博账号和微博密码！</em></p> 
   <p><a name="anchor_310984b08a6fcd5903f561eb38ecdec1"></a>与标准SVN的区别</p> 
   <p>&nbsp; 为了保持与SAE兼容，使用svn方式部署代码到SAE有如下限制：</p> 
   <p>&nbsp;&nbsp;&nbsp; 1、文件名或目录名不允许含有以下字符：",*,?,&lt;,&gt;,|，另外文件或文件名的开始与结束也不允&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 许有空格。</p> 
   <p>&nbsp;&nbsp;&nbsp; 2、上传单个文件大小不超过20M</p> 
   <p>&nbsp;&nbsp;&nbsp; 3、单个目录下的文 件个数不能超过2000个</p> 
   <p>&nbsp;&nbsp;&nbsp; 4、每个应用代码总大小不超过100M</p> 
   <p>&nbsp;&nbsp;&nbsp; 5、单个版本代码总大小不超过50M</p> 
   <p>&nbsp;&nbsp;&nbsp; 6、appname目录下只允许存在10个以内的版本，并且版本号必须为正整数。（也就是说appname下面只允许出现10个以内的正整数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 目录名，不允许有非目录的存在）</p> 
   <p><a name="anchor_8cac77b2cd51106f842b7be5a601f93d"></a>代码部署原理</p> 
   <p>&nbsp; SAE代码部署分为三步：</p> 
   <p><strong>&nbsp; 创建应用</strong></p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 登陆SAE在线管理平台，“创建新应用”(<a href="http://sae.sina.com.cn/?m=myapp&amp;a=create" rel="nofollow">http://sae.sina.com.cn/?m=myapp&amp;a=create</a>)时，如果创建成功，系统会自动为该应用创建一个SVN仓库。假设新创建的应用名为newapp，那么仓库地址为：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; https://svn.sinaapp.com/newapp/</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 此时，可以通过本地SVN客户端检出(checkout)该应用的本地工作目录。</p> 
   <p><strong>&nbsp; 部署代码</strong></p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp; SAE提供了不同的代码部署方式，可以分为两类：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一是通过SVN客户端部署，这是SAE推荐的代码部署方法。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 另一个是通过非SVN客户端部署，即在线代码在线编辑器和推荐应用安装。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这两类代码部署方法都会更新应用的SVN仓库版本，但<strong>必须注意</strong>的是非SVN客户端部署方式无法提供版本管理功能，只能看到最新版本的代码，也无法回滚代码。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 因此，强烈建议仅使用SVN客户端方式部署代码，如果同时使用非SVN客户端方式部署，为避免代码版本冲突，请及时在本地SVN工作目录下执行<strong>svn update</strong>操作，保证本地工作目录与线上代码保持一致。</p> 
   <p><strong>&nbsp; 验证</strong></p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 代码更新后，通过svn update或直接通过浏览器访问应用查看代码是否已经更新到线上。</p> 
   <p><img src="http://devcenter.sinaapp.com/svn/svn.png" alt="" width="730"></p> 
   <p><a name="anchor_09c0bc2002cee7a8dd26a917b6f70d8d"></a>相关资源</p> 
   <p>&nbsp; TortoiseSVN下载：<a href="http://tortoisesvn.net/downloads.html" rel="nofollow">http://tortoisesvn.net/downloads.html</a></p> 
   <p>&nbsp; Subversion中文站:&nbsp;&nbsp;<a href="http://www.subversion.org.cn/" rel="nofollow">http://www.subversion.org.cn/</a></p> 
   <p><a name="anchor_6bcc83578e796e2a6ab603fe5fc022e0"></a>Windows SVN</p> 
   <p><a name="anchor_9e77beed8afbda61fddf301fba2643e9"></a>使用TortoiseSVN客户端</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在Windows下推荐使用乌龟(Tortoise)SVN客户端。 TortoiseSVN 是 Subversion 版本控制系统的一个免费开源客户端，可以超越时间的管理文件和目录。文件保存在中央版本库（即SAE中央SVN仓库），除了能记住文件和目录的每次修改以 外，版本库非常像普通的文件服务器。你可以将文件恢复到过去的版本，并且可以通过检查历史知道数据做了哪些修改，谁做的修改。这就是为什么许多人将 Subversion 和版本控制系统看作一种“时间机器”。</p> 
   <p><a name="anchor_deb0093944940cc6a9c4c343e829b834"></a>下载安装</p> 
   <p>&nbsp;&nbsp; TortoiseSVN下载：<a href="http://tortoisesvn.net/downloads.html" rel="nofollow">http://tortoisesvn.net/downloads.html</a></p> 
   <p>又不是在linux下，安装就不多说了 :)</p> 
   <p>下面详细介绍使用TortoiseSVN向SAE部署代码。</p> 
   <p><a name="anchor_f946833f317c7ebe269ec1b1e73e2ec7"></a>创建本地工作目录</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 第一步，如图1，创建一个新文件夹作为本地工作目录(Working directory)，可以使用应用名为文件夹名。如，为我的应用devcenter创建本地工作目录。</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a0.PNG.jpg" alt="" width="538" height="362"></p> 
   <p>&nbsp; 第二步，从SAE的SVN仓库检出(checkout)一个应用的全部版本代码，如图2，右键--&gt;点击“SVN Checkout”</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a1.PNG.jpg" alt="" width="538" height="362"></p> 
   <p>&nbsp; 在弹出页面中填写仓库路径即可，这里是：https://svn.sinaapp.com/devcenter/，其它默认参数即可，如图3：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a2.PNG.jpg" alt="" width="730"></p> 
   <p>&nbsp; Reversion处，“HEAD revision”是指最新版，也可以指定Revision为任意一个版本。</p> 
   <p>&nbsp; 点击“OK”，出现下载界面，如图4：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a3.PNG.jpg" alt="" width="730"></p> 
   <p>&nbsp; 如果一切顺利，devcenter应用所有版本代码将会全部出现在刚刚创建的devcenter文件夹下，如图5：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a4.PNG.jpg" alt="" width="730"></p> 
   <p><a name="anchor_6f73c2e3c6274a4f21c294036a3d58e3"></a>修改代码</p> 
   <p>&nbsp; 在本地使用你喜欢的编辑器，编辑任意文件，保存后该文件图标将会出现红色感叹号，如图6所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a5.PNG.jpg" alt="" width="595" height="394"></p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 看，刚刚修改过的index.php变色了。下面需要提交(commit)最近的更新。在index.php文件上击右键，出现菜单 ，</p> 
   <p>选择“SVN commit”，如图7：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a6.PNG.jpg" alt="" width="562" height="443"></p> 
   <p>&nbsp; 然后填写关于本次更新的日志（log message），这是必填项，否则commit会失败。如图8：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a7.PNG.jpg" alt="" width="730"></p> 
   <p>&nbsp; 当您看到如图9所示，表明刚才的修改已经成功提交，并且前该devcenter项目的SVN版本号加1，变成30.</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a8.PNG.jpg" alt="" width="730"></p> 
   <p><a name="anchor_49f3c4acd4b4fd482b21549dcc412345"></a>新增文件/文件夹</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在 SVN工作目录下，对于文件修改，完成后只需要commit就ok了，但对于新增文件，或者从其它目录复制进来的文件或文件夹，需要在commit之前需 要做一步add操作，即将文件或文件夹添加到svn工作目录中来，否则SVN客户端不认它。具体操作很简单，如图10:</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a9.PNG.jpg" alt="" width="719" height="490"></p> 
   <p>&nbsp; 然后再如图7所示，右键commit 即可。</p> 
   <p>&nbsp; 更多Tortoise SVN使用帮助，请参阅：<a href="http://www.subversion.org.cn/tsvndoc/" rel="nofollow">http://www.subversion.org.cn/tsvndoc/</a></p> 
   <p><a name="anchor_2bbef1120ff47997814307562bfbb209"></a>Notepad++集成svn插件</p> 
   <p>&nbsp; Notepad++ 是一款Windows环境下很受欢迎的免费开源的代码编辑器，有很丰富的第三方插件。</p> 
   <p>&nbsp; 下面介绍Notepad++的svn插件的安装及使用。</p> 
   <p>&nbsp;&nbsp;&nbsp; 如图12，点击Plugin --&gt; Plugin Manager --&gt; Show Plugin Manager</p> 
   <p><img src="http://devcenter.sinaapp.com/svn/a11.jpg" alt="" width="679" height="196"></p> 
   <p>&nbsp;&nbsp;&nbsp; 打开后，在“Available”页找到“Subversion”，然后点击“Install”，如图13所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a12.jpg" alt="" width="730"></p> 
   <p>&nbsp;&nbsp;&nbsp; 安装成功后会在Plugins菜单下出现"Subversion"子菜单。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 打开之前checkout下来的任一文件，如devcenter/1/index.php，编辑完成后，点击Plugins --&gt; Subversion --&gt; Commit File(或使用&nbsp;&nbsp;&nbsp; 快捷键Ctrl+Alt+A)</p> 
   <p>&nbsp;&nbsp;&nbsp; 出现熟悉的一页，如图14所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a13.jpg" alt="" width="646" height="540"></p> 
   <p>&nbsp;&nbsp;&nbsp; 对，这就是乌龟SVN的Commit页面，输入Log Message，点击“OK”即可提交。</p> 
   <p><a name="anchor_bd45450a1e408b19445cd83932c8e56a"></a>使用UltraEdit Studio部署</p> 
   <p>&nbsp;&nbsp;&nbsp; UltraEdit Studio(注意不是UltraEdit，UltraEdit不能与SVN整合)配置稍微复杂些。</p> 
   <p>&nbsp;&nbsp;&nbsp; 第一步，SVN仓库账号设置，如图15所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a14.jpg" alt="" width="595" height="508"></p> 
   <p>&nbsp;&nbsp;&nbsp; 然后填写仓库信息，如图16所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a15.jpg" alt="" width="564" height="483"></p> 
   <p>&nbsp;&nbsp;&nbsp; 完成后，创建Project，如图17所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a16.jpg" alt="" width="692" height="167"></p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 填写project名b.prj后，出现如图18所示"Project Settings"，点击“Add Folder”，出现“NewFolder”，将"Group"前的勾去掉，然后点击“Browse”，在“Browse for Folder”页找到之前checkout出现的本地工作目录。</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a17.jpg" alt="" width="730"></p> 
   <p>&nbsp;&nbsp;&nbsp; 点击“OK”后出现提示，如图19所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a18.jpg" alt="" width="520" height="550"></p> 
   <p>&nbsp;&nbsp;&nbsp; 表明UEStudio自动识别出了选择的代码目录是一个SVN工作目录，并询问是否整合，点击“Yes”，出现如图20所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a19.jpg" alt="" width="486" height="529"></p> 
   <p>&nbsp;&nbsp;&nbsp; 大功告成，"Close"之后即可以编辑代码，并随时commit修改。如图21所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a20.jpg" alt="" width="313" height="370"></p> 
   <p><a name="anchor_4a7d121b53c7dabffbf5e24c4461b8ad"></a>使用EditPlus部署</p> 
   <p>&nbsp;&nbsp;&nbsp; EditPlus依赖于Tortoise SVN(TSVN)，必须先安装。</p> 
   <p>&nbsp;&nbsp;&nbsp; 使用最简单，见图22所示：</p> 
   <p><img src="http://1.devcenter.sinaapp.com/svn/a21.jpg" alt="" width="340" height="509"></p> 
   <p>当编辑SVN工作目录里的文件时，File --&gt; TSVN即出现相应可操作的菜单。</p> 
   <p><a name="anchor_a56d0a200f29dc4dcb9240ee47c794f9"></a>Linux/Mac SVN</p> 
   <p><a name="anchor_e4bea943deb1cce28643a52077ddbfdb"></a>仓库地址</p> 
   <p><a href="https://svn.sinaapp.com/appname/" rel="nofollow">https://svn.sinaapp.com/appname/</a></p> 
   <p>&nbsp;&nbsp;&nbsp; 为了传输安全，SAE要求统一使用https方式部署代码；</p> 
   <p><a name="anchor_28d3d0cf48fc1ddb0ae45a876066de7f"></a>创建仓库</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 登陆SAE在线管理平台(http://sae.sina.com.cn)，创建应用，成功后您即可以检出该应用代码。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 例如，您刚刚创建了应用newapp，在本地执行：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn checkout https://svn.sinaapp.com/newapp</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 第一次checkout时需要验证，用户名/密码为您的SAE安全邮箱和安全密码(非微博登陆账号密码，如已启用微盾动态密码，则此处填写“安全密码”+“微盾动态密码”)。</p> 
   <p><a name="anchor_305445c8f0bc14b75bca199c7b29ee47"></a>创建版本</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 假如，为newapp应用创建版本1</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 目前提供两种方式：</p> 
   <p><a name="anchor_7786c1b3c66762f3678669de50eda9c4"></a>使用svn客户端</p> 
   <p>svn checkout https://svn.sinaapp.com/newapp&nbsp; #此处需要认证，用户名/密码为您的SAE安全邮箱和安全密码（如已启用微盾动态密码，则此处填写“安全密码”+“微盾动态密码”）</p> 
   <p>cd newapp</p> 
   <p>mkdir 1</p> 
   <p>svn add 1</p> 
   <p>svn commit -m"add version 1 for newapp"</p> 
   <p><a name="anchor_e5941447669918fbb6f832ccd07afdc7"></a>使用在线管理平台</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在SAE在线管理平台“代码管理”处创建版本即可。但为了避免与本地仓库冲突，务必在本地工作目录下执行：svn update ，将最近的更新拉到本地来。</p> 
   <p><a name="anchor_228294a89c14458b82d2a9033999ca30"></a>更新代码</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 更新代码前本地必须有一个工作目录（Working Directory），创建工作目录很简单，只需要检出(checkout)代码仓库即可。如，对于已经创建好的应用newapp，在本地执行：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp; svn checkout https://svn.sinaapp.com/newapp</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 输入安全账号和安全密码，即完成本地工作目录的创建。</p> 
   <p><a name="anchor_9725dbb5086e06764095cb94e6e521a9"></a>上传代码</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 需要增加某个文件或文件夹，如部署wordpress到版本1。</p> 
   <p>svn checkout https://svn.sinaapp.com/newapp</p> 
   <p>cd newapp/1</p> 
   <p>cp -rf /path/to/wordpress/* ./</p> 
   <p>svn add ./*</p> 
   <p>svn commit -m"add wordpress"</p> 
   <p><a></a>修改代码</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 假如需要修改newapp应用版本1根目录下某个文件，如index.php，完整的操作流程如下：</p> 
   <p>svn checkout https://svn.sinaapp.com/newapp&nbsp;&nbsp;&nbsp; #如果已经checkout过了，不需要重新checkout。</p> 
   <p>cd newapp/1</p> 
   <p>vim index.php&nbsp;&nbsp; #这里编辑代码</p> 
   <p>svn commit -m "edit index.php"</p> 
   <p><a name="anchor_dcd5dcc6e33c52a013efa98a977751f4"></a>配置应用(appconfig)</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在应用版本根目录下，如newapp/1下，创建文件config.yaml(语法参见:<a href="http://sae.sina.com.cn/?m=devcenter&amp;catId=193" rel="nofollow">http://sae.sina.com.cn/?m=devcenter&amp;catId=193</a>)，然后通过svn commit即可完成应用配置。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如，现在需要更新应用newapp的默认版本3的<a href="http://sae.sina.com.cn/?m=devcenter&amp;catId=193" rel="nofollow">appconfig</a>，操作如下：</p> 
   <p>&nbsp;&nbsp;&nbsp; svn checkout https://svn.sinaapp.com/newapp&nbsp;&nbsp;&nbsp; #如果已经checkout过了，不需要重新checkout。</p> 
   <p>&nbsp;&nbsp;&nbsp; cd newapp/3</p> 
   <p>&nbsp;&nbsp;&nbsp; vim config.yaml&nbsp;&nbsp; #这里按照config.yaml语法编辑即可。</p> 
   <p>&nbsp;&nbsp;&nbsp; svn commit -m "update config.yaml"</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注意：config.yaml不会被部署到用户的代码目录，但会被存储在服务端SVN仓库中。因此下次可以被checkout出来，但不会被用户访问到。</p> 
   <p><a name="anchor_1f83eb51d8a8dcc5648adcb05b35504c"></a>在线编辑代码</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SVN可以在线阅读应用代码，地址即SVN仓库地址：https://svn.sinaapp.com/appname/</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将appname换成自己的应用名即可登陆查看代码。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在线编辑器 可在管理面板&gt;&gt;代码管理&gt;&gt;编辑代码 打开</p> 
   <p><a name="anchor_2ce261c8e4c1ef69bc4ace9be41370a6"></a>SVN for SAE的限制条件</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为了保持与SAE兼容，使用svn方式部署代码到SAE有如下限制：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、文件名或目录名不允许含有以下字符：",*,?,&lt;,&gt;,|，另外文件或文件名的开始与结束也不允许有空格。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、上传单个文件大小不超过4M</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3、单个目录下的文 件个数不能超过400个</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4、每个应用代码总大小不超过100M</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5、单个版本代码总大小不超过50M</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6、appname目录下只允许存在10个以内的版本，并且版本号必须为正整数。（也就是说appname下面只允许出现10个以内的正整数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 目录名，不允许有非目录的存在）</p> 
   <p><a name="anchor_54d81f5086cc2e3de0946fbb62f9f1a5"></a>常见错误说明及解决办法</p> 
   <p>错误提示<br>错误原因<br>解决方法</p> 
   <p>The change log need some words(not null)<br>提交时没有添加log message<br>提交时加上log message即可</p> 
   <p>The log message is a pathname (was -F intended?); use '--force-log' to override<br>log message 与路径名称相同<br>修改log message</p> 
   <p>Error file xxx in not allowed in root directory!<br>working copy的根目录下不允许有名为xxx的文件（只能是正整数版本目录）<br>删除该文件或者移到到版本目录下</p> 
   <p>directory xxx/ is not allowed in root directory! Only positive integer dirs are allowed!</p> 
   <p>working copy的根目录下不允许有名为xxx的目录（只能是正整数版本目录）<br>删除该目录或者移到版本目录下</p> 
   <p>Too many versions!(less than 10 is permited)<br>版本目录多于10个，最多不超过10个<br>删除刚刚创建的版本目录即可。</p> 
   <p>Too many files: XXX (less than 2000 is allowed).<br>XXX目录下文件的数量超过2000<br>删除XXX目录下的文件，使其总数降至2000以下</p> 
   <p>dir APPNAME/dir(size:xxxx) is too large less than xxx<br>该应用下代码(不包括.svn目录)总大小超过100M，或某个版本总大小超过50M<br>删除不必要的代码再尝试提交</p> 
   <p>File XXX is too large!(less than 4M)<br>单个文件大小超过4M<br>删除重试</p> 
   <p>类似Repository UUID '305daf1b-94be-48ee-a4b9-f4bcd36320de' doesn't match expected UUID '44e2f7a2-1b69-4710-974a-b6edef0fdc12'<br>服务器端仓库被删除重建，客户端对原仓库进行操作导致。<br>重新checkout出一份代码即可</p> 
   <p>add vers xxx faild<br>文件部署失败<br>内部原因，请联系saesupport@sina.cn。</p> 
   <p><a name="anchor_f5ac56e66755d113c23078cb1f507bf9"></a>常用svn命令说明</p> 
   <p>&nbsp;&nbsp;&nbsp; 1、从SVN仓库中检索出代码到工作拷贝：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn checkout https://svn.sinaapp.com/appname [workcopy]</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 其中workcopy是可选的，如果不写workcopy，SVN会默认将appname做为workcopy。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果只检索某个版本：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn checkout https://svn.sinaapp.com/appname/appversion [workcopy]</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 只检索某个版本的某个目录：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn checkout https://svn.sinaapp.com/appname/appversion/folder [workcopy]</p> 
   <p>&nbsp;&nbsp;&nbsp; 2、向SVN仓库提交代码：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn commit -m "here is message"</p> 
   <p>&nbsp;&nbsp;&nbsp; 3、将本地文件添加到工作拷贝：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn add something</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注：如果something为文件，svn会将这个文件添加到工作拷贝；如果something是目录，svn会将目录及里面的文件全添加到工作&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 拷贝。something也可以是通配符*，这样会忽略已经添加过的文件。</p> 
   <p>&nbsp;&nbsp;&nbsp; 4、从工作拷贝中删除一个文件：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn delete something</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注：如果something为文件，svn会将这个文件从工作拷贝中删除；如果something是目录，svn会将目录及里面的文件全部从工作&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 拷贝中删除。</p> 
   <p>&nbsp;&nbsp;&nbsp; 5、直接从SVN仓库中删除文件：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn delete -m "delete something" https://svn.sinaapp.com/appname/appversion/something</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注：可以从SVN仓库中直接删除单个文件或单个目录甚至某个版本。</p> 
   <p>&nbsp;&nbsp;&nbsp; 6、将一个本地项目导入到SVN仓库：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 导入应用的某个版本：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn import localdir https://svn.sinaapp.com/appname/appversion</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注：要确保目前应用的appversion不冲突。</p> 
   <p>&nbsp;&nbsp;&nbsp; 7、查看工作拷贝中的文件或目录状态：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn status [something]</p> 
   <p>&nbsp;&nbsp;&nbsp; 8、更新自己的工作拷贝：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn update</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注：从SVN仓库下载最新版本，此命令会导致本地没有提交的更改丢失，建议使用此命令前先查看一下本地拷贝状态(svn status).</p> 
   <p>&nbsp;&nbsp;&nbsp; 9、取消对代码修改</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 取消对代码的修改分为两种情况。</p> 
   <p><strong>第一种情况：</strong>改动没有被提交（commit）。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这种情况下，使用svn revert就能取消之前的修改。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn revert用法如下：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn revert [-R] something</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 其中something可以是（目录或文件的）相对路径也可以是绝对路径。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 当something为单个文件时，直接svn revert something就行了；当something为目录时，需要加上参数-R(Recursive,递归)，否则&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 只会将something这个目录的改动。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在这种情况下也可以使用svn update命令来取消对之前的修改，但不建议使用。因为svn update会去连接仓库服务器，耗费时间。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注意：svn revert本身有固有的危险，因为它的目的是放弃未提交的修改。一旦你选择了恢复，Subversion没有方法找回未提交的修&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 改。</p> 
   <p><strong>第二种情况：</strong>改动已经被提交（commit）。这种情况下，用svn merge命令来进行回滚。&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 回滚的操作过程如下：&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) 保证我们拿到的是最新代码：&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn update&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 假设最新版本号是28。&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2) 然后找出要回滚的确切版本号：&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn log [something]</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 假设根据svn log日志查出要回滚的版本号是25，此处的something可以是文件、目录或整个项目</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果想要更详细的了解情况，可以使用svn diff -r 28:25 [something]</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3) 回滚到版本号25：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn merge -r 28:25 something</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为了保险起见，再次确认回滚的结果：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn diff [something]</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 发现正确无误，提交。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4) 提交回滚：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svn commit -m "Revert revision from r28 to r25,because of ..."&nbsp;</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 提交后版本变成了29。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将以上操作总结为三条如下：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a. svn update，svn log，找到最新版本（latest revision）</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b. 找到自己想要回滚的版本号（rollbak revision）</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c. 用svn merge来回滚： svn merge -r : something</p> 
   <p>&nbsp;&nbsp;&nbsp; 10、查看SVN仓库日志信息：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn log [workcopy]</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 查看所有本地的历史日志，如果workcopy为某文件，那么就是查看某个文件的日志信息。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 查看SVN仓库所有文件的日志信息：</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # svn log https://svn.sinaapp.com/appname/</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这个命令会查看所有修改过的日志。</p> 
   <p>&nbsp;&nbsp;&nbsp; 注：SAE提供的SVN服务完全支持标准SVN的所有命令，更详细的使用说明请查阅SVN官方帮助文档。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SVN命令帮助文档：http://www.subversion.org.cn/svnbook/1.4/svn.ref.html</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 中文完全帮助文档：http://svnbook.red-bean.com/index.zh.html</p> 
   <div> 
    <div>
     【作者】
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">张昺华</a> 
    </div> 
    <div>
     【出处】
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">http://www.cnblogs.com/sky-heaven/</a> 
    </div> 
    <div>
     【博客园】 
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">http://www.cnblogs.com/sky-heaven/</a> 
    </div> 
    <div>
     【新浪博客】 
     <a href="http://blog.sina.com.cn/u/2049150530" rel="nofollow">http://blog.sina.com.cn/u/2049150530</a> 
    </div> 
    <div>
     【知乎】 
     <a href="http://www.zhihu.com/people/zhang-bing-hua" rel="nofollow">http://www.zhihu.com/people/zhang-bing-hua</a> 
    </div> 
    <div>
     【我的作品---旋转倒立摆】 
     <a href="http://v.youku.com/v_show/id_XODM5NDAzNjQw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2" rel="nofollow">http://v.youku.com/v_show/id_XODM5NDAzNjQw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2</a> 
    </div> 
    <div>
     【我的作品---自平衡自动循迹车】 
     <a href="http://v.youku.com/v_show/id_XODM5MzYyNTIw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2" rel="nofollow">http://v.youku.com/v_show/id_XODM5MzYyNTIw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2</a> 
    </div> 
    <div>
     【新浪微博】 张昺华--sky
    </div> 
    <div>
     【twitter】 @sky2030_
    </div> 
    <div>
     【facebook】 张昺华 zhangbinghua
    </div> 
    <div>
     本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利.
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
