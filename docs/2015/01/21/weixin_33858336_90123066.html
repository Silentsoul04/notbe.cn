<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>selenium + python自动化测试环境搭建 « NotBeCN</title>
  <meta name="description" content="             selenium的在python平台的搭建:    &nbsp;    搭建平台windows&nbsp;    准备工具如下：    -------------------------------------------------------------    下载python   ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2015/01/21/weixin_33858336_90123066.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">selenium + python自动化测试环境搭建</h1>
    <p class="post-meta">Jan 21, 2015</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p><span style="line-height:1.5;">selenium的在python平台的搭建:</span></p> 
   <p>&nbsp;</p> 
   <p>搭建平台windows&nbsp;</p> 
   <p>准备工具如下：</p> 
   <p>-------------------------------------------------------------</p> 
   <p>下载python</p> 
   <p><a href="http://python.org/getit/" rel="nofollow">http://python.org/getit/</a></p> 
   <p>下载setuptools&nbsp;【python的基础包工具】(可直接百度下载exe安装包)</p> 
   <p>#&nbsp;<a href="http://pypi.python.org/pypi/setuptools" rel="nofollow">http://pypi.python.org/pypi/setuptools</a></p> 
   <p><a href="https://pypi.python.org/packages/2.7/s/setuptools/" rel="nofollow">https://pypi.python.org/packages/2.7/s/setuptools/</a></p> 
   <p>下载pip&nbsp;【python的安装包管理工具】</p> 
   <p><a href="https://pypi.python.org/pypi/pip" rel="nofollow">https://pypi.python.org/pypi/pip</a></p> 
   <p>-------------------------------------------------------------</p> 
   <p>因为版本都在更新，pyhton选择2.7.xx&nbsp;，setuptools&nbsp;选择你平台对应的版本，pip&nbsp;不要担心tar.gz&nbsp;在windows下一样可用。</p> 
   <p>&nbsp;</p> 
   <p>window安装步骤：</p> 
   <p>&nbsp;</p> 
   <p>　　1、python的安装&nbsp;，这个不解释，exe文件运行安装即可，既然你选择python，相信你是熟悉python的，我安装目录C:\Python27&nbsp;</p> 
   <p>　　2、setuptools&nbsp;的安装也非常简单，同样是exe文件，默认会找到python的安装路径，将安装到C:\Python27\Lib\site-packages&nbsp;目录下。</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通过上面提供的setuptools的连接，拖动页面到底部找到，<a href="#md5=441f2e58c0599d31597622a7b9eb605f" rel="nofollow">setuptools-1.3.2.tar.gz</a>&nbsp;文件（版本随着时间版本会有更新），对文件进行解压，找到ez_install.py文件，进入windows命令提示下执行ez_install.py：</p> 
   <p>C:\setuptools-1.3&gt;python&nbsp;ez_install.py&nbsp;没有报错表示安装成功。<a title="MD5 Digest" href="https://pypi.python.org/pypi?:action=show_md5&amp;digest=441f2e58c0599d31597622a7b9eb605f" rel="nofollow"><br></a></p> 
   <p>&nbsp;</p> 
   <p>（如果提示python不是内部或外部命令！去配置一下环境变量）</p> 
   <table>
    <tbody>
     <tr>
      <td valign="top"> <p>修改我的电脑-&gt;属性-&gt;高级-&gt;环境变量-&gt;系统变量中的PATH为:</p> <p>变量名：PATH</p> <p>变量值：;C:\Python27&nbsp;</p> </td> 
     </tr>
    </tbody>
   </table>
   <p>&nbsp;</p> 
   <p>&nbsp;</p> 
   <p>　　3、安装pip&nbsp;，我默认解压在了C:\pip-1.3.1&nbsp;目录下</p> 
   <p>　　4、打开命令提示符（开始---cmd回车）进入C:\pip-1.3.1目录下输入：</p> 
   <p>C:\pip-1.3.1&nbsp;&nbsp;&gt;&nbsp;python&nbsp;setup.py&nbsp;install&nbsp;</p> 
   <p>　　5、再切换到C:\Python27\Scripts&nbsp;目录下输入：</p> 
   <p>C:\Python27\Scripts&nbsp;&gt;&nbsp;easy_install&nbsp;pip</p> 
   <p>　　6、安装selenium，（下载地址：&nbsp;<a href="https://pypi.python.org/pypi/selenium" rel="nofollow">https://pypi.python.org/pypi/selenium</a>&nbsp;&nbsp;&nbsp;&nbsp;）</p> 
   <p>如果是联网状态的话，可以直接在C:\Python27\Scripts&nbsp;&nbsp;下输入命令安装：</p> 
   <p>C:\Python27\Scripts&nbsp;&gt;&nbsp;pip&nbsp;install&nbsp;-U&nbsp;selenium</p> 
   <p>如果没联网（这个一般不太可能），下载selenium&nbsp;2.33.0&nbsp;（目前的最新版本）</p> 
   <p>并解压把整个目录放到C:\Python27\Lib\site-packages&nbsp;目录下。</p> 
   <p>&nbsp;</p> 
   <p>=======如果你不分析wedriver&nbsp;原理的话，下面两步可以省略=============</p> 
   <p>　　7、下载并安装（http://www.java.com/zh_CN/download/chrome.jsp?locale=zh_CN）什么？你没整过java，参考其它文档吧！这不难。</p> 
   <p>　　8、&nbsp;下载selenium&nbsp;的服务端（https://code.google.com/p/selenium/）在页面的左侧列表中找到</p> 
   <p>selenium-server-standalone-XXX.jar&nbsp;&nbsp;</p> 
   <p>对！就是这个东西，把它下载下来并解压；</p> 
   <p>在selenium-server-standalone-xxx.jar目录下使用命令&nbsp;java&nbsp;-jar&nbsp;selenium-server-standalone-xxx.jar启动（如果打不开，查看是否端口被占&nbsp;用：netstat&nbsp;-aon|findstr&nbsp;4444）。</p> 
   <p>&nbsp;===============================================</p> 
   <p>&nbsp;</p> 
   <p>&nbsp;</p> 
   <p>ubuntu&nbsp;下安装方式：</p> 
   <p>&nbsp;</p> 
   <p>1、安装：setuptools</p> 
   <p>root@fnngj-H24X:~#&nbsp;apt-get&nbsp;install&nbsp;python-setuptools</p> 
   <p>2、安装pip</p> 
   <p>root@fnngj-H24X:/home/fnngj/python#&nbsp;tar&nbsp;-zxvf&nbsp;pip-1.4.1.tar.gz</p> 
   <p>root@fnngj-H24X:/home/fnngj/python#&nbsp;cd&nbsp;pip-1.4.1/&nbsp;</p> 
   <p>root@fnngj-H24X:/home/fnngj/python#&nbsp;python&nbsp;setup.py&nbsp;install</p> 
   <p>3、安装selenium</p> 
   <p>root@fnngj-H24X:/home/fnngj/python/pip-1.4.1#&nbsp;pip&nbsp;install&nbsp;-U&nbsp;selenium</p> 
   <p>&nbsp;</p> 
   <p>恭喜~！&nbsp;你前期工作已经做了，上面的步骤确实有些繁琐，但是并不难，不过我们已经完成成了，下面体验一下成果吧！&nbsp;拿python网站上的例子：</p> 
   <p>&nbsp;</p> 
   <p>&nbsp;</p> 
   <p>from&nbsp;selenium&nbsp;import&nbsp;webdriver</p> 
   <p>from&nbsp;selenium.common.exceptions&nbsp;import&nbsp;NoSuchElementException</p> 
   <p>from&nbsp;selenium.webdriver.common.keys&nbsp;import&nbsp;Keys</p> 
   <p>import&nbsp;time</p> 
   <p>&nbsp;</p> 
   <p>browser&nbsp;=&nbsp;webdriver.Firefox()&nbsp;#&nbsp;Get&nbsp;local&nbsp;session&nbsp;of&nbsp;firefox</p> 
   <p>browser.get("http://www.yahoo.com")&nbsp;#&nbsp;Load&nbsp;page</p> 
   <p>assert&nbsp;"Yahoo!"&nbsp;in&nbsp;browser.title</p> 
   <p>elem&nbsp;=&nbsp;browser.find_element_by_name("p")&nbsp;#&nbsp;Find&nbsp;the&nbsp;query&nbsp;box</p> 
   <p>elem.send_keys("seleniumhq"&nbsp;+&nbsp;Keys.RETURN)</p> 
   <p>time.sleep(0.2)&nbsp;#&nbsp;Let&nbsp;the&nbsp;page&nbsp;load,&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;API</p> 
   <p>try:</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;browser.find_element_by_xpath("//a[contains(@href,'http://seleniumhq.org')]")</p> 
   <p>except&nbsp;NoSuchElementException:</p> 
   <p>&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;0,&nbsp;"can't&nbsp;find&nbsp;seleniumhq"</p> 
   <p>browser.close()</p> 
   <p>&nbsp;</p> 
   <p>&nbsp;</p> 
   <p>（运行过程中如果出现错误：&nbsp;</p> 
   <p>WebDriverException:&nbsp;Message:&nbsp;u'Unexpected&nbsp;error&nbsp;launching&nbsp;Internet&nbsp;Explorer.</p> 
   <p>&nbsp;Protected&nbsp;Mode&nbsp;settings&nbsp;are&nbsp;not&nbsp;the&nbsp;same&nbsp;for&nbsp;all&nbsp;zones.&nbsp;Enable&nbsp;Protected&nbsp;Mo</p> 
   <p>de&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;same&nbsp;value&nbsp;(enabled&nbsp;or&nbsp;disabled)&nbsp;for&nbsp;all&nbsp;zones.'&nbsp;</p> 
   <p>更改IE的internet选项-&gt;安全，将Internet/本地Internet/受信任的站定/受限制的站点中的启用保护模式全部去&nbsp;掉勾，或者全部勾上。）</p> 
   <p>&nbsp;</p> 
   <p>-----------------------------------------</p> 
   <p>selenium&nbsp;+&nbsp;python的一份不错文档</p> 
   <p><a href="http://selenium.googlecode.com/git/docs/api/py/index.html" rel="nofollow">http://selenium.googlecode.com/git/docs/api/py/index.html</a></p> 
   <p>&nbsp;</p> 
   <p>===========================如果想通过其它浏览器（IE&nbsp;Chrome）运行脚本=================================</p> 
   <p>&nbsp;</p> 
   <p>安装<span style="font-family:Georgia;">Chrome&nbsp;driver</span></p> 
   <p>chrome&nbsp;driver<span style="font-family:'宋体';">的下载地址在</span><a href="https://code.google.com/p/chromedriver/downloads/list" rel="nofollow">这里</a>。</p> 
   <p>　　<span style="font-family:Georgia;">1.&nbsp;</span><span style="font-family:'宋体';">下载解压，你会得到一个</span><span style="font-family:Georgia;">chromedriver.exe</span><span style="font-family:'宋体';">文件（我点开，运行提示</span><span style="font-family:Georgia;">started&nbsp;no&nbsp;prot&nbsp;9515&nbsp;</span><span style="font-family:'宋体';">，这是干嘛的？端口</span><span style="font-family:Georgia;">9515</span><span style="font-family:'宋体';">被占了？中间折腾了半天），后来才知道需要把这家伙放到</span><span style="font-family:Georgia;">chrome</span><span style="font-family:'宋体';">的安装目录下</span><span style="font-family:Georgia;">...\Google\Chrome\Application\&nbsp;,</span><span style="font-family:'宋体';">然后设置</span><span style="font-family:Georgia;">path</span><span style="font-family:'宋体';">环境变量，把</span><span style="font-family:Georgia;">chrome</span><span style="font-family:'宋体';">的安装目录（我的：</span><span style="font-family:Georgia;">C:\Program&nbsp;Files\Google\Chrome\Application</span><span style="font-family:'宋体';">），然后再调用运行：</span></p> 
   <p>&nbsp;</p> 
   <p>#&nbsp;coding&nbsp;=&nbsp;utf-8</p> 
   <p>&nbsp;</p> 
   <p>from&nbsp;selenium&nbsp;import&nbsp;webdriver</p> 
   <p>&nbsp;</p> 
   <p>driver&nbsp;=&nbsp;webdriver.Chrome()</p> 
   <p>&nbsp;</p> 
   <p>driver.get('http://radar.kuaibo.com')</p> 
   <p>&nbsp;</p> 
   <p>print&nbsp;driver.title</p> 
   <p>&nbsp;</p> 
   <p>driver.quit()</p> 
   <p>&nbsp;</p> 
   <p>又报了个错：</p> 
   <p>Chrome&nbsp;version&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;27.0.1453.0\n&nbsp;&nbsp;(Driver&nbsp;info:&nbsp;chromedriver=2.0,platform=Windows&nbsp;NT&nbsp;5.1&nbsp;SP3&nbsp;x86)</p> 
   <p>说我<span style="font-family:Georgia;">chrome</span><span style="font-family:'宋体';">的版本没有大于</span><span style="font-family:Georgia;">27.0.1453.0&nbsp;</span><span style="font-family:'宋体';">，这个好办，更新到最新版本即可。</span></p> 
   <p>&nbsp;</p> 
   <p>安装<span style="font-family:Georgia;">IE&nbsp;driver</span></p> 
   <p>在新版本的<span style="font-family:Georgia;">webdriver</span><span style="font-family:'宋体';">中，只有安装了</span><span style="font-family:Georgia;">ie&nbsp;driver</span><span style="font-family:'宋体';">使用</span><span style="font-family:Georgia;">ie</span><span style="font-family:'宋体';">进行测试工作。</span></p> 
   <p>ie&nbsp;driver<span style="font-family:'宋体';">的下载地址在</span><a href="https://code.google.com/p/selenium/downloads/list" rel="nofollow">这里</a>，记得根据自己机器的操作系统版本来下载相应的<span style="font-family:Georgia;">driver</span><span style="font-family:'宋体';">。</span></p> 
   <p>暂时还没尝试，应该和<span style="font-family:Georgia;">chrome</span><span style="font-family:'宋体';">的安装方式类似。</span></p> 
   <p>&nbsp;</p> 
   <p>记得配置IE的保护模式</p> 
   <p>如果要使用webdriver启动IE的话，那么就需要配置IE的保护模式了。</p> 
   <p>把IE里的保护模式都选上或都勾掉就可以了。</p> 
   <p>&nbsp;</p> 
   <br>
   <p align="center"><a href="https://images.cnblogs.com/cnblogs_com/liu-ke/763267/o_zsm.png" rel="nofollow"><img src="https://yqfile.alicdn.com/img_42a4adae4716d0e15c3eeaabfd040044.png" alt="img_42a4adae4716d0e15c3eeaabfd040044.png"></a> </p> 
   <p align="right"><font color="#FF0000">注：转载需注明出处及作者。</font></p> 
   <p align="right"><a href="http://liu-ke.cnblogs.com/" rel="nofollow"><font color="#FFA500">流柯</font></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
