<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>[ACM_图论] Domino Effect (POJ1135 Dijkstra算法 SSSP 单源最短路算法 中等 模板) « NotBeCN</title>
  <meta name="description" content="                                                      Description                    Did you know that you can use domino bones for other things besides play...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/07/weixin_34051201_90128580.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">[ACM_图论] Domino Effect (POJ1135 Dijkstra算法 SSSP 单源最短路算法 中等 模板)</h1>
    <p class="post-meta">Nov 7, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="font-size:14px;line-height:1.5em;clear:both;font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;"><br></h1> 
   <div class="clear" style="clear:both;font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"></div> 
   <div class="postBody"> 
    <div class="blogpost-body"> 
     <table border="0" style="font-family:Simsun;font-size:14px;border:1px solid #C0C0C0;border-collapse:collapse;">
      <tbody>
       <tr>
        <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;color:#0000FF;font-size:18pt;font-family:Arial, Helvetica, sans-serif;font-weight:bold;">Description</p> 
         <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
          Did you know that you can use domino bones for other things besides playing Dominoes? Take a number of dominoes and build a row by standing them on end with only a small distance in between. If you do it right, you can tip the first domino and cause all others to fall down in succession (this is where the phrase ``domino effect'' comes from).&nbsp;
          <br> While this is somewhat pointless with only a few dominoes, some people went to the opposite extreme in the early Eighties. Using millions of dominoes of different colors and materials to fill whole halls with elaborate patterns of falling dominoes, they created (short-lived) pieces of art. In these constructions, usually not only one but several rows of dominoes were falling at the same time. As you can imagine, timing is an essential factor here.&nbsp;
          <br> It is now your task to write a program that, given such a system of rows formed by dominoes, computes when and where the last domino falls. The system consists of several ``key dominoes'' connected by rows of simple dominoes. When a key domino falls, all rows connected to the domino will also start falling (except for the ones that have already fallen). When the falling rows reach other key dominoes that have not fallen yet, these other key dominoes will fall as well and set off the rows connected to them. Domino rows may start collapsing at either end. It is even possible that a row is collapsing on both ends, in which case the last domino falling in that row is somewhere between its key dominoes. You can assume that rows fall at a uniform rate.
         </div> <p style="line-height:1.5;color:#0000FF;font-size:18pt;font-family:Arial, Helvetica, sans-serif;font-weight:bold;">Input</p> 
         <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
          The input file contains descriptions of several domino systems. The first line of each description contains two integers: the number n of key dominoes (1 &lt;= n &lt; 500) and the number m of rows between them. The key dominoes are numbered from 1 to n. There is at most one row between any pair of key dominoes and the domino graph is connected, i.e. there is at least one way to get from a domino to any other domino by following a series of domino rows.&nbsp;
          <br> The following m lines each contain three integers a, b, and l, stating that there is a row between key dominoes a and b that takes l seconds to fall down from end to end.&nbsp;
          <br> Each system is started by tipping over key domino number 1.&nbsp;
          <br> The file ends with an empty system (with n = m = 0), which should not be processed.
         </div> <p style="line-height:1.5;color:#0000FF;font-size:18pt;font-family:Arial, Helvetica, sans-serif;font-weight:bold;">Output</p> 
         <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
          For each case output a line stating the number of the case ('System #1', 'System #2', etc.). Then output a line containing the time when the last domino falls, exact to one digit to the right of the decimal point, and the location of the last domino falling, which is either at a key domino or between two key dominoes(in this case, output the two numbers in ascending order). Adhere to the format shown in the output sample. The test data will ensure there is only one solution. Output a blank line after each system.
         </div> <p style="line-height:1.5;color:#0000FF;font-size:18pt;font-family:Arial, Helvetica, sans-serif;font-weight:bold;">Sample Input</p> <pre class="sio">2 1
1 2 27
3 3
1 2 5
1 3 5
2 3 5
0 0</pre> <p style="line-height:1.5;color:#0000FF;font-size:18pt;font-family:Arial, Helvetica, sans-serif;font-weight:bold;">Sample Output</p> <pre class="sio">System #1
The last domino falls after 27.0 seconds, at key domino 2.

System #2
The last domino falls after 7.5 seconds, between key dominoes 2 and 3.</pre> <p style="line-height:1.5;color:#0000FF;font-size:18pt;font-family:Arial, Helvetica, sans-serif;font-weight:bold;">Source</p> 
         <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
          <a href="http://poj.org/searchproblem?field=source&amp;key=Southwestern+European+Regional+Contest+1996" rel="nofollow" style="color:rgb(51,51,51);text-decoration:none;">Southwestern European Regional Contest 1996</a>
         </div> </td>
       </tr>
      </tbody>
     </table>
     <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">&nbsp;</p> 
     <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">题目意思是每组有n个关键多米诺骨牌和m行骨牌,每行骨牌全部倒下要t秒(这里可以把关键骨牌理解成结点，把行理解成连接两个结点的带权边),然后从第一个结点推倒多米诺骨牌，问最后停在哪里(结点或边上)和全部倒下花费的时间。显然这题是单源最短路问题，首先用Dijkstra算出从结点1开始到其它所有点的时间d[]，接下来分为2种情况：(1)：最后一个骨牌倒的在结点，那么答案就是max{d[]},停在的点就是max{d[]}对应的结点;(2):停在边上，就暴力所有的边，求所有停在边xy上的时间(d[x]+d[y]+w[x][y])/2的最大值就是最后要花费的时间，具体代码如下：</p> 
     <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">&nbsp;</p> 
     <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);"> 
      <div class="cnblogs_code_toolbar" style="font-family:'Courier New';font-size:12px;">
       <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
      </div> 
      <pre><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  1</span> #include &lt;iostream&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  2</span> #include &lt;algorithm&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  3</span> #include &lt;cmath&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  4</span> #include &lt;cstdio&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  5</span> #include &lt;cstdlib&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  6</span> #include &lt;cstring&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  7</span> #include &lt;<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">string</span>&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  8</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">#define</span> MAX 600
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">  9</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">#define</span> INF 0x7FFFFFFF
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 10</span> # define ePS 1e-<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">5</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 11</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">using</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">namespace</span><span style="line-height:1.5;font-size:12px;"> std;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 12</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> Min(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> x , <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> y){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 13</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(x&lt;y)<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">return</span><span style="line-height:1.5;font-size:12px;"> x;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 14</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">return</span><span style="line-height:1.5;font-size:12px;"> y;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 15</span> <span style="line-height:1.5;font-size:12px;">}
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 16</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> n,m;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 17</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> w[MAX][MAX],v[MAX],d[MAX];<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">边的信息(w[i][j]表示i-&gt;j的距离,INF表示不通),标记,最短距离存放</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 18</span> 
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 19</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">void</span> dijkstra(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> u0)<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">源点为u0的Single-Source Shortest Paths </span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 20</span> <span style="line-height:1.5;font-size:12px;">{
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 21</span>     memset(v,<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>,<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">sizeof</span>(v));   <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">清除所有点的标号</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 22</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;i&lt;=n;i++)d[i]=(i==u0 ? <span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>:INF);<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">设d[u0]=0,其它d[i]=INF;</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 23</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;i&lt;=n;i++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">循环n次</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 24</span>       <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> x,min=<span style="line-height:1.5;font-size:12px;">INF;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 25</span>       <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> y=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;y&lt;=n;y++)<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(!v[y] &amp;&amp; d[y]&lt;=min)min=d[x=y];<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">1在所有未标号的节点中，选出d值最小的节点x</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 26</span>       v[x]=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">2给出节点x标记</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">3对于从x出发的所有边(x,y),更新d[y]=min{d[y],d[x]+w(x,y)}</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 27</span>       <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> y=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;y&lt;=n;y++)<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(!v[y] &amp;&amp; w[x][y]&lt;INF)d[y]=Min(d[y],d[x]+<span style="line-height:1.5;font-size:12px;">w[x][y]);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 28</span> <span style="line-height:1.5;font-size:12px;">    } 
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 29</span> <span style="line-height:1.5;font-size:12px;">}
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 30</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">----------------------------------------------------------------------------------------</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 31</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> main(){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 32</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> tt = <span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 33</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">while</span>(cin&gt;&gt;n&gt;&gt;<span style="line-height:1.5;font-size:12px;">m){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 34</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(n==<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>&amp;&amp;m==<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>)<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">break</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 35</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;i&lt;=n;i++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">初始化</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 36</span>             <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> j=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;j&lt;=n;j++<span style="line-height:1.5;font-size:12px;">){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 37</span>                 <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(i==j)w[i][j]=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 38</span>                 <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">else</span> w[i][j]=<span style="line-height:1.5;font-size:12px;">INF;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 39</span> <span style="line-height:1.5;font-size:12px;">            }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 40</span> <span style="line-height:1.5;font-size:12px;">        }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 41</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>;i&lt;m;i++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">构图edge[a][b]=c:a-&gt;b时间为c</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 42</span>             <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> a,b,c;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 43</span>             cin&gt;&gt;a&gt;&gt;b&gt;&gt;<span style="line-height:1.5;font-size:12px;">c;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 44</span>             w[a][b] =<span style="line-height:1.5;font-size:12px;"> c;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 45</span>             w[b][a] =<span style="line-height:1.5;font-size:12px;"> c;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 46</span> <span style="line-height:1.5;font-size:12px;">        }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 47</span>         dijkstra(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>);<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">求出1到所有定点最短路</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 48</span>         
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 49</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">double</span> max1 = -<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">10000000</span>;<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">情况a停在某个结点上,That is the longest road of d[]</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 50</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> index;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 51</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;i&lt;=n;i++<span style="line-height:1.5;font-size:12px;">){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 52</span>             <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(max1&lt;<span style="line-height:1.5;font-size:12px;">d[i]){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 53</span>                 max1=d[i]*<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1.0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 54</span>                 index=<span style="line-height:1.5;font-size:12px;">i;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 55</span> <span style="line-height:1.5;font-size:12px;">            }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 56</span> <span style="line-height:1.5;font-size:12px;">        }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 57</span>         
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 58</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">double</span> max2 = -<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">10000000</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 59</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> index1,index2;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 60</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>; i&lt;=n; i++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">情况b停在普通的牌上(即:边上的普通多米诺骨牌)</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 61</span>             <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> j=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>; j&lt;=n; j++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">暴力枚举所有边求最大值</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 62</span>                 <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(w[i][j]!=INF &amp;&amp; i&lt;j){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">i&lt;j优化作用</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 63</span>                     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(max2&lt;(d[i]+d[j]+w[i][j])/<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">2.0</span><span style="line-height:1.5;font-size:12px;">){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 64</span>                         max2 = (d[i]+d[j]+w[i][j])/<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">2.0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 65</span>                         index1 =<span style="line-height:1.5;font-size:12px;"> i;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 66</span>                         index2 =<span style="line-height:1.5;font-size:12px;"> j;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 67</span> <span style="line-height:1.5;font-size:12px;">                    }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 68</span> <span style="line-height:1.5;font-size:12px;">                }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 69</span> <span style="line-height:1.5;font-size:12px;">            }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 70</span> <span style="line-height:1.5;font-size:12px;">        }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 71</span>             
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 72</span>         printf(<span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">System #%d\n</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span>,tt++<span style="line-height:1.5;font-size:12px;">);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 73</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(max1 &gt;= max2)<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">选出符合的情况</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 74</span>             printf(<span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">The last domino falls after %.1f seconds, at key domino %d.\n</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;font-size:12px;">,max1,index);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 75</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">else</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 76</span>             printf(<span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">The last domino falls after %.1f seconds, between key dominoes %d and %d.\n</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;font-size:12px;">,max2,index1,index2);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 77</span>         printf(<span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">\n</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;font-size:12px;">);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 78</span> <span style="line-height:1.5;font-size:12px;">    }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 79</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">return</span> <span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 80</span> <span style="line-height:1.5;font-size:12px;">}
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 81</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">/*</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 82</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">^_^:Dijkstra算法(正权图上的单源最短路 Single-Source Shortest Paths)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 83</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    即从单个节点出发，到所有节点的最短路径，该算法适合于有向图和无向图)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 84</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">   :清除所有点的标号
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 85</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    设d[0]=0,其它d[i]=INF;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 86</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    循环n次
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 87</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    {
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 88</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">        在所有未标号的节点中，选出d值最小的节点x
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 89</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">        给出节点x标记
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 90</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">        对于从x出发的所有边(x,y),更新d[y]=min{d[y],d[x]+w(x,y)}
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 91</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 92</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">   :假设起点是结点0,它到结点i的路径长度为d[i],v[i]=0未标号,w[i][j]=INF路径不存在
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 93</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    memset(v,0,sizeof(v));
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 94</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    for(int i=0;i&lt;n;i++)d[i]=(i==0 ? 0:INF);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 95</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    for(int i=0;i&lt;n;i++){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 96</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">      int x,min=INF;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 97</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">      for(int y=0;y&lt;n;y++)if(!v[y] &amp;&amp; d[y]&lt;=min)min=d[x=y];
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 98</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">      v[x]=1;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 99</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">      for(int y=0;y&lt;n;y++)d[y]=min(d[y],d[x]+w[x][y]);//INF取适当大,防止越界!!!或加一个判断是否xy连通
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">100</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">101</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">   :除了求出最短路的长度外,也能很方便地打印所有结点0到所有结点最短路本身(从终点出发
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">102</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    ,不断顺着d[i]+w[i][j]==d[j]的边(i,j)从结点j"退回"到结点i,直到回到起点。此外，也
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">103</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    可以在更新d时维护"父亲指针".具体来说就是把d[y]=min(....)改成:
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">104</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    if(d[y]&gt;d[x]+w[x][y]){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">105</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">      d[y]=d[x]+w[x][y];
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">106</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">      fa[y]=x;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">107</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">    }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">108</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">*/</span></pre> 
      <div class="cnblogs_code_toolbar" style="font-family:'Courier New';font-size:12px;">
       <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
      </div> 
      <div class="cnblogs_code_toolbar" style="font-family:'Courier New';font-size:12px;">
       <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><br></a></span>
      </div> 
      <div class="cnblogs_code_toolbar" style="font-family:'Courier New';font-size:12px;">
       <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><br></a></span>
      </div> 
      <div class="cnblogs_code_toolbar" style="font-family:'Courier New';font-size:12px;">
       <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><br></a></span>
      </div> 
      <div class="cnblogs_code_toolbar"> 
       <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="border:none;"><font color="#333333"><u>本文转自beautifulzzzz博客园博客，原文链接：</u></font></a></span>
       <font color="#333333"><u>http://www.cnblogs.com/zjutlitao/p/3530475.html</u></font>
       <a title="复制代码" style="border:none;"><font color="#333333"><u>，如需转载请自行联系原作者</u></font></a> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
