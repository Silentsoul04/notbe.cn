<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>[ACM_动态规划] 轮廓线动态规划——铺放骨牌(状态压缩1) « NotBeCN</title>
  <meta name="description" content="                                                        Description                   Squares and rectangles fascinated the famous Dutch painter Piet Mondria...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/28/weixin_33794672_90126792.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">[ACM_动态规划] 轮廓线动态规划——铺放骨牌(状态压缩1)</h1>
    <p class="post-meta">Nov 28, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="font-size:14px;line-height:1.5em;clear:both;font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;"><br></h1> 
   <div class="clear" style="clear:both;font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"></div> 
   <div class="postBody"> 
    <div class="blogpost-body"> 
     <div class="ui-tabs ui-widget ui-widget-content ui-corner-all"> 
      <div class="ui-tabs-panel ui-widget-content ui-corner-bottom"> 
       <div class="hiddable" style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"> 
        <p style="line-height:1.5;font-size:15px;">Description</p> 
        <div class="textBG"> 
         <p style="line-height:1.5;font-size:15px;">Squares and rectangles fascinated the famous Dutch painter Piet Mondriaan. One night, after producing the drawings in his 'toilet series' (where he had to use his toilet paper to draw on, for all of his paper was filled with squares and rectangles), he dreamt of filling a large rectangle with small rectangles of width 2 and height 1 in varying ways.</p> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
         <img src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=0000%2F1100%2F1100-1.gif" alt="" style="border:0px;">
         <p style="line-height:1.5;font-size:15px;">Expert as he was in this material, he saw at a glance that he'll need a computer to calculate the number of ways to fill the large rectangle whose dimensions were integer values, as well. Help him, so that his dream won't turn into a nightmare!</p> 
         <p style="line-height:1.5;font-size:15px;"><strong>Input Specification</strong></p> 
         <p style="line-height:1.5;font-size:15px;">The input file contains several test cases. Each test case is made up of two integer numbers: the height&nbsp;<em>h</em>&nbsp;and the width&nbsp;<em>w</em>&nbsp;of the large rectangle. Input is terminated by&nbsp;<em>h=w=0</em>. Otherwise,&nbsp;<em>1&lt;=h,w&lt;=11</em>.</p> 
         <p style="line-height:1.5;font-size:15px;"><strong>Output Specification</strong></p> 
         <p style="line-height:1.5;font-size:15px;">For each test case, output the number of different ways the given rectangle can be filled with small rectangles of size 2 times 1. Assume the given large rectangle is oriented, i.e. count symmetrical tilings multiple times.</p> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
         <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
          <tbody>
           <tr>
            <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;font-size:15px;"><strong>Sample Input</strong></p> <p style="line-height:1.5;font-size:15px;">&nbsp;</p> <pre>1 2
1 3
1 4
2 2
2 3
2 4
2 11
4 11
0 0
</pre> </td> 
            <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;font-size:15px;"><strong>Sample Output</strong></p> <p style="line-height:1.5;font-size:15px;">&nbsp;</p> <pre>1
0
1
2
3
5
144
51205
<br></pre> </td> 
            <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"><img src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=0000%2F1100%2F1100-2.gif" alt="" style="border:0px;"></td> 
           </tr>
          </tbody>
         </table>
        </div> 
       </div> 
       <div class="hiddable" style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"> 
        <p style="line-height:1.5;font-size:15px;">Input</p> 
        <div class="textBG">
         Specification 
         <p style="line-height:1.5;font-size:15px;">The input file contains several test cases. Each test case is made up of two integer numbers: the height&nbsp;<em>h</em>&nbsp;and the width&nbsp;<em>w</em>&nbsp;of the large rectangle. Input is terminated by&nbsp;<em>h=w=0</em>. Otherwise,&nbsp;<em>1&lt;=h,w&lt;=11</em>.</p> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
        </div> 
       </div> 
       <div class="hiddable" style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"> 
        <p style="line-height:1.5;font-size:15px;">Output</p> 
        <div class="textBG">
         Specification 
         <p style="line-height:1.5;font-size:15px;">For each test case, output the number of different ways the given rectangle can be filled with small rectangles of size 2 times 1. Assume the given large rectangle is oriented, i.e. count symmetrical tilings multiple times.</p> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
         <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
          <tbody>
           <tr>
            <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td>
           </tr>
          </tbody>
         </table>
        </div> 
       </div> 
       <div class="hiddable" style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"> 
        <p style="line-height:1.5;font-size:15px;">Sample Input</p> 
        <div class="textBG"> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
         <pre>1 2
1 3
1 4
2 2
2 3
2 4
2 11
4 11
0 0
</pre> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
        </div> 
       </div> 
       <div class="hiddable"> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">Sample Output</p> 
        <div class="textBG" style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:14px;"> 
         <p style="line-height:1.5;font-size:15px;">&nbsp;</p> 
         <pre>1
0
1
2
3
5
144
51205
<br></pre> 
         <img src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=0000%2F1100%2F1100-2.gif" alt="" style="border:0px;">
        </div> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">&nbsp;</p> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">今天集训做这题用怎样的dp都会跪，然后我就自己模拟，还是跪......最后前辈SD指导，原来这是典型的状态压缩问题（所谓状态压缩也弄不懂啥专业术语，就知道针对这题采用的是二进制策略将d[2][][][][][]...后面的m维数组映射为一个2进制的m位，从而用一个d[2][1&lt;&lt;m]的二维数组就搞定啦），下面是对这题我的理解....我是从一点不懂，然后从多段图路径看到轮廓线动态压缩，然后又根据图研究本题的构造方法，最后又理解2进制操作，感觉做ACM的题目好充实，哈哈，加油！！！</p> 
        <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
         <div class="cnblogs_code_toolbar">
          <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
         </div> 
         <pre><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 1</span> #include&lt;cstdio&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 2</span> #include&lt;cstring&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 3</span> #include&lt;algorithm&gt;
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 4</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">using</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">namespace</span><span style="line-height:1.5;font-size:12px;"> std;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 5</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> n,m,cur;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 6</span> 
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 7</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">const</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> maxn=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">15</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 8</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">long</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">long</span> d[<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">2</span>][<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;<span style="line-height:1.5;font-size:12px;">maxn];
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;"> 9</span> 
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">10</span> <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span><span style="line-height:1.5;font-size:12px;"> main(){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">11</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">while</span>(scanf(<span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">%d%d</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span>,&amp;n,&amp;m)==<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">2</span><span style="line-height:1.5;font-size:12px;">){
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">12</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(m==<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span> &amp;&amp; n==<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>)<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">return</span> <span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">13</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(n&lt;<span style="line-height:1.5;font-size:12px;">m)swap(n,m);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">14</span>         memset(d,<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>,<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">sizeof</span><span style="line-height:1.5;font-size:12px;">(d));
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">15</span>         cur=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">16</span>         d[<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>][(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m)-<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>]=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>;<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">所有d[0][j]初始化为1</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">17</span>         <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> i=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>;i&lt;n;i++<span style="line-height:1.5;font-size:12px;">)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">18</span>             <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> j=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>;j&lt;m;j++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">从小到大枚举每一个阶段(共m*n阶段)</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">19</span>                 cur^=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">20</span>                 memset(d[cur],<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>,<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">sizeof</span><span style="line-height:1.5;font-size:12px;">(d[cur]));
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">21</span>                 <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">for</span>(<span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">int</span> k=<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span>;k&lt;(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m);k++){<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">枚举上个阶段的状态(0-2*m-1)</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">22</span>                     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(k&amp;(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m-<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>))d[cur][(k&lt;&lt;<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>)^(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m)]+=d[<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>-cur][k];<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">不放</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">23</span>                     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(i &amp;&amp; !(k&amp;(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m-<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>)))d[cur][(k&lt;&lt;<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>)^<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>]+=d[<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>-cur][k];<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">插上</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">24</span>                     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">if</span>(j &amp;&amp; (k&amp;(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m-<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>)) &amp;&amp; !(k&amp;<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>))d[cur][(k&lt;&lt;<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>)^(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m)|(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>)^<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>]+=d[<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>-cur][k];<span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">//</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">插左</span>
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">25</span> <span style="line-height:1.5;font-size:12px;">                }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">26</span> <span style="line-height:1.5;font-size:12px;">            }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">27</span>             printf(<span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">%lld\n</span><span style="line-height:1.5;color:rgb(128,0,0);font-size:12px;">"</span>,d[cur][(<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span>&lt;&lt;m)-<span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">1</span><span style="line-height:1.5;font-size:12px;">]);
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">28</span> <span style="line-height:1.5;font-size:12px;">    }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">29</span>     <span style="line-height:1.5;color:rgb(0,0,255);font-size:12px;">return</span> <span style="line-height:1.5;color:rgb(128,0,128);font-size:12px;">0</span><span style="line-height:1.5;font-size:12px;">;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">30</span> <span style="line-height:1.5;font-size:12px;">}
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">31</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">/*</span><span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">《明明很爱你——品冠、梁静茹，伤感唯美》《红日——杨克勤，热血，积极》《如果你也听说——张惠妹，爱情，伤感》
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">32</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">^_^!状态压缩——轮廓线动态规划
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">33</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">^_^!共同特点：在一个比较"窄"(行数少或者列数少)的棋盘上进行复杂操作。如过采用传统方法(以整行或者整列为状态)进行规划，
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">34</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">            将无法进行状态转移，因此只能把参差不齐的轮廓线也作为状态转移的一部分。
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">35</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">^_^!方法：要用到递推关系里的多段图路径问题：从左到右有n列节点，每列称为"一个阶段",每个阶段的结点只能向下一阶段连有向
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">36</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">         边(每个结点出发可以连多条边),求从阶段1到阶段n每个结点的路径条数(起点可以任意，只要是从阶段1开始的即可)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">37</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;            设d[i][j]为从阶段1到结点(i,j)的路径条数，则伪代码为(已用滚动数组)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">38</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;            cur=0;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">39</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;            所有d[0][j]初始化为1
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">40</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;            从小到大枚举每个要算的阶段{            //采用动态数组思想实现上下2层数据更新   
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">41</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;                cur^=1;//d[2][m]---&gt;一层为d[cur][...]另一层为d[1-cur][...]两层数据轮换为cur^=1;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">42</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;                所有d[cur][j]初始化为0//只能放在这，因为在d[cur]存着以前某个阶段的值
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">43</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;                for 上个阶段每个结点j
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">44</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;                    for j的每个后继结点k
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">45</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;                        d[cur][k]+=d[1-cur][j]
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">46</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;            }
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">47</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;            这里cur就是"正在计算"的那一阶段。最后d[cur]为阶段n各结点的值。不难发现，这些节点的名字和编号并不重
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">48</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">&gt;&gt;          要，只需要从小到大枚举这些阶段就好
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">49</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">^_^!本题：铺放骨牌(用1x2的骨牌覆盖nxm的棋盘,有多少种方法?输入韩多组数据，每组包含2个整数m,n(m*n&lt;=100),当m==n==0时
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">50</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">         结束),对于每组数据输出总数。
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">51</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">^_^!解题思路:1&gt;因为题目中n*m&lt;=100所以m、n至少有一个不超过10。为简单起见，我们规定m=&lt;n,如果n&gt;m就交换，来符合前面说的
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">52</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">              "窄"棋盘条件;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">53</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">            2&gt;这里按照从上到下、从左到右的顺序把棋盘分成m*n个阶段,每个阶段包含m个棋盘区域(第n行m列的1x1的方块及其后
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">54</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">              的m-1个),我们用1已覆盖,0表示未被覆盖,这样每个阶段所有情况就是所有m位二进制，共2的m次方个结点;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">55</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">            3&gt;阶段决策是："以当前格子为右下角，要不要放骨牌以及放哪种骨牌"。答案有3种：不放骨牌、放竖骨牌、放横骨牌 
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">56</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">              $(i,j)在右下角竖放即插入上一层，横放是占据前一个和(i,j)位置$
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">57</span> 
<span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">58</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">59</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">60</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             【】【】[k4][k3][k2]
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">61</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             [k1][k0](i,j)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">62</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |  
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">63</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">64</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |-----------   【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">65</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">66</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              【】【】  1 [k3][k2]
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">67</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              [k1][k0][0]         //不放的情况只有当k4==1时，转移到k3k2k1k00状态
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">68</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">69</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |-----------   【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">70</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">71</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              【】【】  1 [k3][k2]
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">72</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              [k1][k0][1]         //往上放的情况只有当k4==0 &amp;&amp; i!=最上层时，转移到k3k2k1k01
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">73</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">74</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |-----------   【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">75</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              【】【】【】【】【】
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">76</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              【】【】  1 [k3][k2]
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">77</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |              [k1][1] [1]         //往左放的情况只有当k4==1 &amp;&amp; k0==0 &amp;&amp; j不是最左层时，转移到k3k2k111
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">78</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             |
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">79</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             ^_^!算法复杂度为O(mn*2^m)，最终答案为d[cur][2^m-1]  (因为是从0开始编号的最后一个阶段即m*n-1,又因为该算法采用滚动
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">80</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             数组法，所以最后一个阶段数值保存在d[cur][...]里，上面说的设d[i][j]为从阶段1到结点(i,j)的路径条数，这里我们为了
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">81</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             防止开一个d[2][k4][k3][k2][k1][k0]的数组，所以将后面m维映射为一个2进制整数2^k4+2^k3+2^k2+2^k1+2^k0共
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">82</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             是0-2^m-1个结点，所以最后一个阶段最后一个结点存的就是答案)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">83</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">             ^_^!位运算实现状态转移：设旧状态为k,则：
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">84</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">                                 A:不放，条件：二进制k从左往右第一个为1,即：k &amp; (1&lt;&lt;m-1));
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">85</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">                                        新状态为k左移一位的结果：k&lt;&lt;1;
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">86</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">                                 B:上插，条件：二进制k从左往右第一个为0 &amp;&amp; i不为顶，即：i &amp;&amp; !(k&amp;(1&lt;&lt;m-1))
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">87</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">                                        新状态为k左移一位最后一位变为1：(k&lt;&lt;1)^1
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">88</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">                                 C:左插，条件：二进制k最左一位为1，最右一位为0，且j不为左，即：j &amp;&amp; (k&amp;(1&lt;&lt;m-1)) &amp;&amp; !(k&amp;1)
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">89</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">                                        新状态为k左移一位最后一位和倒数第二位变为1         
</span><span style="line-height:1.5;color:rgb(0,128,128);font-size:12px;">90</span> <span style="line-height:1.5;color:rgb(0,128,0);font-size:12px;">*/</span></pre> 
         <div class="cnblogs_code_toolbar">
          <span class="cnblogs_code_copy" style="line-height:1.5;font-size:12px;"><a title="复制代码" style="color:rgb(51,51,51);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
         </div> 
        </div> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;">&nbsp;</p> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;"><br></p> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;"><br></p> 
        <p style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;font-size:15px;line-height:1.5;"><br></p> 
        <p style="line-height:1.5;"><font>本文转自beautifulzzzz博客园博客，原文链接：http://www.cnblogs.com/zjutlitao/p/3525349.html</font><span style="font-family:verdana, 'ms song', '微软雅黑', Arial, '微软雅黑', Helvetica, sans-serif;">，如需转载请自行联系原作者</span></p> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
