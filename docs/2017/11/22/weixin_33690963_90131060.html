<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>UVa 514 Rails(经典栈) « NotBeCN</title>
  <meta name="description" content="                                 &nbsp;&nbsp;Rails&nbsp;                   There is a famous railway station in PopPush City. Country there is incredibly hil...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/22/weixin_33690963_90131060.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">UVa 514 Rails(经典栈)</h1>
    <p class="post-meta">Nov 22, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="line-height:1.5;font-size:28px;font-family:'YaHei Consolas Hybrid';"> </h1> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><strong><span style="line-height:1.8;font-size:24px;color:rgb(192,255,255);">&nbsp;<a name="SECTION0001000000000000000000" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">&nbsp;Rails</a>&nbsp;</span></strong></td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">There is a famous railway station in PopPush City. Country there is incredibly hilly. The station was built in last century. Unfortunately, funds were extremely limited that time. It was possible to establish only a surface track. Moreover, it turned out that the station could be only a dead-end one (see picture) and due to lack of available space it could have only one track.</p> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <div style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"> 
    <br>
    <img align="bottom" src="http://uva.onlinejudge.org/external/5/p514.gif" alt="\begin{picture}(6774,3429)(0,-10)\put(1789.500,1357.500){\arc{3645.278}{4.7247}......tFigFont{14}{16.8}{\rmdefault}{\mddefault}{\updefault}Station}}}}}\end{picture}" style="border:0px;">&nbsp;
    <br>
   </div> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">The local tradition is that every train arriving from the direction A continues in the direction B with coaches reorganized in some way. Assume that the train arriving from the direction A has<img width="79" height="32" align="middle" src="http://uva.onlinejudge.org/external/5/514img2.gif" alt="$N \lex 1000$" style="border:0px;">&nbsp;coaches numbered in increasing order&nbsp;<img width="84" height="32" align="middle" src="http://uva.onlinejudge.org/external/5/514img3.gif" alt="$1, 2, \dots, N$" style="border:0px;">. The chief for train reorganizations must know whether it is possible to marshal coaches continuing in the direction B so that their order will be&nbsp;<img width="104" height="30" align="middle" src="http://uva.onlinejudge.org/external/5/514img4.gif" alt="$a_1. a_2, \dots, a_N$" style="border:0px;">. Help him and write a program that decides whether it is possible to get the required order of coaches. You can assume that single coaches can be disconnected from the train before they enter the station and that they can move themselves until they are on the track in the direction B. You can also suppose that at any time there can be located as many coaches as necessary in the station. But once a coach has entered the station it cannot return to the track in the direction A and also once it has left the station in the direction B it cannot return back to the station.</p> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:'YaHei Consolas Hybrid';"><span style="line-height:1.8;color:rgb(0,112,232);"><a name="SECTION0001001000000000000000" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Input</a>&nbsp;</span></h2> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">The input file consists of blocks of lines. Each block except the last describes one train and possibly more requirements for its reorganization. In the first line of the block there is the integer&nbsp;</span>
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">N</span>
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">&nbsp;described above. In each of the next lines of the block there is a permutation of</span>
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></span>
   <img width="84" height="32" align="middle" src="http://uva.onlinejudge.org/external/5/514img3.gif" alt="$1, 2, \dots, N$" style="border:0px;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">&nbsp;The last line of the block contains just 0.</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">The last block consists of just one line containing 0.</p> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:'YaHei Consolas Hybrid';"><span style="line-height:1.8;color:rgb(0,112,232);"><a name="SECTION0001002000000000000000" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Output</a>&nbsp;</span></h2> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">The output file contains the lines corresponding to the lines with permutations in the input file. A line of the output file contains&nbsp;</span>Yes
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">&nbsp;if it is possible to marshal the coaches in the order required on the corresponding line of the input file. Otherwise it contains&nbsp;</span>No
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';">. In addition, there is one empty line after the lines corresponding to one block of the input file. There is no line in the output file corresponding to the last ``null'' block of the input file.</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:'YaHei Consolas Hybrid';"><span style="line-height:1.8;color:rgb(0,112,232);"><a name="SECTION0001003000000000000000" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Sample Input</a>&nbsp;</span></h2> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <pre>5
1 2 3 4 5
5 4 1 2 3
0
6
6 5 4 3 2 1
0
0
</pre> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:'YaHei Consolas Hybrid';"><span style="line-height:1.8;color:rgb(0,112,232);"><a name="SECTION0001004000000000000000" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Sample Output</a>&nbsp;</span></h2> 
   <p style="color:rgb(51,51,51);font-size:14px;font-family:'YaHei Consolas Hybrid';"></p> 
   <pre>Yes
No

Yes</pre> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">有n辆火车 &nbsp;按1到n的顺序进站 &nbsp;最后进站的车能够在不论什么时候出去 &nbsp;推断给定的出站序列是否可能</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">火车仅仅有两种状态&nbsp; 从A进站 &nbsp;或者从站到B &nbsp; 模拟栈的操作即可了</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">令A表示A中当前待进站的第一辆火车 &nbsp;tar[B]表示出站序列中当前应该出站的火车 &nbsp; sta为火车站</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">当A==tar[B]的时候 &nbsp;A进站立即出战 &nbsp; 否则当站中最后一辆==tar[B]时 &nbsp; 这辆车出站 &nbsp;都不满足就仅仅能A中的最前面的火车进站</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">当n辆火车所有进站 &nbsp;而站中还有火车是 &nbsp; 给定的出战序列就是不可能的</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <pre><code class="language-cpp">#include&lt;cstdio&gt;
#include&lt;stack&gt;
using namespace std;
const int N = 1005;
int n, tar[N], A, B;
int main()
{
    while (scanf ("%d", &amp;n), n)
    {
        while (scanf ("%d", &amp;tar[1]), tar[1])
        {
            for (int i = 2; i &lt;= n; ++i)
                scanf ("%d", &amp;tar[i]);
            stack&lt;int&gt; sta;
            A = B = 1;
            bool ok = true;
            while (B &lt;= n)
            {
                if (A == tar[B])
                {   ++A; ++B;   }
                else if (!sta.empty() &amp;&amp; sta.top() == tar[B])
                {   sta.pop();  ++B;  }
                else if (A &lt;= n)
                    sta.push (A++);
                else
                {   ok = false;  break;  }
            }
            printf (ok ? "Yes\n" : "No\n");
        }
        printf("\n");
    }
    return 0;
}
</code></pre> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <div> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;">版权声明：本文博客原创文章。博客，未经同意，不得转载。</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p><font color="#333333"><span style="font-size:12px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/4744427.html，如需转载请自行联系原作者</span></font></p> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
