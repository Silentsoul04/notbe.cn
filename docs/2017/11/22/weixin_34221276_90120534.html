<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>现代软件工程讲义 3 代码规范与代码复审 « NotBeCN</title>
  <meta name="description" content="                  第10章        代码规范与代码复审               在第9章中，同学们完成了WC程序，经过评比，九条的程序获得了第一名。这时，阿超说，现代软件产业经过几十年的发展，已经不可能出现一个人单枪匹马完成一个软件的事情了，软件都是在相互合作中完成的。阿超建议大家互相...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/22/weixin_34221276_90120534.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">现代软件工程讲义 3 代码规范与代码复审</h1>
    <p class="post-meta">Nov 22, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;"> 
    <p align="center" style="text-indent:0pt;"><font><font color="#000000"><font><span>第</span><span>10</span><span>章</span></font></font></font></p> 
   </div> 
   <p align="center" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><font><font color="#000000"><strong>代码规范与代码复审</strong></font></font></span></p> 
   <p align="center" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><a href="http://images.cnblogs.com/cnblogs_com/xinz/201111/201111201235391085.jpg" rel="nofollow" style="color:rgb(52,104,164);"><font><img title="clip_image003" alt="clip_image003" src="https://images.cnblogs.com/cnblogs_com/xinz/201111/201111201235451538.jpg" width="252" height="410" style="border:0px;background-image:none;"></font></a></p> 
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><br></span>
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.8px;"></span> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><font color="#000000"><font><span style="line-height:14pt;"><font>在第</font></span><font>9</font><span style="line-height:14pt;"><font>章中，同学们完成了</font></span><font>WC</font><span style="line-height:14pt;"><font>程序，经过评比，九条的程序获得了第一名。这时，阿超说，现代软件产业经过几十年的发展，已经不可能出现一个人单枪匹马完成一个软件的事情了，软件都是在相互合作中完成的。阿超建议大家互相看看别人的代码，在</font></span><font>TFS</font><span style="line-height:14pt;"><font>中每个人都把各自项目的权限放宽，允许别人访问，交流一下意见。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><span style="line-height:14pt;"><font><font color="#000000">两个小时后，小飞来抱怨说，九条的代码都是一行到底，随意缩进，跟他提了意见，他还说“编译通过就行了”。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><span style="line-height:14pt;"><font><font color="#000000">他们找到了九条。</font></font></span></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>九条：</font></span><span><font>我打麻将的时候牌都是乱摆，赢的也不少呀。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>阿超：</font></span><span><font>为什么要乱摆？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>九条：</font></span><span><font>因为怕围观的人看清我的牌路，我自己清楚就行了。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font><font color="#000000">上课了。阿超问大家，我们写的代码是给人看的，还是给机器看的？</font></font></span><span></span></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>杂曰：</font></span><span><font>人也看，机器也看。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>阿超：</font></span><span><font>对，但是最终是人在看。而且和打麻将不同，我们的代码要让“旁观者”看得清清楚楚。请看下一段代码，如代码清单</font></span><font>10-1</font><span><font>所示，如果你接手这样的代码，有什么感想？</font></span></font></font></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;"> 
    <p style="text-indent:0pt;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>代码清单</font></span><font>10-1<span style="line-height:16pt;">&nbsp;&nbsp;</span>badly formatted code – big C</font></font></font><a title="" name="_ftnref1" style="color:rgb(52,104,164);"><span class="MsoFootnoteReference" style="line-height:16pt;vertical-align:super;"><span style="line-height:16pt;"><span style="line-height:16pt;"><span class="MsoFootnoteReference" style="line-height:16pt;vertical-align:super;"><span style="line-height:16pt;"><font><font color="#0066cc"><u>[1]</u></font></font></span></span></span></span></span></a></p> 
   </div> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>#include "stdafx.h"</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;</span>#include<span style="line-height:9.3pt;">&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span>"stdio.h"</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>void test();</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span>int _tmain</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span>(int argc,</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span>_TCHAR*<span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>argv[])</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{ test(); return</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>0; }</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000">&nbsp;</font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>char C[25][40];void d(int x,int y)</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;</span>{<span style="line-height:9.3pt;letter-spacing:-.4pt;">C[x][y]=C[x][y+1]=32;}int f(int x){return (int)x*x*.08;}</span></font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;</span>vo<span style="line-height:9.3pt;letter-spacing:-.6pt;">id test(){int i,j;<span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>char s[5]="TEST";</span></font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span>for(i=0;i&lt;25;i++)</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span>for(j=0;j&lt;40;j++)</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;</span>C[i][j]=s[(i+j)%4];</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>for(i=1;i&lt;=7;i++)</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{d(18-i,12);</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>C[20-f(i)][i+19]=</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;</span>C[20-f(i)][20-i]=32;</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span>}d(10,13);d(9,13);</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;</span>d(8,14);d(7,15);</font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>d<span style="line-height:9.3pt;letter-spacing:-.5pt;">(6,16);d(5,18);d(5,20);<span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;</span>d(5,22);d(5,26);</span></font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>d<span style="line-height:9.3pt;letter-spacing:-.6pt;">(6,23);d(6,25);d(7,25);for(i=0;i&lt;25;i++,printf("\n"))</span></font></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:9.3pt;"><font><font color="#000000"><font><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:9.3pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>for(j=0;j&lt;40;printf("%c",C[i][j++]));}</font></font></font></p> 
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><br></span>
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.8px;"></span> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">同学们纷纷发言，基本上有如下的反应：</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）</font></span><font>Faint</font><span style="line-height:16pt;"><font>！！</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><span style="line-height:16pt;"><font>）重写程序！！</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>3</font><span style="line-height:16pt;"><font>）找到原作者，暴打一顿！！！</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>4</font><span style="line-height:16pt;"><font>）让此人从公司辞职！！！！</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">计算机只关心编译后的机器码，你的程序是什么样的缩进风格，以及变量名是否有统一的规范等和机器码的执行无关。但是，做一个有商业价值的项目，或者在团队里工作，代码规范相当重要。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">我们讲的“代码规范”可以分成两个部分。</font></font></span></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><font><span style="line-height:16pt;">）代码风格</span><span style="line-height:16pt;">规范</span><span style="line-height:16pt;">。主要是文字上的规定，看似表面文章，实际上非常重要。</span></font></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><font><span style="line-height:16pt;">）代码设计</span><span style="line-height:16pt;">规范</span><span style="line-height:16pt;">。牵涉到程序设计、模块之间的关系、设计模式等<span style="line-height:16pt;letter-spacing:-.1pt;">方方面面，这里有不少与具体程序设计语言息息相关的内容（如</span></span></font><span style="line-height:16pt;letter-spacing:-.1pt;"><font>C/C++/Java/C#</font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>），但是也有通用的原则，这里主要讨论通用的原则。</font></span></font></font></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;"> 
    <p align="justify" style="text-indent:0pt;line-height:16pt;text-transform:uppercase;"><a name="_Toc160120897"><font><font color="#000000"><font>10.1<span style="line-height:16pt;">&nbsp;&nbsp;</span><span style="line-height:16pt;">代码风格规范</span></font></font></font></a></p> 
   </div> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">代码风格的原则是：简明，易读，无二义性。</font></font></span></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>提示：</font></span><span style="line-height:16pt;"><font>这是移山公司的一家之言，如果碰到争执，关键是要本着“保持简明，让代码更容易读”的原则，看看如下争执中的代码规范是否能够让程序员们更好地理解和维护程序。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.1<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">缩进</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>是用</font></span><font>Tab</font><span style="line-height:16pt;"><font>键好，还是</font></span><font>2</font><span style="line-height:16pt;"><font>、</font></span><font>4</font><span style="line-height:16pt;"><font>、</font></span><font>8</font><span style="line-height:16pt;"><font>个空格？</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>结论：</font></span><font>4</font><span style="line-height:16pt;"><font>个空格，在</font></span><font>VS2005</font><span style="line-height:16pt;"><font>和其他的一些编辑工具中都可以定义</font></span><font>Tab</font><span style="line-height:16pt;"><font>键扩展成为几个空格键。不用</font></span><font>&nbsp;Tab</font><span style="line-height:16pt;"><font>键的理由是</font></span><font>Tab</font><span style="line-height:16pt;"><font>键在不同的情况下会显示不同的长度。</font></span><font>4</font><span style="line-height:16pt;"><font>个空格的距离从可读性来说正好。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.2<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">行宽</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>行宽必须限制，但是以前有些文档规定的</font></span><font>80</font><span style="line-height:16pt;"><font>字符行宽太小了（以前的计算机</font></span><font>/</font><span style="line-height:16pt;"><font>打字机显示行宽为</font></span><font>80</font><span style="line-height:16pt;"><font>字符），现在时代不同了，可为</font></span><font>100</font><span style="line-height:16pt;"><font>字符。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font><font color="#000000">10.1.3<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">括号</span></font></font><span style="line-height:16.5pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">在复杂的条件表达式中，用括号清楚地表示逻辑优先级。</font></font></span></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.4<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">断行与空白的</span>{ }<span style="line-height:16.5pt;">行</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">程序的结构是什么风格？下面有几种格式，我们一一讨论。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>最精简的格式</font></span><font>A</font><span style="line-height:16pt;"><font>：</font></span></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">if (condition)<span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomething();</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">else<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomethingElse();</font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>有人喜欢这样，因为可以节省几行，但是不同的语句（</font></span><font>Statement</font><span style="line-height:16pt;"><font>）放在一行中，会使程序调试（</font></span><font>DeBug</font><span style="line-height:16pt;"><font>）非常不方便，如果要一步一步观察</font></span><font>condition</font><span style="line-height:16pt;"><font>（</font></span><font>condition</font><span style="line-height:16pt;"><font>有可能是包含函数调用的复杂表达式）中各个变量的变化情况，单步执行就很难了。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>因此，我们还是要有断行，这样可以得到如下的结构——格式</font></span><font>B</font><span style="line-height:16pt;"><font>：</font></span></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">if (condition)</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomething();</font></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">else</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomethingElse();</font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>这样的结构，由于没有明确的“</font></span><font>{</font><span style="line-height:16pt;"><font>”和“</font></span><font>}</font><span style="line-height:16pt;"><font>”来判断程序的结构，在有多层控制嵌套的时候，就不容易看清结构和对应关系。下面的改进（格式</font></span><font>C</font><span style="line-height:16pt;"><font>）虽好，但是阿超认为还是不够清晰：</font></span></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">if ( condition) {</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomething();</font></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">} else {</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomethingElse();</font></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>于<span style="line-height:16pt;letter-spacing:-.1pt;">是我们最后做了这个选择，每个“</span></font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>{</font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>”和“</font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>}</font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>”都独占一行。就是格式</font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>D</font></span><span style="line-height:16pt;letter-spacing:-.1pt;"><font>：</font></span></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">if ( condition)</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomething();</font></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">else</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomethingElse();</font></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.5<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">分行</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">不要把多行语句放在一行上。</font></font></span></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">a = 1; b = 2;<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// bogus</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">if (fFoo) Bar();<span>&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// bogus</font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">更严格地说，不要把不同的变量定义在一行上。</font></font></span></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">Foo foo1, foo2;<span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// bogus</font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.6<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">命名</span></font></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>阿超：</font></span><span><font>我在某个同学的程序中看到有些变量叫“</font></span><font>lili</font><span><font>”，“</font></span><font>yunyun</font><span><font>”，不知道这些变量在现实生活中有没有什么意义。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">下面哄笑起来。</font></font></span></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>果冻：</font></span><span><font>（红着脸问）那有些变量的确想不出名字，简单的变量像</font></span><font>i</font><span><font>、</font></span><font>j</font><span><font>、</font></span><font>k</font><span><font>都用完了，怎么办？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>阿超：</font></span><span><font>当我们的程序比“</font></span><font>Hello World</font><span><font>”复杂</font></span><font>10</font><span><font>倍以上的时候，像给变量命名这样简单的事看起来也不那么简单了。我们就来谈谈如何起名字这个问题。程序中的实体、变量是程序员昼思夜想的对象，要起一个好的名字才行。大家都知道用单个字母给有复杂语义的实体命名是不好的，目前最通用的，也是经过了实践检验的方法叫“匈牙利命名法”。例如：</font></span></font></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>fFileExist</font><span style="line-height:16pt;"><font>，表明是一个</font></span><font>bool</font><span style="line-height:16pt;"><font>值，表示文件是否存在；</font></span></font></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>szPath</font><span style="line-height:16pt;"><font>，表明是一个以</font></span><font>0</font><span style="line-height:16pt;"><font>结束的字符串，表示一个路径。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>如此命名的目的是让程序员一眼就能看出变量的类型，避免在使用中出错。早期的计算机语言（如</font></span><font>BCPL</font><span><font>）不作类型检查，在</font></span><font>C</font><span><font>语言中，</font></span><font>int</font><span><font>、</font></span><font>byte</font><span><font>、</font></span><font>char</font><span><font>、</font></span><font>bool</font><span><font>大概都是一回事。下面这一句话：</font></span></font></font></p> 
   <p align="justify" style="text-indent:17.85pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">if (i)</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>从语义来说，</font></span><span style="line-height:15pt;"><font>i</font></span><span><font>可以是表示真</font></span><font>/</font><span><font>假的一个值，也可以表示长度是否为零，</font></span></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>还可以表示是否到了字符串的结束位置，或者可以表示两个字符串比较的结果不相等（</font></span><span style="line-height:15pt;"><font>strcmp</font></span><font><span style="line-height:15pt;">（）</span><span>返回</span><span>-</span></font><font>1</font><span><font>，</font></span><font>0</font><span><font>，</font></span><font>1</font><span><font>）。从程序的文字上，很难看出确切的语义。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>同样是字符串类型，</font></span><font>char *</font><span><font>，</font></span><font>BSTR</font><span><font>的有些行为是很不一样的。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><font>HRESULT</font><span><font>的值也可以用来表示真假，但是</font></span><font>HR_TRUE == 0</font><span><font>，</font></span><font>HR_FALSE ==1</font><span><font>，这和通常的</font></span><font>true/false</font><span><font>刚好相反。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font><font color="#000000">大部分的程序，错就错在这些地方！在变量面前加上有意义的前缀，就可以让程序员一眼看出变量的类型及相应的语义。这就是“匈牙利命名法”的用处。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>匈牙利命名法的一些通用规定，见本书附录</font></span><font>B</font><span><font>（第</font></span><font>337</font><span><font>页）。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>还有一些地方不适合用“匈牙利命名法”，比如，在一些强类型的语言（如</font></span><font>C#</font><span><font>）中，不同类型的值是不能做运算的，对类型有严格的要求，例如</font></span><font>C#&nbsp;</font><span><font>中，</font></span><span style="line-height:15pt;"><font>if()</font></span><span><font>语句只能接受</font></span><font>bool</font><span><font>值的表达式，这样就大大地防止了以上问题的发生。在这样的语言中，前缀就不是很必要的，匈牙利命名法则不适用了。</font></span><font>Microsoft .Net Framework</font><span><font>就不主张用这样的法则。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.7<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">下划线问题</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><span style="line-height:17pt;"><font>下划线用来分隔变量名字中的作用域标注和变量的语义，如：一个类型的成员变量通常用</font></span><font>m_</font><span style="line-height:17pt;"><font>来表示。移山公司规定下划线一般不用在其他方面。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.8<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">大小写问题</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><span style="line-height:17pt;"><font><font color="#000000">由多个单词组成的变量名，如果全部都是小写，很不易读，一个简单的解决方案就是用大小写区分它们。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><font>Pascal</font><span style="line-height:17pt;"><font>——所有单词的第一个字母都大写；</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><font>Camel</font><span style="line-height:17pt;"><font>——第一个单词全部小写，随后单词随</font></span><font>Pascal</font><span style="line-height:17pt;"><font>格式，这种方式也叫</font></span><font>lowerCamel</font><span style="line-height:17pt;"><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><span style="line-height:17pt;"><font>一个通用的做法是：所有的类型</font></span><font>/</font><span style="line-height:17pt;"><font>类</font></span><font>/</font><span style="line-height:17pt;"><font>函数名都用</font></span><font>Pascal</font><span style="line-height:17pt;"><font>形式，所有的变量都用</font></span><font>Camel</font><span style="line-height:17pt;"><font>形式。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><span style="line-height:17pt;"><font>类</font></span><font>/</font><span style="line-height:17pt;"><font>类型</font></span><font>/</font><span style="line-height:17pt;"><font>变量：名词或组合名词，如</font></span><font>Member</font><span style="line-height:17pt;"><font>、</font></span><font>ProductInfo</font><span style="line-height:17pt;"><font>等。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><span style="line-height:17pt;"><font>函数则用动词或动宾组合词来表示，如</font></span><span style="line-height:17pt;"><font>get/set; RenderPage()</font></span><span style="line-height:17pt;"><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.1.9<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">注释</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><span style="line-height:17pt;"><font><font color="#000000">谁不会写注释？但是，需要注释什么？</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><span style="line-height:17pt;"><font>不要注释程序是怎么工作的（</font></span><font>How</font><span style="line-height:17pt;"><font>），你的程序本身就应该能说明这一问题。</font></span></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">//this loop starts the i from 0 to len, in each step, it</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">// does SomeThing</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">for (i = 0; i&lt;len; i++)</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{<br><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomeThing();</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><span style="line-height:17pt;"><font><font color="#000000">以上的注释是多余的。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:17pt;"><font color="#000000"><font><span style="line-height:17pt;"><font>注释是用来解释程序做什么（</font></span><font>What</font><span style="line-height:17pt;"><font>），为什么这样做（</font></span><font>Why</font><span style="line-height:17pt;"><font>），以及要特别注意的地方的，如下：</font></span></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">//go thru the array, note the last element is at [len-1]</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">for (i = 0; i&lt;len; i++)</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>DoSomeThing();</font></font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>复杂的注释应该放在函数头，很多函数头的注释都是解释参数的类型等的，如果程序正文已经能够说明参数的类型</font></span><span style="line-height:15pt;"><font>in/out</font></span><span><font>等，就不要重复！</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>注释也要随着程序的修改而不断更新，一个误导的（</font></span><font>Misleading</font><span><font>）注释往往比没有注释更糟糕。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>另外，注释（包括所有源代码）应只用</font></span><font>ASCII</font><span><font>字符，不要用中文或其他特殊字符，它们会极大地影响程序的可移植性。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font><font color="#000000">在现代编程环境中，程序编辑器可以设置各种好看的字体，我们可以使用不同的显示风格来表示程序的不同部分。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font color="#000000">注意: 有些程序设计语言的教科书对于基本的语法有详细的注释, 那是为了教学的目的, 不宜在正式项目中也这么做。</font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font color="#000000"></font></span>&nbsp;</p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font color="#000000">下面的例子中，有很多注释, 但是那些注释是非常必要的呢? 哪些错误处理是多余的?</font></span></p> 
   <blockquote style="border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.8px;background:rgb(255,255,255) none;"> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><font><font color="#000000"><font><span>Protected Sub&nbsp;</span><span>txtSSN_TextChanged</span><span>(</span><span>ByVal</span><span>&nbsp;sender As Object,&nbsp;</span><span>ByVal</span><span>&nbsp;e As&nbsp;</span><span>System.EventArgs</span><span>) Handles&nbsp;</span><span>txtSSN.TextChanged</span><span></span></font></font></font></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000">Try<span>&nbsp;&nbsp;</span>‘Provides error trapping</font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;&nbsp;</span>'_______________________________________________________________________ '</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><font><font color="#000000"><font><span><span>&nbsp;&nbsp;</span>'&nbsp;</span><span>txtSSN_TextChanged</span><span></span></font></font></font></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;&nbsp;</span>‘<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Activated by entering SSN.</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;&nbsp;</span>'<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Transfer form value to local class variable. '_______________________________________________________________________ '</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;&nbsp;</span>' anOrder.SSN</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><font><font color="#000000"><font><span><span>&nbsp;&nbsp;</span>'<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Holds the SSN for processing in all forms '&nbsp;</span><span>txtSSN</span><span>&nbsp;' Form object that holds user entered SSN ' '_______________________________________________________________________ '</span></font></font></font></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><font><font color="#000000"><font><span><span>&nbsp;&nbsp;</span>anOrder.SSN =&nbsp;</span><span>txtSSN.Text</span><span></span></font></font></font></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000">Catch ex As Exception ' Error trapping. '_______________________________________________________________________ ‘</font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>' Output system error message to user on form under form title and</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>' send details to database</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><font><font color="#000000"><font><span><span>&nbsp;&nbsp;</span>'_______________________________________________________________________ '&nbsp;</span><span>subErrorReporting</span><span>("</span><span>txtSSN_TextChanged</span><span>",&nbsp;</span><span>ex.Message</span><span>)</span></font></font></font></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000"><font><span>&nbsp;</span>End Try</font></font></font></span></p> 
    <p align="left" style="text-indent:-.35in;line-height:normal;"><span><font><font color="#000000">End Sub</font></font></span></p> 
   </blockquote> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;line-height:16pt;text-transform:uppercase;"><font></font>&nbsp;</p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;line-height:16pt;text-transform:uppercase;"><a name="_Toc160120901"><font><font color="#000000"><font>10.2&nbsp;<span style="line-height:16pt;">&nbsp;</span><span style="line-height:16pt;">代码设计规范</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>代码设计规范不光是程序书写的格式问题，而且牵涉到程序设计、模块之间的关系、设计模式等方方面面，这里有不少与具体程序设计语言息息相关的内容（如</font></span><font>C</font><span><font>、</font></span><font>C++</font><span><font>、</font></span><font>Java</font><span><font>、</font></span><font>C#</font><span><font>），但是也有通用的原则，这里主要讨论通用的原则。如果你只想为了“爽”而写程序，那么可以忽略下面的原则；如果你写的程序会被很多人使用，并且你自己会加班</font></span><font>Debug&nbsp;</font><span><font>你的程序，那最好还是遵守下面的规定。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font><font color="#000000"><font>10.2.1<span>&nbsp;&nbsp;</span><span>函数</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>现代程序设计语言中的绝大部分功能，都在程序的函数（</font></span><font>Function, Method</font><span><font>）中实现，关于函数最重要的原则是：只做一件事，但是要做好。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font><font color="#000000">10.2.2<span>&nbsp;&nbsp;</span>goto</font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>问：</font></span><span><font>我们能不能用</font></span><font>goto</font><span><font>？</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>答：</font></span><span><font>函数最好有单一的出口，为了达到这一目的，可以使用</font></span><font>goto</font><span><font>。只要有助于<span>程序逻辑</span>的清晰体现，什么方法都可以使用，包括</font></span><font>goto</font><span><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>如代码清单</font></span><font>10-2</font><span><font>：</font></span></font></font></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;margin-left:-.7pt;"> 
    <p style="text-indent:.1pt;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>代码清单</font></span><font>10-2</font></font></font></p> 
   </div> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">HRESULT<span>&nbsp;&nbsp;</span>HrDoSomething(int parameter)</font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">//parameter check and initialization</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">//processing part 1</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">If (SomeCode() != ok)<br><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><span><font color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;</font></span><font color="#000000">//set HR value<br><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Goto Error;</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">//processing part 1</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">If (SomeCode() != ok)<br><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><span><font color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;</font></span><font color="#000000">//set HR value<br><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Goto Error;</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">Error:</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><span><font color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;</font></span><font color="#000000">//clean up<br><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>return hr;</font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><font><font color="#000000"><font>10.2.3<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">错误处理</span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>80%</font><span style="line-height:16pt;"><font>的程序代码，都是对各种已经发生和可能发生的错误的处理。</font></span></font></font></p> 
   <p align="right" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>——</font></span><span style="line-height:16pt;"><font>阿超</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">如果错误会发生，那就让程序死的地方离错误产生的地方越近越好。</font></font></span></p> 
   <p align="right" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>——</font></span><span style="line-height:16pt;"><font>阿超</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>1</font></span><span style="line-height:16pt;"><font>．参数处理</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>在</font></span><font>DeBug</font><span><font>版本中，所有的参数都要验证其正确性。在正式版本中，从外部（用户或别的模块）传递过来的参数要验证其正确性。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>2</font></span><span style="line-height:16pt;"><font>．断言</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>如何验证正确性？那就要用</font></span><font>Assert</font><span><font>（断言）。断言和错误处理是什么关系？</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font><font color="#000000">当你觉得某事肯定如何，你可以用断言。</font></font></span></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">Assert (p != NULL);</font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><font color="#000000"><font><span style="line-height:14pt;"><font>然后可以直接使用变量</font></span><span style="line-height:14pt;"><font>p;</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><span style="line-height:14pt;"><font><font color="#000000">如果你认为某事可能会发生，这时就要用错误处理。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><span style="line-height:14pt;"><font><font color="#000000">如：</font></font></span></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><font><font color="#000000">……</font></font></span></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">p = AllocateNewSpace(); // could fail</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">if (p == NULL)</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{ // error handling.</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">else</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{ // use p to do something</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">}</font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><a name="_Toc329147372"><font><font color="#000000"><font>10.2.4<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">如何处理</span>C++<span style="line-height:16.5pt;">中的类</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:19.55pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;letter-spacing:-.2pt;"><font>注意，除了关于异常（</font></span><span style="line-height:16pt;letter-spacing:-.2pt;"><font>Exception</font></span><span style="line-height:16pt;letter-spacing:-.2pt;"><font>）的部分，大部分其他原则对</font></span><span style="line-height:16pt;letter-spacing:-.2pt;"><font>C#</font></span><span style="line-height:16pt;letter-spacing:-.2pt;"><font>也适用。</font></span></font><span style="line-height:16pt;letter-spacing:-.2pt;"></span></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>1</font></span><span style="line-height:16pt;"><font>．类</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）使用类来封装面向对象的概念和多态（</font></span><font>Polymorphism</font><span><font>）。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）避免传递类型实体的值，应该用指针传递。换句话说，对于简单的数据类型，没有必要用类来实现。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）对于有显式的构造和析构函数，不要建立全局的实体，因为你不知道它们在何时创建和消除。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>4</font><span><font>）只有在必要的时候，才使用“类”。</font></span></font></font></p> 
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><br></span>
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.8px;"></span> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><a name="_Toc329147373"><span style="line-height:16pt;"><font><font color="#000000">2</font></font></span></a><font><font color="#000000"><span style="line-height:16pt;"><span style="line-height:16pt;"><font>．</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Class vs. Struct</font></span></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>如果只是数据的封装，用</font></span><font>Struct</font><span style="line-height:16pt;"><font>即可。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><a name="_Toc329147374"><span style="line-height:16pt;"><font><font color="#000000">3</font></font></span></a><font><font color="#000000"><span style="line-height:16pt;"><span style="line-height:16pt;"><font>．公共</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>/</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>保护</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>/</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>私有成员</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Public</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>、</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Private</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>和</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Protected</font></span></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>按照这样的次序来说明类中的成员：</font></span><span style="line-height:16pt;"><font>public</font></span><span style="line-height:16pt;"><font>、</font></span><span style="line-height:16pt;"><font>protected</font></span><span style="line-height:16pt;"><font>、</font></span><span style="line-height:16pt;"><font>private</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><a name="_Toc329147375"><span style="line-height:16pt;"><font><font color="#000000">4</font></font></span></a><span style="line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">．数据成员</font></font></span></span><span style="line-height:16pt;"></span><span style="line-height:16pt;"></span></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）数据类型的成员用</font></span><font>m_name</font><span><font>说明</font></span><span><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）不要使用公共的数据成员，要用</font></span><font>inline</font><span><font>访问函数，这样可同时兼顾封装和效率。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><a name="_Toc329147376"><span style="line-height:16pt;"><font><font color="#000000">5</font></font></span></a><font><font color="#000000"><span style="line-height:16pt;"><span style="line-height:16pt;"><font>．虚函数</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Virtual Functions</font></span></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）使用虚函数来实现多态（</font></span><font>Polymorphism</font><span><font>）。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）只有在非常必要的时候，才使用虚函数。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）如果一个类型要实现多态，在基类（</font></span><font>Base Class</font><span><font>）中的析构函数应该是虚函数。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><a name="_Toc329147377"><span style="line-height:16pt;"><font><font color="#000000">6</font></font></span></a><font><font color="#000000"><span style="line-height:16pt;"><span style="line-height:16pt;"><font>．构造函数</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Constructors</font></span></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）不要在构造函数中做复杂的操作，简单初始化所有数据成员即可。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）构造函数不应该返回错误（事实上也无法返回）。把可能出错的操作放到</font></span><span style="line-height:15pt;"><font>HrInit()</font></span><span><font>或</font></span><span style="line-height:15pt;"><font>FInit()</font></span><span><font>中。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>下面是一个例子（见代码清单</font></span><font>10-3</font><span style="line-height:16pt;"><font>）：</font></span></font></font></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;margin-left:-.7pt;"> 
    <p style="text-indent:.1pt;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>代码清单</font></span><font>10-3</font></font></font></p> 
   </div> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">class Foo</font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">{</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">public:</font></font></p> 
   <p align="justify" style="text-indent:35.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">Foo(int cLines) { m_hwnd = NULL; m_cLines = cLines}</font></font></p> 
   <p align="justify" style="text-indent:35.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">virtual ~Foo();</font></font></p> 
   <p align="justify" style="text-indent:35.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">HRESULT HrInit();</font></font></p> 
   <p align="justify" style="text-indent:35.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">void DoSomething();</font></font></p> 
   <p align="justify" style="text-indent:18.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">private:</font></font></p> 
   <p align="justify" style="text-indent:35.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">HWND m_hwnd;</font></font></p> 
   <p align="justify" style="text-indent:35.7pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">int m_cLines;</font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><font><font color="#000000">};</font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><a name="_Toc329147378"><span><font><font color="#000000">7</font></font></span></a><span><span><font><font color="#000000">．析构函数</font></font></span></span><span></span><span></span></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14pt;"><font color="#000000"><font><span style="line-height:14pt;"><font>（</font></span><font>1</font><span style="line-height:14pt;"><font>）把所有的清理工作都放在析构函数中。如果有些资源在析构函数之前就释放了，记住要重置这些成员为</font></span><font>0</font><span style="line-height:14pt;"><font>或</font></span><font>NULL</font><span style="line-height:14pt;"><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）析构函数也不应该出错。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>8</font></span><span style="line-height:16pt;"><font>．</font></span><span style="line-height:16pt;"><font>New</font></span><span style="line-height:16pt;"><font>和</font></span><span style="line-height:16pt;"><font>Delete</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）如果可能，实现自己的</font></span><font>New/Delete</font><span><font>，这样可以方便地加上自己的跟踪和管理机制。自己的</font></span><font>New/Delete</font><span><font>可以包装系统提供的</font></span><font>New/Delete</font><span><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）检查</font></span><font>New</font><span><font>的返回值。</font></span><font>New</font><span><font>不一定都成功。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）释放指针时不用检查</font></span><font>NULL</font><span><font>。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>9</font></span><span style="line-height:16pt;"><font>．运算符（</font></span><span style="line-height:16pt;"><font>Operators</font></span><span style="line-height:16pt;"><font>）</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）在理想状态下，我们定义的类不需要自定义操作符。只有当操作符的确需要时。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）运算符不要做标准语义之外的任何动作。例如，“</font></span><font>==</font><span><font>”的判断不能改变被比较实体的状态。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）运算符的实现必须非常有效率，如果有复杂的操作，应定义一个单独的函数。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>4</font><span><font>）当你拿不定主意的时候，用成员函数，不要用运算符。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>10</font></span><span style="line-height:16pt;"><font>．异常（</font></span><span style="line-height:16pt;"><font>Exceptions</font></span><span style="line-height:16pt;"><font>）</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）异常是在“异乎寻常”的情况下出现的，它的设置和处理都要花费“异乎寻常”的开销，所以</font></span><span><font>不要</font></span><span><font>用异常作为逻辑控制来处理程序的主要流程。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）了解异常及处理异常的花销，在</font></span><font>C++</font><span><font>语言中，这是不可忽视的开销。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）当使用异常时，要注意在什么地方清理数据。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>4</font><span><font>）异<span style="letter-spacing:-.1pt;">常不能跨过</span></font></span><span style="letter-spacing:-.1pt;"><font>DLL</font></span><font><span style="letter-spacing:-.1pt;">或进程的边界来传递信息，所以异常不是万能</span><span>的。</span></font></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><a name="_Toc329147381"><span style="line-height:16pt;"><font><font color="#000000">11</font></font></span></a><font><font color="#000000"><span style="line-height:16pt;"><span style="line-height:16pt;"><font>．类型继承（</font></span></span><span style="line-height:16pt;"><span style="line-height:16pt;"><font>Class Inheritance</font></span></span><span style="line-height:16pt;"></span><span style="line-height:16pt;"><font>）</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）当有必要的时候，才使用类型继承。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:14.5pt;"><font color="#000000"><font><span style="line-height:14.5pt;"><font>（</font></span><font>2</font><span style="line-height:14.5pt;"><font>）用</font></span><span style="line-height:14.5pt;letter-spacing:-.1pt;"><font>Const</font></span><font><span style="line-height:14.5pt;letter-spacing:-.1pt;">标注只读的参数（参数指向的数据是只读的，而不是参数</span><span style="line-height:14.5pt;">本身）。</span></font></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）用</font></span><font>Const</font><span><font>标注不改变数据的函数。</font></span></font></font></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;"> 
    <p align="justify" style="text-indent:0pt;line-height:16pt;text-transform:uppercase;"><a name="_Toc160120915"><font><font color="#000000"><font>10.3<span style="line-height:16pt;">&nbsp;&nbsp;</span><span style="line-height:16pt;">代码复审</span></font></font></font></a></p> 
   </div> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>阿超：</font></span><span style="line-height:16pt;"><font>代码复审看什么？是不是把你的代码拿给别人看就行了？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>杂曰：</font></span><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）别人根本就不懂，给他们讲也是白讲。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><span style="line-height:16pt;"><font>）我是菜鸟，别的大牛能看得上我的代码么？</font></span></font></font></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>3</font><span style="line-height:16pt;"><font>）也就是形式而已，说归说，怎么做，还是我说了算。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>代码复审的正确定义：看代码是否在“代码规范”的框架内正确地解决了问题（见表</font></span><font>10-1</font><span style="line-height:16pt;"><font>）。</font></span></font></font></p> 
   <p align="center" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>表</font></span><span style="line-height:16pt;"><font>10-1<span style="line-height:16pt;">&nbsp;&nbsp;</span></font></span><span style="line-height:16pt;"><font>复审的形式</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <table class="MsoNormalTable" border="1" style="border:medium none;border-collapse:collapse;color:rgb(0,0,0);">
     <tbody>
      <tr>
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:1pt 1pt 1pt medium;border-style:solid solid solid none;border-collapse:collapse;background:rgb(217,217,217);"> <p align="center" style="font-size:13px;line-height:15pt;text-indent:0pt;"><font><font color="#000000"><span style="line-height:15pt;"><font>名</font></span><span style="line-height:15pt;"><span><font>&nbsp;&nbsp;</font></span></span><span style="line-height:15pt;"><font>称</font></span></font><span style="line-height:15pt;"></span></font></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:1pt 1pt 1pt medium;border-style:solid solid solid none;border-collapse:collapse;background:rgb(217,217,217);"> <p align="center" style="font-size:13px;line-height:15pt;text-indent:0pt;"><font><font color="#000000"><span style="line-height:15pt;"><font>形</font></span><span style="line-height:15pt;"><span><font>&nbsp;&nbsp;</font></span></span><span style="line-height:15pt;"><font>式</font></span></font><span style="line-height:15pt;"></span></font></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:1pt medium;border-style:solid none;border-collapse:collapse;background:rgb(217,217,217);"> <p align="center" style="font-size:13px;line-height:15pt;text-indent:0pt;"><font><font color="#000000"><span style="line-height:15pt;"><font>目</font></span><span style="line-height:15pt;"><span><font>&nbsp;&nbsp;</font></span></span><span style="line-height:15pt;"><font>的</font></span></font><span style="line-height:15pt;"></span></font></p> </td> 
      </tr>
      <tr>
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium 1pt 1pt medium;border-style:none solid solid none;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:14pt;"><span><font color="#000000">自我复审</font></span><span></span></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium 1pt 1pt medium;border-style:none solid solid none;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:14pt;"><font><font color="#000000"><span><font>自己</font></span><span><font>&nbsp;vs.&nbsp;</font></span><span><font>自己</font></span></font><span></span></font></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium medium 1pt;border-style:none none solid;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:12pt;"><span style="line-height:12pt;"><font color="#000000">用同伴复审的标准来要求自己。不一定最有效，因为开发者对自己总是过于自信。如果能持之以恒，则对个人有很大好处</font></span><span style="line-height:12pt;"></span></p> </td> 
      </tr>
      <tr>
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium 1pt 1pt medium;border-style:none solid solid none;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:14pt;"><span><font color="#000000">同伴复审</font></span><span></span></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium 1pt 1pt medium;border-style:none solid solid none;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:14pt;"><font><font color="#000000"><span><font>复审者</font></span><span><font>&nbsp;vs.&nbsp;</font></span><span><font>开发者</font></span></font><span></span></font></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium medium 1pt;border-style:none none solid;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:12pt;"><span style="line-height:12pt;"><font color="#000000">简便易行</font></span><span style="line-height:12pt;"></span></p> </td> 
      </tr>
      <tr>
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium 1pt 1pt medium;border-style:none solid solid none;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:14pt;"><span><font color="#000000">团队复审</font></span><span></span></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium 1pt 1pt medium;border-style:none solid solid none;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:14pt;"><font><font color="#000000"><span><font>团队</font></span><span><font>&nbsp;vs.&nbsp;</font></span><span><font>开发者</font></span></font><span></span></font></p> </td> 
       <td style="font-family:Verdana, Helvetica, Arial;line-height:1.5;font-size:12px;border-width:medium medium 1pt;border-style:none none solid;border-collapse:collapse;"> <p align="justify" style="text-indent:0pt;line-height:12pt;"><span style="line-height:12pt;"><font color="#000000">有比较严格的规定和流程，用于关键的代码，以及复审后不再更新的代码。</font></span><span style="line-height:12pt;"></span></p> <p align="justify" style="text-indent:0pt;line-height:12pt;"><span style="line-height:12pt;"><font color="#000000">覆盖率高<span style="line-height:12pt;letter-spacing:-1pt;">—</span>—有很多双眼睛盯着程序。但是有可能效率不高（全体人员都要到会）</font></span><span style="line-height:12pt;"></span></p> </td> 
      </tr>
     </tbody>
    </table>
   </div> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">软件工程中最基本的复审手段，就是同伴复审。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">谁来做代码复审？即最有经验，熟悉这一部分代码的人。对于至关重要的代码，我们要请不止一个人来做代码复审。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">复审的目的在于：</font></font></span><span style="line-height:16pt;"></span></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）找出代码的错误。如：</font></span></font></font></p> 
   <p align="justify" style="text-indent:23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>a.&nbsp;</font><span style="line-height:16pt;"><font>编码错误，比如一些能碰巧骗过编译器的错误。</font></span></font></font></p> 
   <p align="justify" style="text-indent:23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>b.&nbsp;</font><span style="line-height:16pt;"><font>不符合项目组的代码规范的地方。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><span style="line-height:16pt;"><font>）发现逻辑错误，程序可以编译通过，但是代码的逻辑是错的。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>3</font><span style="line-height:16pt;"><font>）发现算法错误，比如使用的算法不够优化。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>4</font><span style="line-height:16pt;"><font>）发现潜在的错误和回归性错误——当前的修改导致以前修复的缺陷又重新出现。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>5</font><span style="line-height:16pt;"><font>）发现可能改进的地方。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>6</font><span style="line-height:16pt;"><font>）教育（互相教育）开发人员，传授经验，让更多的成员熟悉项目各部分的代码，同时熟悉和应用领域相关的实际知识。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><a name="_Toc160120916"><font><font color="#000000"><font>10.3.1<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">为啥要做代码复审</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>问：</font></span><span style="line-height:16pt;"><font>为什么非得做代码复审不可？<span style="line-height:16pt;">难道</span>开发人员没有能力写出合格的代码？既然你招我进了移山公司，就是相信我有这个能力，对不对？</font></span></font></font></p> 
   <p align="justify" style="text-indent:.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>答：</font></span><span style="line-height:16pt;"><font>首先，在代码复审中发现的问题，绝大多数都可以由开发者独立发现。从这一意义上说，复审者是在替开发者干开发者本应干的事情。</font></span></font></font></p> 
   <p align="justify" style="text-indent:.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>问：</font></span><span style="line-height:16pt;"><font>这么说如果开发者做到完美，复审者的时间和精力是一种浪费了？</font></span></font></font></p> 
   <p align="justify" style="text-indent:.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>答：</font></span><span style="line-height:16pt;"><font>不对，即使是完美，代码复审还有“教育”和“传播知识”的作用。更重要的是，不管多么厉害的开发者都会或多或少地犯一些错误，有欠考虑的地方，如果有问题的代码已签入到产品代码中，再要把所有的问题找出来就更困难了。大家学习软件工程都知道越是项目后期发现的问题，修复的代价越大。代码复审正是要在早期发现，并修复这些问题。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">另外，在代码复审中的提问与回应能帮助团队成员互相了解，就像练武之人互相观摩点评一样。在一个新成员加入一个团队的时候，代码复审能非常有效地帮助新成员了解团队的开发策略、编程风格及工作流程。</font></font></span></p> 
   <p align="justify" style="text-indent:.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>问：</font></span><span style="line-height:16pt;"><font>新成员是否应该在完全掌握了这些方面之后再写代码？</font></span></font></font></p> 
   <p align="justify" style="text-indent:.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>答：</font></span><span style="line-height:16pt;"><font>理论上是如此。但是如果我们要“完全掌握”，可能需要比较长的时间，另外，如果不开发实际的软件，这样的“完全掌握”有意义么？还是在实际中学习吧。这也是“做中学”（</font></span><font>Learning by Doing</font><span style="line-height:16pt;"><font>）思想的体现。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><a name="_Toc160120917"><font><font color="#000000"><font>10.3.2<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">代码复审的步骤</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">在复审前——</font></font></span><span style="line-height:16pt;"></span></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）代码必须成功地编译，在所有要求的平台上，同时要编译</font></span><font>DeBug| Retail</font><span style="line-height:16pt;"><font>版本。编译要用团队规定的最严格的编译警告等级（例如</font></span><font>C/C++</font><span style="line-height:16pt;"><font>中的</font></span><font>W4</font><span style="line-height:16pt;"><font>）。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><span style="line-height:16pt;"><font>）程序员必须测试过代码。什么叫测试过？最好的方法是在</font></span><font>DeBugger</font><span style="line-height:16pt;"><font>中单步执行。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-20pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>问：</font></span><span style="line-height:16pt;"><font>有些错误处理的分支我不能执行到怎么办？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>答：</font></span><span style="line-height:16pt;"><font>如果你作为作者都不能让程序执行到那里，那谁能保证这些错误处理的正确性呢？</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>同时也可以加上</font></span><font>OutputDeBugString</font><span style="line-height:16pt;"><font>等输出来监视程序的控制流。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>3</font><span style="line-height:16pt;"><font>）程序员必须提供新的代码，以及文件差异分析工具。</font></span><font>Windiff</font><span style="line-height:16pt;"><font>或</font></span><font>VSTS</font><span style="line-height:16pt;"><font>自带的工具都可以。</font></span><font>VSTS</font><span style="line-height:16pt;"><font>中可以通过</font></span><font>Shelveset</font><span style="line-height:16pt;"><font>来支持远程代码复审。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>4</font><span style="line-height:16pt;"><font>）复审者可以选择面对面的复审、独立复审或其他方式。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>5</font><span style="line-height:16pt;"><font>）在面对面的复审中，一般是开发者控制流程，讲述修改的前因后果。但是复审者有权在任何时候打断叙述，提出自己的意见。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>6</font><span style="line-height:16pt;"><font>）复审者必须把反馈意见逐一提出。注意，复审者有权提出很多看似吹毛求疵的问题，复审者不必每一件事都要亲自调查，开发者有义务给出详尽的回答。例如：</font></span></font></font></p> 
   <p align="justify" style="text-indent:-38pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>复审者：</font></span><span style="line-height:16pt;"><font>你在这里申请了这个资源，你是如何保证它在所有路径下都能正确释放的？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>开发者：</font></span><span style="line-height:16pt;"><font>这个</font></span><span style="line-height:16pt;"><font>……</font></span><span style="line-height:16pt;"><font>我要再检查检查。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">或者——</font></font></span></p> 
   <p align="justify" style="text-indent:-38pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>开发者：</font></span><span style="line-height:16pt;"><font>这个是这样保证的，我用了</font></span><font>SmartPointer</font><span style="line-height:16pt;"><font>，然后这里有</font></span><font>try/catch/ finally</font><span style="line-height:16pt;"><font>……</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">要记住复审者是通过问这些问题来确保软件质量的，而不是有意找碴。</font></font></span></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>7</font><span style="line-height:16pt;"><font>）开发者必须负责让所有的问题都得到满意的解释或解答，或者在</font></span><font>TFS</font><span style="line-height:16pt;"><font>中创建新的工作项以确保这些问题将来会得到处理。例如：</font></span></font></font></p> 
   <p align="justify" style="text-indent:-38pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>复审者：</font></span><span style="line-height:16pt;"><font>这一段代码可能会被多个线程调用，代码是</font></span><font>thread-safe</font><span style="line-height:16pt;"><font>么，我怎么没有看到对共享资源的保护？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-38pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>开发者：</font></span><span style="line-height:16pt;"><font>我一时得不出结论，让我在</font></span><font>TFS</font><span style="line-height:16pt;"><font>中开一个“任务”来跟踪此事。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>8</font><span style="line-height:16pt;"><font>）对于复审的结果，双方必须达成一致的意见。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-12.35pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>a.&nbsp;</font><span style="line-height:16pt;"><font>打回去——复审发现致命问题，这些问题解决之前不能签入代码；</font></span></font></font></p> 
   <p align="justify" style="text-indent:-12.35pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>b.&nbsp;</font><span style="line-height:16pt;"><font>有条件地同意——发现了一些小问题，在这些问题得到解决或记录之后，代码可以签入，不需要再次复审；</font></span></font></font></p> 
   <p align="justify" style="text-indent:-12.35pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><font>c.&nbsp;</font><span style="line-height:16pt;"><font>放行——代码可以不加新的改动，签入源码控制服务器。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">避免不必要的繁文缛节，我们做代码复审的目的是为了减少错误的发生，而不是找一个人来对着你的代码点头。一些简单的修改不是非得要一个复审者来走一遍形式。在项目开发的早期斤斤计较于一些细枝末节（例如：帮助文件里的拼写错误，数据文件格式不够最优化等）也是于大局无补的，但是，这些问题并不是不用处理了，我们必须建立一些优先级较低的工作项来跟踪这些事情。</font></font></span></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><a name="_Toc160120918"><font><font color="#000000"><font>10.3.3<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">在代码复审中还要做什么</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">好的复审者不光是要注意到程序员修改了什么，还要把眼光放远，问一些这样的问题：</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><font><span style="line-height:16pt;">“你这样修改了之后，有没有别的功能会受影响</span><span style="line-height:16pt;">?<span style="line-height:16pt;">”</span></span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><font><span style="line-height:16pt;">“项目中还有别的地方需要类似的修改么</span><span style="line-height:16pt;">?<span style="line-height:16pt;">”</span></span></font></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">“有没有留下足够的说明，让将来维护代码时不会出现问题？”</font></font></span><span style="line-height:16pt;"></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><font><span style="line-height:16pt;">“对于这样的修改，有没有别的成员需要告知</span><span style="line-height:16pt;">?<span style="line-height:16pt;">”</span></span></font></font></font></p> 
   <p align="justify" style="text-indent:-9.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">“导致问题的根本原因是什么？我们以后如何能自动避免这样的情况再次出现？”</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">有些修改看似聪明有效率，但是这样的修改有可能会让以后的开发和维护更困难。</font></font></span></p> 
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><br></span>
   <span style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:20.8px;"></span> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><a name="_Toc160120919"><font><font color="#000000"><font>10.3.4<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">在代码复审后要做什么</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font><font color="#000000">人不能两次踏入同一条河流，程序员不能两次犯同样的错误。在代码复审后，开发者应该把复审过程中的记录整理出来：</font></font></span></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）更正明显的错误。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）<span style="letter-spacing:-.1pt;">对于</span>无法<span style="letter-spacing:-.1pt;">很快更正的错误，要在</span></font></span><span style="letter-spacing:-.1pt;"><font>TFS</font></span><span style="letter-spacing:-.1pt;"><font>中创建</font></span><span style="letter-spacing:-.1pt;"><font>Bug</font></span><font><span style="letter-spacing:-.1pt;">把它们记录下来</span><span>。</span></font></font></font></p> 
   <p align="justify" style="text-indent:-23.1pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）把所有的错误记在自己的一个“我常犯的错误”表中，作为以后自我复审的第一步。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><span><font><font color="#000000">有些人喜欢在程序中加一些特定的标记，来跟踪各种“要做的事情”，例如：</font></font></span></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">//$todo:<span style="line-height:16pt;">&nbsp;&nbsp;</span>make this function thread-safe</font></font></span></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">//$review: is this function thread-safe?<span style="line-height:16pt;">&nbsp;&nbsp;</span>Need to look at it again</font></font></span></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">//$bug: when input array is very large, this function might lead //to crash</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">这些标记最好是加上人名，以示负责。如：</font></font></span></p> 
   <p align="justify" style="text-indent:0in;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><font><span style="line-height:16pt;">//$bug (AChao): when input array is very large, this function will //<span style="line-height:16pt;">&nbsp;&nbsp;</span></span><span style="line-height:16pt;"><span style="line-height:16pt;">&nbsp;</span></span><span style="line-height:16pt;">become very slow due to O(N*N) algorithm</span></font><span style="line-height:16pt;"><font>。</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>在代码复审过程中，</font></span><span style="line-height:15pt;"><font>$review</font></span><span><font>标记的问题要一一讨论，在代码复审过后，所有的</font></span><span style="line-height:15pt;"><font>$review</font></span><span><font>标记要清除。在一个里程碑或正式版本发布之前，所有的</font></span><span style="line-height:15pt;"><font>$todo:$bug:</font></span><span><font>标记都要清除。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>做标记是不错的办法，但是如果开发者光记得做标记，最后却没有真正去研究和改正这些潜在的问题，这些</font></span><font>todo</font><span><font>、</font></span><font>review</font><span><font>、</font></span><font>Bug</font><span><font>就会被遗弃在代码中。过了一段时间后，后来的程序员也不敢碰它们——因为没有人能真正了解上一个版本的</font></span><font>$todo</font><span><font>是真的要马上做，还是已经做过了（</font></span><font>done</font><span><font>）了，只是没有更新</font></span><font>$todo</font><span><font>的注释，或者问题早已通过别的方式解决了。其根本原因在于团队没有用</font></span><font>TFS</font><span><font>（或者其他的管理软件）进行记录，没有人会跟踪这些事情。</font></span></font></font></p> 
   <p align="justify" style="text-indent:0pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16.5pt;"><a name="_Toc160120920"><font><font color="#000000"><font>10.3.5<span style="line-height:16.5pt;">&nbsp;&nbsp;</span><span style="line-height:16.5pt;">代码复审的核查表</span></font></font></font></a></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">下面是移山公司总结的代码复审核查表，我们可以在复审中使用，也可以加上自己认为重要的注意事项。</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000">&nbsp;</font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>1</font></span><span style="line-height:16pt;"><font>．概要部分</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）代码能符合需求和规格说明么？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><span style="line-height:16pt;"><font>）代码设计是否有周全的考虑？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>3</font><span style="line-height:16pt;"><font>）代码可读性如何？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>4</font><span style="line-height:16pt;"><font>）代码容易维护么？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>5</font><span style="line-height:16pt;"><font>）代码的每一行都执行并检查过了吗？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>2</font></span><span style="line-height:16pt;"><font>．设计规范部分</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）设计是否遵从已知的设计模式或项目中常用的模式？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>2</font><span style="line-height:16pt;"><font>）有没有硬编码或字符串</font></span><font>/</font><span style="line-height:16pt;"><font>数字等存在？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>3</font><span style="line-height:16pt;"><font>）代码有没有依赖于某一平台，是否会影响将来的移植（如</font></span><font>Win32</font><span style="line-height:16pt;"><font>到</font></span><font>Win64</font><span style="line-height:16pt;"><font>）？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>4</font><span style="line-height:16pt;"><font>）开发者新写的代码能否用已有的</font></span><font>Library/SDK/Framework</font><span style="line-height:16pt;"><font>中的功能实现？在本项目中是否存在类似的功能可以调用而不用全部重新实现？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>5</font><span style="line-height:16pt;"><font>）有没有无用的代码可以清除？（很多人想保留尽可能多的代码，因为以后可能会用上，这样导致程序文件中有很多注释掉的代码，这些代码都可以删除，因为源代码控制已经保存了原来的老代码。）</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>3</font></span><span style="line-height:16pt;"><font>．代码规范部分</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>（</font></span><font>1</font><span style="line-height:16pt;"><font>）修改的部分符合代码标准和风格么（详细条文略）</font></span><font>?</font></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>4</font></span><span style="line-height:16pt;"><font>．具体代码部分</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）有没有对错误进行处理？对于调用的外部函数，是否检查了返回值或处理了异常？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）参数传递有无错误，字符串的长度是字节的长度还是字符（可能是单</font></span><font>/</font><span><font>双字节）的长度，是以</font></span><font>0</font><span><font>开始计数还是以</font></span><font>1</font><span><font>开始计数？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）边界条件是如何处理的？</font></span><font>Switch</font><span><font>语句的</font></span><font>Default</font><span><font>是如何处理的？循环有没有可能出现死循环？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>4</font><span><font>）有没有使用断言（</font></span><font>Assert</font><span><font>）来保证我们认为不变的条件真的满足？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>5</font><span><font>）对资源的利用，是在哪里申请，在哪里释放的？有没有可能导致资源泄露（内存、文件、各种</font></span><font>GUI</font><span><font>资源、数据库访问的连接，等等）？有没有可能优化？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>6</font><span><font>）数据结构中是否有无用的元素？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>5</font></span><span style="line-height:16pt;"><font>．效能</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>1</font><span><font>）代码的效能（</font></span><font>Performance</font><span><font>）如何？最坏的情况是怎样的？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>2</font><span><font>）代码中，特别是循环中是否有明显可优化的部分（</font></span><font>C++</font><span><font>中反复创建类，</font></span><font>C#</font><span><font>中</font></span><font>&nbsp;string&nbsp;</font><span><font>的操作是否能用</font></span><font>StringBuilder&nbsp;</font><span><font>来优化）？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-24.2pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:15pt;"><font color="#000000"><font><span><font>（</font></span><font>3</font><span><font>）对于系统和网络调用是否会超时？如何处理</font></span><font>?</font></font></font></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>6</font></span><span style="line-height:16pt;"><font>．可读性</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">代码可读性如何？有没有足够的注释？</font></font></span></p> 
   <p align="justify" style="text-indent:-23.75pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000"><span style="line-height:16pt;"><font>7</font></span><span style="line-height:16pt;"><font>．可测试性</font></span></font><span style="line-height:16pt;"></span></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">代码是否需要更新或创建新的单元测试？</font></font></span></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">还可以有针对特定领域开发（如数据库、网页、多线程等）的核查表。</font></font></span></p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:medium medium 1pt;border-style:none none solid;"> 
    <p align="justify" style="text-indent:0pt;line-height:16pt;text-transform:uppercase;"><a name="_Toc160120921"><font><font color="#000000"><font>10.4<span style="line-height:16pt;">&nbsp;&nbsp;</span><span style="line-height:16pt;">本章讨论</span></font></font></font></a></p> 
   </div> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>九条：</font></span><span style="line-height:16pt;"><font>哇，这么多酷的</font></span><font>C++&nbsp;</font><span style="line-height:16pt;"><font>功能都不能用，那我们还学什么</font></span><font>C++</font><span style="line-height:16pt;"><font>，为了迎接考试，我都把</font></span><font>Operator Overload</font><span style="line-height:16pt;"><font>、</font></span><font>Polymorphism</font><span style="line-height:16pt;"><font>背得滚瓜烂熟了，为什么不让我用？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>阿超：</font></span><span style="line-height:16pt;"><font>我们写程序是为了解决问题，不是“为赋新词强说愁”，这些高级的语言特性，不是不让用，而是要用得慎重，不要动不动就写三五个类，一个套一个，要把注意力集中在能否用简洁的方法解决问题上来。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>荔荔：</font></span><span style="line-height:16pt;"><font>这么多规范，我不知道怎么写第一行程序了。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>二柱：</font></span><span style="line-height:16pt;"><font>自我复审也很重要</font></span><span style="line-height:16pt;"><font>——</font></span><span style="line-height:16pt;"><font>把代码摆在面前，当作是别的菜鸟写的。把你通常问别人的，以及别人会问你的问题都自己问一遍。这样就能发现不少问题。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>九条：</font></span><span style="line-height:16pt;"><font>如果开发者很厉害，那么复审者就没有什么作用，也许这些复审都是走过场？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>小飞：</font></span><span style="line-height:16pt;"><font>笑话，同理可以推论，如果开发者很厉害，那么测试人员也没什么作用，也是走过场，干脆把他们送回家得了。</font></span></font></font></p> 
   <p align="justify" style="text-indent:19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">荔荔给阿毛讲自己刚写好的代码，阿毛对于这个代码要解决的问题还没有什么了解，荔荔说什么，阿毛就“啊，啊”地附和。最后，阿毛也提不出什么意见，荔荔倒是在自己描述的过程中发现了一些问题。</font></font></span></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>阿毛：</font></span><span style="line-height:16pt;"><font>这样的代码复审有用么？</font></span></font></font></p> 
   <p align="justify" style="text-indent:-28.5pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>阿超：</font></span><span style="line-height:16pt;"><font>还是有一点用处，至少确保代码的作者把代码的逻辑和思想系统地表达了一遍，这样做本身就能发现不少问题。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font><font color="#000000">&nbsp;</font></font></p> 
   <p align="justify" style="text-indent:-21pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><span style="line-height:16pt;"><font><font color="#000000">问：数据库的代码有没有规范？</font></font></span></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><font><span style="line-height:16pt;"><font>答：有，见本书附录</font></span><font>B</font><span style="line-height:16pt;"><font>（第</font></span><font>337</font><span style="line-height:16pt;"><font>页）。</font></span></font></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"></span></font>&nbsp;</p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;">问: 这些规范啊, 建议啊, 都是细枝末节的东西, 我们要做世界级的软件，搞这些东西是不是太小家子气了?</span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font>答: 首先世界级的软件也会因为小小的纰漏而导致世界级的问题 - 例如一段时间以来我们常常听到的安全漏洞和紧急补丁。 其次，软件的开发是一个社会性的活动, 有它的规律。 其中一个规律就是 “破窗效应” (参见</font><a href="http://en.wikipedia.org/wiki/Broken_windows_theory" rel="nofollow" style="color:rgb(52,104,164);"><font>broken windows theory</font></a><font>)，如果团队成员看到同伴们连一些细小的规范都不遵守, 那自己还要严格执行单元测试么?&nbsp; 另一个成员看到这个模块连单元测试都没有, 那他自己也随意修改算了。。。&nbsp; 这样下去, 整个软件的质量可想而知。</font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;"><font color="#000000"><span><font><span style="line-height:21.3333px;">本文转自SoftwareTeacher博客园博客，原文链接：http://www.cnblogs.com/xinz/archive/2011/11/20/2255971.html，如需转载请自行联系原作者</span><br></font></span></font></p> 
   <p align="justify" style="text-indent:-19.95pt;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;line-height:16pt;"><font color="#000000"><span style="line-height:16pt;"><font><br></font></span></font></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
