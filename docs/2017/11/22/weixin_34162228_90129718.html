<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C#自定义工业控件开发 « NotBeCN</title>
  <meta name="description" content="             由于工作需要，调研过一段时间的工业控制方面的“组态软件”（SCADA）的开发，组态软件常用于自动化工业控制领域，其中包括实时数据采集、数据储存、设备控制和数据展现等功能。其中工控组件的界面展现的实现类似于Windows系统下的各种开发控件，通过各种控件的组装，和硬件协议的集成，就可以实现...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/22/weixin_34162228_90129718.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">C#自定义工业控件开发</h1>
    <p class="post-meta">Nov 22, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">由于工作需要，调研过一段时间的工业控制方面的“组态软件”（SCADA）的开发，组态软件常用于自动化工业控制领域，其中包括实时数据采集、数据储存、设备控制和数据展现等功能。其中工控组件的界面展现的实现类似于Windows系统下的各种开发控件，通过各种控件的组装，和硬件协议的集成，就可以实现对相应设备的控制和实时状态的显示。</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">每个对应的硬件UI展示都可以用一个自定义控件来实现，如下图的一个温度计，就可以使用UserControl来实现。</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/434101/201412/131945190403145.png" alt="" style="border:none;"></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">对应的实现代码如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Collections.Generic;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.ComponentModel;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Drawing;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Data;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Linq;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Text;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Windows.Forms;

</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">namespace</span><span style="font-size:12px;line-height:1.5;"> HMIControls
{
    </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">partial</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">class</span><span style="font-size:12px;line-height:1.5;"> ThermometerControl : UserControl
    {
        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 初始化控件
        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 预设绘图方式：双缓冲、支持透明背景色、自定义绘制
        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> ThermometerControl()
        {
            SetStyle(ControlStyles.AllPaintingInWmPaint, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">);
            SetStyle(ControlStyles.OptimizedDoubleBuffer, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">);
            SetStyle(ControlStyles.ResizeRedraw, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">);
            SetStyle(ControlStyles.Selectable, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">);
            SetStyle(ControlStyles.SupportsTransparentBackColor, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">);
            SetStyle(ControlStyles.UserPaint, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">);

            InitializeComponent();
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 温度</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> temperature = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span><span style="font-size:12px;line-height:1.5;">;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">当前温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> Temperature
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { temperature =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> temperature; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 最高温度</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> highTemperature = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">50</span><span style="font-size:12px;line-height:1.5;">;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">最高温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> HighTemperature
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { highTemperature =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> highTemperature; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 最低温度</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> lowTemperature = -<span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">20</span><span style="font-size:12px;line-height:1.5;">;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">最低温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> LowTemperature
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { lowTemperature =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> lowTemperature; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 当前温度数值的字体</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Font tempFont = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Font(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">宋体</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">12</span><span style="font-size:12px;line-height:1.5;">);
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">当前温度数值的字体</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Font TempFont
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { tempFont =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> tempFont; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 当前温度数值的颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color tempColor =<span style="font-size:12px;line-height:1.5;"> Color.Black;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">当前温度数值的颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color TempColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { tempColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> tempColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 大刻度线数量</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> bigScale = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span><span style="font-size:12px;line-height:1.5;">;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">大刻度线数量</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> BigScale
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { bigScale =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> bigScale; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 小刻度线数量</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> smallScale = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span><span style="font-size:12px;line-height:1.5;">;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">小刻度线数量</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> SmallScale
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { smallScale =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> smallScale; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 刻度字体</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Font drawFont = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Font(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">Aril</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">9</span><span style="font-size:12px;line-height:1.5;">);
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度数字的字体</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Font DrawFont
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> drawFont; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { drawFont =<span style="font-size:12px;line-height:1.5;"> value; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 字体颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color drawColor =<span style="font-size:12px;line-height:1.5;"> Color.Black;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度数字的颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color DrawColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { drawColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> drawColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 刻度盘最外圈线条的颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color dialOutLineColor =<span style="font-size:12px;line-height:1.5;"> Color.Gray;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">背景</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度盘最外圈线条的颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color DialOutLineColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { dialOutLineColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> dialOutLineColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 刻度盘背景颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color dialBackColor =<span style="font-size:12px;line-height:1.5;"> Color.Gray;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">背景</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度盘背景颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color DialBackColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { dialBackColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> dialBackColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 大刻度线颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color bigScaleColor =<span style="font-size:12px;line-height:1.5;"> Color.Black;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">大刻度线颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color BigScaleColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { bigScaleColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> bigScaleColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 小刻度线颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color smallScaleColor =<span style="font-size:12px;line-height:1.5;"> Color.Black;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">小刻度线颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color SmallScaleColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { smallScaleColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> smallScaleColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 温度柱背景颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color mercuryBackColor =<span style="font-size:12px;line-height:1.5;"> Color.LightGray;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度柱背景颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color MercuryBackColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { mercuryBackColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> mercuryBackColor; }
        }

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 温度柱颜色</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Color mercuryColor =<span style="font-size:12px;line-height:1.5;"> Color.Red;
        [Category(</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">刻度</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), Description(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度柱颜色</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> Color MercuryColor
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">set</span> { mercuryColor =<span style="font-size:12px;line-height:1.5;"> value; }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> mercuryColor; }
        }

        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">  变量
        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> X;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> Y;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> H;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span><span style="font-size:12px;line-height:1.5;"> Pen p, s_p;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span><span style="font-size:12px;line-height:1.5;"> Brush b;

        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制温度计
        </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;param name="sender"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">///</span> <span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">&lt;param name="e"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> ThermometerControl_Paint(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">object</span><span style="font-size:12px;line-height:1.5;"> sender, PaintEventArgs e)
        {
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 温度值是否在温度表最大值和最小值范围内</span>
            <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (temperature &gt;<span style="font-size:12px;line-height:1.5;"> highTemperature)
            {
                </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">MessageBox.Show("温度值超出温度表范围,系统自动设置为默认值!");</span>
                temperature =<span style="font-size:12px;line-height:1.5;"> highTemperature;
            }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (temperature &lt;<span style="font-size:12px;line-height:1.5;"> lowTemperature)
            {
                temperature </span>=<span style="font-size:12px;line-height:1.5;"> lowTemperature;
            }

            e.Graphics.SmoothingMode </span>=<span style="font-size:12px;line-height:1.5;"> System.Drawing.Drawing2D.SmoothingMode.HighQuality;
            e.Graphics.TranslateTransform(</span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">);

            X </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.Width - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">4</span><span style="font-size:12px;line-height:1.5;">;
            Y </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.Height - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">4</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制边框(最外边的框)</span>
            p = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Pen(dialOutLineColor, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">);
            e.Graphics.DrawLine(p, </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, (Y - X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">));
            e.Graphics.DrawLine(p, X, X </span>/ <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, X, (Y - X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">));
            e.Graphics.DrawArc(p, </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, X, X, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">180</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">180</span><span style="font-size:12px;line-height:1.5;">);
            e.Graphics.DrawArc(p, </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, (Y - X), X, X, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">180</span><span style="font-size:12px;line-height:1.5;">);

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制背景色</span>
            X = X - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">8</span><span style="font-size:12px;line-height:1.5;">;
            Y </span>= Y - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">8</span><span style="font-size:12px;line-height:1.5;">;
            b </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> SolidBrush(dialBackColor);
            e.Graphics.TranslateTransform(</span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">4</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">4</span><span style="font-size:12px;line-height:1.5;">);
            e.Graphics.FillRectangle(b, </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, X, (Y -<span style="font-size:12px;line-height:1.5;"> X));
            e.Graphics.FillEllipse(b, </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span><span style="font-size:12px;line-height:1.5;">, X, X);
            e.Graphics.FillEllipse(b, </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>, (Y -<span style="font-size:12px;line-height:1.5;"> X), X, X);

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制指示柱</span>
            b = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> SolidBrush(mercuryBackColor);
            e.Graphics.FillEllipse(b, X </span>* <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, (X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> - X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">10</span>), X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span><span style="font-size:12px;line-height:1.5;">);
            b </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> SolidBrush(mercuryColor);
            e.Graphics.FillEllipse(b, X </span>/ <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">4</span>, (Y - X * <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">9</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">16</span>), X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">);
            e.Graphics.FillRectangle(b, X </span>* <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, (X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> + <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span>), X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, (Y -<span style="font-size:12px;line-height:1.5;"> X));

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 在温度计底部,绘制当前温度数值</span>
            b = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> SolidBrush(tempColor);
            StringFormat format </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> StringFormat();
            format.LineAlignment </span>=<span style="font-size:12px;line-height:1.5;"> StringAlignment.Center;
            format.Alignment </span>=<span style="font-size:12px;line-height:1.5;"> StringAlignment.Center;
            e.Graphics.DrawString((temperature.ToString() </span>+ <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">℃</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>), tempFont, b, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, (Y - X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">4</span><span style="font-size:12px;line-height:1.5;">), format);

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制大刻度线,线宽为2
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制小刻度线,线宽为1
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制刻度数字,字体,字号,字的颜色在属性中可改</span>
            p = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Pen(bigScaleColor, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>);                        <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 设置大刻度线的颜色,线粗</span>
            s_p = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Pen(smallScaleColor, <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span>);                      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 设置小刻度线的颜色,线粗</span>
            SolidBrush drawBrush = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> SolidBrush(drawColor);   <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 设置绘制数字的颜色</span>
            format.Alignment = StringAlignment.Near;            <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 设置数字水平对齐为中间,垂直对其为左边
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 计算要绘制数字的数值</span>
            <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> interval = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>)(highTemperature - lowTemperature) /<span style="font-size:12px;line-height:1.5;"> bigScale;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> tempNum = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;">)highTemperature;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> i = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>; i &lt;= bigScale; i++<span style="font-size:12px;line-height:1.5;">)
            {
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> b_s_y = X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> + i * ((Y - X - X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>) / bigScale);       <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制大刻度线的垂直位置</span>
                e.Graphics.DrawLine(p, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, b_s_y, (X * <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span> - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>), b_s_y); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制大刻度线</span>
                e.Graphics.DrawString(tempNum.ToString(), drawFont, drawBrush, X * <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">3</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, b_s_y, format);   <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制刻度数字</span>
                tempNum -= interval;    <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 计算下一次要绘制的数值

                </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制小刻度线</span>
                <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (i &lt;<span style="font-size:12px;line-height:1.5;"> bigScale)
                {
                    </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> j = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span>; j &lt; smallScale; j++<span style="font-size:12px;line-height:1.5;">)
                    {
                        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> s_s_y = b_s_y + ((X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> + (i + <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span>) * ((Y - X - X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>) / bigScale) - b_s_y) / smallScale) *<span style="font-size:12px;line-height:1.5;"> j;
                        e.Graphics.DrawLine(s_p, (X </span>* <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">3</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">10</span>), s_s_y, (X * <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span> - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">), s_s_y);
                    }
                }
            }
            
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 计算当前温度的位置            </span>
            <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> L = Y - X * <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">3</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span><span style="font-size:12px;line-height:1.5;">;
            H </span>= L * (temperature - lowTemperature) / (highTemperature -<span style="font-size:12px;line-height:1.5;"> lowTemperature);
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制当前温度的位置</span>
            b = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> SolidBrush(mercuryBackColor);
            e.Graphics.FillRectangle(b, X </span>* <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span> / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">2</span>, X / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span>, (L -<span style="font-size:12px;line-height:1.5;"> H));
        }
    }
}</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">类似的一些实现，如下图：</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/434101/201412/131947231818536.png" alt="" style="border:none;"></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">对应一些动态线条的绘制，可以采用ZedGraph这个开源的控件来实现，如下图：</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/434101/201412/131948399317251.png" alt="" style="border:none;"></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">模拟的一些随时间变化的温度曲线图，一些参考代码如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Collections.Generic;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.ComponentModel;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Drawing;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Data;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Linq;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Text;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> System.Windows.Forms;
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">using</span><span style="font-size:12px;line-height:1.5;"> ZedGraph;

</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">namespace</span><span style="font-size:12px;line-height:1.5;"> HMIControls
{
    </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">partial</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">class</span><span style="font-size:12px;line-height:1.5;"> AirMachine : UserControl
    {
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">bool</span><span style="font-size:12px;line-height:1.5;"> isValveOn;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span><span style="font-size:12px;line-height:1.5;"> Timer timer;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">double</span><span style="font-size:12px;line-height:1.5;"> temperature;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> Random random = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Random();

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span><span style="font-size:12px;line-height:1.5;"> Point arrowLocation1;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span><span style="font-size:12px;line-height:1.5;"> Point arrowLocation2;
        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span><span style="font-size:12px;line-height:1.5;"> Point arrowLocation3;

        </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Starting time in milliseconds</span>
        <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> tickStart = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span><span style="font-size:12px;line-height:1.5;">;

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> AirMachine()
        {
            InitializeComponent();
            InitUI();
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> InitUI()
        {
            isValveOn </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelTemperature.Text = <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.Text = <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">开</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.BackColor =<span style="font-size:12px;line-height:1.5;"> Color.Snow;
            timer </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Timer();
            timer.Interval </span>= <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1000</span><span style="font-size:12px;line-height:1.5;">;
            timer.Tick </span>+= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> EventHandler(timer_Tick);
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.Load += <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> EventHandler(AirMachine_Load);

            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Visible = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Visible = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Visible = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">;

            arrowLocation1 </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.labelArrow1.Location;
            arrowLocation2 </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.labelArrow2.Location;
            arrowLocation3 </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.labelArrow3.Location;

            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.Click += <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> EventHandler(button1_Click);
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> CreateGraph()
        {
            zedGraphControl1.IsEnableZoom </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">;
            zedGraphControl1.IsShowContextMenu </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Get a reference to the GraphPane</span>
            GraphPane myPane =<span style="font-size:12px;line-height:1.5;"> zedGraphControl1.GraphPane;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Set the titles</span>
            myPane.Title.Text = <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">实时数据</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
            myPane.YAxis.Title.Text </span>= <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">数据</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
            myPane.XAxis.Title.Text </span>= <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">时间</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Change the color of the title</span>
            myPane.Title.FontSpec.FontColor =<span style="font-size:12px;line-height:1.5;"> Color.Green;
            myPane.XAxis.Title.FontSpec.FontColor </span>=<span style="font-size:12px;line-height:1.5;"> Color.Green;
            myPane.YAxis.Title.FontSpec.FontColor </span>=<span style="font-size:12px;line-height:1.5;"> Color.Green;


            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Save 1200 points.  At 50 ms sample rate, this is one minute
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> The RollingPointPairList is an efficient storage class that always
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> keeps a rolling set of point data without needing to shift any data values</span>
            RollingPointPairList list = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> RollingPointPairList(<span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1200</span><span style="font-size:12px;line-height:1.5;">);

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Initially, a curve is added with no data points (list is empty)
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Color is blue, and there will be no symbols</span>
            LineItem myCurve = myPane.AddCurve(<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">温度值</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">, list, Color.Blue, SymbolType.None);

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Fill the area under the curves</span>
            myCurve.Line.Fill = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Fill(Color.White, Color.Blue, 45F);

            myCurve.Line.IsSmooth </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">;
            myCurve.Line.SmoothTension </span>= <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0.5F</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Increase the symbol sizes, and fill them with solid white</span>
            myCurve.Symbol.Size = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">8.0F</span><span style="font-size:12px;line-height:1.5;">;
            myCurve.Symbol.Fill </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Fill(Color.Red);
            myCurve.Symbol.Type </span>=<span style="font-size:12px;line-height:1.5;"> SymbolType.Circle;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Just manually control the X axis range so it scrolls continuously
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> instead of discrete step-sized jumps</span>
            myPane.XAxis.Scale.Min = <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span><span style="font-size:12px;line-height:1.5;">;
            myPane.XAxis.Scale.Max </span>= <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">100</span><span style="font-size:12px;line-height:1.5;">;
            myPane.XAxis.Scale.MinorStep </span>= <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span><span style="font-size:12px;line-height:1.5;">;
            myPane.XAxis.Scale.MajorStep </span>= <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">5</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Add gridlines to the plot</span>
            myPane.XAxis.MajorGrid.IsVisible = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">;
            myPane.XAxis.MajorGrid.Color </span>=<span style="font-size:12px;line-height:1.5;"> Color.LightGray;
            myPane.YAxis.MajorGrid.IsVisible </span>= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;">;
            myPane.YAxis.MajorGrid.Color </span>=<span style="font-size:12px;line-height:1.5;"> Color.LightGray;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Scale the axes</span>
<span style="font-size:12px;line-height:1.5;">            zedGraphControl1.AxisChange();

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Save the beginning time for reference</span>
            tickStart =<span style="font-size:12px;line-height:1.5;"> Environment.TickCount;
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> AirMachine_Load(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">object</span><span style="font-size:12px;line-height:1.5;"> sender, EventArgs e)
        {
            CreateGraph();
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> UpdateZedGraph(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">double</span><span style="font-size:12px;line-height:1.5;"> yValue)
        {
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Make sure that the curvelist has at least one curve</span>
            <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (zedGraphControl1.GraphPane.CurveList.Count &lt;= <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span><span style="font-size:12px;line-height:1.5;">)
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Get the first CurveItem in the graph</span>
            LineItem curve = zedGraphControl1.GraphPane.CurveList[<span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0</span>] <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">as</span><span style="font-size:12px;line-height:1.5;"> LineItem;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (curve == <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">)
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Get the PointPairList</span>
            IPointListEdit list = curve.Points <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">as</span><span style="font-size:12px;line-height:1.5;"> IPointListEdit;
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> If this is null, it means the reference at curve.Points does not
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> support IPointListEdit, so we won't be able to modify it</span>
            <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (list == <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">)
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Time is measured in seconds</span>
            <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">double</span> time = (Environment.TickCount - tickStart) / <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1000.0</span><span style="font-size:12px;line-height:1.5;">;

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 3 seconds per cycle
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">list.Add(time, Math.Sin(2.0 * Math.PI * time / 3.0));</span>
<span style="font-size:12px;line-height:1.5;">            list.Add(time, yValue);

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Keep the X scale at a rolling 30 second interval, with one
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> major step between the max X value and the end of the axis</span>
            Scale xScale =<span style="font-size:12px;line-height:1.5;"> zedGraphControl1.GraphPane.XAxis.Scale;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (time &gt; xScale.Max -<span style="font-size:12px;line-height:1.5;"> xScale.MajorStep)
            {
                xScale.Max </span>= time +<span style="font-size:12px;line-height:1.5;"> xScale.MajorStep;
                xScale.Min </span>= xScale.Max - <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">100.0</span><span style="font-size:12px;line-height:1.5;">;
            }

            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Make sure the Y axis is rescaled to accommodate actual data</span>
<span style="font-size:12px;line-height:1.5;">            zedGraphControl1.AxisChange();
            </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Force a redraw</span>
<span style="font-size:12px;line-height:1.5;">            zedGraphControl1.Invalidate();
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> UpdataArrowPosition()
        {
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Location = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Point(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Location.X + <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">30</span>, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.labelArrow1.Location.Y);
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Location.X &gt;= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.panelPic.Location.X + <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.panelPic.Width)
            {
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Location =<span style="font-size:12px;line-height:1.5;"> arrowLocation1;
            }

            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Location = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Point(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Location.X + <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">30</span>, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.labelArrow2.Location.Y);
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Location.X &gt;= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.panelPic.Location.X + <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.panelPic.Width)
            {
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Location =<span style="font-size:12px;line-height:1.5;"> arrowLocation2;
            }

            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Location = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Point(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Location.X + <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">30</span>, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.labelArrow3.Location.Y);
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Location.X &gt;= <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.panelPic.Location.X + <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">.panelPic.Width)
            {
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Location =<span style="font-size:12px;line-height:1.5;"> arrowLocation3;
            }
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> timer_Tick(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">object</span><span style="font-size:12px;line-height:1.5;"> sender, EventArgs e)
        {
            temperature </span>= random.NextDouble() * <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">100</span><span style="font-size:12px;line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelTemperature.Text =<span style="font-size:12px;line-height:1.5;"> Convert.ToInt32(temperature).ToString();

            UpdateZedGraph(temperature);

            UpdataArrowPosition();
        }

        </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">private</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> button1_Click(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">object</span><span style="font-size:12px;line-height:1.5;"> sender, EventArgs e)
        {
            isValveOn </span>= !<span style="font-size:12px;line-height:1.5;">isValveOn;
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span><span style="font-size:12px;line-height:1.5;"> (isValveOn)
            {
                timer.Start();
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.Text = <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">关</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.BackColor =<span style="font-size:12px;line-height:1.5;"> Color.LawnGreen;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelTemperature.BackColor =<span style="font-size:12px;line-height:1.5;"> Color.LawnGreen;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Visible =<span style="font-size:12px;line-height:1.5;"> isValveOn;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Visible =<span style="font-size:12px;line-height:1.5;"> isValveOn;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Visible =<span style="font-size:12px;line-height:1.5;"> isValveOn;
            }
            </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;">
            {
                timer.Stop();
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.Text = <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">开</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.button1.BackColor =<span style="font-size:12px;line-height:1.5;"> Color.Snow;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelTemperature.Text = <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="font-size:12px;line-height:1.5;">;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelTemperature.BackColor =<span style="font-size:12px;line-height:1.5;"> Color.Snow;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow1.Visible =<span style="font-size:12px;line-height:1.5;"> isValveOn;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow2.Visible =<span style="font-size:12px;line-height:1.5;"> isValveOn;
                </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span>.labelArrow3.Visible =<span style="font-size:12px;line-height:1.5;"> isValveOn;
            }
        }
    }
}</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">整个组态软件的开发，从底层硬件相关的设备协议到上层的展现都是比较有难度的，特别是现在硬件协议不统一，业界没有统一的标准，虽然有OPC和BACnet等一些标准协议，但是在实际项目中，有很多的设备是没有实现OPC的，都是自己的私有协议，要基于这类的硬件做二次开发，需要向商家买协议，这也是成本的问题。</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">代码下载：http://download.csdn.net/detail/luxiaoxun/8256371</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">组态界面开发的一些参考资源：</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">http://www.codeproject.com/Articles/36116/Industrial-Controls</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">http://www.codeproject.com/Articles/17559/A-fast-and-performing-gauge</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">http://dashboarding.codeplex.com/</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p><font color="#333333"><span style="font-size:15px;">&nbsp; &nbsp; 本文转自阿凡卢博客园博客，原文链接：http://www.cnblogs.com/luxiaoxun/p/4161782.html</span></font><span style="font-size:15px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者</span></p> 
   <div>
    <br>
   </div> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
