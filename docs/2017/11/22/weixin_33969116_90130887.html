<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Maven 拾遗 « NotBeCN</title>
  <meta name="description" content="             01. maven 概要    &nbsp; &nbsp;首先我把 maven 的概念快速的梳理一下，让我们快速地建立起一个比较精确的 maven 应用场景。&nbsp;    &nbsp; &nbsp;maven 不是 ant，也不是 make，以前接触的构建工具，需要写一些详细的步骤...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/22/weixin_33969116_90130887.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Maven 拾遗</h1>
    <p class="post-meta">Nov 22, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">01. maven 概要</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;首先我把 maven 的概念快速的梳理一下，让我们快速地建立起一个比较精确的 maven 应用场景。&nbsp;</span><span style="line-height:1.8;font-size:15px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 不是 ant，也不是 make，</span><span style="line-height:1.8;font-size:15px;">以前接触的构建工具，需要写一些详细的步骤，如： compile project1/src/*.java 等类似的语句。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 采用了"约定优于配置"的方法，一些开发常用的操作和步骤已经固化在 maven中，所以使用者不再需要编写那些语句。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 内置了开发流程的支持，它不仅能够编译，同样能够打包、发布，也能够一气呵成做完这些所有的步骤。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 不是 ivy，</span><span style="line-height:1.5;font-size:15px;">依赖管理是 maven 的功能之一，maven 在依赖关系中加入了scope 的概念，进一步细化了依赖关系的划分。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 将自己定位为一个项目管理工具。它负责管理项目开发过程中的如下几乎所有的东西。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;a.版本:</span><span style="line-height:1.8;font-size:15px;">maven有自己的版本定义和规则;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;b.构建:</span><span style="line-height:1.8;font-size:15px;">maven支持许多种的应用程序类型，对于每一种支持的应用程序类型都定义好了一组构建规则和工具集;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;c.输出物管理:</span><span style="line-height:1.5;font-size:15px;">maven可以管理项目构建的产物，并将其加入到用户库中。这个功能可以用于项目组和其他部门之间的交付行为;&nbsp;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;d.依赖关系 :&nbsp;</span><span style="line-height:1.8;font-size:15px;">maven对依赖关系的特性进行细致的分析和划分，避免开发过程中的依赖混乱和相互污染行为;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;e.文档和构建结果:</span><span style="line-height:1.5;font-size:15px;">maven的site命令支持各种文档信息的发布，包括构建过程的各种输出，javadoc，产品文档等;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;f.项目关系:</span><span style="line-height:1.5;font-size:15px;">一个大型的项目通常有几个小项目或者模块组成，用maven可以很方便地管理;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;h.移植性管理 :&nbsp;</span><span style="line-height:1.8;font-size:15px;">maven可以针对不同的开发场景，输出不同种类的输出结果;</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label1" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">02. maven 生命周期</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;<img src="https://images2015.cnblogs.com/blog/362169/201706/362169-20170608114037950-1386915139.png" alt="" style="border:0px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven把项目的构建划分为不同的生命周期(lifecycle)，</span><span style="line-height:1.5;font-size:15px;">包括：验证、编译、测试、打包、部署。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven中所有的执行动作(goal)都需要指明自己在这个过程中的执行位置，然后maven执行的时候，就依照过程的发展依次调用这些goal进行各种处理。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;这个也是maven的一个基本调度机制。一般来说，位置稍后的过程都会依赖于之前的过程。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;当然，maven同样提供配置文件，可以依照用户要求，跳过某些阶段。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label2" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">03. maven "约定优于配置"</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;<img src="https://images2015.cnblogs.com/blog/362169/201706/362169-20170608113626622-951088194.png" alt="" style="border:0px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 中 "约定优于配置"&nbsp;并不是完全不可以修改的，他们只是一些配置的默认值而已。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;但是使用者除非必要，并不需要去修改那些约定内容。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp;&nbsp;<span style="line-height:1.8;">&nbsp;maven默认的文件存放结构如下：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/项目目录&nbsp;</span><span style="line-height:1.8;font-size:15px;">pom.xml 用于maven的配置文件</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/src 源代码目录</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/src/main 工程源代码目录</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/src/main/java 工程java源代码目录</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/src/main/resource 工程的资源目录</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/src/test 单元测试目录</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/src/test/java</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/target 输出目录，所有的输出物都存放在这个目录下</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;/target/classes 编译之后的class文件</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;每一个阶段的任务都知道怎么正确完成自己的工作。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;如 compile 任务就知道从 src/main/java 下编译所有的 java 文件，并把它的输出class文件存放到 target/classes 中。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;采用"约定优于配置"的策略可以减少修改配置的工作量，也可以降低学习成本，更重要的是，给项目引入了统一的规范。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label3" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">04. maven 版本规范</span></h3> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>              <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>org.springframework<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
              <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>spring-webmvc<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
              <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>4.3.7.RELEASE<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 使用4个要素来唯一定位某一个输出物： groupId:artifactId:packaging:version 。如 org.springframework:spring:2.5 。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;groupId&nbsp;</span><span style="line-height:1.5;font-size:15px;">团体，公司，小组，组织，项目，或者其它团体。团体标识的约定是，它以创建这个项目的组织名称的逆向域名开头。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;artifactId&nbsp;</span><span style="line-height:1.5;font-size:15px;">在groupId下的表示一个单独项目的唯一标识符。比如我们的 tomcat, commons 等。不要在 artifactId 中包含点号(.)。&nbsp;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;version&nbsp;</span><span style="line-height:1.8;font-size:15px;">一个项目的特定版本。发布项目有一个固定的版本标识来指向该项目的某一个特定的版本。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;虽然项目的打包格式也是 Maven 坐标的重要组成部分，但是它不是项目唯一标识符的一个部分。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;<span style="line-height:1.8;">一个项目的 groupId:artifactId:version 使之成为一个独一无二的项目；你不能同时有一个拥有同样的 groupId, artifactId,version 标识的项目。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;packaging&nbsp;</span><span style="line-height:1.5;font-size:15px;">项目的类型，默认是 jar，描述了项目打包后的输出。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 在版本管理时候可以使用几个特殊的字符串 SNAPSHOT ,LATEST ,RELEASE 。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;比如"1.0-SNAPSHOT"。</span><span style="line-height:1.8;font-size:15px;">各个部分的含义和处理逻辑如下说明：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;SNAPSHOT：</span><span style="line-height:1.5;font-size:15px;">用于开发过程，Maven 就会在安装或发布这个组件的时候将该符号展开为一个日期和时间值，转换为UTC时间。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.5;font-size:15px;">&nbsp; &nbsp;例如，"1.0-SNAPSHOT"会在2010年5月5日下午2点10分发布时候变成 1.0-20100505-141000-1。&nbsp;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;LATEST：</span><span style="line-height:1.5;font-size:15px;">指某个特定构件的最新发布，这个发布可能是一个发布版，也可能是一个 snapsho t版，具体看哪个时间最后。&nbsp;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;RELEASE：</span><span style="line-height:1.5;font-size:15px;">指最后一个发布版。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label4" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">05. maven 依赖管理</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;"><img src="https://images2015.cnblogs.com/blog/362169/201706/362169-20170608114211403-1277435099.png" alt="" style="border:0px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;个人认为依赖管理是 maven 中最吸引人的功能特性，这个特性让开发者只需要关注代码的直接依赖。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;比如我们用了spring，就加入spring 依赖说明就可以了，至于 spring 自己还依赖哪些外部的东西，maven 帮我们搞定。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;任意一个外部依赖说明包含如下几个要素：groupId, artifactId, version, scope, type, optional。其中前3个是必须的，各自含义如下：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;这里的 version 可以用区间表达式来表示，比如 (2.0,) 表示&gt;2.0，[2.0,3.0) 表示 2.0&lt;=ver&lt;3.0；多个条件之间用逗号分隔，比如[1,3),[5,7]。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 认为程序对外部的依赖会随着程序的所处阶段和应用场景而变化，所以 maven 中的依赖关系有作用域(scope)的限制。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;scope 包含如下的取值：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;compile（编译范围）---&gt;&nbsp;</span><span style="line-height:1.8;font-size:15px;">compile 是默认的范围，编译范围依赖在所有的classpath中可用，同时它们也会被打包。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;provided（已提供范围）</span><span style="line-height:1.8;font-size:15px;">&nbsp;---&gt; provided 依赖只有在当 JDK 或者一个容器已提供该依赖之后才使用。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;比如你开发了一个web应用，在编译 classpath 中需要可用的 Servlet API 来编译 servlet，又不想在打包好的 WAR 中包含这个 Servlet API。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;runtime（运行时范围 --&gt;</span><span style="line-height:1.8;font-size:15px;">&nbsp;runtime 依赖在运行和测试系统的时候需要，但在编译的时候不需要。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;比如你可能在编译的时候只需要 JDBC API JAR，而只有在运行的时候才需要 JDBC 驱动实现。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;test（测试范围）</span><span style="line-height:1.8;font-size:15px;">--&gt; test 范围依赖 在一般的 编译和运行时都不需要，它们只有在测试编译和测试运行阶段可用。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;system（系统范围）</span><span style="line-height:1.8;font-size:15px;">&nbsp;--&gt; system 范围依赖与 provided 类似，但是你必须显式的提供一个对于本地系统中 JAR 文件的路径。</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">dependency</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
         <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>org.wltea<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
         <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>analyzer<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
         <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>2012_u6<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
         <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">scope</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>system<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">scope</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
         <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">systemPath</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>${project.basedir}/src/main/webapp/WEB-INF/lib/analyzer-2012_u6.jar<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">systemPath</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
     <span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">dependency</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;"><span style="line-height:1.5;">&nbsp; &nbsp;注意该范围是不推荐使用的（你应该一直尽量去从公共或定制的Maven仓库中引用依赖）。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;"><span style="line-height:1.5;">&nbsp; &nbsp;type 一般在pom引用依赖时候出现，其他时候不用，&nbsp;optional 是否可选依赖。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;依赖也可以是可选的，比如我们代码中没有任何cache依赖，但是hibernate可能要配置cache，所以该cache的依赖就是可选的。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label5" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">06. maven&nbsp;多项目管理</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven的多项目管理也是非常强大的。一般来说，maven要求同一个工程的所有子项目都放置到同一个目录下，每一个子目录代表一个项目，比如</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;总项目/&nbsp;</span><span style="line-height:1.8;font-size:15px;">pom.xml 总项目的 pom 配置文件</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;子项目1/</span><span style="line-height:1.8;font-size:15px;">pom.xml 子项目1的 pom 文件</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;子项目2/&nbsp;</span><span style="line-height:1.8;font-size:15px;">pom.xml 子项目2的 pom 文件</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;按照这种格式存放，就是继承方式，所有具体子项目的pom.xml都会继承总项目pom的内容，取值为子项目pom内容优先。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;要设置继承方式，首先要在总项目的pom中加入如下配置</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">modules</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">module</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>simple-weather<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">module</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">module</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>simple-webapp<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">module</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">modules</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> </pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;其次在每个子项目中加入</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">parent</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>org.sonatype.mavenbook.ch06<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>simple-parent<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>1.0<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">parent</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;当然，继承不是唯一的配置文件共用方式，maven还支持引用方式。引用pom的方式更简单，在依赖中加入一个type为pom的依赖即可。</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">dependency</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">     &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>org.sonatype.mavenbook<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">groupId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">     &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>persistence-deps<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">artifactId</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">     &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>1.0<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">version</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">     &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">type</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>pom<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">type</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">dependency</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label6" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">07. maven 内置属性</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; 用户可以在maven中定义一些属性，然后在其他地方用${xxx}进行引用。比如：</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="line-height:1.8;color:rgb(0,0,255);">  &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">properties</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">     &lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">var1</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>value1<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">var1</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">  &lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">properties</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> <span style="line-height:1.8;color:rgb(0,0,255);"><br></span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 提供了三个隐式的变量，用来访问系统环境变量、POM信息和 maven 的 settings：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;env&nbsp;</span><span style="line-height:1.8;font-size:15px;">暴露操作系统的环境变量，比如 env.PATH</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;project&nbsp;</span><span style="line-height:1.5;font-size:15px;">暴露 POM 中的内容，用点号(.)的路径来引用POM元素的值，比如 ${project.artifactId}。另外，java的系统属性比如user.dir等，也暴露在这里。&nbsp;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;settings&nbsp;</span><span style="line-height:1.8;font-size:15px;">暴露 maven 的 settings 的信息，也可以用点号(.)来引用。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label7" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">08. maven profile</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;profile 是 maven 的一个重要特性，它可以让 maven 能够自动适应外部的环境变化。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;比如同一个项目，在linux下编译linux的版本，在win下编译win的版本等。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;一个项目可以设置多个 profile，也可以在同一时间设置多个 profile 被激活（active）的。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;自动激活的 profile 的条件可以是各种各样的设定条件，组合放置在 activation 节点中，也可以通过命令行直接指定。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;profile 包含的其他配置内容可以覆盖掉 pom 定义的相应值。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;如果认为 profile 设置比较复杂，可以将所有的 profiles 内容移动到专门的 profiles.xml 文件中，不过记得和 pom.xml 放在一起。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label8" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">09. maven 配置文件</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven的主执行程序为 mvn.bat，linux下为mvn.sh，这两个程序都很简单，它们的共同用途就是收集一些参数，然后用 java.exe来运行maven的Main函数。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;maven 同样需要有配置文件，名字叫做 settings.xml，它放在两个地方，一个是 maven 安装目录的conf目录下，对所有使用该 maven 的用户都起作用。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;我们称为主配置文件，另外一个放在 %USERPROFILE%/.m2/settings.xml 下，我们成为用户配置文件，只对当前用户有效，且可以覆盖主配置文件的参数内容。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;还有就是项目级别的配置信息了，它存放在每一个 maven 管理的项目目录下，叫 pom.xml，主要用于配置项目相关的一些内容。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;当然，如果有必要用户也可以在 pom 中写一些配置，覆盖住配置文件和用户配置文件的设置参数内容。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;一般来说，settings文件配置的是比如repository库路径之类的全局信息，具体可以参考官方网站的文章。</span></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label9" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">10. maven 本地安装和中央库发布</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;在maven中一般都会用到安装库文件的功能，一则是我们常用的hibernate要使用jmx库，但是因为sun的license限制，所以无法将其直接包含在repository中。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;所以我们使用mvn命令把jar安装到我们本地的repository中</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre> mvn install:install-file -DgroupId=com.sun.jdmk -DartifactId=jmxtools -Dversion=1.2.1 -Dpackaging=jar -Dfile=/path/to/file</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;如果我们想把它安装到公司的repository中，需要使用命令</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>mvn deploy:deploy-file -DgroupId=com.sun.jdmk -DartifactId=jmxtools -Dversion=1.2.1 -Dpackaging=jar -Dfile=/path/to/file -Durl=http://xxx.ss.com/sss.xxx -DrepositoryId=release-repo</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">&nbsp; &nbsp;对于我们的工程输出，如果需要放置到公司的repository中的话，可以通过配置 pom 来实现</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">distributionManagement</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
   <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">repository</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
      <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">id</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>mycompany-repository<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">id</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
      <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>MyCompany Repository<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
      <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">url</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>scp://repository.mycompany.com/repository/maven2<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">url</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
   <span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">repository</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span> 
<span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">distributionManagement</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:right;"> 
    <a href="http://www.cnblogs.com/java-class/p/6961274.html#_labelTop" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">回到顶部</a>
    <a name="_label10" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a> 
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:15px;">11. maven 常用命令</span></h3> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>1<span style="line-height:1.8;">. 创建Maven的普通java项目： 
   mvn archetype:create </span>-DgroupId=packageName -DartifactId=<span style="line-height:1.8;">projectName 
</span>2<span style="line-height:1.8;">. 创建Maven的Web项目： 
   mvn archetype:create </span>-DgroupId=packageName -DartifactId=webappName -DarchetypeArtifactId=maven-archetype-<span style="line-height:1.8;">webapp 
</span>3<span style="line-height:1.8;">. 编译源代码： mvn compile 
</span>4. 编译测试代码：mvn test-<span style="line-height:1.8;">compile 
</span>5<span style="line-height:1.8;">. 运行测试：mvn test 
</span>6<span style="line-height:1.8;">. 产生site：mvn site 
</span>7. 打包：mvn <span style="line-height:1.8;color:rgb(0,0,255);">package</span> 
8<span style="line-height:1.8;">. 在本地Repository中安装jar：mvn install 
</span>9<span style="line-height:1.8;">. 清除产生的项目：mvn clean 
</span>10<span style="line-height:1.8;">. 生成eclipse项目：mvn eclipse:eclipse 
</span>11<span style="line-height:1.8;">. 生成idea项目：mvn idea:idea 
</span>12. 组合使用goal命令，如只打包不测试：mvn -Dtest <span style="line-height:1.8;color:rgb(0,0,255);">package</span> 
13. 编译测试的内容：mvn test-<span style="line-height:1.8;">compile 
</span>14<span style="line-height:1.8;">. 只打jar包: mvn jar:jar 
</span>15. 只测试而不编译，也不测试编译：mvn test -skipping compile -skipping test-<span style="line-height:1.8;">compile 
( </span>-<span style="line-height:1.8;">skipping 的灵活运用，当然也可以用于其他组合命令) 
</span>16. 清除eclipse的一些系统设置:mvn eclipse:clean</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;本文转自Orson博客园博客，原文链接：http://www.cnblogs.com/java-class/p/6961274.html，如需转载请自行联系原作者</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
