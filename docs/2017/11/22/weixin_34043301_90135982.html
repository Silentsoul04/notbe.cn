<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Dubbo与Zookeeper、SpringMVC整合和利用（负载均衡、容错） « NotBeCN</title>
  <meta name="description" content="             &nbsp; 互联网发展，扩大了网站应用程序的大小。传统的垂直应用架构已经无法应付。分布式服务架构和流量计算架构势在必行，Dubbo是一个分布式服务框架。在这样的情况下诞生的。如今核心业务抽取出来。作为独立的服务，使前端应用能更高速和稳定的响应。            第一：介绍Dubb...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/22/weixin_34043301_90135982.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Dubbo与Zookeeper、SpringMVC整合和利用（负载均衡、容错）</h1>
    <p class="post-meta">Nov 22, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; 互联网发展，扩大了网站应用程序的大小。传统的垂直应用架构已经无法应付。分布式服务架构和流量计算架构势在必行，<span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">是一个分布式服务框架。在这样的情况下诞生的。</span></span><span style="line-height:1.8;font-size:18px;">如今核心业务抽取出来。作为独立的服务，使前端应用能更高速和稳定的响应。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;font-size:24px;">第一：介绍Dubbo背景</span></strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081432989?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">大规模服务化之前，应用可能仅仅是通过<span style="line-height:1.8;font-family:Calibri;">RMI</span><span style="line-height:1.8;font-family:'宋体';">或</span><span style="line-height:1.8;font-family:Calibri;">Hessian</span><span style="line-height:1.8;font-family:'宋体';">等工具，简单的暴露和引用远程服务，通过配置服务的</span><span style="line-height:1.8;font-family:Calibri;">URL</span><span style="line-height:1.8;font-family:'宋体';">地址进行调用，通过</span><span style="line-height:1.8;font-family:Calibri;">F5</span><span style="line-height:1.8;font-family:'宋体';">等硬件进行负载均衡。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><strong>(1)&nbsp;<span style="line-height:1.8;font-family:'宋体';">当服务越来越多时，服务</span><span style="line-height:1.8;font-family:Calibri;">URL</span><span style="line-height:1.8;font-family:'宋体';">配置管理变得很困难，</span><span style="line-height:1.8;font-family:Calibri;">F5</span><span style="line-height:1.8;font-family:'宋体';">硬件负载均衡器的单点压力也越来越大。</span></strong></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">此时须要一个服务注冊中心。动态的注冊和发现服务。使服务的位置透明。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">并通过在消费方获取服务提供方地址列表，实现软负载均衡和<span style="line-height:1.8;font-family:Calibri;">Failover</span><span style="line-height:1.8;font-family:'宋体';">，降低对</span><span style="line-height:1.8;font-family:Calibri;">F5</span><span style="line-height:1.8;font-family:'宋体';">硬件负载均衡器的依赖，也能降低部分成本。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><strong>(2)&nbsp;<span style="line-height:1.8;font-family:'宋体';">当进一步发展，服务间依赖关系变得错踪复杂，甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描写叙述应用的架构关系。</span></strong></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">这时，须要自己主动画出应用间的依赖关系图，以帮助架构师理清理关系。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><strong>(3)&nbsp;<span style="line-height:1.8;font-family:'宋体';">接着，服务的调用量越来越大，服务的容量问题就暴露出来。这个服务须要多少机器支撑？什么时候该加机器？</span></strong></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">为了解决这些问题。第一步。要将服务如今每天的调用量，响应时间。都统计出来。作为容量规划的參考指标。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">其次。要能够动态调整权重，在线上，将某台机器的权重一直加大。并在加大的过程中记录响应时间的变化，直到响应时间到达阀值，记录此时的訪问量。再以此訪问量乘以机器数反推总容量。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;font-size:24px;">第二：Dubbo的简单介绍</span></strong><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">Dubbo<span style="line-height:1.8;font-family:'宋体';">是一个分布式服务框架</span><span style="line-height:1.8;font-family:Calibri;">,</span><span style="line-height:1.8;font-family:'宋体';">攻克了上面的所面对的问题。</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">的架构如图所看到的：</span></span></p> 
   <img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081506984?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">节点角色说明：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">Provider:&nbsp;<span style="line-height:1.8;font-family:'宋体';">暴露服务的服务提供方。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">Consumer:&nbsp;<span style="line-height:1.8;font-family:'宋体';">调用远程服务的服务消费方。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">Registry:&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务注冊与发现的注冊中心。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">Monitor:&nbsp;<span style="line-height:1.8;font-family:'宋体';">统计服务的调用次调和调用时间的监控中心。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">Container:&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务执行容器。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">调用关系说明：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">0.&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务容器负责启动，载入，执行服务提供者。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">1.&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务提供者在启动时，向注冊中心注冊自己提供的服务。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">2.&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务消费者在启动时。向注冊中心订阅自己所需的服务。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">3.&nbsp;<span style="line-height:1.8;font-family:'宋体';">注冊中心返回服务提供者地址列表给消费者，假设有变更。注冊中心将基于长连接推送变更数据给消费者。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">4.&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，假设调用失败。再选还有一台调用。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">5.&nbsp;<span style="line-height:1.8;font-family:'宋体';">服务消费者和提供者，在内存中累计调用次数和调用时间。定时每分钟发送一次统计数据到监控中心。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;Dubbo<span style="line-height:1.8;font-family:'宋体';">提供了非常多协议，</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">协</span>议、RMI<span style="line-height:1.8;font-family:'宋体';">协议</span>、<span style="line-height:1.8;font-family:Calibri;">Hessian</span><span style="line-height:1.8;font-family:'宋体';">协议，</span>我们查看<span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">源码，有各种协议的实现，如图所看到的：</span></span></p> 
   <img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081521515?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">我们之前没用<span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">之前时，大部分都使用</span>Hessian来使用我们服务的暴露和调用，利用<span style="line-height:1.8;font-family:Calibri;">HessianProxyFactory</span><span style="line-height:1.8;font-family:'宋体';">调用远程接口。</span></span></p> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';">上面是參考了</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">官方网介绍，接下来我们来介绍</span><span style="line-height:1.8;font-family:Calibri;">SpringMVC</span><span style="line-height:1.8;font-family:'宋体';">、</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">、</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span><span style="line-height:1.8;font-family:'宋体';">整合使用。</span><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';"><br></span></p> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;font-weight:bold;"><span style="line-height:1.8;font-size:24px;">第三：Dubbo与<span style="line-height:1.8;font-family:Calibri;">Zookeeper、SpringMVC</span><span style="line-height:1.8;font-family:'宋体';">整合使用</span></span></span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;<strong>第一步：在<span style="line-height:1.8;font-family:Calibri;">Linux</span><span style="line-height:1.8;font-family:'宋体';">上安装</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span></strong></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp; &nbsp;<span style="line-height:1.8;font-size:18px;">Zookeeper<span style="line-height:1.8;font-family:'宋体';">作为</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">服务的注冊中心，</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">原先基于数据库的注冊中心，没採用</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span><span style="line-height:1.8;font-family:'宋体';">。</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span><span style="line-height:1.8;font-family:'宋体';">一个分布式的服务框架。是树型的文件夹服务</span>的数据存储，能做到集群管理数据&nbsp;，这里能非常好的作为<span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">服务的注冊中心，</span><span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">能与</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span><span style="line-height:1.8;font-family:'宋体';">做到集群部署，当提供者出现断电等异常停机时，</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span><span style="line-height:1.8;font-family:'宋体';">注冊中心能自己主动删除提供者信息，当提供者重新启动时，能自己主动恢复注冊数据，以及订阅请求。我们先在</span><span style="line-height:1.8;font-family:Calibri;">linux</span><span style="line-height:1.8;font-family:'宋体';">上安装</span><span style="line-height:1.8;font-family:Calibri;">Zookeeper</span><span style="line-height:1.8;font-family:'宋体';">，我们安装最简单的单点，集群比較麻烦。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; （1）下载<span style="line-height:1.8;font-family:Calibri;">Zookeeper-3.4.6.tar.gz&nbsp;&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">地址</span><a href="http://www.apache.org/dist/zookeeper/" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">http://www.apache.org/dist/zookeeper/</a></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; （2） 我们放到<span style="line-height:1.8;font-family:Calibri;">Linux</span><span style="line-height:1.8;font-family:'宋体';">下的一个目录。然后解压：</span><span style="line-height:1.8;font-family:'宋体';">&nbsp;</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp; #tar&nbsp;zxvf&nbsp;zookeeper-3.4.6.tar.gz</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';">&nbsp; （3）</span><span style="line-height:1.8;font-family:'宋体';">然后在相应的</span>zookeeper-3.4.6/conf&nbsp;<span style="line-height:1.8;font-family:'宋体';">下有一个文件</span>zoo_sample.cfg<span style="line-height:1.8;font-family:'宋体';">的这个文件中面配置了监听client连接的port等一些信息。</span><span style="line-height:1.8;font-family:'宋体';">Zookeeper&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">在启动时会找</span><span style="line-height:1.8;font-family:'宋体';">zoo.cfg这个文件作为默认配置文件,</span><span style="line-height:1.8;font-family:'宋体';">所以我们复制一个名称为</span>zoo.cfg<span style="line-height:1.8;font-family:'宋体';">的文件。如图所看到的：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">&nbsp; &nbsp; &nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081515468?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp;我们查看一下这个文件的里面的一些配置信息。如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081527231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">说明：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;clientPort<span style="line-height:1.8;font-family:'宋体';">：监听客户端连接的port。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;tickTime<span style="line-height:1.8;font-family:'宋体';">：基本事件单元，以毫秒为单位。它用来控制心跳和超时，默认情况下最小的会话超时时间为两倍的</span><span style="line-height:1.8;font-family:Calibri;">&nbsp;tickTime</span><span style="line-height:1.8;font-family:'宋体';">。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';">&nbsp;<span style="line-height:1.8;color:rgb(255,0,0);">我们能够对配置文件的port等或者进行高级配置和集群配置比如：</span></span><span style="line-height:1.8;color:rgb(255,0,0);">maxClientCnxns</span><span style="line-height:1.8;color:rgb(255,0,0);">：限制连接到</span><span style="line-height:1.8;color:rgb(255,0,0);font-family:Calibri;">&nbsp;ZooKeeper&nbsp;</span><span style="line-height:1.8;color:rgb(255,0,0);">的client的数量等</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;(4)启动Zookeeper&nbsp;的服务，如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081600156?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;到这边Zookeeper的安装和配置完毕</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:24px;">&nbsp;&nbsp;<strong>第二步：配置d<span style="line-height:1.8;font-family:Calibri;">ubbo-admin</span>的管理页面，方便我们管理页面</strong></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; (1)下载<span style="line-height:1.8;font-family:Calibri;">dubbo-admin-2.4.1.war</span>包。在<span style="line-height:1.8;font-family:Calibri;">Linux</span>的<span style="line-height:1.8;font-family:Calibri;">tomcat</span>部署，先把<span style="line-height:1.8;font-family:Calibri;">dubbo-admin-2.4.1</span>放在<span style="line-height:1.8;font-family:Calibri;">tomcat</span>的<span style="line-height:1.8;font-family:Calibri;">webapps/ROOT</span>下。然后进行解压：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp; &nbsp; #jar&nbsp;-xvf&nbsp;dubbo-admin-2.4.1.war</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; (2)然后到<span style="line-height:1.8;font-family:Calibri;">webapps/ROOT/WEB-INF</span>下，有一个<span style="line-height:1.8;font-family:Calibri;">dubbo.properties</span>文件。里面指向Zookeeper&nbsp;，使用的是Zookeeper&nbsp;的注冊中心。如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081552940?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;(3)然后启动<span style="line-height:1.8;font-family:Calibri;">tomcat</span>服务，username和password：<span style="line-height:1.8;font-family:Calibri;">root,并訪问服务，显示登陆页面。说明dubbo-admin部署成功。</span>如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081605560?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:24px;">&nbsp;</span><strong>&nbsp;<span style="line-height:1.8;font-size:18px;">第三步：SpringMVC与<span style="line-height:1.8;font-family:Calibri;">Dubbo</span>的整合。这边使用的<span style="line-height:1.8;font-family:Calibri;">Maven</span>的管理项目</span></strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>&nbsp;<span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp; 第一：</span></strong><span style="line-height:1.8;font-size:18px;">我们先开发服务注冊的，就是提供服务，项目结构如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081622190?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp;&nbsp;<span style="line-height:1.8;font-size:18px;">（1）test-maven-api项目增加了一个服务接口。代码例如以下：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <pre><code class="language-java">public interface TestRegistryService {
   public String hello(String name);
}</code></pre> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">&nbsp; （2）test-maven-console在pom<span style="line-height:1.8;font-family:Calibri;">.xml</span>增加<span style="line-height:1.8;font-family:Calibri;">Dubbo</span>和Zookeeper的<span style="line-height:1.8;font-family:Calibri;">jar</span>包、引用<span style="line-height:1.8;font-family:Calibri;">test-maven-api</span>的<span style="line-height:1.8;font-family:Calibri;">jar</span>包，代码例如以下：</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;</p> 
   <pre><code class="language-java">      &lt;dependency&gt;
  		&lt;groupId&gt;cn.test&lt;/groupId&gt;
  		&lt;artifactId&gt;test-maven-api&lt;/artifactId&gt;
  		&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
  	&lt;/dependency&gt;
  
      &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
            &lt;version&gt;2.5.3&lt;/version&gt;
        &lt;/dependency&gt;
        
         &lt;dependency&gt;
            &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;
			&lt;artifactId&gt;zookeeper&lt;/artifactId&gt;
			&lt;version&gt;3.4.6&lt;/version&gt;
        &lt;/dependency&gt;
  
      &lt;dependency&gt;
     	 &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt;
		 &lt;artifactId&gt;zkclient&lt;/artifactId&gt;
		 &lt;version&gt;0.1&lt;/version&gt;
      &lt;/dependency&gt;</code></pre> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">(3)test-maven-console实现详细的服务，代码例如以下：</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <pre><code class="language-java">  @Service("testRegistryService")
public class TestRegistryServiceImpl implements TestRegistryService {
	public String hello(String name) {	
		return "hello"+name;
	}
}</code></pre> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><br> (4)我们服务以及实现好了，这时要暴露服务，代码例如以下：<br> &nbsp;&nbsp;</span>
   <pre><code class="language-java">&lt;?
</code></pre> 
   <p></p> 
   <p>xml version="1.0" encoding="UTF-8"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx" &lt;span style="color:#cc0000;"&gt;xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"&lt;/span&gt; xmlns:context="http://www.springframework.org/schema/context" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd &lt;span style="color:#990000;"&gt;http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&lt;/span&gt; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd" default-lazy-init="false" &gt; &lt;!-- 提供方应用名称信息，这个相当于起一个名字。我们dubbo管理页面比較清晰是哪个应用暴露出来的 --&gt; &lt;dubbo:application name="dubbo_provider"&gt;&lt;/dubbo:application&gt; &lt;!-- 使用zookeeper注冊中心暴露服务地址 --&gt; &lt;dubbo:registry address="zookeeper://127.0.0.1:2181" check="false" subscribe="false" register=""&gt;&lt;/dubbo:registry&gt; &lt;!-- 要暴露的服务接口 --&gt; &lt;dubbo:service interface="cn.test.dubbo.registry.service.TestRegistryService" ref="testRegistryService" /&gt; &lt;/beans&gt;</p> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">说明：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;dubbo:registry&nbsp;<span style="line-height:1.8;font-family:'宋体';">标签一些属性的说明：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">1</span><span style="line-height:1.8;font-family:'宋体';">）</span>register<span style="line-height:1.8;font-family:'宋体';">是否向此注冊中心注冊服务，假设设为</span><span style="line-height:1.8;font-family:Calibri;">false</span><span style="line-height:1.8;font-family:'宋体';">。将仅仅订阅，不注冊</span>。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">2</span><span style="line-height:1.8;font-family:'宋体';">）</span><span style="line-height:1.8;font-family:Calibri;">check</span>注冊中心不存在时，是否报错。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">3</span><span style="line-height:1.8;font-family:'宋体';">）</span>subscribe<span style="line-height:1.8;font-family:'宋体';">是否向此注冊中心订阅服务。假设设为</span><span style="line-height:1.8;font-family:Calibri;">false</span><span style="line-height:1.8;font-family:'宋体';">，将仅仅注冊。不订阅</span>。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">4</span><span style="line-height:1.8;font-family:'宋体';">）</span>timeout<span style="line-height:1.8;font-family:'宋体';">注冊中心请求超时时间</span><span style="line-height:1.8;font-family:Calibri;">(</span><span style="line-height:1.8;font-family:'宋体';">毫秒</span><span style="line-height:1.8;font-family:Calibri;">)</span>。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;&nbsp;<span style="line-height:1.8;color:rgb(153,51,0);"><span style="line-height:1.8;font-family:Calibri;">5</span><span style="line-height:1.8;font-family:'宋体';">）</span><span style="line-height:1.8;font-family:Calibri;">address</span><span style="line-height:1.8;font-family:'宋体';">能够</span>Zookeeper<span style="line-height:1.8;font-family:'宋体';">集群配置</span>，地址能够多个以逗号隔开等。</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; dubbo:service<span style="line-height:1.8;font-family:'宋体';">标签的一些属性说明：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">1</span><span style="line-height:1.8;font-family:'宋体';">）</span>interface服务接口的路径</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;<span style="line-height:1.8;font-family:Calibri;">2</span><span style="line-height:1.8;font-family:'宋体';">）</span>ref引用相应的实现类的<span style="line-height:1.8;font-family:Calibri;">Bean</span><span style="line-height:1.8;font-family:'宋体';">的</span><span style="line-height:1.8;font-family:Calibri;">ID</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;<span style="line-height:1.8;color:rgb(204,0,0);"><span style="line-height:1.8;font-family:Calibri;">3</span><span style="line-height:1.8;font-family:'宋体';">）</span>registry向指定注冊中心注冊，在多个注冊中心时使用，值为<span style="line-height:1.8;font-family:Calibri;">&lt;dubbo:registry&gt;</span><span style="line-height:1.8;font-family:'宋体';">的</span><span style="line-height:1.8;font-family:Calibri;">id</span><span style="line-height:1.8;font-family:'宋体';">属性。多个注冊中心</span><span style="line-height:1.8;font-family:Calibri;">ID</span><span style="line-height:1.8;font-family:'宋体';">用逗号分隔，假设不想将该服务注冊到不论什么</span><span style="line-height:1.8;font-family:Calibri;">registry</span><span style="line-height:1.8;font-family:'宋体';">。可将值设为</span><span style="line-height:1.8;font-family:Calibri;">N/A</span></span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp; &nbsp;<span style="line-height:1.8;font-family:Calibri;">4</span><span style="line-height:1.8;font-family:'宋体';">）</span>register&nbsp;默认true&nbsp;，该协议的服务是否注冊到注冊中心。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; (5)启动项目。然后我们在<span style="line-height:1.8;font-family:Calibri;">Dubbo</span><span style="line-height:1.8;font-family:'宋体';">管理页面上显示，已经暴露的服务，但显示还没有消费者，由于我们还没实现消费者服务，如图所看到的：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><span style="line-height:1.8;font-family:'宋体';">&nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081644014?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp;第二：我们在开发服务消费者。就是调用服务，我们在新建一个新的消费者项目结构如图所看到的：</span><br><br> &nbsp; &nbsp; &nbsp; &nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081659536?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp;（1）test-maven-server-console的<span style="line-height:1.8;font-family:Calibri;">pom.xml</span>引入<span style="line-height:1.8;font-family:Calibri;">Dubbo</span>和Zookeeper的<span style="line-height:1.8;font-family:Calibri;">jar</span>包、<span style="line-height:1.8;font-family:Calibri;">test-maven-api</span>的<span style="line-height:1.8;font-family:Calibri;">jar</span>包，由于引入<span style="line-height:1.8;font-family:Calibri;">test-maven-api</span>的<span style="line-height:1.8;font-family:Calibri;">jar</span>包，我们在项目中调用像在本地调用一样。代码例如以下：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp;&nbsp;</p> 
   <pre><code class="language-java">      &lt;dependency&gt;
  		&lt;groupId&gt;cn.test&lt;/groupId&gt;
  		&lt;artifactId&gt;test-maven-api&lt;/artifactId&gt;
  		&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
  	&lt;/dependency&gt;
  
      &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
            &lt;version&gt;2.5.3&lt;/version&gt;
        &lt;/dependency&gt;
        
         &lt;dependency&gt;
            &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;
			&lt;artifactId&gt;zookeeper&lt;/artifactId&gt;
			&lt;version&gt;3.4.6&lt;/version&gt;
        &lt;/dependency&gt;
  
      &lt;dependency&gt;
     	 &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt;
		 &lt;artifactId&gt;zkclient&lt;/artifactId&gt;
		 &lt;version&gt;0.1&lt;/version&gt;
      &lt;/dependency&gt;
  </code></pre> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;</span>
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;">（2）test-maven-server-console项目的详细实现，代码例如以下：</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp;</span>
   <pre><code class="language-java">@Controller
public class IndexController {
	
	@Autowired
	private TestRegistryService testRegistryService;
	
	@RequestMapping("/hello")
	public String index(Model model){
	     String name=testRegistryService.hello("zz");
	     System.out.println("xx=="+name);
		return "";
	}

}</code></pre> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:18px;"><br> &nbsp; (3)我们要引用的地址，代码例如以下：</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp;</span>
   <pre><code class="language-java">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
 	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 	xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:tx="http://www.springframework.org/schema/tx"
	&lt;span style="background-color: rgb(255, 255, 255);"&gt;&lt;span style="color:#990000;"&gt;xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"&lt;/span&gt;&lt;/span&gt;
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
	http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
	http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd
	&lt;span style="color:#990000;"&gt;http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&lt;/span&gt;
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd"
	default-lazy-init="false" &gt;

   &lt;dubbo:application name="dubbo_consumer"&gt;&lt;/dubbo:application&gt;
   &lt;!-- 使用zookeeper注冊中心暴露服务地址 --&gt;  
   &lt;dubbo:registry address="zookeeper://192.168.74.129:2181" check="false"&gt;&lt;/dubbo:registry&gt; 
     &lt;!-- 要引用的服务 --&gt;  
   &lt;dubbo:reference interface="cn.test.dubbo.registry.service.TestRegistryService" id="testRegistryService"&gt;&lt;/dubbo:reference&gt;
&lt;/beans&gt;</code></pre> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">说明：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;dubbo:reference&nbsp;<span style="line-height:1.8;font-family:'宋体';">的一些属性的说明：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">1</span><span style="line-height:1.8;font-family:'宋体';">）</span>interface调用的服务接口</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">2</span><span style="line-height:1.8;font-family:'宋体';">）</span>check&nbsp;启动时检查提供者是否存在。<span style="line-height:1.8;font-family:Calibri;">true</span><span style="line-height:1.8;font-family:'宋体';">报错，</span><span style="line-height:1.8;font-family:Calibri;">false</span><span style="line-height:1.8;font-family:'宋体';">忽略</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;color:rgb(102,0,0);">&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">3</span><span style="line-height:1.8;font-family:'宋体';">）</span>registry&nbsp;<span style="line-height:1.8;font-family:'宋体';">从指定注冊中心注冊获取服务列表，在多个注冊中心时使用，值为</span><span style="line-height:1.8;font-family:Calibri;">&lt;dubbo:registry&gt;</span><span style="line-height:1.8;font-family:'宋体';">的</span><span style="line-height:1.8;font-family:Calibri;">id</span><span style="line-height:1.8;font-family:'宋体';">属性。多个注冊中心</span><span style="line-height:1.8;font-family:Calibri;">ID</span><span style="line-height:1.8;font-family:'宋体';">用逗号分隔</span></span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp;<span style="line-height:1.8;color:rgb(153,0,0);">&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;font-family:Calibri;">4</span><span style="line-height:1.8;font-family:'宋体';">）</span>loadbalance&nbsp;负载均衡策略，可选值：<span style="line-height:1.8;font-family:Calibri;">random,roundrobin,leastactive</span><span style="line-height:1.8;font-family:'宋体';">，分别表示：随机，轮循，最少活跃调用</span></span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">&nbsp; &nbsp;</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">(4)项目启动。<span style="line-height:1.8;font-family:Calibri;">Dubbo</span>管理页面。能看到消费者，如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081750156?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">(5)然后訪问消费者项目，<span style="line-height:1.8;font-family:Calibri;">Controller</span>层能像调用本地一样调用服务的详细实现，如图所看到的：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;<img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081749612?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">Dubbo<span style="line-height:1.8;font-family:'宋体';">提供了多种容错方案,包含负载均衡这些。如图所看到的：</span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">&nbsp;</span></p> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span>
   <img src="https://uzshare.com/_p?https://img-blog.csdn.net/20141114081802935?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" style="border:0px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;"><br></span></p> 
   <div> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;">版权声明：本文博客原创文章，博客，未经同意，不得转载。</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p><font color="#333333"><span style="font-size:12px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/4631067.html，如需转载请自行联系原作者</span></font></p> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
