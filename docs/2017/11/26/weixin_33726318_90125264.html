<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C#制作WinForm控件 « NotBeCN</title>
  <meta name="description" content="                                  C#制作WinForm控件              转：     http://www.cnblogs.com/salonliudong/archive/2007/04/29/732524.html          &nbsp;     自定...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/26/weixin_33726318_90125264.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">C#制作WinForm控件</h1>
    <p class="post-meta">Nov 26, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div>
    <br>
   </div> 
   <div> 
    <div class="postTitle" style="font-weight:bold;border-bottom:1px solid rgb(215,219,223);line-height:30px;clear:both;background:rgb(255,255,255) url(&quot;/skins/newyear2009/images/bg_title.jpg&quot;);text-indent:15px;font-size:15px;font-family:Verdana, Arial, Helvetica, sans-serif;">
     <a id="ctl04_TitleUrl" class="postTitle2" href="http://www.cnblogs.com/Dragon-China/archive/2007/12/17/1001386.html" rel="nofollow" style="color:rgb(142,26,16);"><font color="#4371a6">C#制作WinForm控件</font></a>
    </div> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">
     转：
     <font>http://www.cnblogs.com/salonliudong/archive/2007/04/29/732524.html</font> 
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <p align="center" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>自定义控件基础知识</strong></p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;">一、概述</h6> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">Windows 窗体控件是可再次使用的组件，它们封装了用户界面功能，并且可以用于客户端 Windows 应用程序。“Windows 窗体”不仅提供了许多现成控件，还提供了自行开发控件的基础结构。可以组合现有控件、扩展现有控件或创作自己的自定义控件。Windows 窗体控件是从&nbsp;<a href="http://msdn.microsoft.com/library/CHS/cpref/html/frlrfSystemWindowsFormsControlClassTopic.asp" rel="nofollow" style="color:rgb(142,26,16);"><font color="#4371a6">System.Windows.Forms.Control<img alt="" src="http://i.ixnp.com/images/v3.7/t.gif" style="border:0px;background-image:url(&quot;http://i.ixnp.com/images/v3.7/theme/ice/palette.gif&quot;);line-height:normal;width:14px;background-repeat:no-repeat;font-family:'trebuchet ms', arial, helvetica, sans-serif;background-position:-787px 0px;vertical-align:top;text-decoration:none;"></font></a>&nbsp;直接或间接派生的类。以下列表描述了开发 Windows 窗体控件的常见方案：</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">·&nbsp;组合现有控件来创作一个复合控件。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">复合控件封装有一个可以作为控件重复使用的用户界面。可视化设计器为创建复合控件提供了有力的支持。要创作一个派生自&nbsp;<a href="http://msdn.microsoft.com/library/CHS/cpref/html/frlrfSystemWindowsFormsUserControlClassTopic.asp" rel="nofollow" style="color:rgb(142,26,16);"><font color="#4371a6">System.Windows.Forms.UserControl<img alt="" src="http://i.ixnp.com/images/v3.7/t.gif" style="border:0px;background-image:url(&quot;http://i.ixnp.com/images/v3.7/theme/ice/palette.gif&quot;);line-height:normal;width:14px;background-repeat:no-repeat;font-family:'trebuchet ms', arial, helvetica, sans-serif;background-position:-787px 0px;vertical-align:top;text-decoration:none;"></font></a>&nbsp;的复合控件。基类 UserControl 为子控件提供了键盘路由并使子控件可以作为一个组进行工作。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">·&nbsp;扩展现有控件，对其进行自定义或为其添加功能。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">可以通过从任何 Windows 窗体控件派生控件并重写或添加属性、方法和事件的方式来自定义 Windows 窗体控件。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">·&nbsp;创作一个不是通过组合或扩展现有控件而形成的控件。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在这种方案中，需从基类&nbsp;<a href="http://msdn.microsoft.com/library/CHS/cpref/html/frlrfSystemWindowsFormsControlClassTopic.asp" rel="nofollow" style="color:rgb(142,26,16);"><font color="#4371a6">System.Windows.Forms.Control<img alt="" src="http://i.ixnp.com/images/v3.7/t.gif" style="border:0px;background-image:url(&quot;http://i.ixnp.com/images/v3.7/theme/ice/palette.gif&quot;);line-height:normal;width:14px;background-repeat:no-repeat;font-family:'trebuchet ms', arial, helvetica, sans-serif;background-position:-787px 0px;vertical-align:top;text-decoration:none;"></font></a>&nbsp;派生控件。可以添加和重写基类的属性、方法和事件，来制作功能强大，能满足自己需求的控件。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">Windows 窗体控件的基类 System.Windows.Forms.Control 为客户端 Windows 应用程序中的外观显示提供了所需的途径。Control 提供了一个窗口句柄，用来处理消息路由并提供鼠标和键盘事件及许多其他用户界面事件。还提供了高级布局，并具有用于外观显示的特定属性，如 ForeColor、BackColor、Height、Width 和许多其他属性。此外，它还提供了安全性、线程支持以及与 ActiveX 控件的交互性。由于基类提供了很多基础结构，使得开发自己的 Windows 窗体控件变得相对简单。</p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;"><a name="Introduction">二、编写简单的自定义控件</a></h6> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;"> <a name="Getting_Started">2.1</a>、简单控件例子</h6> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面的示例创建一个简单控件，该控件通过处理 Paint 事件显示其 Text 属性的值。为了创建此控件和处理事件，必须创建一个从 Control 继承的类，并创建一个重写 OnPaint&nbsp;方法的方法。<br></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
     <span style="color:rgb(0,0,255);">public</span>&nbsp;
     <span style="color:rgb(0,0,255);">class</span>&nbsp;HelloWorldControl&nbsp;:&nbsp;Control
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"><span style="color:rgb(0,0,255);">protected</span>&nbsp;<span style="color:rgb(0,0,255);">override</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;OnPaint(PaintEventArgs&nbsp;e)<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RectangleF&nbsp;rect&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;RectangleF(ClientRectangle.X,<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClientRectangle.Y,<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClientRectangle.Width,<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClientRectangle.Height);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.Graphics.DrawString(<span style="color:rgb(0,0,255);">this</span>.Text,&nbsp;Font,&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;SolidBrush(ForeColor),&nbsp;rect);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;">2.2、我们在VS2005中创建自定义控件的步骤：</h6> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">1.&nbsp;打开vs2005，文件/新建/项目。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">2.&nbsp;出现“新建项目”对话框。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">3.&nbsp;在“名称”框中，键入项目名称，“位置”框选择要存储的位置。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">4.&nbsp;从“语言”列表中选择要使用的编程语言。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">5.&nbsp;单击“添加”，这时一个自定义控件工程已经建成，生成一下，就制作了一个简单的自定义控件，只不过没有任何功能。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">6.&nbsp;向新用户控件添加任何标记和控件，并为该用户控件添加执行的所有任务（例如，处理控件事件或从数据源读取数据）添加代码。</p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;">2.3、检查控件的设计时行为</h6> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">1. 启动 VS2005。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">2. 通过从“文件”菜单单击/新建/项目/Windows应用程序，添加新窗体。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">3. 右键“工具箱/选择项…”，在弹出的“选择工具箱项”对话框中点下面的浏览按钮选择要使用控件的 DLL；确定后，该控件出现在工具箱的底部。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">4. 选择该控件并将其添加到窗体中。将看到该控件出现在窗体上。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">5. 如果从上一个示例添加控件，您将注意到即使如此简单的控件都具有一整套属性和广泛的设计时行为。此默认行为是从 Control 类继承的。</p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;">三、为控件添加属性</h6> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">控件应该定义属性而不是公共字段，因为可视化设计器在属性浏览器中显示属性，而不显示字段。属性就像智能字段。属性通常具有带访问函数的专用数据成员，在语法上属性被作为类的字段进行访问。（虽然属性可以具有不同的访问级别，但此处的讨论将重点放在公共访问这种更加常见的情况上。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">属性定义通常由以下两部分组成：&nbsp;<br> 1、专用数据成员的定义。<br> &nbsp;&nbsp; private int number = 0;</p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">2、使用属性声明语法对公共属性进行的定义。<br> 该语法通过 get 和 set 访问函数将专用数据成员和公共属性关联起来。<br></p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">public</span>&nbsp;
     <span style="color:rgb(0,0,255);">int</span>&nbsp;MyNumber&nbsp;
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">get</span>&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">return</span>&nbsp;number;&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;&nbsp;&nbsp;&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">set</span>&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;=&nbsp;value;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">value 这个术语是属性定义语法中的一个关键字。在呼叫代码中，将变量 value 分配给属性。value 的类型必须同它被分配到的属性的声明类型相同。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">虽然属性定义中通常包含专用数据成员，但这不是必需的。get 访问器不用访问私有数据成员就可以返回值。get 方法返回系统时间的属性就属于这种情况。属性启用数据隐藏，访问器方法隐藏属性的实现。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">定义属性时需考虑以下重要的注意事项：</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">1、&nbsp;&nbsp; 必须将属性应用于定义的属性。属性用来指定设计器显示属性的方式。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">2、&nbsp;&nbsp; 如果改变属性将影响控件的外观显示，请从 set 访问器中调用 Invalidate 方法（从 Control 继承该方法）。Invalidate 随后调用 OnPaint 方法，该方法将重新绘制控件。为提高效率起见，对 Invalidate 的多次调用将产生对 OnPaint 的一次调用。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">3、&nbsp;&nbsp; .NET Framework 类库为常见数据类型（如整数、小数、布尔值和其他数据）提供了类型转换器。类型转换器的目的通常是用来提供字符串到数值的转换（从字符串数据转换为其他数据类型）。常见数据类型与默认类型转换器（将数值转换为字符串，并将字符串转换为相应数据类型）相关联。如果定义了自定义（即，非标准）数据类型的属性，则应用的属性必须将类型转换器指定为与该属性相关联。还可以使用属性使自定义 UI 类型编辑器与某个属性相关联。UI 类型编辑器提供了一个用来编辑属性或数据类型的用户界面。颜色选择器是 UI 类型编辑器的一个示例。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">例：首先创建一个名为 DrawingMode&nbsp;的简单枚举。<br></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">public</span>&nbsp;
     <span style="color:rgb(0,0,255);">enum</span>&nbsp;DrawingMode
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Happy&nbsp;=&nbsp;0,<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sad&nbsp;=&nbsp;1,<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Angry&nbsp;=&nbsp;2<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="font-family:'宋体';">接着，向该控件添加 MyDrawingMode 属性。<br></span></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">private</span>&nbsp;DrawingMode&nbsp;myDrawingMode;
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Browsable(
     <span style="color:rgb(0,0,255);">true</span>),&nbsp;Category("Appearance")]
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">public</span>&nbsp;DrawingMode&nbsp;MyDrawingMode
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">get</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">return</span>&nbsp;myDrawingMode;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">set</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myDrawingMode&nbsp;=&nbsp;value;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetColors();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">对&nbsp;SetColors 方法的调用只是根据 myDrawingMode 的值设置控件的 BackColor 和 ForeColor。向控件添加下面的代码。<br></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">private</span>&nbsp;
     <span style="color:rgb(0,0,255);">void</span>&nbsp;SetColors()
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">switch</span>&nbsp;(myDrawingMode)<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">case</span>&nbsp;DrawingMode.Happy:<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.BackColor&nbsp;=&nbsp;Color.Yellow;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.ForeColor&nbsp;=&nbsp;Color.Green;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">break</span>;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">case</span>&nbsp;DrawingMode.Sad:<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.BackColor&nbsp;=&nbsp;Color.LightSlateGray;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.ForeColor&nbsp;=&nbsp;Color.White;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">break</span>;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">case</span>&nbsp;DrawingMode.Angry:<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.BackColor&nbsp;=&nbsp;Color.Red;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.ForeColor&nbsp;=&nbsp;Color.Teal;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">break</span>;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">default</span>:<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.BackColor&nbsp;=&nbsp;Color.Black;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.ForeColor&nbsp;=&nbsp;Color.White;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">break</span>;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="font-family:'宋体';">现在可以向控件的paint方法添加代码，来绘制控件的样式，也可以添加现有的控件来组合实现想要的功能（例子里面有）。<br></span></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">private</span>&nbsp;
     <span style="color:rgb(0,0,255);">void</span>&nbsp;UserControl1_Paint(
     <span style="color:rgb(0,0,255);">object</span>&nbsp;sender,&nbsp;PaintEventArgs&nbsp;e)
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Graphics&nbsp;curG&nbsp;=&nbsp;e.Graphics;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pen&nbsp;curPen&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;Pen(Color.Black);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rectangle&nbsp;curRect&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;Rectangle(0,&nbsp;0,&nbsp;Width&nbsp;-&nbsp;2,&nbsp;Height&nbsp;-&nbsp;3);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curG.DrawRectangle(curPen,&nbsp;curRect);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curG.DrawEllipse(curPen,&nbsp;curRect);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;">四、为控件添加添加事件</h6> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">事件（Event）</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">事件是对象发送的消息，以发信号通知操作的发生。操作可能是由用户交互（例如鼠标单击）引起的，也可能是由某些其他的程序逻辑触发的。引发事件的对象称为事件发送方。捕获事件并对其作出响应的对象叫做事件接收方。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在事件通信中，事件发送方类不知道哪个对象或方法将接收到（处理）它引发的事件。所需要的是在源和接收方之间存在一个媒介（或类似指针的机制）。.NET Framework 定义了一个特殊的类型（Delegate），该类型提供函数指针的功能。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">代理（delegate）</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">delegate是C#中的一种类型，它实际上是一个能够持有对某个方法的引用的类。与其它的类不同，delegate类能够拥有一个签名（signature），并且它只能持有与它的签名相匹配的方法的引用。这样，代理就等效于一个类型安全函数指针或一个回调。它允许你传递一个类A的方法m给另一个类B的对象，使得类B的对象能够调用这个方法m。但与函数指针相比，delegate有许多函数指针不具备的优点。首先，函数指针只能指向静态函数，而delegate既可以引用静态函数，又可以引用非静态成员函数。在引用非静态成员函数时，delegate不但保存了对此函数入口指针的引用，而且还保存了调用此函数的类实例的引用。其次，与函数指针相比，delegate是面向对象、类型安全、可靠的受控（managed）对象。也就是说，runtime能够保证delegate指向一个有效的方法，你无须担心delegate会指向无效地址或者越界地址。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">实现一个delegate是很简单的，通过以下3个步骤即可实现一个delegate：</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">1．&nbsp;声明一个delegate对象，它应当与你想要传递的方法具有相同的参数和返回值类型。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">2．&nbsp;创建delegate对象，并将你想要传递的函数作为参数传入。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">3．&nbsp;在要实现异步调用的地方，通过上一步创建的对象来调用方法。</p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面是一个简单的例子：<br></p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
     <span style="color:rgb(0,0,255);">public</span>&nbsp;
     <span style="color:rgb(0,0,255);">class</span>&nbsp;MyDelegateTest&nbsp;
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">
     <span>{&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;步骤1，声明delegate对象&nbsp;</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">delegate</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;MyDelegate(<span style="color:rgb(0,0,255);">string</span>&nbsp;name);&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;这是我们欲传递的方法，它与MyDelegate具有相同的参数和返回值类型&nbsp;</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">static</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;MyDelegateFunc(<span style="color:rgb(0,0,255);">string</span>&nbsp;name)&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine("Hello,&nbsp;{0}",&nbsp;name);&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">static</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;Main&nbsp;()&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;步骤2，创建delegate对象&nbsp;</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyDelegate&nbsp;md&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;MyDelegate(MyDelegateTest.MyDelegateFunc);&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;步骤3，调用delegate&nbsp;</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;md("sam1111");&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">事件处理</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">C#中的事件处理实际上是一种具有特殊签名的delegate，象下面这个样子：</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">public delegate void MyEventHandler(object sender, MyEventArgs e);</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">其中的两个参数，sender代表事件发送者，e是事件参数类。MyEventArgs类用来包含与事件相关的数据，所有的事件参数类都必须从System.EventArgs类派生。当然，如果你的事件不含特别的参数，那么可以直接用System.EventArgs类作为参数。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">结合delegate的实现，我们可以将自定义事件的实现归结为以下几步：</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">1：定义delegate对象类型，它有两个参数，第一个参数是事件发送者对象，第二个参数是事件参数类对象。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">2：定义事件参数类，此类应当从System.EventArgs类派生。如果事件不带参数，这一步可以省略。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">3：定义事件处理方法，它应当与delegate对象具有相同的参数和返回值类型。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">4：用event关键字定义事件对象，它同时也是一个delegate对象。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">5：用+=操作符添加事件到事件队列中（-=操作符能够将事件从队列中删除）。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">6：在需要触发事件的地方用调用delegate的方式写事件触发方法。一般来说，此方法应为protected访问限制，既不能以public方式调用，但可以被子类继承。名字是可以是OnEventName。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">7：在适当的地方调用事件触发方法触发事件。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面是一个例子，例子模仿容器和控件的模式，由控件触发一个事件，在容器中捕捉并且进行处理。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">事件的触发者：<br></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">
     <span><span style="color:rgb(128,128,128);">///</span>&nbsp;<span style="color:rgb(128,128,128);">&lt;summary&gt;</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span><span style="color:rgb(128,128,128);">///</span><span style="color:rgb(0,128,0);">&nbsp;事件的触发者<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;"></span><span style="color:rgb(128,128,128);">///</span>&nbsp;<span style="color:rgb(128,128,128);">&lt;/summary&gt;</span></span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
     <span style="color:rgb(0,0,255);">public</span>&nbsp;
     <span style="color:rgb(0,0,255);">class</span>&nbsp;Control
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">delegate</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;SomeHandler(<span style="color:rgb(0,0,255);">object</span>&nbsp;sender,&nbsp;System.EventArgs&nbsp;e);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">event</span>&nbsp;SomeHandler&nbsp;SomeEvent;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;Control()<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">这里使用的delegate必须与事件中声名的一致</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">this</span>.SomeEvent&nbsp;+=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;SomeHandler(<span style="color:rgb(0,0,255);">this</span>.ProcessSomeEvent);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;RaiseSomeEvent()<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EventArgs&nbsp;e&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;EventArgs();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.Write("Please&nbsp;input&nbsp;'a':");<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">string</span>&nbsp;s&nbsp;=&nbsp;Console.ReadLine();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">在用户输入一个小a的情况下触发事件，否则不触发</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">if</span>&nbsp;(s&nbsp;==&nbsp;"a")<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SomeEvent(<span style="color:rgb(0,0,255);">this</span>,&nbsp;e);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">事件的触发者自己对事件进行处理，这个方法的参数必须和代理中声名的一致</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">private</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;ProcessSomeEvent(<span style="color:rgb(0,0,255);">object</span>&nbsp;sender,&nbsp;EventArgs&nbsp;e)<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine("hello");<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;</p> 
    <p align="left" style="text-indent:15pt;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;background:#FFFFFF;"><span style="font-family:'宋体';">事件的接收者：<br></span></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">
     <span><span style="color:rgb(128,128,128);">///</span>&nbsp;<span style="color:rgb(128,128,128);">&lt;summary&gt;</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span><span style="color:rgb(128,128,128);">///</span><span style="color:rgb(0,128,0);">&nbsp;事件的接收和处理者<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;"></span><span style="color:rgb(128,128,128);">///</span>&nbsp;<span style="color:rgb(128,128,128);">&lt;/summary&gt;</span></span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
     <span style="color:rgb(0,0,255);">class</span>&nbsp;Container
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">private</span>&nbsp;Control&nbsp;ctrl&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;Control();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">　&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;Container()<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">这里使用的delegate必须与事件中声名的一致</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctrl.SomeEvent&nbsp;+=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;Control.SomeHandler(<span style="color:rgb(0,0,255);">this</span>.ResponseSomeEvent);<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctrl.RaiseSomeEvent();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">static</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;Main()<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container&nbsp;pane&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;Container();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.ReadLine();<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">这是事件的接受者对事件的响应</span><span style="color:rgb(0,128,0);"><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">private</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;ResponseSomeEvent(<span style="color:rgb(0,0,255);">object</span>&nbsp;sender,&nbsp;EventArgs&nbsp;e)<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine("Some&nbsp;event&nbsp;occur!");<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <p align="left" style="text-indent:15pt;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;background:#FFFFFF;">&nbsp;</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">程序运行的结果如下：</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">please input 'a':a</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">hello<br><br> Some event occur!<br> &nbsp;</p> 
    <h6 style="font-size:11px;font-family:Verdana, Arial, Helvetica, sans-serif;">五、其他属性设置</h6> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;&nbsp; 自定义控件工程建立， 控件设置，属性事件的添加完成以后，生成项目，控件就已经制作完成了，可以在测试工程中使用，这里还有许多设置属性，需要我们了解，比如(下图)我们自己制作的控件显示的图标总是一个齿轮。<br> &nbsp;&nbsp;<img alt="" src="https://images.cnblogs.com/cnblogs_com/salonliudong/mkjtb.jpg" width="149" height="39" style="border:0px;"><br><span style="font-family:'宋体';">&nbsp;&nbsp; 而我们看到的工具箱上的每个控件都有自己的图标，我们可以通过下面语句为自己制作的控件添加图标。<br><span style="font-family:Verdana;font-size:12pt;"></span></span></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">[ToolboxBitmap(@"D:"Program&nbsp;Files"qq"AirDLIcon"1381love.ico")]
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
     <span style="color:rgb(0,0,255);">public</span>&nbsp;partial&nbsp;
     <span style="color:rgb(0,0,255);">class</span>&nbsp;UserControl1&nbsp;:&nbsp;UserControl
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">
     <span>{………….}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> 即在控件类前面加上ToolboxBitmap属性，属性参数指向一个图片的地址就可以了，加上这句程序以后，生成的控件如下图，图标变成了一个漂亮的心。<br> &nbsp;&nbsp;<img alt="" src="https://images.cnblogs.com/cnblogs_com/salonliudong/ckjtb.jpg" width="136" height="39" style="border:0px;"><br><span style="font-family:'宋体';font-size:10.5pt;">再比如，我自己定义了一个属性，如果不进行设置，是不会在属性窗口显示的，也就是我们在用控件的时候不能够通过可视化的界面对其进行设置，想让它在属性窗口显示，就要用Browsable属性了，如下面的例子。<br></span></p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">public</span>&nbsp;
     <span style="color:rgb(0,0,255);">enum</span>&nbsp;DrawingMode
     <span>{Happy&nbsp;=&nbsp;0,Sad&nbsp;=&nbsp;1,Angry&nbsp;=&nbsp;2}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">private</span>&nbsp;DrawingMode&nbsp;myDrawingMode;
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Browsable(
     <span style="color:rgb(0,0,255);">true</span>)]
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span style="color:rgb(0,0,255);">public</span>&nbsp;DrawingMode&nbsp;MyDrawingMode
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">get</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">return</span>&nbsp;myDrawingMode;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">set</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myDrawingMode&nbsp;=&nbsp;value;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;&nbsp;<img alt="" src="https://images.cnblogs.com/cnblogs_com/salonliudong/zaxiang.jpg" width="158" height="108" style="border:0px;"><br><span style="font-family:'宋体';font-size:10.5pt;">像这样的属性还可以组合使用，例如上面的例子，我在Browsable属性后面再加上一个Category属性，让它的参数等于Appearance，这时我们自己定义的属性就从属性框中的杂项转到了外观项里面了，如图：<br></span></p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;border-width:1px;border-style:solid;width:678.867px;"> 
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">[Browsable(
     <span style="color:rgb(0,0,255);">true</span>),&nbsp;Category("Appearance")]
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
     <span style="color:rgb(0,0,255);">public</span>&nbsp;DrawingMode&nbsp;MyDrawingMode
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
     <span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">get</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">return</span>&nbsp;myDrawingMode;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">set</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myDrawingMode&nbsp;=&nbsp;value;<br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" style="border:0px;">&nbsp;&nbsp;}</span>
     <br>
     <img alt="" align="top" src="https://www.cnblogs.com/Images/OutliningIndicators/None.gif" style="border:0px;">
    </div> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> &nbsp;&nbsp;<img alt="" src="https://images.cnblogs.com/cnblogs_com/salonliudong/waiguan.jpg" width="182" height="174" style="border:0px;"><br> &nbsp;</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">像这样的属性有很多，我主要罗列下面这些，在使用的时候大家可以参照。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>Browsable</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">适用于属性和事件，指定属性或事件是否应该显示在属性浏览器中。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>Category</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;适用于属性和事件，指定类别的名称，在该类别中将对属性或事件进行分组。当使用了类别时，组件属性和事件可以按逻辑分组显示在属性浏览器中。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>Description</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">适用于属性和事件，定义一小块文本，该文本将在用户选择属性或事件时显示在属性浏览器底部。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>Bindable</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">适用于属性 指定是否要绑定到该属性。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>DefaultProperty</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">适用于属性，（将此特性插入类声明前。）指定组件的默认属性。当用户单击控件时，将在属性浏览器中选定该属性。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>DefaultValue</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;适用于属性，为属性设置一个简单的默认值。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>Editor</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;适用于属性，指定在可视设计器中编辑（更改）属性时要使用的编辑器。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>Localizable</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;适用于属性，指定属性可本地化。当用户要本地化某个窗体时，任何具有该特性的属性都将自动永久驻留到资源文件中。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>DesignerSerializationVisibility</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">适用于属性，指定显示在属性浏览器中的属性是否应该（以及如何）永久驻留在代码中。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>TypeConverter</strong></p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">适用于属性，指定将属性的类型转换为另一个数据类型时要使用的类型转换器。</p> 
    <p align="left" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>DefaultEvent</strong></p> 
    <p align="justify" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;适用于事件，（将此特性插入类声明前。）指定组件的默认事件。这是当用户单击组件时在属性浏览器中选定的事件。<font color="#4b4b4b">&nbsp;</font><br></p> 
    <p align="justify"><font color="#4b4b4b"><br></font></p> 
    <p align="justify"><font color="#4b4b4b"><br></font></p> 
    <p align="justify"><font color="#4b4b4b"><br></font></p> 
    <p align="justify"><font color="#4b4b4b">本文转自94cool博客园博客，原文链接：http://www.cnblogs.com/94cool/articles/1524892.html，如需转载请自行联系原作者</font></p> 
   </div> 
   <div style="text-align:justify;">
    <br>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
