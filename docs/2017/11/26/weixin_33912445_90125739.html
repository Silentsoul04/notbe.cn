<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ASP.NET 2.0 正式版中callback的一些变化＋使用示例 « NotBeCN</title>
  <meta name="description" content="                可能你觉得callback很弱，AJAX才够强。其实网上大多数callback的示例代码都是不太正确的（包括MSDN）。这里提供了一种不同的使用callback的方法。只用   很少的javascript   就实现了一个联级下拉框。你会发现：   轻量级的callback其实也很...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/26/weixin_33912445_90125739.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">ASP.NET 2.0 正式版中callback的一些变化＋使用示例</h1>
    <p class="post-meta">Nov 26, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">可能你觉得callback很弱，AJAX才够强。其实网上大多数callback的示例代码都是不太正确的（包括MSDN）。这里提供了一种不同的使用callback的方法。只用</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(255,0,0);"><strong>很少的javascript</strong></span>
   <span style="font-family:Verdana;font-size:13px;">就实现了一个联级下拉框。你会发现：</span>
   <strong style="font-family:Verdana;font-size:13px;">轻量级的callback其实也很好用。</strong>
   <br style="font-family:Verdana;font-size:13px;">
   <br style="font-family:Verdana;font-size:13px;">
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">在这里我有两个DropDownList，ddlCategory和ddlProduct。要求ddlCategory变化后ddlProduct无刷新的填充新的项目。</span>
   <br style="font-family:Verdana;font-size:13px;">
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">要使用Callback首先要继承</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);"><strong>ICallbackEventHandler</strong></span>
   <span style="font-family:Verdana;font-size:13px;">接口：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;color:rgb(0,0,255);">public</span>
    <span style="line-height:1.5;">&nbsp;partial&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">class</span>
    <span style="line-height:1.5;">&nbsp;Callback&nbsp;:&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">Page</span>,&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">ICallbackEventHandler</span></span> 
   </div> 
   <span style="font-family:Verdana;font-size:13px;">或：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">&lt;%</span>
    <span style="line-height:1.5;">@&nbsp;Implements&nbsp;Interface</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">System.Web.UI.ICallbackEventHandler</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">%&gt;</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">正式版的</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);"><strong>ICallbackEventHandler</strong></span>
   <span style="font-family:Verdana;font-size:13px;">要实现以下两个方法：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;GetCallbackResult&nbsp;()&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">void</span>
    <span style="line-height:1.5;">&nbsp;RaiseCallbackEvent&nbsp;(</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;eventArgument)</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <strong style="font-family:Verdana;font-size:13px;">eventArgument</strong>
   <span style="font-family:Verdana;font-size:13px;">现在改为由</span>
   <strong style="font-family:Verdana;font-size:13px;">RaiseCallbackEvent</strong>
   <span style="font-family:Verdana;font-size:13px;">接收，而不是由</span>
   <strong style="font-family:Verdana;font-size:13px;">GetCallbackResult</strong>
   <span style="font-family:Verdana;font-size:13px;">直接接受了。目的是为了让你可以在</span>
   <strong style="font-family:Verdana;font-size:13px;">RaiseCallbackEvent</strong>
   <span style="font-family:Verdana;font-size:13px;">中做一些初始化操作，这点在编写支持callback的控件时特别有用，有兴趣的话你可以参考</span>
   <strong style="font-family:Verdana;font-size:13px;">GridView</strong>
   <span style="font-family:Verdana;font-size:13px;">和</span>
   <strong style="font-family:Verdana;font-size:13px;">DetailView</strong>
   <span style="font-family:Verdana;font-size:13px;">中</span>
   <strong style="font-family:Verdana;font-size:13px;">RaiseCallbackEvent</strong>
   <span style="font-family:Verdana;font-size:13px;">的代码。在这里我只使用最简单的方式，把</span>
   <strong style="font-family:Verdana;font-size:13px;">eventArgument</strong>
   <span style="font-family:Verdana;font-size:13px;">存到一个私有成员中：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;color:rgb(0,0,255);">private</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;_callbackEventArgument;&nbsp;<br><br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">protected</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">virtual</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">void</span>
    <span style="line-height:1.5;">&nbsp;RaiseCallbackEvent(</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;eventArgument)&nbsp;<br> {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">this</span>
    <span style="line-height:1.5;">._callbackEventArgument&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;eventArgument;&nbsp;<br> }</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">在客户端触发callback需要使用到</span>
   <strong style="font-family:Verdana;font-size:13px;color:rgb(0,0,255);">GetCallbackEventReference</strong>
   <span style="font-family:Verdana;font-size:13px;">，正式版中的</span>
   <strong style="font-family:Verdana;font-size:13px;color:rgb(0,0,255);">GetCallbackEventReference</strong>
   <span style="font-family:Verdana;font-size:13px;">位于</span>
   <strong style="font-family:Verdana;font-size:13px;">Page.ClientScript</strong>
   <span style="font-family:Verdana;font-size:13px;">下。</span>
   <strong style="font-family:Verdana;font-size:13px;">ClientScrip</strong>
   <span style="font-family:Verdana;font-size:13px;">t是2.0中</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);"><strong>Page</strong></span>
   <span style="font-family:Verdana;font-size:13px;">的一个新增成员，专门用于处理客户端教本(javascript)，它是一个实例化的ClientScriptManager。&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">script&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">type</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="text/javascript"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">function</span>
    <span style="line-height:1.5;">&nbsp;CallServer(arg,&nbsp;context)&nbsp;<br> &nbsp;&nbsp;&nbsp;{</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp;&nbsp;</strong></span>
    <strong><span style="line-height:1.5;">&lt;%=</span><span style="line-height:1.5;">&nbsp;ClientScript.GetCallbackEventReference(</span><span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">arg</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">ReceiveServerData</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">context</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">)</span><span style="line-height:1.5;">%&gt;</span></strong>
    <span style="line-height:1.5;"><strong>;</strong>&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">function</span>
    <span style="line-height:1.5;">&nbsp;ReceiveServerData(result,&nbsp;context)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">script</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">protected</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">void</span>
    <span style="line-height:1.5;">&nbsp;Page_Load(</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">object</span>
    <span style="line-height:1.5;">&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlCategory.Attributes.Add(</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">onchange</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">CallServer(....)</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">);</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">在这里我使用了一个javascript函数</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);">CallServer</span>
   <span style="font-family:Verdana;font-size:13px;">来包装callback的触发，当然你也可把它直接挂到onchange或其他客户端事件上。不过用一个函数来包装的话，可以很方便的在callback前后做一些其他操作，下面我就会用到。&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">不知道你有没有发觉，我们传给callback两个参数：</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);">arg</span>
   <span style="font-family:Verdana;font-size:13px;">和</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);">context</span>
   <span style="font-family:Verdana;font-size:13px;">，但是</span>
   <strong style="font-family:Verdana;font-size:13px;">RaiseCallbackEvent</strong>
   <span style="font-family:Verdana;font-size:13px;">只得到一个（arg），另一个参数</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(255,0,0);">context</span>
   <span style="font-family:Verdana;font-size:13px;">会给原封不动的传给</span>
   <strong style="font-family:Verdana;font-size:13px;">ReceiveServerDate</strong>
   <span style="font-family:Verdana;font-size:13px;">。这个</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(255,0,0);">context</span>
   <span style="font-family:Verdana;font-size:13px;">到底有什么用呢？甚至连MSDN里的代码也没有很正确的使用这个参数。可能你觉得callback很弱，只传入一个string（arg）传出一个string（result），还要编写大量的javascript代码才能实现想要的功能。其实，只要正确使用上面那个</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(255,0,0);">context</span>
   <span style="font-family:Verdana;font-size:13px;">参数就可以用很少的javascript实现很理想的功能。&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <br style="font-family:Verdana;font-size:13px;">
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">首先，我们拆分一下</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(0,0,255);">arg</span>
   <span style="font-family:Verdana;font-size:13px;">，把我们要调用的服务端方法放进去：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">ddlCategory.Attributes.Add(</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">onchange</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">CallServer(<span style="line-height:1.5;color:rgb(255,0,0);">'<strong>FillProduct</strong>|'+this.value</span>, ...)</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">);</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">然后用反射在服务器端调用这个方法(FillProduct)：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">public</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;GetCallbackResult()&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">[]&nbsp;parts&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;_callbackEventArgument.Split(</span>
    <span style="line-height:1.5;">'</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">'</span>
    <span style="line-height:1.5;">);&nbsp;<br></span>
    <span style="line-height:1.5;"><br></span>
    <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">return</span>
    <span style="line-height:1.5;">&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">.GetType().GetMethod(parts[</span><span style="line-height:1.5;">0</span><span style="line-height:1.5;">]).Invoke(<span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">,&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">new</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">objcet</span>[]{parts[1]})&nbsp;</span></span>;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">我们来看看FillProduct会返回些什么：&nbsp;</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">public</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;FillProduct(</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">string</span>
    <span style="line-height:1.5;">&nbsp;categoryID)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlCategory.SelectedValue&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;categoryID;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlProduct.DataBind();&nbsp;<br></span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">StringWriter</span>&nbsp;writer1&nbsp;<span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">new</span><span style="line-height:1.5;">&nbsp;StringWriter(CultureInfo.InvariantCulture);&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">HtmlTextWriter</span>&nbsp;writer2&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">new</span><span style="line-height:1.5;">&nbsp;HtmlTextWriter(writer1);&nbsp;<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlProduct.RenderControl(writer2);&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer2.Flush();&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer2.Close();&nbsp;<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">return</span><span style="line-height:1.5;">&nbsp;writer1.ToString();&nbsp;<br></span>&nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <span style="font-family:Verdana;font-size:13px;">你可以看到，我把需要更新的ddlProduct整个重新Render后传回来了，也就是说要用新生成的ddlProduct的HTML替换原来的ddlProduct的HTML。怎么做到这一点呢？</span>
   <span style="line-height:1.5;font-family:Verdana;font-size:13px;color:rgb(255,0,0);">context</span>
   <span style="font-family:Verdana;font-size:13px;">参数要出马了：</span>
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <p style="font-size:13px;line-height:1.5;"><span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.5;color:rgb(128,0,0);">script&nbsp;</span><span style="line-height:1.5;color:rgb(255,0,0);">type</span><span style="line-height:1.5;color:rgb(0,0,255);">="text/javascript"</span><span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span><span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">function</span><span style="line-height:1.5;">&nbsp;CallServer(arg,&nbsp;<strong style="color:rgb(255,0,0);">context</strong>)&nbsp;<br> &nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="line-height:1.5;color:rgb(255,0,0);"><strong>context</strong></span>.innerHTML&nbsp;</strong></span><strong><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">Loading<img height="20" src="https://www.cnblogs.com/Images/dot.gif" width="15" style="border:0px;" alt="dot.gif"></span><span style="line-height:1.5;">"</span></strong><span style="line-height:1.5;"><strong>;</strong>&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;">&lt;%=</span><span style="line-height:1.5;">&nbsp;ClientScript.GetCallbackEventReference(</span><span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">arg</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">ReceiveServerData</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">context</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">)</span><span style="line-height:1.5;">%&gt;</span><span style="line-height:1.5;">;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">function</span><span style="line-height:1.5;">&nbsp;ReceiveServerData(result,&nbsp;<span style="line-height:1.5;color:rgb(255,0,0);"><strong>context</strong></span>)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="line-height:1.5;color:rgb(255,0,0);"><strong>context</strong></span>.innerHTML&nbsp;</strong></span><span style="line-height:1.5;"><strong>=</strong></span><span style="line-height:1.5;"><strong>&nbsp;result;</strong>&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br></span><span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.5;color:rgb(128,0,0);">script</span><span style="line-height:1.5;color:rgb(0,0,255);">&gt;&nbsp;<br> .....&nbsp;<br><span style="line-height:1.5;">&lt;</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList&nbsp;</span><span style="line-height:1.5;color:rgb(255,0,0);">ID</span><span style="line-height:1.5;">="ddlCategory"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span><span style="line-height:1.5;">="server"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;DataSourceID</span><span style="line-height:1.5;">="SqlDataSource1"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;DataTextField</span><span style="line-height:1.5;">="CategoryName"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;DataValueField</span><span style="line-height:1.5;">="CategoryID"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;AppendDataBoundItems</span><span style="line-height:1.5;">="True"&nbsp;</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;">&lt;</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem&nbsp;</span><span style="line-height:1.5;color:rgb(255,0,0);">Value</span><span style="line-height:1.5;">=""</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">-&nbsp;Select&nbsp;Category&nbsp;-</span><span style="line-height:1.5;">&lt;/</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;<br></span><span style="line-height:1.5;">&lt;/</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;</span>&nbsp;<br><strong><span style="line-height:1.5;">&lt;</span><span style="line-height:1.5;color:rgb(128,0,0);">span&nbsp;</span><span style="line-height:1.5;color:rgb(255,0,0);">id</span><span style="line-height:1.5;">="_span1"</span><span style="line-height:1.5;">&gt;</span></strong><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;">&lt;</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList&nbsp;</span><span style="line-height:1.5;color:rgb(255,0,0);">ID</span><span style="line-height:1.5;">="ddlProduct"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span><span style="line-height:1.5;">="server"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;DataSourceID</span><span style="line-height:1.5;">="SqlDataSource2"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataTextField</span><span style="line-height:1.5;">="ProductName"</span><span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;AppendDataBoundItems</span><span style="line-height:1.5;">="True"</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;">&lt;</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem&nbsp;</span><span style="line-height:1.5;color:rgb(255,0,0);">Value</span><span style="line-height:1.5;">=""</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">-&nbsp;Select&nbsp;Product&nbsp;-</span><span style="line-height:1.5;">&lt;/</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;">&lt;/</span><span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;color:rgb(0,0,0);">&nbsp;<br></span><strong><span style="line-height:1.5;">&lt;/</span><span style="line-height:1.5;color:rgb(128,0,0);">span</span><span style="line-height:1.5;">&gt;</span></strong></span></p> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">protected</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">void</span>
    <span style="line-height:1.5;">&nbsp;Page_Load(</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">object</span>
    <span style="line-height:1.5;">&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlCategory.Attributes.Add(</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">onchange</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">CallServer('FillProduct|'+this.value,&nbsp;<span style="line-height:1.5;color:rgb(255,0,0);"><strong>_span1</strong></span>)</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">);</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <p style="font-size:13px;line-height:1.5;margin-left:auto;font-family:Verdana;">原来我把要更新的ddlProduct放在<span style="line-height:1.5;color:rgb(255,0,0);">_span1</span>里，context就是用来传递这个<span style="line-height:1.5;color:rgb(255,0,0);">_span1</span>的。只要用新生成的HTML填充这个_span1，ddlProduct的更新就OK了。这样我们就很轻松的完成了一个无刷新的联级下拉框。&nbsp;<br><br> 需要注意的是，要在页面提交(postback)后取得这个ddlProduct的值，需要使用<br><span style="line-height:1.5;color:rgb(0,0,255);"><strong>Request.Form[ddlProduct.UniqueID]</strong></span><br> 因为viewstate并没有被更新。<br><br> 在下面的完整代码里我还做了如下两件事，以提高代码的复用性：</p> 
   <ol style="font-family:Verdana;font-size:13px;">
    <li style="list-style-type:decimal;">对_callbackEventArgument稍加处理，以便调用任意多个参数的方法(FillProduct只有一个参数)</li> 
    <li style="list-style-type:decimal;">提取了FillProduct中Rander Control的那部分，以便于其他方法也可以使用。(这项操作用VS2005的Refactor很容易就完成了</li> 
   </ol>
   <p style="font-size:13px;line-height:1.5;font-family:Verdana;">其实你可以把这两部分整理到一个CallbackHelp类中，这样复用性就更高了。<br> Enjoy it.</p> 
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <span style="line-height:1.5;">&lt;%</span>
    <span style="line-height:1.5;">@&nbsp;Page&nbsp;Language</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">C#</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;AutoEventWireup</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">true</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;CodeFile</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">Callback.aspx.cs</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;Inherits</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">Callback</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">%&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br><br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;!</span>
    <span style="line-height:1.5;color:rgb(255,0,255);">DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;"-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN"&nbsp;"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">html&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">xmlns</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="http://www.w3.org/1999/xhtml"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br><br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">script&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">type</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="text/javascript"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">function</span>
    <span style="line-height:1.5;">&nbsp;CallServer(arg,&nbsp;context)&nbsp;<br> &nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context.innerHTML&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">Loading<img height="20" src="https://www.cnblogs.com/Images/dot.gif" width="15" style="border:0px;" alt="dot.gif"></span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;"><span style="line-height:1.5;"><span style="line-height:1.5;">&lt;%</span></span>=</span>
    <span style="line-height:1.5;">&nbsp;ClientScript.GetCallbackEventReference(</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">this</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">arg</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">ReceiveServerData</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">context</span>
    <span style="line-height:1.5;">"</span>
    <span style="line-height:1.5;">)&nbsp;</span>
    <span style="line-height:1.5;">%&gt;</span>
    <span style="line-height:1.5;">;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">function</span>
    <span style="line-height:1.5;">&nbsp;ReceiveServerData(result,&nbsp;context)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context.innerHTML&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;result;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">script</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br><br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">head&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">title</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">Callback</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">title</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">head</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">body</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">form&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">id</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="form1"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">div</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:SqlDataSource&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SqlDataSource1"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ConnectionString</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="&lt;%$&nbsp;ConnectionStrings:NORTHWNDConnectionString1&nbsp;%&gt;"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectCommand</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SELECT&nbsp;[CategoryID],&nbsp;[CategoryName]&nbsp;FROM&nbsp;[Categories]"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:SqlDataSource</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:SqlDataSource&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SqlDataSource2"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ConnectionString</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="&lt;%$&nbsp;ConnectionStrings:NORTHWNDConnectionString1&nbsp;%&gt;"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SelectCommand</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SELECT&nbsp;[ProductID],&nbsp;[ProductName]&nbsp;FROM&nbsp;[Products]&nbsp;WHERE&nbsp;([CategoryID]&nbsp;=&nbsp;@CategoryID)"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">SelectParameters</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:ControlParameter&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ControlID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="ddlCategory"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;Name</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="CategoryID"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyName</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SelectedValue"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">/&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">SelectParameters</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:SqlDataSource</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">div&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">id</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="_div1"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="ddlCategory"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataSourceID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SqlDataSource1"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;DataTextField</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="CategoryName"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DataValueField</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="CategoryID"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;AppendDataBoundItems</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="True"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">Value</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">=""</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">-&nbsp;Select&nbsp;Category&nbsp;-</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">span&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">id</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="_span1"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="ddlProduct"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DataSourceID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="SqlDataSource2"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;DataTextField</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="ProductName"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AppendDataBoundItems</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="True"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">Value</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">=""</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">-&nbsp;Select&nbsp;Product&nbsp;-</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:ListItem</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:DropDownList</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">span</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">span&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">id</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="_span2"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:Button&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="btnBuy"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;Text</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="Buy"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;Enabled</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="false"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;OnClick</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="btnBuy_Click"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">/&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">br&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">/&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">span</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">div</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:Label&nbsp;</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">ID</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="Label1"</span>
    <span style="line-height:1.5;color:rgb(255,0,0);">&nbsp;runat</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">="server"</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">asp:Label</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">div</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">form</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">body</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="line-height:1.5;">&nbsp;<br></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&lt;/</span>
    <span style="line-height:1.5;color:rgb(128,0,0);">html</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">&gt;</span> 
   </div> 
   <br style="font-family:Verdana;font-size:13px;">
   <div style="font-family:Verdana;font-size:13px;border-width:1px;border-style:solid;"> 
    <img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif">
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;System;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;<span style="line-height:1.5;color:rgb(255,0,0);">System.IO</span>;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;System.Collections;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;<span style="line-height:1.5;color:rgb(255,0,0);">System.Globalization</span>;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;<span style="line-height:1.5;color:rgb(255,0,0);">System.Reflection</span>;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;System.Web;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">using</span>
    <span style="line-height:1.5;">&nbsp;System.Web.UI;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span>
    <span style="line-height:1.5;color:rgb(0,0,255);">public</span>
    <span style="line-height:1.5;">&nbsp;partial&nbsp;</span>
    <span style="line-height:1.5;color:rgb(0,0,255);">class</span>
    <span style="line-height:1.5;">&nbsp;Callback&nbsp;:&nbsp;Page,&nbsp;ICallbackEventHandler&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedBlockStart.gif"></span>
    <span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">private</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;_callbackEventArgument;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">protected</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">void</span><span style="line-height:1.5;">&nbsp;Page_Load(</span><span style="line-height:1.5;color:rgb(0,0,255);">object</span><span style="line-height:1.5;">&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlCategory.Attributes.Add(</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">onchange</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">CallServer('FillProduct|'+this.value,_span1)</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlProduct.Attributes.Add(</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">onchange</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">,&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">CallServer('ShowBuy|'+this.value,_span2)</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;color:rgb(0,0,255);">#region</span><span style="line-height:1.5;">&nbsp;ICallbackEventHandler&nbsp;Members</span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">public</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;GetCallbackResult()&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">[]&nbsp;parts&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;_callbackEventArgument.Split(</span><span style="line-height:1.5;">'</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">'</span><span style="line-height:1.5;">);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">object</span><span style="line-height:1.5;">[]&nbsp;args&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">null</span><span style="line-height:1.5;">;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;result&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">""</span><span style="line-height:1.5;">;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">if</span><span style="line-height:1.5;">&nbsp;(parts.Length&nbsp;</span><span style="line-height:1.5;">&gt;</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">1</span><span style="line-height:1.5;">)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">new</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">object</span><span style="line-height:1.5;">[parts.Length&nbsp;</span><span style="line-height:1.5;">-</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">1</span><span style="line-height:1.5;">];&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array.Copy(parts,&nbsp;</span><span style="line-height:1.5;">1</span><span style="line-height:1.5;">,&nbsp;args,&nbsp;</span><span style="line-height:1.5;">0</span><span style="line-height:1.5;">,&nbsp;args.Length);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MethodInfo&nbsp;method&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">.GetType().GetMethod(parts[</span><span style="line-height:1.5;">0</span><span style="line-height:1.5;">]);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">if</span><span style="line-height:1.5;">&nbsp;(method&nbsp;</span><span style="line-height:1.5;">!=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">null</span><span style="line-height:1.5;">)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;(</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">)method.Invoke(</span><span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">,&nbsp;args);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">return</span><span style="line-height:1.5;">&nbsp;result;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">public</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">void</span><span style="line-height:1.5;">&nbsp;RaiseCallbackEvent(</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;eventArgument)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_eventArgument&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;eventArgument;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">void</span><span style="line-height:1.5;">&nbsp;ICallbackEventHandler.RaiseCallbackEvent(</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;eventArgument)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">.RaiseCallbackEvent(eventArgument);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;ICallbackEventHandler.GetCallbackResult()&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">return</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">this</span><span style="line-height:1.5;">.GetCallbackResult();&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">#endregion</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">public</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;FillProduct(</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;categoryID)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlCategory.SelectedValue&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;categoryID;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddlProduct.DataBind();&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">return</span><span style="line-height:1.5;">&nbsp;RenderControl(ddlProduct);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">public</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;ShowBuy(</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;ProductID)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;btnBuy.Enabled&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">!</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">.IsNullOrEmpty(ProductID);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">return</span><span style="line-height:1.5;">&nbsp;RenderControl(btnBuy);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">protected</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">void</span><span style="line-height:1.5;">&nbsp;btnBuy_Click(</span><span style="line-height:1.5;color:rgb(0,0,255);">object</span><span style="line-height:1.5;">&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_div1.Visible&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">false</span><span style="line-height:1.5;">;&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Label1.Text&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">Buy:&nbsp;</span><span style="line-height:1.5;">"</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;">+</span><span style="line-height:1.5;">&nbsp;Request.Form[ddlProduct.UniqueID];&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">private</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">string</span><span style="line-height:1.5;">&nbsp;RenderControl(Control&nbsp;control)&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockStart.gif">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;"><span style="line-height:1.5;">{&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringWriter&nbsp;writer1&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">new</span><span style="line-height:1.5;">&nbsp;StringWriter(CultureInfo.InvariantCulture);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HtmlTextWriter&nbsp;writer2&nbsp;</span><span style="line-height:1.5;">=</span><span style="line-height:1.5;">&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">new</span><span style="line-height:1.5;">&nbsp;HtmlTextWriter(writer1);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control.RenderControl(writer2);&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer2.Flush();&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer2.Close();&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" width="11" align="top" style="border:0px;" alt="InBlock.gif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="line-height:1.5;color:rgb(0,0,255);">return</span><span style="line-height:1.5;">&nbsp;writer1.ToString();&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedSubBlockEnd.gif">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="line-height:1.5;">&nbsp;<br><img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" width="11" align="top" style="border:0px;" alt="ExpandedBlockEnd.gif">}</span></span>
    <span style="line-height:1.5;">&nbsp;<img height="16" src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" width="11" align="top" style="border:0px;" alt="None.gif"></span> 
   </div> 
   <div>
    <font><span style="font-size:13.3333px;"><br></span></font>
   </div> 
   <div>
    <font><span style="font-size:13.3333px;"><br></span></font>
   </div> 
   <div>
    <font><span style="font-size:13.3333px;"><br></span></font>
   </div> 
   <div>
    <font><span style="font-size:13.3333px;">本文转自高海东博客园博客，原文链接：http://www.cnblogs.com/ghd258/archive/2005/11/27/285386.html，如需转载请自行联系原作者</span></font>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
