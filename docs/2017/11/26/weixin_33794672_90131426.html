<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>mapInfo文件格式详解 « NotBeCN</title>
  <meta name="description" content="                  MapInfo以表（Tab）的形式存储信息，每个表是由一组MapInfo文件组成，包括：  1、属性数据的表结构文件，后缀为.TAB。该文件定义了地图属性数据的表结构，包括字段数、字段名称、字段类型、字段宽度、索引字段及相应图层的一些关键空间信息描述。.TAB文件实际上是一个文...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/26/weixin_33794672_90131426.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">mapInfo文件格式详解</h1>
    <p class="post-meta">Nov 26, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div> 
    <p>MapInfo以表（Tab）的形式存储信息，每个表是由一组MapInfo文件组成，包括： <br> 1、属性数据的表结构文件，后缀为.TAB。该文件定义了地图属性数据的表结构，包括字段数、字段名称、字段类型、字段宽度、索引字段及相应图层的一些关键空间信息描述。.TAB文件实际上是一个文本文件，可以在写字板中打开观察其内容。 <br> 2、属性数据文件，后缀为.DAT。该文件存放了地图的属性数据。.DAT文件是二进制文件，它的格式与dBase IV的文件格式一致。 <br> 3、空间数据文件，后缀为.MAP。该文件是二进制文件，存放了图形对象的数据，包括空间对象的几何类型、坐标信息和颜色信息等。 <br> 4、交叉索引文件，后缀为.ID。该文件是二进制文件，用于连接属性数据和图形数据，记录了地图中每一个空间对象在空间数据文件（.MAP）中的位置指 针。文件中每四个字节构成一个指针。指针排列的顺序与属性数据文件（.DAT）中属性数据记录存放的顺序一致。交叉索引文件实际上是一个空间对象的定位 表。 <br> 5、索引文件，后缀为.IND。MapInfo表中有时也包括该文件，用于对某些字段建立索引。 <br> .TAB文件和.DAT文件是MapInfo表中必须的两个文件，一个MapInfo表至少应该包括一个.TAB文件和一个.DAT文件。.MAP和.ID文件不是必须有的，但是如果有了.MAP文件，那么.ID文件也必须存在。 </p> 
    <p>在Mapinfo中每张地图被称为一个图层（或被称为表）。<br> 每个Mapinfo表由两部分最重要的内容构成：图形（称为空间对象）和数据（称为属性）。<br> Mapinfo 实现了"图形对象"及"属性数据"一对一联系，从而能够完成图形数据和属性数据的双向查询。为了实现基于属性信息的快速查询，Mapinfo支持针对属性 字段建立索引。Mapinfo以文件的方式，将上述的不同信息存放到不同的文件中以共同组成一个完整的图层。</p> 
    <p>细说Mapinfo索引文件*.ind :<br> 每个Mapinfo表是由几个文件组成的，不同的文件用来保存图层的不同信息。其中，*.ind 文件用来存放Mapinfo表的数据索引。是Mapinfo表的索引文件，它能提高Mapinfo数据检索的效率，同时它允许你使用“查找”命令查找地图 对象。若用查找命令定位一个地址（城市），在表中必须对这些城市建索引，这些索引就保存在*.ind文件中。<br> 当你对一幅图层建立索引之后，Mapinfo 会自动生成一个索引文件*.ind。当你将一个图层的索引取消之后，Mapinfo 也会自动将索引文件*.ind删除。</p> 
    <p>MIF,MID格式</p> 
    <p>MapInfo虽然没有公开其内部的数据结构，但它给出了用于格式交换的数据结构，即MIF与MID，其中MIF文件保存图形数据，MID文件保存 属性数据。将其它形式的地图数据转成MIF与MID格式，然后利用MapInfo菜单中的Import命令就可以导入，从而完成转换。也可以在 mapInfo中把*.tab文件转换为*.mif,*.mid文件</p> 
    <p>MIF是Mapinfo用来向外交换数据的一种中间交换文件。当用户在Mapinfo中将一张Mapinfo地图表以MIF格式转出到MIF文件中后，Mapinfo会同时在用户指定的保存目录下生成两个文件（*.mif，*.mid）。<br> 其中*.mif文件保存了该Mapinfo表的表结构及表中所有空间对象的空间信息：<br> 每个点对象的点位坐标、符号样式；<br> 每个线对象的节点个数、节点坐标、线样式；<br> 每个区域对象的包含的子区域个数、每个子区域的节点数、节点坐标等、填充模式<br> 而*.mid文件则按记录顺序保存了每个空间对象的所有属性信息。<br> 这两个文件都为文本性质的文件，用户可以通过相应的文件读写方法实现对文件内容的读写。</p> 
   </div> 
   <p> </p> 
   <p>MapInfo.dat格式说明</p> 
   <p>据说MapInfo是严格的DBaseIV格式：</p> 
   <p>01 000x03:总是这个值</p> 
   <p>01-03 最后更新日期，格式：年年月月日日</p> 
   <p>04-07 表中有多少条记录（32位，最大4294967295条记录）</p> 
   <p>08-09 header部分有多少字节（16位，最大65535字节），包括Header段的结束标记0XOD在内</p> 
   <p>10-11 每条record部分有多少字节（同上）</p> 
   <p>12-13 保留的，不用管（这后面都可不用管）</p> 
   <p>14 未完成事务标记。开始事务时其值被设置为0x01，事务完成或事务回滚时，重设位0x00。也可以不管它。</p> 
   <p>15 加密标记。加密后为0x01否则是0x01。单纯的修改该标记并不能对记录进行加密解密。</p> 
   <p>16-27 用于DBaseIV多用户环境。不用管。</p> 
   <p>28 是否存在产品索引，是则为0x01，否则0x00。也不用管。</p> 
   <p>29 DBaseIv语言驱动Id</p> 
   <p>30-31 保留的，全是0x00，不用管。</p> 
   <p>接着每32位保存一个字段的信息</p> 
   <p>0-9 字段名的AscII码</p> 
   <p>100 x00</p> 
   <p>11 字段类型标识（如0x43代表charactor，相当于字母C.MapInfo只使用了C,L,N三种.要获得实际的字段类型和含义需要参照.tab文件）</p> 
   <p>12-15 displacementoffieldinrecord，可以不用管</p> 
   <p>16 字段长度</p> 
   <p>17 字段的小数个数</p> 
   <p>18-19 保留的，不用管</p> 
   <p>20 dbaseIvworkareaid不用管</p> 
   <p>21-30 保留的，不用管</p> 
   <p>31 该字段是否是产品索引的一部分，如果是则值为0x01，否则0x00</p> 
   <p>所有字段描述完了以后，是header的结束标记0x0D</p> 
   <p>接着是紧密排列的记录，都是Ascii的。其宽度跟字段的定义一致。</p> 
   <p>所有的记录都以一个删除标记开头，如果该记录删除，该处的值为0x2a(星号*)否则0x20(空格)</p> 
   <p>文件最后以一个0x1a标记结束</p> 
   <p> </p> 
   <p>附：字段标识对照表</p> 
   <p>AscII码 描述</p> 
   <p>c 字符</p> 
   <p>d 日期，formatyyyymmdd</p> 
   <p>f 浮点</p> 
   <p>g general-foxproaddition</p> 
   <p>l 逻辑，t:t,f:f,y:y,n:n,?-未初始化</p> 
   <p>m memo(storedas10digitsrepresentingthedbtblocknumber)</p> 
   <p>n 数字</p> 
   <p><br></p> 
   <p><br></p> 
   <p><br></p> 
   <p>本文转自94cool博客园博客，原文链接：http://www.cnblogs.com/94cool/p/3296946.html，如需转载请自行联系原作者</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
