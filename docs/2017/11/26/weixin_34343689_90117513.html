<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Flex ComboBox 加载xml数据 « NotBeCN</title>
  <meta name="description" content="                               xml数据：          &lt;?xml version="1.0" encoding="utf-8" ?&gt;                     -        &lt;       cllblist       &gt;     ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/26/weixin_34343689_90117513.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Flex ComboBox 加载xml数据</h1>
    <p class="post-meta">Nov 26, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1><br></h1> 
   <h1></h1> 
   <div class="postBody"> 
    <div class="blogpost-body">
     xml数据：
     <br>
     <font color="#0000ff">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</font> 
     <div class="e"> 
      <div style="text-indent:-2em;margin-left:1em;" class="c"> 
       <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
       <font color="#0000ff">&lt;</font>
       <font color="#990000">cllblist</font>
       <font color="#0000ff">&gt;</font> 
      </div> 
      <div> 
       <div class="e"> 
        <div style="text-indent:-2em;margin-left:1em;" class="c"> 
         <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
         <font color="#0000ff">&lt;</font>
         <font color="#990000">cllb</font>
         <font color="#0000ff">&gt;</font> 
        </div> 
        <div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font>
           <strong>翻唱彩铃</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font>
           <strong>1</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div> 
          <strong><font color="#ff0000"> </font></strong> 
          <font color="#0000ff">&lt;/</font>
          <font color="#990000">cllb</font>
          <font color="#0000ff">&gt;</font> 
         </div> 
        </div> 
       </div> 
       <div class="e"> 
        <div style="text-indent:-2em;margin-left:1em;" class="c"> 
         <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
         <font color="#0000ff">&lt;</font>
         <font color="#990000">cllb</font>
         <font color="#0000ff">&gt;</font> 
        </div> 
        <div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font>
           <strong>原创彩铃</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font>
           <strong>2</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div> 
          <strong><font color="#ff0000"> </font></strong> 
          <font color="#0000ff">&lt;/</font>
          <font color="#990000">cllb</font>
          <font color="#0000ff">&gt;</font> 
         </div> 
        </div> 
       </div> 
       <div class="e"> 
        <div style="text-indent:-2em;margin-left:1em;" class="c"> 
         <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
         <font color="#0000ff">&lt;</font>
         <font color="#990000">cllb</font>
         <font color="#0000ff">&gt;</font> 
        </div> 
        <div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font>
           <strong>搞笑彩铃</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font>
           <strong>3</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div> 
          <strong><font color="#ff0000"> </font></strong> 
          <font color="#0000ff">&lt;/</font>
          <font color="#990000">cllb</font>
          <font color="#0000ff">&gt;</font> 
         </div> 
        </div> 
       </div> 
       <div class="e"> 
        <div style="text-indent:-2em;margin-left:1em;" class="c"> 
         <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
         <font color="#0000ff">&lt;</font>
         <font color="#990000">cllb</font>
         <font color="#0000ff">&gt;</font> 
        </div> 
        <div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font>
           <strong>节日问候</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font>
           <strong>4</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div> 
          <strong><font color="#ff0000"> </font></strong> 
          <font color="#0000ff">&lt;/</font>
          <font color="#990000">cllb</font>
          <font color="#0000ff">&gt;</font> 
         </div> 
        </div> 
       </div> 
       <div class="e"> 
        <div style="text-indent:-2em;margin-left:1em;" class="c"> 
         <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
         <font color="#0000ff">&lt;</font>
         <font color="#990000">cllb</font>
         <font color="#0000ff">&gt;</font> 
        </div> 
        <div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font>
           <strong>童声童趣</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font>
           <strong>5</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div> 
          <strong><font color="#ff0000"> </font></strong> 
          <font color="#0000ff">&lt;/</font>
          <font color="#990000">cllb</font>
          <font color="#0000ff">&gt;</font> 
         </div> 
        </div> 
       </div> 
       <div class="e"> 
        <div style="text-indent:-2em;margin-left:1em;" class="c"> 
         <a class="b" href="http://diy.bonson.cn/soft/CLLBList.aspx#" rel="nofollow"><strong><font color="#ff0000">-</font></strong></a> 
         <font color="#0000ff">&lt;</font>
         <font color="#990000">cllb</font>
         <font color="#0000ff">&gt;</font> 
        </div> 
        <div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font>
           <strong>其他</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typename</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div class="e"> 
          <div style="text-indent:-2em;margin-left:1em;"> 
           <strong><font color="#ff0000"> </font></strong> 
           <font color="#0000ff">&lt;</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font>
           <strong>6</strong>
           <font color="#0000ff">&lt;/</font>
           <font color="#990000">typevalue</font>
           <font color="#0000ff">&gt;</font> 
          </div> 
         </div> 
         <div> 
          <strong><font color="#ff0000"> </font></strong> 
          <font color="#0000ff">&lt;/</font>
          <font color="#990000">cllb</font>
          <font color="#0000ff">&gt;</font> 
         </div> 
        </div> 
       </div> 
       <div> 
        <strong><font color="#ff0000"> </font></strong> 
        <font color="#0000ff">&lt;/</font>
        <font color="#990000">cllblist</font>
        <font color="#0000ff">&gt;</font> 
       </div> 
      </div> 
     </div> 
     <br>
     <br> 代码：
     <br> &lt;?xml version="1.0" encoding="utf-8"?&gt;
     <br> &lt;mx:Canvas xmlns:mx="
     <a href="http://www.adobe.com/2006/mxml" rel="nofollow">http://www.adobe.com/2006/mxml</a>" creationComplete="Init()" width="250" height="215" styleName="winupload" cornerRadius="20" borderStyle="none"&gt;
     <br> &lt;mx:Script&gt;
     <br> &lt;![CDATA[
     <br> import mx.messaging.messages.ErrorMessage;
     <br> import mx.events.ListEvent;
     <br> import mx.events.ToolTipEvent;
     <br> import mx.utils.ArrayUtil;
     <br> import mx.utils.ObjectUtil;
     <br> import mx.events.IndexChangedEvent; 
     <br> import flash.display.*;
     <br> import flash.errors.*;
     <br> import flash.events.*;
     <br> import flash.media.*;
     <br> import flash.net.*;
     <br> import flash.system.*;
     <br> import flash.text.*;
     <br> import mx.formatters.DateFormatter;
     <br> import mx.controls.sliderClasses.Slider;
     <br> import mx.events.SliderEvent;
     <br> import mx.events.VideoEvent;
     <br> import flash.events.EventDispatcher;
     <br> import mx.controls.Alert; 
     <br> import mx.utils.ObjectUtil; 
     <br> import mx.controls.TileList;
     <br> import mx.managers.PopUpManager;
     <br> private var UserMobile:String="";//用户名
     <br> private var IsLogin:Boolean=false;//是否登录
     <br> private var xmlarray:Array=null;
     <br> private function Init():void
     <br> {
     <br> var requestBz:URLRequest=new URLRequest("
     <a href="http://diy.bonson.cn/soft/CLLBList.aspx" rel="nofollow">http://diy.bonson.cn/soft/CLLBList.aspx</a>"); 
     <br> var bzloader:URLLoader=new URLLoader();
     <br> bzloader.dataFormat=URLLoaderDataFormat.BINARY;
     <br> bzloader.load(requestBz); 
     <br> bzloader.addEventListener(Event.COMPLETE,loadLbFinish);
     <br> /*
     <br> this.width=250;
     <br> this.height=215;
     <br> var requestBz:URLRequest=new URLRequest("
     <a href="http://diy.bonson.cn/soft/GetFlashSession.aspx" rel="nofollow">http://diy.bonson.cn/soft/GetFlashSession.aspx</a>"); 
     <br> var bzloader:URLLoader=new URLLoader();
     <br> bzloader.dataFormat=URLLoaderDataFormat.BINARY;
     <br> bzloader.load(requestBz); 
     <br> bzloader.addEventListener(Event.COMPLETE,loadSessionFinish);
     <br> this.x = this.parent.width / 2 - this.width / 2;
     <br> this.y = this.parent.height / 2 - this.height / 2; 
     <br> this.width=0;
     <br> this.height=0; 
     <br> */ 
     <br> }
     <br> private function loadSessionFinish(event:Event):void
     <br> {
     <br> var BA:ByteArray = new ByteArray; 
     <br> BA.writeBytes((event.target as URLLoader).data); 
     <br> BA.position = 0; 
     <br> var result:String=BA.readMultiByte(BA.length,"utf-8").replace("\r\n","");
     <br>
     <br> var tempstr:String="false";
     <br> var i:int=0;
     <br> for(i;i&lt;result.length;i++)
     <br> { 
     <br> if(result.charAt(i) != tempstr.charAt(i))
     <br> { 
     <br> this.IsLogin=true;
     <br> var val:Array=result.split("|");
     <br> UserMobile=val[1];
     <br> break;
     <br> }
     <br> }
     <br> if(this.IsLogin==false)
     <br> { 
     <br> Alert.show("请您先登录！","提示信息",Alert.OK);
     <br> PopUpManager.removePopUp(this);
     <br> }
     <br> else
     <br> {
     <br> var requestBz:URLRequest=new URLRequest("
     <a href="http://diy.bonson.cn/soft/CLLBList.aspx" rel="nofollow">http://diy.bonson.cn/soft/CLLBList.aspx</a>"); 
     <br> var bzloader:URLLoader=new URLLoader();
     <br> bzloader.dataFormat=URLLoaderDataFormat.BINARY;
     <br> bzloader.load(requestBz); 
     <br> bzloader.addEventListener(Event.COMPLETE,loadLbFinish);
     <br> this.width=250;
     <br> this.height=215;
     <br> } 
     <br> }
     <br>
     <br> private function loadLbFinish(event:Event):void
     <br> {
     <br> var BA:ByteArray = new ByteArray; 
     <br> BA.writeBytes((event.target as URLLoader).data); 
     <br> BA.position = 0; 
     <br> var result:String=BA.readMultiByte(BA.length,"utf-8").replace("\r\n","");
     <br> var cllb:XML = XML(result);
     <br> var results:XMLList = cllb.children(); 
     <br> var array:Array = ElementToAttr(results);
     <br> xmlarray=ElementToAttr(results);
     <br> //this.ddl_cllb.labelField="typename";
     <br> //this.ddl_cllb.data=array["typevalue"];
     <br> this.ddl_cllb.dataProvider = array; 
     <br> }
     <br> public function ElementToAttr(results:XMLList):Array
     <br> {
     <br> var array:Array=new Array();
     <br> for each(var child:XML in results)
     <br> {
     <br> var obj:Object=new Object(); 
     <br> //方法1： 
     <br> /* 
     <br> obj[child.nodeKind()]=child[child.nodeKind()];
     <br> for each(var ite:XML in child.children())
     <br> {
     <br> obj[ite.name().toString()]=child[ite.name().toString()];
     <br> } 
     <br> */ 
     <br> //方法2：
     <br> obj["label"]=child.typename;
     <br> obj["data"]=child.typevalue; 
     <br> array.push(obj); 
     <br> }
     <br> return array;
     <br> }
     <br> private function ddlchange():void
     <br> {
     <br> this.txt_mc.text=this.ddl_cllb.selectedLabel+"|"+String(this.ddl_cllb.value);
     <br> for(var i:int=0;i&lt;xmlarray.length;i++)
     <br> {
     <br> this.txt_js.text+= xmlarray[i]["typename"]+"|"+xmlarray[i]["typevalue"]+"\r";
     <br> }
     <br> } 
     <br> private function Upload():void
     <br> {
     <br>
     <br> } 
     <br> ]]&gt;
     <br> &lt;/mx:Script&gt;
     <br> &lt;mx:Label text="作品类型:" x="10" y="19"/&gt; 
     <br> &lt;mx:Label text="彩铃名称:" x="10" y="65"/&gt;
     <br> &lt;mx:TextArea x="76" y="105" height="62" width="160" wordWrap="true" maxChars="200" id="txt_js"/&gt; 
     <br> &lt;mx:Button label="返 回" click="PopUpManager.removePopUp(this);" horizontalCenter="48" verticalCenter="84"/&gt;
     <br> &lt;mx:Button label="上 传" click="Upload()" id="btn_upload" enabled="true" horizontalCenter="-50" verticalCenter="84"/&gt;
     <br> &lt;mx:TextInput x="76" y="63" width="160" editable="true" maxChars="50" id="txt_mc"/&gt;
     <br> &lt;mx:Label text="作品介绍:" x="10" y="125"/&gt;
     <br> &lt;mx:ComboBox x="76" y="16" id="ddl_cllb" change="ddlchange()" selectedIndex="0" editable="false"&gt;&lt;/mx:ComboBox&gt;
     <br> &lt;/mx:Canvas&gt;
     <br>
    </div> 
    <div class="blogpost-body">
     <br>
    </div> 
    <div class="blogpost-body">
     <br>
    </div> 
    <div class="blogpost-body">
     <br>
    </div> 
    <div class="blogpost-body">
     本文转自94cool博客园博客，原文链接：http://www.cnblogs.com/94cool/archive/2009/08/25/1553467.html，如需转载请自行联系原作者
    </div> 
    <div>
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
