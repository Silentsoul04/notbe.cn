<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>R12 付款过程请求-功能和技术信息 (文档 ID 1537521.1) « NotBeCN</title>
  <meta name="description" content="             In this Document                   &nbsp;       Abstract                               &nbsp;       History                               &nbsp;...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/19/weixin_33686714_90122679.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">R12 付款过程请求-功能和技术信息 (文档 ID 1537521.1)</h1>
    <p class="post-meta">Nov 19, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><strong>In this Document</strong><br></p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#WP_ABSTRACT" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Abstract</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#WP_DOCHIST" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">History</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#WP_BODY" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Details</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?%3C/p%3E%3Cp%3E_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#aref_section31" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">提交单一付款处理请求</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?%3C/p%3E%3Cp%3E_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#aref_section32" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">付款单据选择-应付账款</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?%3C/p%3E%3Cp%3E_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#aref_section33" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">建立付款-付款</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#aref_section34" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">格式化付款-付款</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#aref_section35" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">确认付款-应付账款</a></td> 
     </tr>
    </tbody>
   </table>
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;font-family:Simsun;font-size:12px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?%3C/p%3E%3Cp%3E_afrLoop=2234450430619177&amp;id=1537521.1&amp;displayIndex=2&amp;_afrWindowMode=0&amp;_adf.ctrl-state=189i723xec_126#REF" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">References</a></td> 
     </tr>
    </tbody>
   </table>
   <hr style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"></p> 
   <h2 style="color:rgb(255,255,255);line-height:1.5;font-size:16px;font-family:verdana, Arial, Helvetica, sans-serif;border-bottom:1px solid rgb(196,209,230);text-transform:uppercase;">APPLIES TO:</h2> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:Simsun;font-size:12px;">Oracle Payables - Version 12.0.0 to 12.1.0 [Release 12.0 to 12.1]</span>
   <br style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:Simsun;font-size:12px;">Information in this document applies to any platform.</span>
   <br style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">
   <h2 style="color:rgb(255,255,255);line-height:1.5;font-size:16px;font-family:verdana, Arial, Helvetica, sans-serif;border-bottom:1px solid rgb(196,209,230);text-transform:uppercase;"> <a name="WP_ABSTRACT" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a>ABSTRACT</h2> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">这篇白皮书提供R12中处理付款的付款过程请求(PPR)的概述。本文包含PPR处理过程的技术细节和此过程中涉及到的不同的表。</p> 
   <h2 style="color:rgb(255,255,255);line-height:1.5;font-size:16px;font-family:verdana, Arial, Helvetica, sans-serif;border-bottom:1px solid rgb(196,209,230);text-transform:uppercase;"> <a name="WP_DOCHIST" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a>HISTORY</h2> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">作者：Gavin Zhang</p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">创建日期 15-MAR-2013</p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">更新日期 15-MAR-2013</p> 
   <h2 style="color:rgb(255,255,255);line-height:1.5;font-size:16px;font-family:verdana, Arial, Helvetica, sans-serif;border-bottom:1px solid rgb(196,209,230);text-transform:uppercase;"> <a name="WP_BODY" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a>DETAILS</h2> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><strong>付款过程请求</strong></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><strong>概要</strong></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">在资金支出页面下。用户能够提交付款过程请求(PPR)产生付款。你能够选择提交单个付款处理请求也能够计划付款处理请求.&nbsp;<br><br> 付款处理请求一共同拥有四步.&nbsp;<br> a) 付款单据选择&nbsp;<br> b) 建立付款&nbsp;<br> c) 格式化付款&nbsp;<br> d) 确认付款&nbsp;<br><br> 付款单据选择和确认付款由应付账款(AP)编码处理，而建立付款和格式化付款是由付款(IBY)编码处理<br><br></p> 
   <a name="aref_section31" style="border-bottom:1px dotted rgb(51,51,51);font-family:Simsun;font-size:12px;"></a>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <h3 style="color:rgb(51,51,51);font-size:14px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">提交单一付款处理请求</h3> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">必填项目- 付款处理请求名称，付款截止日</p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">付款属性子标签下-付款日期。付款汇率类型.&nbsp;<br> 付款处理配置文件和支付银行账户是可选字段.&nbsp;<br><br> 在处理子标签下，选项可用于在单据选择/付款后停止处理，和怎样创建付款指示.&nbsp;<br><br> 验证失败结果子标签下。选择最符合业务需求的关于怎样处理付款单据及发票的验证失败的选项.<br> 点击提交button提交付款处理请求.&nbsp;<br><br></p> 
   <a name="aref_section32" style="border-bottom:1px dotted rgb(51,51,51);font-family:Simsun;font-size:12px;"></a>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <h3 style="color:rgb(51,51,51);font-size:14px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">付款单据选择-应付账款</h3> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">代码: AP_AUTOSELECT_PKG&nbsp;<br><br> 当提交一个付款过程请求时，AP_INV_SELECTION_CRITERIA_ALL表就创建一条记录，该记录的checkrun_name与付款过程请求的名字一致.&nbsp;<br><br> 在选择发票的时候无需指定付款配置文件和支付该笔付款的内部银行账户。提交PPR的用户也不须要知道这些信息。这些值能够在后来的付款管理中提供.&nbsp;<br><br><strong><em><span style="line-height:1.8;">选择:</span></em>&nbsp;<br></strong>依照用户在提交PPR时提供的到期日，折扣日，付款组和其他标准来选择发票。选择过程由调用程序运行。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">被选中的发票存储在表AP_SELECTED_INVOICES_ALL内.<br><br> 未选中的发票存储在表AP_UNSELECTED_INVOICES_ALL内.&nbsp;<br><br><em><span style="line-height:1.8;"><strong>锁定:&nbsp;<br></strong></span></em>选择付款单据后。这些发票就被锁定以防止它们被其它支票选中。PPR的checkrun_id被更新到选中额付款单据的AP_PAYMENT_SCHEDULES_ALL.checkrun_id 中.&nbsp;<br><br><strong><em><span style="line-height:1.8;">复核:</span></em></strong>&nbsp;<br> 假设付款流程请求设置为“在选择计划付款后。停止复核流程”。流程就会停止以供用户复核。PPR的状态变成“发票等待复核”.&nbsp;<br><br> 假设没有启用设置“在选择计划付款后。停止复核流程”，选择发票后。建立程序会自己主动提交.&nbsp;<br><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">假设没有发票符合选择的标准，且没有选中不论什么支付的付款计划，PPR自己主动取消且状态变成“取消-未选中发票”.<br><br> 假设须要用户复核。在用户复核选中的付款计划后点击提交，AP调用IBYBUILD程序.&nbsp;<br><br> 验证状态和活动&nbsp;<br> 在此步骤结束是，有效的状态是&nbsp;<br> a)&nbsp;发票等待复核或&nbsp;<br> b)&nbsp;取消-未选中发票或&nbsp;<br> c)&nbsp;其他显示缺失信息的状态，比方缺失汇率&nbsp;<br><br> 假设PPR的状态是“取消-未选中发票”，则没有有效的行动.&nbsp;<br> 对于其他状态，能够採取的行动有&nbsp;<br> a)&nbsp;结束PPR 或&nbsp;<br> b) 改动/继续提交PPR并启动创建付款流程.&nbsp;<br><br><br></p> 
   <a name="aref_section33" style="border-bottom:1px dotted rgb(51,51,51);font-family:Simsun;font-size:12px;"></a>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <h3 style="color:rgb(51,51,51);font-size:14px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">建立付款-付款</h3> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">代码: IBY_DISBURSE_SUBMIT_PUB_PKG&nbsp;<br><br> 建立付款会在IBY_PAY_SERVICE_REQUESTS插入记录。此记录中call_app_pay_service_req_code = checkrun_name.&nbsp;<br><br> 主键: PAYMENT_SEVICE_REQUEST_ID&nbsp;<br><br> 主要栏位:&nbsp;<br> CALL_AP_PAY_SERVICE_REQ_CODE -&gt; PPR 名称<br> CALLING_APP_ID&nbsp;<br> PAYMENT_SERVICE_REQUEST_STATUS&nbsp;<br> INTERNAL_BANK_ACCOUNT_ID&nbsp;<br> MAXIMUM_PAYMENT_AMOUNT&nbsp;<br> MINIMUM_PAYMENT_AMOUNT&nbsp;<br> DOCUMENT_REJECTION_LEVEL_CODE&nbsp;<br> PAYMENT_REJECTION_LEVEL_CODE&nbsp;<br> REQUIRE_PROP_PMTS_REVIEW_FLAG&nbsp;<br> CREATE_PMT_INSTRUCTIONS_FLAG&nbsp;<br><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">注意：该PPR显示的状态由ibyvutlb.pls 生成</p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">由get_psr_status功能，在看板上显示PPR状态.&nbsp;<br><br> 提供给 PAYMENT_SERVICE_REQUEST_STATUS 的值主要有&nbsp;<br> PAYMENT_SERVICE_REQUEST_STATUS&nbsp;<br> ------------------------------&nbsp;<br> DOCUMENTS_VALIDATED&nbsp;<br> INFORMATION_REQUIRED&nbsp;<br> INSERTED&nbsp;<br> PAYMENTS_CREATED&nbsp;<br> PENDING_REVIEW&nbsp;<br> TERMINATED&nbsp;<br> VALIDATION_FAILED&nbsp;<br><br> 建立付款程序将付款信息存入表IBY_DOCS_PAYABLE_ALL中，并通过栏位PAYMENT_SERVICE_REQUEST_ID连接到付款服务请求表.&nbsp;<br><br> 主要栏位:&nbsp;<br> Payment_service_request_id&nbsp;<br> Calling_app_doc_ref_number -&gt; invoice_number&nbsp;<br> Document_payable_id&nbsp;<br> Document_status&nbsp;<br> Payment_currency_code&nbsp;<br> Payment_amount&nbsp;<br> Document_amount&nbsp;<br> Exclusive_payment_flag&nbsp;<br> Payment_method_code&nbsp;<br> Payment_id&nbsp;<br> Formatting_payment_id&nbsp;<br> Ext_payee_id&nbsp;<br> Payee_party_id&nbsp;<br> Payment_profile_id&nbsp;<br> Internal_bank_account_id&nbsp;<br> Calling_app_doc_unique_ref2 -&gt; invoice_id&nbsp;<br> Calling_app_doc_unique_ref3 -&gt; payment number&nbsp;<br><br><br><em><span style="line-height:1.8;"><strong>a) 内部银行账户/付款流程配置文件(PPP)分配:</strong></span></em>&nbsp;<br> 代码: IBY_ASSIGN_PUB&nbsp;<br><br> 假设付款流程请求有了一个内部银行账号并分配了一个付款配置文件(PPP)，则该PPR内全部的付款单据都被分配了相同的内部银行账号和付款配置文件.&nbsp;<br><br> 假设在提交PPR时没有默认内部银行账号和PPP，ORACLE PAYMENT就会寻找默认值。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">假设找不到全部付款单据的默认值，PPR就会更新为“须要信息”状态。 PPR显示的信息是“须要信息-等待行动”.&nbsp;<br> 用户应该填补缺失的信息再继续执行付款流程.&nbsp;<br><br><strong><em><span style="line-height:1.8;">b)&nbsp;付款单据验证</span></em></strong>&nbsp;<br> 代码: IBY_VALIDATIONSETS_PUB&nbsp;<br><br> 在此过程中，付款用基于验证的付款方法和基于验证的付款格式来验证全部的付款单据.&nbsp;<br><br> b.1 - 假设全部的单据通过验证，全部的单据的状态更新为“已验证”，PPR的状态更新为‘单据已验证’.&nbsp;<br><br> b.2 - 假设验证失败，Oracle Payments使用提交PPR时用到的系统配置选项确定下一步行动.&nbsp;<br><br> 当验证失败时，PPR的DOCUMENT_REJECTION_LEVEL_CODE用下面值确定怎样继续处理付款单据&nbsp;<br> 请求 - 拒绝此PPR的全部付款单据&nbsp;<br> 付款单据 - 仅仅拒绝有错误的付款单据&nbsp;<br> 收款人 - 拒绝与此供应商全部相关的付款单据&nbsp;<br> 无 - 停止请求以供复核&nbsp;<br><br> b.2.1 –&nbsp;请求&nbsp;&nbsp;<br> 付款过程请求的状态更新到“文件验证失败”。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Oracle Payments调出调用程序，AP释放出被拒绝的单据以使另外的付款过程请求能够支付这些单据.&nbsp;<br><br> b.2.2 –&nbsp;付款单据&nbsp;<br> Oracle Payments拒绝全部验证失败的单据。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Oracle Payments调出调用程序，AP释放出被拒绝的单据以使另外的付款过程请求能够支付这些单据。其余的单据的状态更新为“已验证”，PPR的状态更新为“单据已验证”.&nbsp;<br><br> b.2.3 –&nbsp;收款人&nbsp;<br> 假设一个或者多个单据验证失败。则Oracle Payments拒绝该供应商全部的付款单据。Oracle Payments调出调用程序，AP释放被拒绝的单据以使另外的付款过程请求能够支付这些单据。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">其余的单据的状态更新为“已验证”，PPR的状态更新为“单据已验证”.&nbsp;<br><br><strong><em><span style="line-height:1.8;">c)&nbsp;创建付款</span></em></strong>&nbsp;<br> 代码: IBY_PAYGROUP_PUB&nbsp;<br><br> 已验证的付款单据依照分组规则分成建议付款，分组规则包含用户定义和系统默认组成.&nbsp;<br><br> 比如: 假设exclusive_payment_flag = Y，该付款单据需单独支付。 然后对该单据编号（内部识别。不是支票编号）并验证创建的付款.&nbsp;<br><br> 记录插入IBY_PAYMENTS_ALL。该表保存选定的付款单据的付款信息.&nbsp;<br><br> 创建付款程序将与支付该单据有关的付款payment_id和formatting_payment_id值更新表IBY_DOCS_PAYABLE_ALL中.&nbsp;<br><br> 通过栏位payment_service_request_id与IBY_PAYMENTS_ALL关联.&nbsp;<br><br> 主要栏位:&nbsp;<br> Payment_service_request_id&nbsp;<br> Payment_id&nbsp;<br> Payment_method_code&nbsp;<br> Payment_status&nbsp;<br> Payments_complete_flag&nbsp;<br> Payment_amount,&nbsp;<br> Dicount_amount_taken&nbsp;<br> Internal_bank_Account_id&nbsp;<br> Ext_payee_id&nbsp;<br> Payment_instruction_id&nbsp;<br> Payment_profile_id&nbsp;<br> Void_date&nbsp;<br><br> 当验证失败时，PAYMENT_REJECTION_LEVEL_CODE用下面值来确定付款流程怎样继续.<br> 请求 - 拒绝此PPR的全部付款单据<br> 付款单据 - 仅仅拒绝有错误的付款单据<br> 无 - 停止请求以供复核<br><br> 请求 - 整个PPR被拒绝。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Oracle Payments提交一个业务事件调用AP来释放这些付款单据。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">付款流程请求的状态和建议的付款更新为“拒绝”.&nbsp;<br><br> 付款–验证失败的付款将被拒绝。AP释放出属于验证失败的付款的付款单据。接受验证通过的付款。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">被接受的付款的状态更新为“建立”.&nbsp;<br><br> 无 - 验证失败的付款状态更新为“验证失败”，并同意用户的干预。PPR的状态更新为“等待复核”&nbsp;<br><br> 假设在PPR的设置中，启用选项“创建建议付款后。停止流程以复核”。则PPR状态就变更为“等待建议付款复核”。该PPR将暂停以防止进一步的处理直到用户採取行动。假设没有启用此选项，PPR的状态就变成“付款已创建”。这样的状态下，能够创建此PPR的付款指示.</p> 
   <a name="aref_section34" style="border-bottom:1px dotted rgb(51,51,51);font-family:Simsun;font-size:12px;"></a>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <h3 style="color:rgb(51,51,51);font-size:14px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">格式化付款-付款</h3> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">代码: IBY_PAYINTSR_PUB, IBY_CHECKNUMBER_PUB&nbsp;<br><br> 当提交了一个PPR以后。有两种选择&nbsp;<br><br> CREATE_PMT_INSTRUCTIONS_FLAG能够是Y或者N&nbsp;<br> Y – 当付款创建以后，付款指示自己主动生成.&nbsp;<br> N – 应用软件程序等待提交付款指示的标准请求.&nbsp;<br><br> IBY_PAYMENT_INSTRUCTIONS_ALL 存放着付款指示信息.&nbsp;<br><br> 假设PPR设定为自己主动提交指示。payment_service_request_id 就会更新到iby_payment_instructions_all ，程序将给PPR指定付款指示,此时这个付款指示通过 PAYMENT_SERVICE_REQUEST_ID关联到PPR.&nbsp;<br><br> 假设PPR正在处理子标签下设置。用户提交标准请求以建立付款指示。当指示请求提交后，付款指示通过该付款指示所选定的付款与PPR关联。这样的情况下的关联是通过 iby_payments_all.payment_instruction_id来实现的.&nbsp;<br><br> IBY_PAYMENT_INSTRUCTIONS_ALL 中的主要栏位&nbsp;<br> Payment_instruction_id&nbsp;<br> Payment_profile_id&nbsp;<br> Payment_instruction_status&nbsp;<br> Payments_complete_code&nbsp;<br> Payment_count&nbsp;<br> Print_instruction_immed_flag&nbsp;<br> Transmit_instr_immed_flag&nbsp;<br> Internal_bank_account_id&nbsp;<br> Payment_document_id&nbsp;<br> Payment_date&nbsp;<br> Payment_reason_code&nbsp;<br> Payment_currency_code&nbsp;<br><br> 格式化:&nbsp;<br> 格式化步骤发生下面过程.&nbsp;<br><br> a)&nbsp;给付款编号 – 支票编号&nbsp;<br> b)&nbsp;创建XML提取信息&nbsp;<br> c)&nbsp;将提取信息传送至XML publisher&nbsp;<br> d)&nbsp;Oracle XML Publisher (BI publisher) 应用格式模板&nbsp;<br> e)&nbsp;BI publisher 格式化并储存输出信息&nbsp;<br> f) Oracle Payments更新付款指示状态和付款状态。假设成功，付款和付款指示的状态为“格式化”.&nbsp;<br><br> 打印支票:&nbsp;<br> a) 在这一步。用户能够将打印耗材装载到打印机上。打印支票.&nbsp;<br> b)&nbsp;<span style="line-height:1.8;font-size:10px;">确定支票打印是否成功。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">假设不成功。请又一次打印.<span style="line-height:1.8;font-size:10px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br><br></p> 
   <a name="aref_section35" style="border-bottom:1px dotted rgb(51,51,51);font-family:Simsun;font-size:12px;"></a>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <h3 style="color:rgb(51,51,51);font-size:14px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">确认付款-应付账款</h3> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;">代码: AP_PMT_CALLOUT_PKG&nbsp;<br><br> 记录支票的打印状态来确认付款。Oracle Payments调用ap_pmt_callout_pkg.payment_completed确认付款.&nbsp;<br><br> 包含下面步骤:&nbsp;<br> a) 指定序号/值-文件编号.&nbsp;<br> b) 将IBY表中对应数据更新到AP_CHECKS_ALL表中.&nbsp;<br> Checkrun_name =IBY表中的 ppr name 。checkrun_id = IBY表中的checkrun_id.&nbsp;<br> c) 相应支票的数据插入AP_INVOICE_PAYMENTS_ALL表中.&nbsp;<br> d) 发票的AP_PAYMENT_SCHEDULES_ALL更新以显示付款信息和状态.&nbsp;<br> e) 通过设定该付款计划中的checkrun_id为空值，释放PPR支付的付款单据.&nbsp;<br> f)&nbsp;更新AP_INVOICES_ALL表以显示付款状态&nbsp;<br> g)&nbsp;删除 AP_SELECTED_INVOICES_ALL 表中的数据&nbsp;<br> h)&nbsp;删除 AP_UNSELECTED_INVOICES_ALL 表中的数据&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Simsun;font-size:12px;"><br></p> 
   <p><font color="#333333"><span style="font-size:12px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/5087144.html，如需转载请自行联系原作者</span></font></p> 
   <div>
    <br>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
