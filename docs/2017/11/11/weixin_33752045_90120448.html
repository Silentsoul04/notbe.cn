<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>.NET ORM 的 “SOD蜜”--零基础入门篇 « NotBeCN</title>
  <meta name="description" content="             PDF.NET SOD框架不仅仅是一个ORM,但是它的ORM功能是独具特色的,我在博客中已经多次介绍,但都是原理性的,可能不少初学的朋友还是觉得复杂,其实,SOD的ORM是很简单的。下面我们就采用流行的 Code First的方式，一步步来了解下。    一、准备工作    1.1，添加...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/11/weixin_33752045_90120448.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">.NET ORM 的 “SOD蜜”--零基础入门篇</h1>
    <p class="post-meta">Nov 11, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">PDF.NET SOD框架不仅仅是一个ORM,但是它的ORM功能是独具特色的,我在博客中已经多次介绍,但都是原理性的,可能不少初学的朋友还是觉得复杂,其实,SOD的ORM是很简单的。下面我们就采用流行的 Code First的方式，一步步来了解下。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">一、准备工作</h1> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">1.1，添加SOD包引用</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">首先建立一个控制台项目（<span style="color:rgb(0,0,255);">支持.NET2.0的项目</span>），并使用程序包管理器添加PDF.NET SOD的程序引用：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="color:rgb(204,255,204);">PM&gt; Install-Package PDF.NET.SOD</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">更多详细使用信息说明，请参考nuget 网站说明&nbsp;<a href="https://www.nuget.org/packages/PDF.NET/" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">https://www.nuget.org/packages/PDF.NET/</a></p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">1.2，配置数据连接</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">新建一个控制台项目，添加一个应用程序配置文件，增加一个数据库连接配置：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;?<span style="color:rgb(255,0,255);line-height:1.5;">xml version="1.0" encoding="utf-8" <span style="color:rgb(0,0,255);line-height:1.5;">?&gt; <span style="line-height:1.5;">&lt;<span style="color:rgb(128,0,0);line-height:1.5;">configuration<span style="color:rgb(0,0,255);line-height:1.5;">&gt; <span style="line-height:1.5;">&lt;<span style="color:rgb(128,0,0);line-height:1.5;">connectionStrings<span style="color:rgb(0,0,255);line-height:1.5;">&gt; <span style="line-height:1.5;">&lt;<span style="color:rgb(128,0,0);line-height:1.5;">add <span style="color:rgb(255,0,0);line-height:1.5;">name<span style="color:rgb(0,0,255);line-height:1.5;">="local"<span style="color:rgb(255,0,0);line-height:1.5;"> connectionString<span style="color:rgb(0,0,255);line-height:1.5;">="Data Source=.;Initial Catalog=LocalDB;Integrated Security=True"<span style="color:rgb(255,0,0);line-height:1.5;"> providerName<span style="color:rgb(0,0,255);line-height:1.5;">="SqlServer" <span style="line-height:1.5;">/&gt; <span style="line-height:1.5;">&lt;/<span style="color:rgb(128,0,0);line-height:1.5;">connectionStrings<span style="color:rgb(0,0,255);line-height:1.5;">&gt; <span style="line-height:1.5;">&lt;/<span style="color:rgb(128,0,0);line-height:1.5;">configuration<span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">上面的连接字符串要求你本地已经安装SqlServer,框架兼容2000以上所有版本，有一个数据库名字是 LocalDB。当然你也可以修改成你实际的连接字符串。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">之后，我们的查询示例，都将采用这个连接配置。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">注意：最新版本的SOD框架，如果使用的是SqlServer，并且连接字符串指定了数据库名字但实际上没有这个数据库，<span style="color:rgb(0,0,255);">框架可以自动创建数据库</span>，此功能需要SOD的Code First功能支持，请参考下面“<span style="text-decoration:underline;">1.5 ，创建数据库表</span>”的功能。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="color:rgb(0,0,255);">SOD框架最基本的配置，仅需要这一个地方,这比起EF来说要简单。</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="color:rgb(0,0,255);">如果是SqlServer +EF Code First方式的连接配置,SOD框架也可以使用它这个连接字符串的。</span></p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">1.3，定义实体类</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">我们将使用最常见的用户登录来举例，这里需要一个用户实体类，假设它的定义是下面这个样子的：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border-width:1px;border-style:solid;border-color:#808080;font-size:12px;line-height:1.5;">View Code</span> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在上面的定义中，构造函数内指明了 IdentityName = "UserID";这表示当前实体类对应的表有一个叫做 UserID的自增列，每当插入实体类后，可以通过该自增列对应的属性获取到新插入的自增ID的值。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">另外，我们发现每个实体类的属性中，都是这样的写法：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> ID
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);line-height:1.5;">return</span> getProperty&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt;(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">UserID</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">); }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">set</span> { setProperty(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">UserID</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">, value); }
        }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">属性内 getProperty ,setProperty 方法内的第一个参数，就是属性对应的字段名字。<br> 所以，这样的属性，SOD框架称为“<span style="color:rgb(0,0,255);"><strong>持久化属性</strong></span>”。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">可以看到，SOD实体类还是比较简单的，它没有使用特性来申明数据库信息，这意味着你可以在运行时修改实体类影射的主键，自增字段，表名称等数据库元数据，并且不需要反射，这些特性构成了SOD框架简单而强大的基础。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">1.4，添加查询对象的数据上下文</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在项目中添加一个 LocalDbContext.cs 文件，文件中添加如下代码，以便检查表 Tb_User 是否存在，如果不存在，则自动创建一个：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
 <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 用来测试的本地SqlServer 数据库上下文类
 </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> LocalDbContext : DbContext
  {
      </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span><span style="line-height:1.5;"> LocalDbContext()
          : </span><span style="color:rgb(0,0,255);line-height:1.5;">base</span>(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">local</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">) 
      {
          </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">local 是连接字符串名字</span>
<span style="line-height:1.5;">      }

      </span><span style="color:rgb(0,0,255);line-height:1.5;">#region</span> 父类抽象方法的实现

      <span style="color:rgb(0,0,255);line-height:1.5;">protected</span> <span style="color:rgb(0,0,255);line-height:1.5;">override</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span><span style="line-height:1.5;"> CheckAllTableExists()
      {
          </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">创建用户表</span>
          CheckTableExists&lt;User&gt;<span style="line-height:1.5;">();
          </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">;
      }

      </span><span style="color:rgb(0,0,255);line-height:1.5;">#endregion</span><span style="line-height:1.5;">
   }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">本例中使用SqlServer 作为查询示例，程序会自动使用 SqlServerDbContext 密封类来进行内部协作处理，但这取决于你的AdoHelper实例类型，如果是Oracle，则内部使用的是OracleDbContext 密封类。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="text-decoration:underline;">如果你不需要ORM的 Code First功能，这个 DbContext 实现类是不需要写的。</span></p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">1.5，创建数据库表</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">OK，基本准备就绪，现在Main 方法里面可以写下面的代码开始工作了：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>LocalDbContext context = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> LocalDbContext();<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">自动创建表</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">准备工作全部完成，运行这一句代码，之后查看SqlServer管理工具，发现表 Tb_User 已经创建了。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/114517/201503/012331100345418.png" alt="" style="border:0px;"></p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">二、ORM之增，删，改</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">SOD框架的ORM功能跟通常的ORM框架不同，SOD框架的实体类上并没有数据查询和持久化的方法，所以SOD的实体类是“非常纯粹的”实体类，你可以把它看作是一个数据容器，或者用来当作DTO，ViewModel使用，有关这个话题更详细的阐述，请看这篇文章：《<a id="homepage1_HomePageDays_DaysList_ctl02_DayList_TitleUrl_0" href="http://www.cnblogs.com/bluedoctor/p/4286707.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">DataSet的灵活,实体类的方便，DTO的效率：SOD框架的数据容器，打造最适合DDD的ORM框架</a>》。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在进行真正的数据查询之前，得先有数据，所以我们先测试数据的增删改。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.1，删除数据</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">首先删除之前的测试数据，可以采用OQL进行批量数据删除：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">int</span> count = <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">;

</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">删除 测试数据-----------------------------------------------------</span>
User user = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> User();
OQL deleteQ </span>=<span style="line-height:1.5;"> OQL.From(user)
                .Delete()
                .Where(cmp </span>=&gt; cmp.Comparer(user.ID, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">&gt;</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,128);line-height:1.5;">0</span>)) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">为了安全，不带Where条件是不会全部删除数据的</span>
<span style="line-height:1.5;">             .END;
count</span>= EntityQuery&lt;User&gt;.ExecuteOql(deleteQ, context.CurrentDataBase);</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这里将用户ID 大于0的数据全部删除了，框架内置了数据安全机制，不会随意删除全部数据，所以为了清除全部数据，采用了上面的方法。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.2，增加数据</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">方式1，采用DbContext 的Add 方法：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>            count = <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">;
            User zhang_san </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> User() { Name = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang san</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, Pwd = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">123</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };
            count </span>+= context.Add&lt;User&gt;(zhang_san);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">采用 DbContext 方式插入数据</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">方式2，采用OQL：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>            User li_si = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> User() { Name = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">li si</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, Pwd = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">123</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };
            OQL insertQ</span>=<span style="line-height:1.5;"> OQL.From(li_si)
                            .Insert(li_si.Name);</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">仅仅插入用户名，不插入密码</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">OQL还需EntityQuery 对象配合，才可以执行，继续看下面的代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre> AdoHelper db = MyDB.GetDBHelperByConnectionName(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">local</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
 EntityQuery</span>&lt;User&gt; userQuery = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> EntityQuery&lt;User&gt;<span style="line-height:1.5;">(db);
 count </span>+= userQuery.ExecuteOql(insertQ);</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面是结果图：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/114517/201503/012332212685123.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">方式3，直接EntityQuery 插入实体类：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre> User zhang_yeye = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> User() { Name = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang yeye</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, Pwd = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">456</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };
 count </span>+= EntityQuery&lt;User&gt;.Instance.Insert(zhang_yeye);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">采用泛型 EntityQuery 方式插入数据</span></pre>
   </div> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.3，修改数据：</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">方式1，采用 DbContext 方式更新数据</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre> li_si.Pwd = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">123123</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
 count </span>= context.Update&lt;User&gt;(li_si);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">采用 DbContext 方式更新数据</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">方式2，采用OQL方式更新指定的数据</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre> li_si.Pwd = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">123456</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
OQL updateQ</span>=<span style="line-height:1.5;"> OQL.From(li_si)
                .Update(li_si.Pwd) </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">仅仅更新密码</span>
<span style="line-height:1.5;">             .END;
count </span>+= EntityQuery&lt;User&gt;.Instance.ExecuteOql(updateQ);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">采用OQL方式更新指定的数据</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">方式3，采用泛型 EntityQuery 方式修改数据</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>  li_si.Pwd = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">888888</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
  count </span>+= EntityQuery&lt;User&gt;.Instance.Update(li_si);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">采用泛型 EntityQuery 方式修改数据</span></pre>
   </div> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">&nbsp;三、ORM之数据查询</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">前面增删改数据完成了，现在有了测试数据，我们可以来进行ORM的数据查询测试了，这里使用用户登录的例子来测试，框架提供了6种数据查询方式。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">&nbsp;3.1，最简单的方法</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">假设前端直接传递了一个 User 实体类对象，中间设置了用户名和密码，现在有一个登录方法使用该对象，该方法详细内容如下所示：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>       <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户对象来登录，OQL最简单最常见的使用方式
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="user"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span><span style="line-height:1.5;"> Login(User user)
        {
            OQL q </span>=<span style="line-height:1.5;"> OQL.From(user)
                .Select()
                .Where(user.Name, user.Pwd) </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">以用户名和密码来验证登录</span>
<span style="line-height:1.5;">            .END;

            User dbUser </span>=q.ToEntity&lt;User&gt;();<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">ToEntity，OQL扩展方法 </span>
            <span style="color:rgb(0,0,255);line-height:1.5;">return</span> dbUser != <span style="color:rgb(0,0,255);line-height:1.5;">null</span>; <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询到用户实体类，表示登录成功</span>
        }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这里我们使用了SOD框架的ORM查询语言--OQL，它的结构非常类似于SQL，你可以认为OQL就是对象化的SQL语句。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">OQL表达式采用 .From.....END 的语法，对象的链式方法调用，只要敲点出来的就是正确的，这样没有SQL基础的同学也可以很快掌握该查询语法，也能马上作数据开发。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">注意：在本例中，使用了OQL的扩展方法，因此需要引用下面的名字空间：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">using</span> PWMIS.Core.Extensions;</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">如果不使用扩展方法，可以采用泛型EntityQuery 的方法，请看下面的示例。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">3.2，使用 OQLCompare 对象的 EqualValue 相等比较方式</h2> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户对象来登录，但是使用 OQLCompare 对象的 EqualValue 相等比较方式 
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="user"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span><span style="line-height:1.5;"> Login1(User user)
        {
            OQL q </span>=<span style="line-height:1.5;"> OQL.From(user)
                 .Select(user.ID) </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">仅查询一个属性字段 ID</span>
                 .Where(cmp =&gt; cmp.EqualValue(user.Name) &amp;<span style="line-height:1.5;"> cmp.EqualValue(user.Pwd))
              .END;

            User dbUser </span>= EntityQuery&lt;User&gt;<span style="line-height:1.5;">.QueryObject(q);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> dbUser != <span style="color:rgb(0,0,255);line-height:1.5;">null</span>; <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询到用户实体类，表示登录成功</span>
        }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">跟例1一样，这里也要求user 对象的Name和Pwd属性必须事先有值。本例没有使用OQL的扩展方法。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">3.3，&nbsp;EntityQuery 泛型查询方法</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">本例只是对例子1做了下改进，重点在于登录方法的参数不是用户对象，而是名字和密码参数。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>       <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户名密码参数来登录，采用 EntityQuery 泛型查询方法
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="name"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="pwd"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> Login2(<span style="color:rgb(0,0,255);line-height:1.5;">string</span> name, <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> pwd)
        {
            User user </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> User()
            {
                Name </span>=<span style="line-height:1.5;"> name,
                Pwd </span>=<span style="line-height:1.5;"> pwd
            };

            OQL q </span>=<span style="line-height:1.5;"> OQL.From(user)
                .Select(user.ID)
                .Where(user.Name, user.Pwd)
            .END;
            User dbUser </span>= EntityQuery&lt;User&gt;<span style="line-height:1.5;">.QueryObject(q);

            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> dbUser != <span style="color:rgb(0,0,255);line-height:1.5;">null</span>; <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询到用户实体类，表示登录成功</span>
        }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">3.4，使用OQLConditon 对象为查询条件</h2> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>       <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户名密码参数来登录，使用早期的实例化OQL对象的方式，并使用OQLConditon 对象为查询条件
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="name"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="pwd"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> Login3(<span style="color:rgb(0,0,255);line-height:1.5;">string</span> name, <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> pwd)
        {
            User user </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> User();
            OQL q </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> OQL(user);
            q.Select(user.ID).Where(q.Condition.AND(user.Name, </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">=</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, name).AND(user.Pwd, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">=</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">, pwd));

            User dbUser </span>= EntityQuery&lt;User&gt;<span style="line-height:1.5;">.QueryObject(q);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> dbUser != <span style="color:rgb(0,0,255);line-height:1.5;">null</span>; <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询到用户实体类，表示登录成功</span>
        }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这是OQL早期的条件查询方式，缺点是没法构造复杂的查询条件。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">&nbsp;3.5，操作符重载</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">OQLCompare 的操作符重载可以简化比较条件，如下所示：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>       <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户名密码参数来登录，并使用操作符重载的查询条件比较方式
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="name"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="pwd"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> Login4(<span style="color:rgb(0,0,255);line-height:1.5;">string</span> name, <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> pwd)
        {
            User user </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> User();

            OQL q </span>=<span style="line-height:1.5;"> OQL.From(user)
                  .Select()
                  .Where( cmp </span>=&gt; cmp.Property(user.Name) ==<span style="line-height:1.5;"> name 
                               </span>&amp; cmp.Property(user.Pwd)  ==<span style="line-height:1.5;"> pwd  )
               .END;

            User dbUser </span>= EntityQuery&lt;User&gt;<span style="line-height:1.5;">.QueryObject(q);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> dbUser != <span style="color:rgb(0,0,255);line-height:1.5;">null</span>; <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询到用户实体类，表示登录成功</span>
        }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">&nbsp;3.6，使用泛型OQL查询（GOQL）</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">使用泛型OQL查询（GOQL），对于单实体类查询最简单的使用方式，缺点是不能进行“连表查询”，即多个实体类联合查询。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户名密码参数来登录，使用泛型OQL查询（GOQL），对于单实体类查询最简单的使用方式。
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="name"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="pwd"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> Login5(<span style="color:rgb(0,0,255);line-height:1.5;">string</span> name, <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> pwd)
        {
            User dbUser </span>= OQL.From&lt;User&gt;<span style="line-height:1.5;">()
                 .Select()
                 .Where((cmp, user) </span>=&gt; cmp.Property(user.Name) ==<span style="line-height:1.5;"> name 
                                     </span>&amp; cmp.Property(user.Pwd)  ==<span style="line-height:1.5;"> pwd  )
            .END
            .ToObject();

            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> dbUser != <span style="color:rgb(0,0,255);line-height:1.5;">null</span>; <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询到用户实体类，表示登录成功</span>
        }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"> <br> 3.7，使用实体类主键来查询</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">SOD实体类的“主键”字段是可以修改的，这样你可以随时修改它，就像实体类本来的主键一样，用它来填充数据，本例就是判断是否填充成功当前实体类来判断用户是否可以登录。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>       <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用用户名密码参数来登录，但是根据实体类的主键来填充实体类并判断是否成功。
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="name"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="pwd"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> Login6(<span style="color:rgb(0,0,255);line-height:1.5;">string</span> name, <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> pwd)
        {
            User user </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> User();
            user.PrimaryKeys.Clear();
            user.PrimaryKeys.Add(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Name</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            user.PrimaryKeys.Add(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Pwd</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);

            user.Name </span>=<span style="line-height:1.5;"> name;
            user.Pwd </span>=<span style="line-height:1.5;"> pwd;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">bool</span> result= EntityQuery&lt;User&gt;.Fill(user);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">静态方法，使用默认的连接对象</span>
            <span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> result;
        }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"> <br> 3.8，查询多条数据</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">前面的例子都只是查询一条数据，如果需要查询多条数据也很简单，参见下面的例子，如何查询所有姓 zhang 的用户：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 模糊查询用户，返回用户列表，使用OQLCompare 委托
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="likeName"&gt;</span><span style="color:rgb(0,128,0);line-height:1.5;">要匹配的用户名</span><span style="color:rgb(128,128,128);line-height:1.5;">&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;</span><span style="color:rgb(0,128,0);line-height:1.5;">用户列表</span><span style="color:rgb(128,128,128);line-height:1.5;">&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> List&lt;User&gt; FuzzyQueryUser(<span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> likeName)
        {
            User user </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> User();
            OQL q </span>=<span style="line-height:1.5;"> OQL.From(user)
              .Select()
              .Where(cmp </span>=&gt; cmp.Comparer(user.Name, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">like</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, likeName+<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">) )
            .END;

            List</span>&lt;User&gt; users = EntityQuery&lt;User&gt;<span style="line-height:1.5;">.QueryList(q);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> users;
        }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">前端调用：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询列表</span>
<span style="color:rgb(0,0,255);line-height:1.5;">var</span> users=service.FuzzyQueryUser(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">模糊查询姓 张 的用户，数量:{0}</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>,users.Count );</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">所以，查询多条数据，仅需要使用泛型 EntityQuery对象的QueryList 方法即可。同样，框架也为你提供了OQL对象扩展方法来直接查询列表数据。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">3.9，实体类联合查询</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这里不再举例，我的博客文章也多次说明过，请参考下面这个系列文章：</p> 
   <div class="postTitl2" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <a id="PostsList1_rpPosts_TitleUrl_2" href="http://www.cnblogs.com/bluedoctor/p/3225176.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">ORM查询语言（OQL）简介--高级篇（续）：庐山真貌</a>&nbsp;
    <span class="postDesc2">深蓝医生 2013-07-30 16:54 阅读:4497 评论:41&nbsp;&nbsp;</span> 
   </div> 
   <div class="postText2" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">
    &nbsp;
   </div> 
   <div class="PostList" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <div class="postTitl2"> 
     <a id="PostsList1_rpPosts_TitleUrl_3" href="http://www.cnblogs.com/bluedoctor/p/3216755.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">ORM查询语言（OQL）简介--高级篇：脱胎换骨</a>&nbsp;
     <span class="postDesc2">深蓝医生 2013-07-26 17:26 阅读:3274 评论:28&nbsp;&nbsp;</span> 
    </div> 
    <div class="postText2">
     &nbsp;
    </div> 
   </div> 
   <div class="PostList" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <div class="postTitl2"> 
     <a id="PostsList1_rpPosts_TitleUrl_4" href="http://www.cnblogs.com/bluedoctor/archive/2013/04/01/2992981.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">ORM查询语言（OQL）简介--实例篇</a>&nbsp;
     <span class="postDesc2">深蓝医生 2013-04-01 14:56 阅读:5108 评论:16&nbsp;&nbsp;</span> 
    </div> 
    <div class="postText2">
     &nbsp;
    </div> 
   </div> 
   <div class="PostList" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <div class="postTitl2"> 
     <a id="PostsList1_rpPosts_TitleUrl_5" href="http://www.cnblogs.com/bluedoctor/archive/2012/10/06/2712699.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">ORM查询语言（OQL）简介--概念篇</a>&nbsp;
     <span class="postDesc2">深蓝医生 2012-10-06 00:58 阅读:4657 评论:25&nbsp;&nbsp;</span> 
    </div> 
    <div class="postTitl2">
     &nbsp;
    </div> 
   </div> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">四、SOD框架的设计原则</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;ＳＯＤ框架的整个设计都采用了“<strong>条条道路通罗马</strong>”的原则，即多模式解决方案，对数据的开发不管是SQL-MAP ,ORM,Data Control 哪种模式都可以“<strong>殊途同归</strong>”，对于ＯＱＬ，这个也得到了充分的体现，比如上面的用户登录功能，使用了7 种方式来实现，实际上还有3中查询方式本篇文章没有做成说明；而对于实体类的增，删，改，分别又提供了DbContext,OQL,泛型EntityQuery 等多种方式。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">所以，SOD框架的使用非常灵活，你可以根据你的偏好，习惯，环境，来灵活使用，而且也容易扩展，因此，相对于EF这样的ORM框架来，SOD框架的ORM功能没有任何束缚，它<span style="text-decoration:underline;">自由，灵活，而且轻量，容易扩展</span>，但不妨碍它的强大，比如对于分表分库的查询，数据的批量更新插入修改，数据库锁的直接支持等这些“企业级”数据开发需求的支持。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">五、相关资源</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">本篇文章的源码，已经上传在了框架的开源项目 pwmis.codeplex.com 网站上，可以通过下面的地址查看完整的源码：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><a href="http://pwmis.codeplex.com/SourceControl/latest#SOD/Test/SampleORMTest/Program.cs" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://pwmis.codeplex.com/SourceControl/latest#SOD/Test/SampleORMTest/Program.cs</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">源码下载，可以在下面的地址查看：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><a href="http://pwmis.codeplex.com/releases/view/117822" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://pwmis.codeplex.com/releases/view/117822</a>&nbsp;<img class="FileTypeImage" src="https://download-codeplex.sec.s-msft.com/Images/v20959/Example.gif" alt="Example" style="border:0px;vertical-align:middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="fileDownload5" class="FileNameLink" href="https://pwmis.codeplex.com/downloads/get/1435182" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">简单ORM示例程序--新手必读</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">有关框架更详细而完整的入门指引，请参考下面这篇文章：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><a id="homepage1_HomePageDays_DaysList_ctl01_DayList_TitleUrl_0" href="http://www.cnblogs.com/bluedoctor/p/4290570.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">PDF.NET SOD 开源框架红包派送活动 &amp;&amp; 新手快速入门指引</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">更多完整而详细的信息，请看框架官网地址：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><a href="http://www.pwmis.com/sqlmap" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://www.pwmis.com/sqlmap</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">框架已经完全开源，参看这篇文章：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><a id="homepage1_HomePageDays_DaysList_ctl03_DayList_TitleUrl_0" href="http://www.cnblogs.com/bluedoctor/p/4273610.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">一年之计在于春，2015开篇：PDF.NET SOD Ver 5.1完全开源</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">另外,网友 广州-四糸奈 在他的"惊鸿哥的港湾"写了一篇基础入门介绍文章《<a href="http://jhonge.net/home/single2/1768" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">PDF.NET最初等入门</a>》，推荐大家看看。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 网友 广州-银古 写了一篇《<a href="http://www.cnblogs.com/znlgis/p/5820104.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">SOD让你的旧代码焕发青春</a>》，讲述了如何改造老式僵化项目的过程，推荐大家看看。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">六、最新源码资源地址</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> CodePlex online :&nbsp;<a href="http://pwmis.codeplex.com/SourceControl/latest" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://pwmis.codeplex.com/SourceControl/latest</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">CodePlex SVN :&nbsp;<a href="https://pwmis.codeplex.com/svn" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">https://pwmis.codeplex.com/svn</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">GitHub :&nbsp;<a href="https://github.com/znlgis/PDF.NET-SOD" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">https://github.com/znlgis/PDF.NET-SOD</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">OSChina :&nbsp;<a href="http://git.oschina.net/dxzyx/SOD" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://git.oschina.net/dxzyx/SOD</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br></p> 
   <p><font><span style="font-size:15px;">&nbsp; &nbsp; 本文转自深蓝医生博客园博客，原文链接：http://www.cnblogs.com/bluedoctor/p/4306131.html</span></font><span style="font-size:15px;font-family:Verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者</span></p> 
   <div>
    <br>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
