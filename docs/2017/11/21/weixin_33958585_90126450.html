<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Linux命令大全 « NotBeCN</title>
  <meta name="description" content="             　　　　　　　　　　　　　　　　　　　　　　　　　　　　第一章、linux 的介绍和安装 1.1 linux 操作系统介绍 linux 的创始人 Linus torvalds。 linux 与 GNU 和 minix linux 与 windows linux 与 unix（POSIX ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/21/weixin_33958585_90126450.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Linux命令大全</h1>
    <p class="post-meta">Nov 21, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　<span style="font-size:18pt;"><strong>第一章、linux 的介绍和安装</strong></span><br> 1.1 linux 操作系统介绍<br> linux 的创始人 Linus torvalds。<br> linux 与 GNU 和 minix<br> linux 与 windows<br> linux 与 unix（POSIX 标准）<br> linux 的版本号<br> linux 的优点<br> 1.2 linux 操作系统的安装<br> 1.2.1 linux 的常见发行版本<br> redhat：advanced standard 5 ； Enterprise standard 5 ；workstation standard<br> fedora： fedora 10<br> Ubuntu：ubuntu 8.10<br> OpenSUSE：opensuse 11.0<br> redflag：redflag 7<br> asianux: asianux 3.0<br> 1.2.2 linux 的安装过程<br> 1、两种安装模式，以及读取信息文件<br> 2、在时间选项中强调 UTC 时间和 GMT 时间<br> 3、root 等同 administrator<br> 4、定制安装包组，以及简述包之间的依赖关系<br> 5、安装完成之后的 gnome 和 KDE 界面<br> 1.3 linux 操作系统的简单应用<br> 1.3.1 linux 的文本模式介绍<br> [root@localhost ~]<br> 第一列 root 代表当前用户<br> 第二列 localhost 代表主机名<br> 第三列~代表当前所在的目录 ~家目录 home 目录<br> linux 的命令可以补全 可以不全目录和文件名，如果不能补全双击 tab 键可以显示出要选择的命令<br> 1.3.2 linux 的登陆与登出<br> login 登入系统<br> logout 登出系统<br> exit 注销当前用户<br> clear 清屏命令<br> 1.3.3 linux 的关机<br> shutdown 关机命令<br> shutdown now 立即进入维护模式<br> halt 直接关机<br> shutdown -h now 立即关机<br> shutdown -r now 立即重新启动计算机<br> shutdown -h 20:00&amp; 20:00 关闭计算机<br> shutdown -r 20:00&amp; 20:00 重新启动计算机<br> shutdown -k 3 warning:system will shutdown! 只是发送消息给所以用户 3 分钟后进入维护模式<br> shutdown +3 "system will shutdown after 3 minutes!" 发送消息给所以用户 3 分钟后进入系统维护模式<br> 1.3.4 linux 的 Init 进程<br> Init 是 Linux 操作系统中不可缺少的程序之一。init 进程是 Linux 内核引导运行的，是系统中的第一个进程，其进程号（PID）永远为 1。<br> #0 停机(千万不能把 initdefault 设置为 0)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　#1 单用户模式<br> #2 多用户，没有 NFS(和级别 3 相似，会停止部分服务)<br> #3 完全多用户模式<br> #4 没有用到<br> #5 x11(Xwindow)<br> #6 重新启动(千万不要把 initdefault 设置为 6)<br> 1.3.5 查看 linux 系统信息<br> hostname 显示主机名<br> hostname eduask 修改主机名为 eduask<br> uname 显示系统及版本信息<br> -a 显示系统及版本的所有信息<br> -s 显示内核名称<br> -n 显示网络节点名称（完整的计算机名称）<br> -r 显示内核发行版本<br> -v 显示内核版本信息<br> -m 显示计算机类型<br> -o 显示操作系统的类型<br> --version 显示系统发行版本信息<br> --help 系统命令的帮助信息和参数含义<br> 1.3.6 linux 下查看用户信息<br> whoami 显示当前用户<br> who 当前系统所登陆的用户，以及所登录的控制台<br> w 当前系统所登陆的用户，以及所登录的控制台的详细信息</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　<span style="font-size:18pt;"><strong>　　第二章、linux 的常用命令</strong></span><br> 2.1.1 改变目录 cd<br> 目录的表达方法<br> /根目录<br> .当前目录<br> .. 上一级目录<br> ~家目录<br> #cd / 进入到系统根目录<br> #cd . 进入当前目录<br> #cd .. 进入当前目录的父目录，返回上层目录<br> #cd /tmp 进入指定目录/tmp<br> #cd ~ 进入当前用户的家目录<br> #cd 进入当前用户的家目录<br> #cd - 回到刚才所在的目录<br> 2.1.2 显示当前所在目录 pwd<br> pwd 显示当前所在目录的路径<br> 2.1.3 显示文件或目录的属性 ls （dir）<br> #dir 显示当前目录的内容（无颜色）<br> #ls 显示当前目录的内容(有颜色)<br> #ls /tmp 显示指定目录/tmp 的内容<br> #ls -l 列出文件和文件夹的基本属性和详细信息<br> #ll 列出文件和文件夹的基本属性和详细信息<br> #ls -a 列出当前目录的全部内容，包括隐藏文件（在文件和文件夹前面加“.”隐藏）<br> #ls -l -a 列出当前目录的全部文件和文件夹的基本属性和详细信息<br> #ls -la 列出当前目录的全部文件和文件夹的基本属性和详细信息<br> #ll -a 列出当前目录的全部文件和文件夹的基本属性和详细信息<br> #ls -A 列出当前目录的全部内容，包括隐藏文件，不显示“.”和“..”<br> #ls --help 列出 ls 命令的帮助内容<br> #ls a2* 列出以 a2 开头的文件和文件夹<br> #ls -l a2* 列出以 a2 开头的文件和文件夹的基本属性和详细信息<br> 文件和文件夹（蓝色代表目录， 白色代表文件，黄色代表设备文件，红色代表压缩文件，绿色代表可执行文件，浅蓝色代表链接文件）linux 是以属性来控制文件是否能执行。<br> 2.1.4 创建目录 mkdir　<br> mkdir dir1 在当前目录下创建 dir 子目录<br> mkdir /tmp/dir2 在指定目录/tmp 下创建 dir2 子目录<br> mkdir -p dir3/dir4 在当前目录下创建 2 级目录 dir3 和其子目录 dir4<br> mkdir -p /dir5/dir6 在根目录下创建 2 级目录 dir5 和其子目录 dir6<br> mkdir dir7 dir8 dir9 在当前目录下创建 3 个目录 dir7 dir8 dir9，以空格隔开<br> 2.1.5 创建空文本文件 touch<br> #touch file1 在当前目录下创建 file1 文件<br> #touch /tmp/file2 在指定目录/tmp 下创建 file2 文件<br> 2.1.6 复制文件命令 cp<br> #cp file2 /tmp 复制 file2 文件到/tmp 目录下<br> #cp /tmp/file2 /home 复制/tmp/file2 文件到/home 目录下<br> #cp /home/file2 /tmp/file3 复制/home/file2 到/tmp 目录下并改名为 file3<br> #cp -p /tmp/file3 /home 复制/tmp/file3 到/home 目录下并复制文件属性<br> #cp -r /dir5 /tmp 复制/dir5 目录到/tmp 下<br> 2.1.7 移动文件或目录命令 mv<br> #mv file4 /tmp 移动 file4 文件到/tmp 目录下<br> #mv /home/file3 /tmp 移动/home/file3 文件到/tmp 目录下</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　#mv /home/file3 /tmp/file5 移动/home/file3 文件到/tmp 目录下并改名为 file5<br> #mv file3 file4 将 file3 改名为 file4<br> #mv dir10 /tmp 移动目录到/tmp 下<br> #mv dir10 dir11 讲 dir10 目录改名为 dir11<br> 2.1.8 删除文件命令 rm<br> #rm file1 删除文件 file1<br> #rm -f file1 不用确认直接删除 file1<br> #rm -f file1 file2 file3 不用确认同时删除多个文件<br> #rm /tmp/file1 删除指定目录/tmp 下的文件 file1<br> #rm fi* 删除以 fi 开头的文件<br> #rmdir 删除空目录<br> #rm -r dir 递归的方式删除非空目录 dir<br> #rm -rf dir 不用确认直接删除非空目录 dir<br> 2.1.9 查看文件内容命令 cat<br> #cat /etc/passwd 查看/etc/passwd 文件<br> #cat /etc/passwd |more 分屏查看文件内容<br> #cat /etc/passwd |less 分屏查看文件内容，可以上下翻页，“q”退出<br> 2.1.10 查找文件命令 find<br> #find pass* 在当前目录下查找以 pass 开头的文件<br> #find /etc/pass* 在/etc 目录中查找以 pass 开头的文件<br> #find /etc/pass* -print 在/etc 目录中查找以 pass 开头的文件，并显示出来<br> 2.1.11 在文件内容中查找关键字 grep<br> #grep “rpm” /etc/passwd 在/etc/passwd 文件中查找关键字 rpm<br> 2.2 vi 文本编辑器<br> 2.2.1 vi 的两种模式<br> 1、命令模式 vi 的默认进入状态（不可以输入字符，但可以对字符进行操作，复制，移动、删除等操作）<br> 2、输入模式 输入字符状态（只可以输入和使用 del 和退格 backspace 键删除文字）<br> 2.2.2 vi 的启动和退出<br> #vi file 编辑 file 文件<br> #vi /tmp/file1 编辑指定目录/tem 下的 file1 文件<br> :w 保存修改<br> :q 退出 vi<br> :wq 保存并退出<br> :q! 强行退出 vi，不保存修改<br> 2.2.3 vi 命令模式下的操作<br> ：set nu 设置行号<br> ：set nonu 取消设置行号<br> 删除字符<br> x 键或 del 键<br> 7x 删掉光标后面的 7 个字符<br> dw 删除一个词（剪切）<br> dd 删除行（剪切）<br> 4dd 删除 4 行（剪切）<br> 复制操作<br> yw 复制一个词<br> yy 复制光标所在的行<br> 4yy 复制光标所在行的下面 4 行</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　粘贴操作<br> p 粘贴在光标所在的下一行（如果粘贴词的话，粘贴在光标字符的后面）<br> 撤销操作<br> u 撤销，可以撤销到最近的一次保存的状态<br> ：e! 恢复到文档的初始状态<br> 光标快速定位<br> G 光标到达行末<br> 7G 快速找到第 7 行<br> /adm 简单搜索，快速定位光标到光标后的第一个 adm 单词的位置，当到行末没有的话，返回从头开始<br> 查找（类似于 word 的查找）<br> 技巧<br> 让行号永久生效<br> 进入该用户的家目录，在目录下创建 1 个文件，“.vimrc”<br> 内容 :set nu<br> 替换内容<br> ：7，12 s/:/? 把第 7-12 行中每一行的第一个：改成？<br> ：7，12 s/:/?/g 把第 7-12 行中的：全部改成？<br> 2.2.4 进入和退出输入模式<br> i 在光标之前输入文字<br> ESC 退出<br> a 在光标之后输入文字<br> A 在行尾插入文字<br> o 光标下面插入 1 行空行<br> O 在光标上面插入 1 行空行　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　第三章 linux 的文件系统<br> 3.1 文件系统<br> 文件系统（file system）是指数据在计算机的硬盘中存放的格式，针对不同的操作系统，文件存储格式和存取的方式各不相同，所以文件系统也不尽相同。<br> 3.1.1 windows 的文件系统<br> 1、FAT16 file allocation table 文件分配表<br> 2、FAT32<br> 3、NTFS new technology file system 新技术文件系统<br> 3.2 linux 文件系统介绍<br> 1、Ext2 标准的 linux 文件系统<br> 2、Ext3 Ext2 的升级版，增加日志功能，并有根据日志中断重整功能。<br> 3、linux swap linux 的交换分区<br> 4、VFAT 长文件名系统，与 windows 共同支持的文件系统。<br> 其他支持的：fat、ISO9660、cramfs<br> 3.3 linux 下的目录和文件类型<br> 在查看文件的基本属性的时候，每一行的第一位，也就是权限位之前的那一位表示文件的类型：<br> - 代表普通文件<br> d 代表目录文件<br> l 代表链接文件<br> p 代表管道文件<br> 以及其他的 s、b、c 等特殊文件<br> 文件的扩展名（后缀）<br> 文件的后缀名主要是方便用户和系统识别，例如:“.jpg”“.mp3”用户看到可以知道.jpg 是图片文件，而.mp3 是音频文件；系统读取的时候可以用来识别与哪些程序关联。以方便双击打开。对系统内部来说，扩展名没有太大的意义。<br> 3.4 linux 文件系统和 windows 文件系统的对比<br> LINUX：存储设备在文件系统层次结构中，以目录表示；用正斜杠/分割目录；文件名不需要后缀；每个文件/目录都有与之相关的权限和所有权<br> WINDOWS：驱动器以字母表示；用反斜杠\分割目录；文件名的后缀有特殊含义；安全特性各不相同<br> 3.5 linux 系统下的默认目录<br> /bin<br> /boot<br> /dev<br> /etc<br> /home<br> /media<br> /root<br> /sbin<br> /tmp<br> /usr<br> /var<br> 3.6 linux 的目录与文件的权限<br> 3.6.1 权限的类型<br> r 读权限 数值表示 4<br> w 写权限 数值表示 2<br> x 执行权限 数值表示 1</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　1 代表执行，2 代表写，3 代表 1+2，4 代表读,5 代表 1+4，6 代表 2+4，7 代表 1+2+4<br> 3.6.2 三组、九位权限位<br> u 属主 前三位 文件的主人（文件的所有者）<br> g 属组 中间三位 文件主人所在的组（文件所有者所在的组）<br> o 其他用户 后三位 除了 u 和 g 以外的用户<br> 3.6.3 更改目录、文件的权限值<br> chmod 命令<br> 1、数值表示法 chmod 数值 文件名/目录名<br> chmod 766 dir1 将目录 dir1 的权限更改为 4+2+1 4+2 4+2<br> chmod 777 file1 将文件 file1 的权限更改为 4+2+1 4+2+1 4+2+1<br> 2、字母描述法 chmod?? 属主(或属组或其他人或所有的)=(或者+或者-)权限 文件名/目录名<br> chmod u=r file1 给文件的属组赋予读取权限<br> chmod u=wx file1 给文件的属组赋予写和执行权限<br> chmod g+rw file1 给文件的属组增加读写权限<br> chmod g-rw file1 给文件的属组去掉读写权限<br> chmod o=rw file1 给文件的其他用户的权限改为读写<br> chmod a+rwx file1 给所有用户增加读写和执行权限<br> 3.6.4 系统的 umask 值<br> umask 值可以计算，当创建目录或文件时系统默认分配的权限。创建文件的默认权限是 666 减掉权限位数值，目录的默认权限是 777 减掉权限位的数值。<br> [root@localhost ~]umask&nbsp;0022<br> 查看系统默认的 umask 值为 0022，第一位 0 代表粘贴位，第 2-4 位代表权限位，这样系统默认创建文件的权限为 666-022 为 644 为属主读写，属组读，其他读<br> 系统默认创建文件夹的权限位 777-022 为属主读写执行，属组读执行，其他读执行<br> 3.6.5<br> 粘贴位：（sticky）当一个目录被设置为"粘着位"(用 chmod a+t),则每个用户可以以完整的权限来使用和执行文件或目录，但是该目录下的文件只能由：<br> 一、超级管理员删除<br> 二、该目录的所有者删除<br> 三、该文件的所有者删除<br> setUID 用户特殊权限位<br> 当设置用户特殊权限位时，用户在执行这个文件时便拥有是属主的权限，便可以使用属主用户所能使用的所有系统资源。<br> setGID 组的特殊权限位<br> 当设置组的特殊权限位的时候，用户在执行这个文件时便拥有文件属组的权限，便可以使用文件属组所能使用的系统资源。<br> 用户在无特殊要求时，一般情况下，出于安全考虑，不要开启这些权限。<br> Suid 对应数值为 4<br> Sgid 对应数值为 2<br> t 对应数值为 1<br> 特殊权限位在设置过程中占用 x 权限位，如果同时开启 x 权限，则用小写来表示，如果关闭 x 权限则用大写来表示。<br> 设置举例：<br> chmod 1666 dir1<br> drw-rw-rwT root root 4096 dec 17 19:05 dir1<br> 更改 dir1 的权限，增加粘贴位权限，属主为读写，属组为读写，其他用户为读写<br> chmod 2666 dir1<br> drw-rwSrw- root root 4096 dec 17 19:05 dir1<br> 更改 dir1 的权限，增加组位特殊权限，属主为读写，属组为读写，其他用户为读写</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">chmod 7777 dir1<br> drwsrwsrwt root root 4096 dec 17 19:05 dir1<br> 更改 dir1 的权限，增加粘贴位权限，用户和组位特殊权限，属主为读写执行，属组为读写执行，其他用<br> 户为读写执行<br> 3.6.6 更改目录或是文件的属主或属组<br> 必须由文件或目录的属主或超级用户才能修改！！！<br> chown 命令更改目录或文件的属主和属组<br> chown u1 dir1 将当前目录下的 dir1 目录的属主改为 u1<br> chown u2.g1 dir1 将当前目录下的 dir2 目录的属主改为 u2 属组改为 g1<br> -R 递归式改变指定目录及目录下所有文件和子目录<br> -v 显示 chown 命令所做的工作<br> 可以以空格分开，同时更改多个目录或文件，并且支持通配符来修改多个文件或目录，支持用户和组的<br> ID 来修改<br> chgrp 命令更改目录或文件所属的组<br> chgrp g1 dir2 将 dir2 的属组更改为 g2<br> 以空格分开，同时更改多个目录，并且支持通配符来修改多个目录和文件，支持用户和组的 ID 来修改<br> -R 递归式改变指定目录及目录下所有文件和子目录</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　第四章.linux 的硬件管理</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">4.1<br> 4.1.1 计算机的硬件管理<br> 在 linux 下，计算机所有设备是以文件的形势存在的。<br> 在 linux 下查看硬件信息<br> 1、lspci 列出所有的 PCI 设备<br> 2、fdisk -l 查看存储设备信息<br> 3、查看/proc 目录下相应的文件来查看一些设备信息<br> cat /proc/cpuinfo 查看 CPU 的信息<br> 4.1.2 kudzu 配置硬件<br> kudzu 命令相当于 windows 的检查新硬件。<br> 4.2 磁盘管理<br> 4.2.1 在 linux 下的硬盘的编号和分区的编号<br> 1、IDE 硬盘，在 linux 下以 hd 加编号组成，由于计算机通常 1 个 IDE 通道可以连接 2 块硬盘，所以在<br> linux 的编号如下：<br> 第一通道上的第一块为 hda<br> 第一通道上的第二块为 hdb<br> 第二通道上的第一块为 hdc<br> 第二通道上的第二块为 hdd<br> 其他的依次类推，常见 pc 机上的 IDE 通道为 2 个<br> 2、sata 硬盘和 scsi 硬盘在 linux 下以 sd 加编号组成，1 个 scsi 通道可以连接 15 块硬盘(其中 1 个连接SCSI 卡)<br> 第一通道上的第一块为 sda<br> 第一通道上的第二块为 sab<br> 其他依次类推，sata 硬盘常应用于 PC 机，类似与 IDE<br> 3、分区编号<br> 在硬盘编号后面加上数字编号来表示第几块硬盘上的第几个分区<br> 1—4 为主分区（扩展分区的编号）<br> 5 以后为逻辑磁盘的编号<br> 4.2.2<br> fdisk 磁盘管理命令<br> fdisk -l 显示磁盘分区信息<br> 对新硬盘进行分区<br> fdisk /dev/sdb 对第二块 scsi 硬盘进行分区操作（在命令后加硬盘设备文件的名称）<br> 如果 fdisk 命令不能工作可以给 fdisk 命令加上完整路径来执行/sbin/fdisk<br> fdisk 实用工具中的命令：<br> a 设置和清除引导标志（相比与 windows 的设置为活动的分区）<br> d 删除分区<br> n 创建分区<br> p 显示当前分区表<br> q 不保存退出 fdisk 实用程序<br> w 保存并退出 fdisk 实用程序<br> 4.2.3 磁盘分区的格式化<br> mkfs 命令对磁盘进行文件系统的格式化<br> mkfs -t ext2 /dev/sdb1 将第二块 scsi 硬盘的第一个分区格式化为 ext2 文件系统<br> mkfs.ext3 /dev/sdb1 将第二块 scsi 硬盘的第一个分区格式化为 ext3 文件系统<br> mkfs.vfat /dev/sdb2 将第二块 scsi 硬盘的第二个分区格式化为 vfat 文件系统<br> 4.2.4 磁盘分区的挂载<br> mount 命令挂载磁盘分区文件系统<br> mount -t ext3 /dev/sdb1 /media/test 将 ext3 文件系统的第二块 scsi 的第一个分区挂载到/media/test 目录下<br> mount /dev/sdb2 /media/dir 将第二块 scsi 的第二个分区挂载到/media/dir 目录下<br> -t 参数指定文件系统类型</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　umount 卸载命令<br> umount /media/test 将挂载在/media/test 目录下的文件系统卸载<br> df 命令查看磁盘（挂载）信息命令<br> df 不加任何参数，显示磁盘使用情况<br> * -i 显示文件系统的使用情况， 不是磁盘的使用情况<br> -h 以用户识别的方式显示磁盘信息，以 1K=1024 计算<br> -H 同-h，但是计算单位以 1K=1000<br> -l 只显示本地文件系统<br> -t 加文件系统类型，只显示指定文件系统类型<br> -x 加文件系统类型，只显示指定文件类型意外的系统类型<br> 4.2.4.1 自动挂载和按需挂载<br> 1、开机自动挂载<br> vi /etc/fstab 文件<br> 增加一行<br> /dev/sda1 /mnt/data ext3 defaults 0 0<br> 要挂载的设备 挂载的目录 文件系统 操作模式<br> reboot 重启查看效果。<br> 2、按需挂载<br> 编辑 2 个文件/etc/auto.master（起控制作用）和/etc/auto.misc（指定挂载的虚拟目录和要挂载的设备）<br> vi /etc/auto.master<br> 增加一行<br> /media/jake /etc/auto.misc --timeout=10<br> 要挂载的真实目录 10 分钟无动作自动卸载<br> vi /etc/auto.misc<br> 增加一行<br> rose -fstype=ext3 :/dev/sda1<br> 挂载的虚拟目录 挂载的文件系统类型 要挂载的设备<br> service autofs restart 重启挂载服务<br> 4.2.5 swap 交换分区的调整<br> free 显示内存信息命令,包含物理内存，交换分区和内核缓冲区文件。<br> -m 以 M 为单位显示内存信息<br> 1、使用虚拟设备生成空文件（将交换分区增加 100M）<br> dd if=/dev/zero of=/tmp/swp1(要创建的交换分区目录) bs=10M(每个区块的大小) count=10(区块数量)<br> 2、生成交换分区文件<br> mkswap /tmp/swp1<br> 3、激活交换分区<br> swapon /tmp/swp1<br> 4、使交换分区永久生效，修改配置文件<br> vi /etc/rc.local 最后添加一行<br> swapon /tmp/swp1<br> 4.2.6 创建 RAID 磁盘阵列<br> mdadm 命令<br> mdadm -C /dev/md0 -l5 -n3 /dev/sdb1 /dev/sdb2 /dev/sdb3<br> RAID 设备名 RAID 级别 分区数量 分区设备名称<br> more /proc/mdstat 查看 RAID 状态<br> mkfs.ext3 /dev/md0 格式化<br> mount /dev/md0 /media/raid 挂载到/media/raid 目录<br> mdadm /dev/md0 -f /dev/sdb1（损坏的设备名称） 标记损坏设备<br> mdadm /dev/md0 -a /dev/sdc1（新设备名称） 添加新设备</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　mdadm /dev/md0 -r /dev/sdb1（损坏的设备名称） 移除损坏的设备<br> 4.2.7 挂载使用光驱<br> mount /dev/cdrom /media/cd(挂载目录)<br> 制作 ISO 文件<br> dd if=/dev/cdrom of=/tmp/rsing.iso(iso 文件名称和存放的位置)<br> 直接使用 ISO 文件<br> mount -o loop /tmp/rsing.iso(iso 文件名称和存放的位置) /media/iso(挂载的目录)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　第五章.linux 下的用户和组的管理<br> 5.1 linux 系统下用户角色<br> 在 linux 系统下用户的角色不同，权限和所能完成的任务也不同，用户角色是通过 UID 来识别的，<br> 注意：在 linux 下要注意 root 用户的 UID 的唯一性。<br> 1、Root<br> 系统管理员超级用户，系统唯一，可以登陆系统，可以操作任何文件和命令，拥有最高权限，UID 值为 0<br> 2、虚拟用户<br> 与真实的用户分开来，这类用户不能登陆系统，但是在使用某些服务的时候使用，这类用户是系统默认添加的。<br> 3、普通真实用户<br> 这类用户可以登陆系统，但是只能操作自己家目录的内容，受限账户，这类用户都是管理员自行添加的。<br> 5.1.2 用户相关文件介绍<br> 在 windows 当中可以使用计算机管理工具中的用户和组的管理工具来对用户进行管理，在 linux 下是通过对用户配置文件（区别与 windows 中的用户配置文件）的管理来实现对用户和组的管理。<br> 1、/etc/passwd 用户账号文件，记录所有用户记录<br> 每行表示一个用户信息，7 个字段都有各自的含义<br> root : x : 0 : 0 : root : /root : /bin/bash<br> 用户名 密码 UserID GroupID 用户相关说明 用户家目录路径 用户的登陆 shell<br> 2、 /etc/shadow 用户账户的影子文件，包含用户的加密密码和其他信息，两个文件互补来记录用户信息，这个文件只有 root 可以读取和操作<br> 每行包含 8 个字段，各项说明如下：<br> 第 1 个字段 用户名<br> 第 2 个字段 加密口令<br> 第 3 个字段 上次口令改变时间，从 1970 年 1 月 1 日算起的天数<br> 第 4 个字段 多少天内不能改变口令<br> 第 5 个字段 多少天内必须改变口令<br> 第 6 个字段 口令到期前多少天会出现警告<br> 第 7 个字段 如果口令到期后几天不使用账号，则无法登陆<br> 第 8 个字段 如果到这个日期不用账号则无法登陆，可以以 YYYY-MM-DD 格式，也可以用 1970 年 1 月 1 日起的天数<br> 3、/etc/login.defs<br> 打开这个文件对文件内容进行解释，如果修改，修改哪些位置有哪些作用。<br> MAIL_DIR 邮件存放目录<br> PASS_MAX_DAYS 密码有效期最长时间<br> PASS_MIN_DAYS 密码有效期最短时间<br> PASS_MIN_LEN 密码最小长度<br> PASS_WARN_AGE 密码到期提示时间<br> UID_MIN UID 最小值<br> UID_MAX UID 最大值<br> GID_MIN GID 最小值<br> GID_MAX GID 最大值<br> CREATE_HOME 是否创建家目录<br> UMASK UMASK 值<br> USERGROUPS_ENAB 当删除用户后，同名组中不在存在用户的时候，是否删除该组<br> 4、/etc/skel<br> 存放用户启动文件的目录，类似与 windows 的用户配置文件目录，为用户提供用户环境，该目录下的文件<br> 全部为隐藏文件。在添加用户时会从该目录下复制文件到用户的家目录下，相当与统一的登陆模板。<br> 开启和关闭投影密码命令<br> 开启用户的投影密码，使得密码得到更好的保护，不容易被别的用户得到。<br> 该选项是一个安全选项，执行命令可以把用户名和密码分别存放在两个文件当中，影子文件就是密码文件。<br> pwconv 开启投影密码命令<br> pwunconv 关闭投影密码命令</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　5.1.2 用户管理<br> 1、useradd 创建用户命令<br> useradd jake 创建名为 jake 的用户<br> -d 指定用户的家目录<br> -g 指定用户组<br> -G 指定用户的附加组<br> -u 指定用户的 UID 值<br> -p 创建密码<br> useradd -d /rose -g group -G root -u 505 rose 创建 rose 用户，指定家目录在/rose 下，加入到group 组，同时附加到 root 组，并设置 UID 号为 505<br> users 查看所有登陆的用户（who）<br> 2、tail 命令查看指定文件的末行<br> tail -n 3 /etc/passwd 查看 passwd 文件的最后三行<br> tail -1 /etc/passwd 查看 passwd 文件的最后一行<br> 3、passwd 设置密码命令<br> 注意：没有设置密码的用户不能使用<br> passwd rose 给用户 rose 设置密码<br> -d 删除密码<br> -f 强制执行下次登陆时更改密码<br> -l 停止账号使用<br> -u 启用已经停止的账号<br> -S 显示密码信息<br> 4、userdel 删除账号命令<br> userdel rose 删除 rose 账号<br> userdel -r rose 删除用户登陆目录及目录下的文件（类似于 windows 的删除用户选择是否删除用户的文档）<br> 5、usermod 修改账号命令<br> usermod -l newname oldname<br> -d -g -G -u 等参数与 useradd 命令参数使用方法一样<br> usermod -d /home/rose -g group0 -G group1 -u 600 rose<br> 将 rose 用户的家目录，主组和附加组以及 UID 值更改<br> 用户的锁定与解锁<br> usermod -L rose 锁定 rose 用户<br> usermod -U rose 解除 rose 用户的锁定<br> 6、gpasswd 用户添加到其他组的命令<br> 注意：只有 root 和组管理员能够改变组成员<br> gpasswd -a u1 g1 将 u1 加入到 g1 组<br> gpasswd -d u1 g1 将 u1 退出 g1 组<br> gpasswd -A u1 g1 将 g1 组的管理员指派给 u1<br> 7、id 查看 ID 信息命令<br> id rose 查看 rose 用户的 ID 信息<br> 5.1.3 root 单用户<br> 如果希望计算机除了 root 账号外其他账号不能登陆，在/etc 目录中执行 touch nologin，创建 1 个名称为 nologin 的文件。如果系统只有一个人使用，可以考虑修改/etc/inittab 文件，将默认启动值改为2。<br> 5.2 组的管理<br> 5.2.1 组相关文件介绍<br> 1、/etc/group<br> 用户组的特性在系统管理中为系统管理员提供了极大的方便，但安全性也是值得关注的，如某个用户下有对系统管理有最重要的内容，最好让用户拥有独立的用户组，或者是把用户下的文件的权限设置为完全私有；另外 root 用户组一般不要轻易把普通用户加入进去，<br> /etc/group 内容具体分析<br> /etc/group 的内容包括用户组（Group）、用户组口令、 GID 及该用户组所包含的用户（User），每个用户组一条记录；格式如下： group_name:passwd:GID:user_list<br> 在/etc/group 中的每条记录分四个字段：<br> 第 1 字段：用户组名称；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　第 2 字段：用户组密码；<br> 第 3 字段：GID<br> 第 4 字段：用户列表，每个用户之间用,号分割；本字段可以为空；如果字段为空表示用户组为 GID 的用户名；<br> root : x : 0 :root,rose<br> root 组 x 是密码段 GID 是 0 root 用户组下包括 root、rose 以及 GID 为 0 的其它用户（可以通过 /etc/passwd 查看）<br> 2、/etc/gshadow<br> /etc/gshadow 是/etc/group 的密码文件，用户组（Group）管理密码就是存放在这个文件 。<br> /etc/gshadow 和/etc/group 是互补的两个文件；对于大型服务器，针对很多用户和组，定制一些关系结构比较复杂的权限模型，设置用户组密码是极有必要的。比如我们不想让一些非用户组成员永久拥有用户组的权限和特性，这时我们可以通过密码验证的方式来让某些用户临时拥有一些用户组特性，这时就要用到用户组密码；<br> /etc/gshadow 格式如下，每个用户组独占一行；<br> groupname:password:admin,admin,...:member,member,...<br> 第 1 字段：用户组<br> 第 2 字段：用户组密码，这个段可以是空的或!，如果是空的或有!，表示没有密码；<br> 第 3 字段：用户组管理者，这个字段也可为空，如果有多个用户组管理者，用,号分割；<br> 第 4 字段：组成员，如果有多个成员，用,号分割；<br> jake:!::rose<br> rose:oUS/q7NH75RhQ::rose<br> 第一字段：这个例子中，有两个用户组 jake 用 rose<br> 第二字段：用户组的密码，jake 用户组无密码；rose 用户组有已经，已经加密；<br> 第三字段：用户组管理者，两者都为空；<br> 第四字段：jake 用户组所拥有的成员是 rose，rose 用户组有成员 rose<br> 5.2.2 组的管理<br> 1、groupadd 添加用户组<br> -g 指定 GID<br> -o 一般和 g 选项同时使用，可以与已有组的 GID 相同<br> groupadd -go 501 g1 创建组 g1 其 GID 可以与已有的组重复<br> 2、gpasswd 设置用户组的密码<br> 一般的情况下，没有必要设置用户组的密码；<br> gpasswd rose 修改 rose 组的密码<br> 3、groupdel 删除用户组<br> groupdel g1 删除 g1 组（没有用户的空组）<br> 4、groupmod 修改组属性<br> -g 指定新的 GID<br> -o 与-g 配合使用同 groupadd 的-o<br> -n 修改组名<br> groupmod -g 601 g1 修改 g1 的 GID 为 601<br> groupmod -n g11 g1 将 g1 组改名为 g11<br> 5、newgrp 切换用户组<br> newgrp root 切换到 root 组<br> 5.3 普通用户权限提升<br> 1、su 切换用户命令<br> su 直接默认切换到 root 用户<br> su - root 更改环境变量为 root 用户的<br> su -m root 保留环境变量不变<br> su -c “/usr/sbin/useradd u1” root 以 root 的身份执行 useradd 命令，-c 代表执行一个命令后就结束。其中命令需要输入命令文件的绝对路径。<br> 2、sudo 命令<br> 由于 su 对转换到 root 后，权限的无限制性，所以 su 并不能担任多个管理员所管理的系统。假如用 su来转换到 root 来管理系统，也不能明确哪些工作是由哪个管理员进行的操作。特别是对于服务器的管理有多人参和管理时，最好是针对每个管理员的技术特长和管理范围，并且有针对性的下放给权限，并且约定其使用哪些工具来完成和其相关的工作，这时我们就有必要用到 sudo。<br> 通过 sudo，我们能把某些 root 有针对性的下放，并且无需普通用户知道 root 密码，所以 sudo 相对于权限无限制性的 su 来说，还是比较安全的，所以 sudo 也能被称为受限制的 su ；另外 sudo 是需要授权许可的，所以也被称为授权许可的 su；<br> sudo 执行命令的流程是当前用户转换到 root（或其他指定转换到的用户），然后以 root（或其他指定的转换到的用户）身份执行命令，执行完成后，直接退回到当前用户；而这些的前提是要通过 sudo 的配置文档/etc/sudoers 来进行授权；<br> visudo 来增加一行<br> u1 ALL=(root) NOPASSWD：/bin/cat u1 用户可以转换到 root 下不需要输入密码执行/bin/cat 命令<br> u1 ALL=（root）/bin/cat,/user/bin/passwd,!/user/bin/passwd root<br> u1 用户可以转换到 root 下需要输入密码执行/bin/cat,/user/bin/passwd，但不能执行/user/bin/passwd root 来修改用户密码。<br> 执行 sudo 命令<br> sudo -l 列出用户在主机上可用的和被禁止的命令<br> sudo 命令（命令为绝对路径）来执行命令<br> sudo /bin/cat /etc/shadow<br> 5.4 磁盘配额<br> windows 不能对组进行配额设置，而 linux 可以对组进行配额限制。<br> 1、vi /etc/fstab 文件<br> 将要设置配额的分区设置开机自动挂载在添加行在 defaults 后面加上，usrquota（grpquota）表示要建立用户或组的磁盘配额<br> 2、重新挂载文件系统<br> 之前重启看效果，可以使用 umount -a 卸载所有文件挂载，然后使用 mount -a 挂载所有文件系统<br> 3、在挂载目录下创建 aquota.user 文件<br> 在挂载目录下执行 touch aquota.user<br> 通常要对该文件配置权限，防止用户随便访问。<br> 4、进行配额检查<br> 执行 quotacheck -avu（g）（g 是启用组配额）<br> 5、设置用户磁盘配额<br> 执行 edquota -u rose<br> 默认使用 vi 编辑 rose 用户的配额文件<br> filesystem blocks soft hard inodes soft hard<br> /dev/sdb1 4 0 0 1 0 0<br> 4 个数据块和 1 个 inodes<br> 软极限和硬极限讲解（结合 windows 中的配额提醒来讲）<br> 如果设置宽限时间，可以让用户在规定的时间内可以超过软极限，但必须在硬极限之内。<br> 6、设置宽限时间<br> edquota -t 编辑时间。<br> 7、启用配额<br> quotaon /qt(配额目录)<br> 8、进行配额测试<br> 创建文件，占用磁盘空间，然后超过软极限，看提醒，然后再超过硬极限，看效果<br> 如果要对其他用户设置相同的配额，可以复制配额<br> edquota -up rose u1 u2 u3<br> 如果要使配额每次启动生效，可以将配额检查和激活命令放在默认/etc/rc.d/rc.sysinit 启动脚本中。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　第六章.linux 下软件的安装与管理<br> 6.1 linux 下软件介绍<br> 6.1.1 rpm 包<br> Redhat Package Manager<br> 红帽子包管理器(RPM)提供了标准化方式，可以对各种实用程序和应用程序组织所要的软件。 红帽子包管理器使红帽子公司很容易地把 Linux 组织成不到两千个包，而不是几万个文件。类似于 windows 的.exe 文件<br> 6.1.2 srpm 包<br> srpm 包为未编译过的 rpm 包，需要以 rpm 管理的方式编译，然后以 rpm 的安装方式安装<br> 6.1.3 tar 包<br> 压缩包，常见的有.tar.gz 和.tar.bz2，其中 gz 为使用 gzip 压缩的 tar 包，如“linuxqq_v1.0-preview3_i386.tar.gz”最新的 QQ 版本，前面为文件名称，后面为文件的扩展名，我们可以看出是以gzip 压缩的 tar 包；.tar.bz2 是以 bzip 压缩的 tar 包。<br> 6.2 rpm 包<br> 6.2.1 rpm 与 cpu<br> rpm 包是依赖 cpu 架构的，常见的格式：<br> 扩展名<br> CPU<br> noarch.rpm<br> 不依赖于 CPU， 可以在所有计算机上安装<br> i386.rpm<br> 基于 Intel 386 CPU，这些 RPM 包可以在所有 Intel 兼容计算机上安装<br> i486.r pm<br> 用于带 Intel 486 CPU 的计算机(随时)<br> i586.rpm<br> 用于带 Intel 586 CPU 的计算机<br> i686.rpm<br> 用于带 Intel 686 CPU 的计算机<br> ia64.rpm<br> 用于带 Intel ltanium 64 位 CPU 的计算机<br> alpha.rpm<br> 用于带 HP Alpha CPU 的计算机，最初是 DEC 公司开发的<br> nthlon.rpm<br> 基于 AMD Athlon CPU<br> ppc.rpm<br> 用于带 Apple Powe rPC CPU 的计算机<br> s390.rpm<br> 用于基于 S/390 CPU 的 IBM 服务器<br> sparc.rpm<br> 用于带 Sun 系统公司 SPARC CPU 的计算机<br> 6.2.2 rpm 软件包的查询<br> rpm 命令<br> -q 对已安装的包进行简单查询<br> rpm -q packagename（包的名称）<br> rpm -qi packagename 对已安装的包进行详细信息查询<br> rpm -ql packagename 查询已安装包中包含的文件<br> rpm -qa 显示已经安装的所有 rpm 包<br> rpm -qa |grep linux 显示已经安装的所有包含 linux 字段的包<br> 6.2.3 rpm 包的安装<br> rpm -i packagename 安装包（在包所在的目录下）<br> rpm -i /media/udisk/linux/linuxqq_v1.0-preview3_i386.rpm 安装指定目录下的包<br> rpm -ivh packagename 安装包并显示安装的进度和详细信息<br> -v 显示安装过程的详细处理过程<br> -h 显示安装进度</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　6.2.3 rpm 包的卸载<br> rpm -e packagename 卸载已安装的 rpm 包<br> 可以以空格隔开同时删除多个包<br> 举例为：<br> linuxqq-v1.0-preview3.i386.rpm<br> RealPlayerGoldforLinuxGold11.rpm<br> VirtualBox-2.1.0_41146_rhel5-1.i386.rpm<br> 6.3 srpm 包的安装<br> 源代码 RPM 包的结尾通常是.src.rpm<br> 使用方法<br> rpm -i rpmpackage.src.rpm<br> cd /usr/src/redhat/SPECS<br> rpmbuild -bb rpmpackage.specs<br> /usr/src/redhat/RPM/i386/目录下，有一个新的 rpm 包，这个是编译好的二进制文件。<br> rpm -i new-package.rpm 即可安装完成。<br> 6.4 tar 包软件的安装和卸载<br> tar 包为压缩包<br> 常见的文件类型为.tar.gz .tar.bz2 .tgz .tar.zip<br> 在 linux 下安装方式为：<br> 1、先解压缩，各种文件类型的解压缩方式不同<br> .tar.gz .tgz 文件执行<br> tar -xvzf softname.tar.gz<br> tar -xvzf softname.tgz<br> -x 解压缩文件<br> -v 显示详细过程<br> -z 支持 gzip 压缩文件<br> -f 指定压缩文件<br> tar -xvjf softname.tar.bz2<br> -j 支持 bzip2 压缩文件<br> unzip -v softname.tar.zip<br> -v 解压文件<br> -d 指定解压缩目录<br> 2、在软件所在目录下会生成同名的目录，里面会存放着所有文件，进入到这个目录<br> 3、阅读 readme 文件或是 install 文件，查找执行配置，编译，安装命令方式<br> 4、执行配置、编译和安装命令<br> 通常为<br> ./configure 执行配置<br> make 编译<br> make install 安装<br> make clean 清理临时文件<br> 5、tar 包的卸载<br> 可以在安装目录下执行<br> make uninstall<br> 也可以直接删除目录，文件分散多多少个目录就删除多少个目录<br> 演示举例<br> linuxqq_v1.0-preview3_i386.tar.gz<br> VmwareToolsforlinux.iso<br> webmin-1.400.tar.gz<br> wine-1.1.11.tar.bz2</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　第七章.linux 网络基础与网络服务管理<br> 7.1 网卡的配置<br> 7.1.1 修改网卡的配置文件<br> 网卡配置文件的目录/etc/sysconfig/network-scripts<br> 网卡的配置文件类型<br> ifconfig-ethX 有线网卡的配置文件<br> ifconfig-ethX:X 有线网卡的虚拟网卡的配置文件<br> ifconfig-wlanX 无线网卡的配置文件<br> 网卡配置文件中各行代表的含义<br> DEVICE——设备名<br> BOOTPROTO ——IP 地址的获取方式(静态 static 或者 dhcp)<br> HWADDR ——MAC 地址<br> ONBOOT ——开机启动<br> IPADDR ——Ip 地址<br> NETMASK——子网掩码<br> 可以使用 vi 编辑配置文件来配置网卡<br> 7.1.2 使用命令配置网卡<br> ifconfig 查看 ip 信息<br> ifconfig eth0 200.200.200.2 netmask 255.255.255.0<br> 配置 eth0 的 IP 信息，如果是有类的 IP 地址可以省略 netmask（比较 rip 路由协议）<br> ifdown eth0 禁用网卡<br> ifup eth0 启用网卡<br> ifconfig eth0 hw ether 00:11:22:33:44:55<br> 修改网卡 eth0 的 MAC 地址<br> 7.1.3 使用 setup 命令配置（文本用户接口模式）<br> 7.2 服务管理<br> 7.2.1 服务的查看<br> 1、ntsysv 文本用户接口查看<br> 使用空格键选择或是取消<br> 2、chkconfig 命令查看开机服务启动情况<br> chkconfig - - list 查看所有服务开机同时的开启情况<br> chkconfig - - list 服务名 查看开机服务开启的情况<br> chkconfig - - add 服务名 设置为开机启动<br> chkconfig - - del 服务名 设置为开机不启动<br> 7.2.2 服务的管理<br> service 服务名 start 启动服务<br> service 服务名 stop 停止服务<br> service 服务名 restart 重新启动服务<br> /etc/init.d/服务名 start 启动服务<br> /etc/init.d/服务名 stop 停止服务<br> /etc/init.d/服务名 restart 重新启动服务<br> 7.2.3 查看和关闭服务进程<br> ps 命令<br> ps -A 简明查看系统启动的所有进程<br> ps -aux 显示所有用户所有进程的详细信息<br> ps -A |grep 服务名 显示指定服务的进程简明信息<br> ps -aux |grep 服务名 显示指定服务的详细进程信息<br> kill 命令<br> kill 进程号 关闭指定进程<br> killall 服务名 关闭服务的所有进程<br> kill -9 进程号 强制关闭指定进程<br> killall -9 服务名 强制关闭服务的所有进程</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　第八章.文件服务器 NFS 和 Samba<br> 8.1 NFS 服务器<br> 8.1.1 NFS 服务器介绍<br> NFS network file system 网络文件服务器<br> 最初由 SUN 公司发展起来，一种简单的文件服务器，NFS 允许一个系统在网络上与他人共享目录和文件。<br> 8.1.2 配置 NFS 服务器<br> 1、NFS 的配置相关文件<br> /etc/exports<br> NFS 服务的管理<br> service nfs start(stop,restart)<br> 检查 NFS 服务是否开机启动<br> chkconfig - - list nfs<br> 检查 NFS 包是否安装<br> rpm -qa |grep nfs<br> NFS 的安装<br> rpm -ivh /media/cdrom/RedHat/RPMS/nfs-utils-1.0.6-46.i386.rpm<br> rpm -ivh /media/cdrom/RedHat/RPMS/portmap-4.0-63.i386.rpm（nfs 相关服务进程）<br> 2、vi /etc/exports 编辑 NFS 的服务器配置文件<br> 在配置文件中以行为单位写入共享信息，格式如下：<br> directory client （option1，option2）<br> directory 代表共享目录<br> client 代表授权主机<br> （）内的内容代表常用操作选项操作选项<br> rw 可读写权限<br> ro 只读权限<br> all_squash 所有用户登陆都以匿名用户身份访问<br> anonuid 指定匿名用户的 UID（默认以 nobody 的身份登陆）<br> anongid 指定匿名用户的 GID（默认以 nobody 的身份登陆）<br> sync 数据同步写入硬盘<br> async 数据先存放在内存中，不直接写入硬盘<br> example：<br> /nfs/share *(async)<br> 将/nfs/share 共享给所有人访问，默认是只读，数据不直接写入硬盘<br> /nfs/sh1 192.168.1.*(ro,all_squash,async)<br> 将/nfs/sh1 目录共享给 192.168.1.0 网段的客户端访问，访问时以只读，匿名用户，数据不直接写入硬盘<br> /nfs/sh2 192.168.1.100(rw,sync,anonuid=500,anongid=500)<br> 将/nfs/sh2 目录共享给指定 IP192.168.1.100，访问以 UID 和 GID500 的用户的身份登陆，读写权限，数据直接写入硬盘。<br> 3、NFS 客户端的访问<br> 查看 NFS 共享<br> showmount -a 在 server 上应用，查看已经 mount 上本机 NFS 共享目录的机器<br> showmount -e NFS 服务器的 IP 地址<br> 查看指定 NFS 服务器上的共享目录<br> mount 192.168.1.1:/nfs/sh2 /mnt/nf2<br> 将 NFS 服务器 192.168.1.1 上的/nfs/sh2 共享目录挂载到本机的/mnt/nf2 目录下<br> 如果指定文件系统类型<br> mount -t nfs 192.168.1.1:/nfs/sh2 /mnt/nf2<br> 8.2 samba 服务器<br> 8.2.1 samba 服务器介绍<br> SMB 协议<br> SMB（Server MessageBlock，服务信息块）协议可以看作是局域网上的共享文件/打印机的一种协议，它<br> 可以为网络内部的其它 Windows 和 Linux 机器提供文件系统、打印服务或是其他一些信息。<br> samba</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　Samba 是用来实现 SMB 的一种软件，由澳大利亚的 Andew Tridgell 开发，是一种在 Linux（Unix）环境下运行的免费软件。Samba 整合了 SMB 协议及 Netbios 协议，使其运做在 TCP/IP 上。能够让 Unix based 的机器与 windows 互动，采用的是服务器/客户端的架构，执行 Samba 客户端程序，我们就可以访问 Windows主机上的共享资源。而运行 Samba 服务器，Windows 主机也可以访问 Linux 上的共享资源。<br> SAMBA 服务有两个进程：<br> smbd：SMB 服务器<br> nmbd：netbios 名字服务器。<br> smbd 为 SMB 客户机，诸如 Windows 9x/NT 等提供 Windows NT 和 Lan Manager 风格的文件和打印服务。<br> nmbd 提供浏览支持，使采用 Linux 操作系统的计算机用户可以融入使用 netbios 协议的 windows 网络。<br> Samba 服务能够做什么<br> 1. 在网络上共享目录，就好像一台文件服务器一样。<br> 2. 在网络上共享打印机。<br> 3. 决定每一个目录由谁来使用，可以让一个人、某些人、组和所有人访问。<br> 4. 决定打印机由谁来使用，可以让一个人、某些人、组和所有人使用。<br> 可以看出，安装和配置好了 Samba 服务器后，Linux 就可以使用 Windows 网络中的文件和打印服务器了。<br> 8.2.2 图形化界面配置 samba 服务器<br> 1、访问 Samba 服务器配置工具<br> 依次单击“主菜单→系统设置→服务器设置→Samba 服务器”，即可打开 Samba 服务器配置窗口。<br> 注意：<br> 1.必须以 root 用户身份才可以对 Samba 服务器进行配置。<br> 2.也可以在终端窗口输入 redhat-config-samba 命令打开配置窗口。<br> 2、进行服务器设置<br> 这里首先要对 Samba 服务器的基本设置和安全选项进行配置，单击配置窗口上的“首选项→服务器设<br> 置”，即可打开服务器设置对话框（图 2）。<br> 1）基本设置<br> 在对话框的“基本”标签页，我们可以指定 Linux 主机所在的工作组名称，需要注意的是，此处的工作组 名称不一定非得与 Windows 主机所在的工作组名称一致。<br> 2）安全设置<br> Samba 服务器安全设置，这里一共有四个选项，分别介绍如下：<br> A. 验证模式：如果 Windows 主机不是位于 NT 域里，此处应该选择“共享”验证模式，这样只有在连接<br> Samba 服务器上的指定共享时才要求输入用户名、密码；<br> B. 验证服务器：对于“共享”验证模式，无须启用此项设置；<br> C. 加密口令：应该选择“是”，这样可以防止黑客用嗅探器截获密码明文；<br> D.来宾账号：当来宾用户要登录入 Samba 服务器时，他们必须被映射到服务器上的某个有效用户。选择系统上的现存用户名之一作为来宾 Samba 账号。当用户使用来宾账号登录入 Samba 服务器，他们拥有和这个用户相同的权限。<br> 3、添加共享目录<br> 添加共享目录，单击 Samba 配置窗口工具栏上的“增加”按钮，即可打开一个添加共享对话框。<br> 1）在该对话框上的“基本”标签页上，指定要共享的目录为某个存在的目录，例如可以指定/tmp，再<br> 指定该目录的基本权限是只读还是读/写。<br> 2）在“访问”标签页上，可以指定允许所有用户访问、或者只允许某些用户访问。<br> 4、添加 samba 共享用户<br> 添加用户，在首选项中选择 samba 用户管理，启动 Samba 用户管理界面，先要选择一个 linux 用户，然后在这个用户下面建立 windows 登录时使用的用户和密码。 使用这个 windows 用户登录时自动继承 linux用户的权限，默认有 linux 用户的主目录的访问权限。确定后一个新用户就建立好了，添加共享目录时就可以分配每个用户的访问目录来。<br> 5、从 Windows 访问 Samba 服务器<br> 须启动 Samba 服务。打开一个终端窗口，键入“service smb start”命令，即可出现以下提示信息，<br> 表示 Samba 服务已经启动：<br> # service smb start<br> 启动 SMB 服务 [确定]<br> 启动 NMB 服务 [确定]</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">8.2.3 文本界面下配置 samba 服务器<br> 1、samba 相关<br> 后台进程：smbd，nmbd<br> 使用端口：137，138，139<br> 所需 RPM 包：samba，samba-common，samba-client<br> 相关 RPM 包：samba-swat<br> 配置文件：/etc/samba/smb.conf<br> samba 服务的启动/停止/重启<br> service smb start<br> service smb stop<br> service smb restart<br> 2、samba 主配置文件介绍<br> /etc/samba/smb.conf<br> 使用[]分成几段，每段的含义<br> [global]：一些全局配置<br> [homes]：让用户可以访问其主目录<br> [printers]：定义共享的打印机资源<br> [global 段的配置<br> workgroup 配置工作组<br> security 安全模式，共享级别（user，share）<br> [homes]共享段的配置<br> example：<br> [tmp]<br> comment = Temporary file space 共享描述<br> path = /tmp 共享目录<br> read only = no 共享权限<br> browseable = yes 是否显示（隐藏共享）<br> public = yes 公开访问，提供给所有用户<br> 配置共享级别的 samba<br> example：<br> security = share<br> [share]<br> comment = share test<br> path = /media/share<br> read only = no<br> browseable = yes<br> public = yes<br> 添加共享目录/media/share，共享名为 share，描述为 test，开放给所有用户访问<br> 配置用户级别的 samba<br> example：<br> security = user<br> #smbpasswd -a jake 共享访问用户为 jake<br> password: 共享访问密码为***<br> 8.3 windows 和 linux 下的共享互访<br> linux 访问 windows<br> 1、使用 mount<br> mount windowsIP 地址/共享名 本机目录 -o username=用户名<br> 2、mount.cifs<br> mount.cifs windowsIP 地址/共享名 本机目录 -o username=用户名<br> 3、使用 mount 加参数 -t cifs<br> mount windowsIP 地址/共享名 本机目录 -o username=用户名<br> 4、使用 sambaclient</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　sambaclient windowsIP 地址/共享名 -U 用户名<br> windows 访问 linux<br> windows 访问 linux 与访问 windows 相同，使用 UNC 路径</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　第九章. DHCP 服务器<br> 9.1.DHCP 服务器??<br> 1.DHCP（dynamic host configure protocol）动态主机配置协议最大的功能就是向客户端提供 TCP/IP 信息，使用的是 UDP:67 端口<br> 2.手动设定适合：适用小型网络<br> 3.手动输入 IP 地址和自动获取比较优缺点<br> 4.DHCP 服务器的功能：<br> 对客户机动态分配 TCP/IP 信息 IP 地址、 子网掩码、默认网关、首选 DNS 服务器…安全而又可靠的设置 IP 地址，减轻了网络管理员的负担，解决了网络内 IP 地址资源不足的情况。<br> 5.DCHP server<br> DHCP 服务器按照顺序发放 IP 并不冲突。?<br> 6、DHCP 的分发 ：租约产生和租约更新<br> 1、DCHPDISCOVER 包 广播要 IP? 全知道 请求<br> 2、DHCPOFFER 包 SERVER 回应 假设某台快 响应<br> 3、DHCPREQUEST 包 选择 IP 确认 选择<br> 4、DHCPPACK 包 广播确认给客户使用 确认<br> 9.2 linux 下的 DHCP<br> 1、dhcp 的主配置文件<br> /etc/dhcpd.conf<br> 2、dhcp 网卡配置文件<br> /etc/sysconfig/dhcpd<br> 3、dhcp 中继网卡配置文件<br> /etc/sysconfig/dhcrelay<br> 4、dhcp 服务的启动/停止/重启<br> service dhcpd start<br> service dhcpd stop<br> service dhcpd restart<br> 9.3 /etc/dhcpd.conf<br> 9.3.1 dhcpd.conf 文件<br> 在 redhat Enterprise linux5 中，默认是空文件，配置文件存放在/usr/share/doc/dhcp-3.05/dhcpd.conf.sample<br> #cp /usr/share/doc/dhcp-3.05/dhcpd.conf.sample /etc/dhcpd.conf<br> 将配置文件拷贝到/etc 下，并覆盖 dhcp.conf<br> 配置文件各字段说明<br> subnet X.X.X.X netmask X.X.X.X<br> 指定 dhcp 服务工作网段<br> range<br> 指定分配地址段<br> default-lease-time<br> 默认租期（请求续租时间）<br> max-lease-time<br> 最大租期<br> option routers<br> 分配路由器<br> option domain-name<br> 分配域名<br> option domain-name-servers<br> 分配 DNS server<br> example：<br> subnet 192.168.0.0 netmask 255.255.255.0 { 设置 192.168.0.0/24 子网声明<br> range 192.168.0.2 192.168.0.253; 设置动态地址池 192.168.0.2 192.168.0.253<br> default-lease-time 21600; 设置缺省的地址租约 21600<br> max-lease-time 43200; 设置客户端最长的地址租期 43200<br> option domain-name “huayu.com”; 设置客户端的域名 huayu.com</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　option routers 192.168.0.254; 设置默认网关 192.168.0.254<br> option domain-name-servers 192.168.0.254; 设置 DNS 服务器 192.168.0.254<br> }<br> Ip 绑定<br> host<br> 为绑定主机起名（并不是分配给对方的名字）<br> hardware ethernet<br> 指定硬件地址<br> fixed-address<br> 指定 IP 地址或主机名<br> 支持为绑定主机单独分配其他网络数据<br> example：<br> host joe {<br> hardware ethernet 08:00:2b:4c:29:32; 指定主机的 MAC 地址<br> fixed-address 192.168.103.211; 为指定主机分配域名<br> option host-name "joe"; 为绑定主机起名<br> }</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p><font><span style="font-size:14px;">本文转自大数据躺过的坑博客园博客，原文链接：http://www.cnblogs.com/zlslch/p/6048425.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
