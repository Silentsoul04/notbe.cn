<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>hdu 5073 Galaxy（2014acm鞍山亚洲分部 C） « NotBeCN</title>
  <meta name="description" content="             主题链接：http://acm.hdu.edu.cn/showproblem.php?    pid=5073        Galaxy    Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Li...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/21/weixin_33994429_90131430.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">hdu 5073 Galaxy（2014acm鞍山亚洲分部 C）</h1>
    <p class="post-meta">Nov 21, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">主题链接：http://acm.hdu.edu.cn/showproblem.php?</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">pid=5073</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h1 style="color:rgb(26,92,200);line-height:1.5;font-size:28px;text-align:center;font-family:'Times New Roman';">Galaxy</h1> 
   <span style="line-height:1.8;color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';"><strong><span style="line-height:1.8;font-family:Arial;font-size:12px;color:#008000;">Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 262144/262144 K (Java/Others)<br> Total Submission(s): 768&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 179<br><span style="line-height:1.8;color:#FF0000;">Special Judge</span></span></strong></span>
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Problem Description
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    Good news for us: to release the financial pressure, the government started selling galaxies and we can buy them from now on! The first one who bought a galaxy was Tianming Yun and he gave it to Xin Cheng as a present.
    <br>
    <br>
    <img src="http://acm.hdu.edu.cn/data/images/C549-1004-2.jpg" alt="" style="border:none;">
    <br> To be fashionable, DRD also bought himself a galaxy. He named it Rho Galaxy. There are n stars in Rho Galaxy, and they have the same weight, namely one unit weight, and a negligible volume. They initially lie in a line rotating around their center of mass.
    <br>
    <br> Everything runs well except one thing. DRD thinks that the galaxy rotates too slow. As we know, to increase the angular speed with the same angular momentum, we have to decrease the moment of inertia.
    <br>
    <br> The moment of inertia I of a set of n stars can be calculated with the formula
    <br>
    <br>
    <img src="http://acm.hdu.edu.cn/data/images/C549-1004-1.jpg" alt="" style="border:none;">
    <br> where w
    <sub>i</sub>&nbsp;is the weight of star i, d
    <sub>i</sub>&nbsp;is the distance form star i to the mass of center.
    <br>
    <br> As DRD’s friend, ATM, who bought M78 Galaxy, wants to help him. ATM creates some black holes and white holes so that he can transport stars in a negligible time. After transportation, the n stars will also rotate around their new center of mass. Due to financial pressure, ATM can only transport at most k stars. Since volumes of the stars are negligible, two or more stars can be transported to the same position.
    <br>
    <br> Now, you are supposed to calculate the minimum moment of inertia after transportation.
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Input
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    The first line contains an integer T (T ≤ 10), denoting the number of the test cases.
    <br>
    <br> For each test case, the first line contains two integers, n(1 ≤ n ≤ 50000) and k(0 ≤ k ≤ n), as mentioned above. The next line contains n integers representing the positions of the stars. The absolute values of positions will be no more than 50000.
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Output
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    For each test case, output one real number in one line representing the minimum moment of inertia. Your answer will be considered correct if and only if its absolute or relative error is less than 1e-9.
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Sample Input
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';"> 
    <pre>
</pre> 
    <div style="font-family:'Courier New', Courier, monospace;">
     2 3 2 -1 0 1 4 2 -2 -1 1 2
    </div> 
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Sample Output
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';"> 
    <pre>
</pre> 
    <div style="font-family:'Courier New', Courier, monospace;">
     0 0.5
    </div> 
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Source
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    <a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2014+Asia+AnShan+Regional+Contest&amp;source=1&amp;searchmode=source" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">2014 Asia AnShan Regional Contest</a>
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <div class="panel_title" style="color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;">
    Recommend
   </div> 
   <div class="panel_content" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    liuyiding&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;We have carefully selected several similar problems for you:&nbsp;&nbsp;
    <a href="http://acm.hdu.edu.cn/showproblem.php?pid=5081" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">5081</a>&nbsp;
    <a href="http://acm.hdu.edu.cn/showproblem.php?%3C/p%3E%3Cp%3Epid=5080" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">5080</a>&nbsp;
    <a href="http://acm.hdu.edu.cn/showproblem.php?%3C/p%3E%3Cp%3Epid=5079" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">5079</a>&nbsp;
    <a href="http://acm.hdu.edu.cn/showproblem.php?pid=5077" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">5077</a>&nbsp;
    <a href="http://acm.hdu.edu.cn/showproblem.php?pid=5076" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">5076</a>&nbsp;
   </div> 
   <div class="panel_bottom" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
    &nbsp;
   </div> 
   <br style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman';">
   <a href="http://acm.hdu.edu.cn/statistic.php?%3C/p%3E%3Cp%3Epid=5073" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">Statistic</a>&nbsp;|&nbsp;
   <a href="http://acm.hdu.edu.cn/submit.php?pid=5073" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">Submit</a>&nbsp;|&nbsp;
   <a href="http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5073" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">Discuss</a>&nbsp;|&nbsp;
   <a href="http://acm.hdu.edu.cn/note/note.php?pid=5073" rel="nofollow" style="color:rgb(26,92,200);border-bottom:1px dotted rgb(51,51,51);">Note</a>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cmath&gt;
#include&lt;algorithm&gt;
#define MAXN 50100
using namespace std;
int T,N,K;
int pos[MAXN],sum[MAXN],x[MAXN],First,Last;
double DL,DR,mass;
int PL,PR,need;
double ans,NowI;
double GetNext(){
    double ret=NowI;
    double pmass=mass;
    mass=(sum[Last+1]-sum[First]+0.0)/need;
    NowI+=-(pmass-pos[First])*(pmass-pos[First])+(mass-pos[Last+1])*(mass-pos[Last+1]);
    NowI+=(mass-pmass)*(mass-pmass)*(need-1);
    DL-=(pmass-pos[First]);
    Last++;First++;
    int t=PL-First+1;
    NowI+=2*DL*(mass-pmass);
    DL+=(mass-pmass)*t;
    PL++;
    while(PL&lt;=N &amp;&amp; pos[PL]&lt;=mass){
        DL+=fabs(mass-pos[PL]);
        DR-=fabs(pmass-pos[PL]);
        NowI+=(mass-pos[PL])*(mass-pos[PL]);
        NowI-=(pmass-pos[PL])*(pmass-pos[PL]);
        NowI-=(mass-pmass)*(mass-pmass);
        PL++;
    }
    NowI+=2*(pmass-mass)*DR;
    DR+=(pos[Last]-mass);
    PL--;
    DR-=(mass-pmass)*(Last-(PL+1));
    return NowI;
}
int main(){
//    freopen("in.txt","r",stdin);
    scanf("%d",&amp;T);
    while(T--){
        scanf("%d%d",&amp;N,&amp;K);
        for(int i=0;i&lt;N;i++)
            scanf("%d",&amp;pos[i]);
        sort(pos,pos+N);
        sum[0]=pos[0];
        for(int i=1;i&lt;N;i++)
            sum[i]=sum[i-1]+pos[i];
        need=N-K;ans=0;PL=0;
        if(N==1 || need &lt;2 ){
            puts("0.000000000000");
            continue;
        }
        double kkk=sum[need-1]*1.0/need;First=0;Last=need-1;
        DL=0;PL=0;DR=0;NowI=0;
        for(int i=0;i&lt;need;i++){
            NowI+=(kkk-pos[i])*(kkk-pos[i]);
            if(pos[i]&lt;=kkk){
                PL=i;
                DL+=(kkk-pos[i]);
            }
            else
                DR+=(pos[i]-kkk);
        }
        mass=kkk;
        ans=NowI;
        while(Last&lt;N-1){
            GetNext();
            ans=min(ans,NowI);
        }
        printf("%.12lf\n",ans);
    }
}

</code></pre> 
   <pre><code class="language-cpp"><br></code></pre> 
   <p style="color:rgb(51,51,51);font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-size:14px;"><br></p> 
   <p><font color="#333333"><span style="font-size:14px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/5040853.html，如需转载请自行联系原作者</span></font></p> 
   <div>
    <br>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
