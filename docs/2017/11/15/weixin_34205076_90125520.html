<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>[ACM] POJ 3252 Round Numbers (的范围内的二元0数大于或等于1数的数目，组合） « NotBeCN</title>
  <meta name="description" content="                 Round Numbers                               Time Limit:&nbsp;2000MS        &nbsp;         Memory Limit:&nbsp;65536K                     Tota...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/15/weixin_34205076_90125520.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">[ACM] POJ 3252 Round Numbers (的范围内的二元0数大于或等于1数的数目，组合）</h1>
    <p class="post-meta">Nov 15, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="ptt" style="font-family:verdana, Arial, Helvetica, sans-serif;text-align:center;font-size:18pt;font-weight:bold;color:#0000FF;">
    Round Numbers
   </div> 
   <div class="plm" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-align:center;"> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Time Limit:</strong>&nbsp;2000MS</td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Memory Limit:</strong>&nbsp;65536K</td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Total Submissions:</strong>&nbsp;8590</td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Accepted:</strong>&nbsp;3003</td> 
      </tr>
     </tbody>
    </table>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:18pt;font-weight:bold;color:#0000FF;">Description</p> 
   <div class="ptx" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman', Times, serif;"> 
    <p>The cows, as you know, have no fingers or thumbs and thus are unable to play Scissors, Paper, Stone' (also known as 'Rock, Paper, Scissors', 'Ro, Sham, Bo', and a host of other names) in order to make arbitrary decisions such as who gets to be milked first. They can't even flip a coin because it's so hard to toss using hooves.</p> 
    <p>They have thus resorted to "round number" matching. The first cow picks an integer less than two billion. The second cow does the same. If the numbers are both "round numbers", the first cow wins,<br> otherwise the second cow wins.</p> 
    <p>A positive integer&nbsp;<em>N</em>&nbsp;is said to be a "round number" if the binary representation of&nbsp;<em>N</em>&nbsp;has as many or more zeroes than it has ones. For example, the integer 9, when written in binary form, is 1001. 1001 has two zeroes and two ones; thus, 9 is a round number. The integer 26 is 11010 in binary; since it has two zeroes and three ones, it is not a round number.</p> 
    <p>Obviously, it takes cows a while to convert numbers to binary, so the winner takes a while to determine. Bessie wants to cheat and thinks she can do that if she knows how many "round numbers" are in a given range.</p> 
    <p>Help her by writing a program that tells how many round numbers appear in the inclusive range given by the input (1 ≤&nbsp;<em>Start</em>&nbsp;&lt;&nbsp;<em>Finish</em>&nbsp;≤ 2,000,000,000).</p> 
   </div> 
   <p style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:18pt;font-weight:bold;color:#0000FF;">Input</p> 
   <div class="ptx" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman', Times, serif;">
    Line 1: Two space-separated integers, respectively&nbsp;
    <em>Start</em>&nbsp;and&nbsp;
    <em>Finish</em>.
   </div> 
   <p style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:18pt;font-weight:bold;color:#0000FF;">Output</p> 
   <div class="ptx" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman', Times, serif;">
    Line 1: A single integer that is the count of round numbers in the inclusive range&nbsp;
    <em>Start</em>..
    <em>Finish</em> 
   </div> 
   <p style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:18pt;font-weight:bold;color:#0000FF;">Sample Input</p> 
   <pre class="sio">2 12</pre> 
   <p style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:18pt;font-weight:bold;color:#0000FF;">Sample Output</p> 
   <pre class="sio">6</pre> 
   <p style="font-family:verdana, Arial, Helvetica, sans-serif;font-size:18pt;font-weight:bold;color:#0000FF;">Source</p> 
   <div class="ptx" style="color:rgb(51,51,51);font-size:14px;font-family:'Times New Roman', Times, serif;">
    <a href="http://poj.org/searchproblem?field=source&amp;key=USACO+2006+November+Silver" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">USACO 2006 November Silver</a>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">解题思路：</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">题意为在一个闭区间内，有多少个数它的二进制中0的个数大于等于1的个数。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">整体思路为： 比方求 [2,12], &nbsp;我们就求 （0,12] -（0,1]。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">这样问题就转化为了 求（0,n]之间有多少个符合题意的数。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">下面转载为：http://hi.baidu.com/ycdoit/item/6f64473c54a88f607d034b7f</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="margin-left:auto;font-size:14px;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;line-height:21px;">[2,12]区间的RoundNumbers（简称RN）个数:Rn[2,12]=Rn[0,12]-Rn[0,1]<br> &nbsp;即：Rn[start,finish]=Rn[0,finish]-Rn[0,start-1]<br> &nbsp;所以关键是给定一个X，求出Rn[0,X]<br> &nbsp;如今如果X=10100100&nbsp;<br> &nbsp;这个X的二进制总共是8位。不论什么一个小于8位的二进制都小于X<br> &nbsp;第一部分，求出长度为[0,7]区间内的二进制是RoundNumber的个数<br> &nbsp;&nbsp;对于一个长度为Len的二进制(最高位为1)。怎样求出他的RoundNumbers呢（如果为用R(len)来表达），分为奇数和偶数两种情况<br> &nbsp;&nbsp;1、奇数情况：在Len=2k+1的情况下。最高位为1，剩下2k位。至少须要k+1为0<br> &nbsp;&nbsp;&nbsp;用C(m,n)表示排列组合数：从m个位置选出n个位置的方法<br> &nbsp;&nbsp;&nbsp;R(len)=C(2k,k+1)+C(2k,k+2)+...+C(2k,2k).<br> &nbsp;&nbsp;&nbsp;因为 A：C(2k,0)+C(2k,1)+...+C(2k,2k)=2^（2k）<br> &nbsp;&nbsp;&nbsp;&nbsp; B:C(2k,0)=C(2k,2k), C(2k,1)=C(2k,2k-1) ,,C(2k,i)=C(2k,2k-i)<br> &nbsp;&nbsp;&nbsp;于是&nbsp; C(2k,0)+C(2k,1)+...+C(2k,2k)<br> &nbsp;&nbsp;&nbsp;&nbsp;= C(2k,0)+C(2k,1)+...+C(2k,k)+C(2k,k+1)+C(2k,K+2)+...+C(2k,2k)<br> &nbsp;&nbsp;&nbsp;&nbsp;= 2*R(len)+C(2k,k)<br> &nbsp;&nbsp;&nbsp;&nbsp;=2^(2k)<br> &nbsp;&nbsp;&nbsp;&nbsp;所以R(len)=1/2*{2^(2k)-C(2k,k)};<br> &nbsp;&nbsp;2. 偶数情况 len=2*k，类似能够推到 R(len)=1/2*(2^(2k-1));<br> &nbsp;第二部分，对于上面这个长度为8的样例:即X=10100100，首先假设本身是RoundNumbers，第二部分的结果总数+1<br> &nbsp;&nbsp;第一部分已经将长度小于8的部分求出。如今要求长度=8的RoundNumber数目<br> &nbsp;&nbsp;长度为8。所以第一个1不可改变<br> &nbsp;&nbsp;如今到第二个1。假设Y是前缀如100*****的二进制，这个前缀下。后面取0和1必定小于X。已经有2个0，一个1。剩下的5个数字中至少须要2个0，<br> &nbsp;&nbsp;&nbsp;所以把第二个1改为0：能够有C(5,2)+C(5,3)+C(5,4)+C(5,5)<br> &nbsp;&nbsp;如今第三个1，也就是前最为101000**，相同求出。至少须要0个0就可，所以有C(2,0)+C(2,1)+C(2,2)个RoundNumbers<br> &nbsp;&nbsp;。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">。。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> &nbsp;&nbsp;将所有除了第一个1以外的1所有变为0，如上算出有多少个RoundNumbers，结果相加（因为前缀不一样。所以后面无论怎么组合都是唯一的）</p> 
   <p style="margin-left:auto;font-size:14px;color:rgb(69,69,69);font-family:tahoma, helvetica, arial;line-height:21px;">&nbsp;将第一部分和第二部分的结果相加，就是最后的结果了。<br> &nbsp;精度要求方面，用int就能够了：two billion=20亿&lt;2*1024*1024*1024=2^31，需用31位来表示数组。由于第一位总是1，所以求组合数的时候最多求30，C(30,k),k取值区间是[0,30],由于C(k,i)&lt;2^k，所以结果用int表示就能够</p> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">參考：http://www.cnblogs.com/kuangbin/archive/2012/08/22/2651730.html</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">代码：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string.h&gt;
using namespace std;
int c[32][32];
int b[32];

void getCom()
{
    memset(c,0,sizeof(c));
    c[0][0]=c[1][0]=c[1][1]=1;
    for(int i=2;i&lt;=30;i++)
    {
        c[i][i]=c[i][0]=1;
        for(int j=1;j&lt;=i;j++)
            c[i][j]=c[i-1][j]+c[i-1][j-1];
    }
}

int cal(int n)
{
    if(n&lt;=1)//注意正整数，0不是round number
        return 0;
    int bit=0;
    int temp=n;
    int ans=0;

    while(temp)//b[]保存每一位二进制数，一共bit位
    {
        b[bit++]=temp%2;
        temp/=2;
    }

    for(int i=bit-1;i&gt;=1;i--)//位数比当前数少一位的round number
    {
        if(i%2==0)
            ans+=(1&lt;&lt;(i-1))/2;
        else
            ans+=((1&lt;&lt;(i-1))-c[i-1][(i-1)/2])/2;
    }

    int num0=0,num1=0;
    for(int i=0;i&lt;bit;i++)//推断自身
        if(b[i])
            num1++;
        else
            num0++;
    if(num0&gt;=num1)
        ans++;

    num0=0;num1=1;
    for(int i=bit-2;i&gt;=0;i--)
    {
        if(b[i]==0)
            num0++;
        else
        {
            num1++;
            for(int k=i;k&gt;=0&amp;&amp;k+num0+1&gt;=i-k+num1-1;k--)//k是选择0的个数。总共0的个数要大于等于1的个数
                ans+=c[i][k];
        }
    }
    return ans;
}

int main()
{
    getCom();
    int a,b;
    cin&gt;&gt;a&gt;&gt;b;
    cout&lt;&lt;cal(b)-cal(a-1)&lt;&lt;endl;
    return 0;
}
</code></pre> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <div> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;">版权声明：本文博客原创文章，博客，未经同意，不得转载。</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p><font color="#333333"><span style="font-size:12px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/4656892.html，如需转载请自行联系原作者</span></font></p> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
