<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>mysql 数据库备份ubuntu « NotBeCN</title>
  <meta name="description" content="             安装        1 sudo apt-get update    2.&nbsp;sudo apt-get install mysql-server              3&nbsp;sudo&nbsp;&nbsp;apt-get&nbsp;install&nbsp;mysql...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/15/weixin_33896726_90136509.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">mysql 数据库备份ubuntu</h1>
    <p class="post-meta">Nov 15, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:32px;">安装</span></h1> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;"><strong>1 sudo apt-get update</strong></span></p> 
   <span style="line-height:1.8;font-size:14px;font-family:Monaco;color:rgb(134,0,164);">2.&nbsp;sudo apt-get install mysql-server</span>
   <span style="line-height:1.8;font-size:14px;font-family:Monaco;color:rgb(106,0,129);"><br></span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <span style="line-height:1.8;font-family:Monaco;color:rgb(106,0,129);">3&nbsp;<span style="line-height:1.8;color:rgb(134,0,164);">sudo&nbsp;&nbsp;</span>apt-get&nbsp;<span style="line-height:1.8;color:rgb(134,0,164);">install&nbsp;</span>mysql-client&nbsp;<br></span>
   </div> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4. &nbsp;</span>
   <span style="line-height:1.8;font-size:14px;font-family:Monaco;color:rgb(106,0,129);">sudo apt-get install libmysqlclient-dev</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(255,0,0);"><strong><span style="line-height:1.8;font-size:24px;">sudo apt-get update</span></strong></span></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;<span style="line-height:1.8;color:rgb(255,0,0);">Could not resolve 'security.ubuntu.com'</span><br> Err http://extras.ubuntu.com trusty Release.gpg<br> &nbsp;<span style="line-height:1.8;color:rgb(255,0,0);">&nbsp;Could not resolve 'extras.ubuntu.com'</span><br> Err http://us.archive.ubuntu.com trusty InRelease&nbsp;&nbsp;<br> Err http://us.archive.ubuntu.com trusty Release.gpg<br> &nbsp;&nbsp;<span style="line-height:1.8;color:rgb(255,0,0);">Could not resolve 'us.archive.ubuntu.com'</span><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">从Error Message 上看来似乎是“cn.archive.ubuntu.com”域名解析出错。于是在windows cmd中里Ping了一下这个域名。发现能够Ping 通。<br></p> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    C:\Documents and Settings\Administrator&gt;ping us.archive.ubuntu.com
    <br> Pinging us.archive.ubuntu.com [91.189.91.14] with 32 bytes of data:
    <br> Reply from 91.189.91.14: bytes=32 time=224ms TTL=47
    <br> Reply from 91.189.91.14: bytes=32 time=224ms TTL=47
    <br> Reply from 91.189.91.14: bytes=32 time=224ms TTL=47
    <br> C:\Documents and Settings\Administrator&gt;ping security.ubuntu.com
    <br> Pinging security.ubuntu.com [91.189.91.13] with 32 bytes of data:
    <br> Reply from 91.189.91.13: bytes=32 time=230ms TTL=47
    <br> Reply from 91.189.91.13: bytes=32 time=235ms TTL=47
    <br> Reply from 91.189.91.13: bytes=32 time=230ms TTL=47
    <br> Reply from 91.189.91.13: bytes=32 time=230ms TTL=47
    <br> C:\Documents and Settings\Administrator&gt;ping extras.ubuntu.com
    <br> Pinging extras.ubuntu.com [91.189.92.152] with 32 bytes of data:
    <br> Reply from 91.189.92.152: bytes=32 time=284ms TTL=42
    <br> Reply from 91.189.92.152: bytes=32 time=283ms TTL=42
    <br> Reply from 91.189.92.152: bytes=32 time=284ms TTL=42
    <br> Reply from 91.189.92.152: bytes=32 time=284ms TTL=42
    <br>
    <br>
   </blockquote> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">于是尝试通过改动 /etc/hosts 解决问题：</p> 
   <ol style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style:decimal;">sudo gedit /etc/hosts</li> 
    <li style="list-style:decimal;">在文件末尾增加&nbsp;&nbsp;&nbsp;<br> 91.189.92.152 extras.ubuntu.com&nbsp;<br> 91.189.91.13&nbsp;security.ubuntu.com&nbsp;&nbsp;<br> 91.189.91.14 us.archive.ubuntu.com</li> 
    <li style="list-style:decimal;">执行 “#/etc/init.d/networking restart” 重新启动网络。</li> 
    <li style="list-style:decimal;">执行 “sudo apt-get update成功！！ <p></p> <p>！</p> </li> 
   </ol>
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"> <span style="line-height:1.8;font-size:24px;color:rgb(255,0,0);"><strong><span style="line-height:1.8;font-family:Monaco;">sudo apt-get install mysql-server</span></strong></span><br></h2> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">───────────────────┤ Configuring mysql-server-5.5 ├─────────────────────┐&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │ While not mandatory, it is highly recommended that you set a password&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │ for the MySQL administrative "root" user.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │ If this field is left blank, the password will not be changed.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │ New password for the MySQL "root" user:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │ _______________________________________________________________________ │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; │&nbsp; &nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; │&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Ok&gt;&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">输入1 而且确认，就是root的password了</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Setting up libhtml-template-perl (2.95-1) ...<br> Processing triggers for ureadahead (0.100.0-16) ...<br> Setting up mysql-server (5.5.43-0ubuntu0.14.04.1) ...<br> Processing triggers for libc-bin (2.19-0ubuntu6.5) ...<br><br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(255,0,0);"><strong><span style="line-height:1.8;font-size:24px;">sudo apt-get install mysql-client</span></strong></span></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> Preparing to unpack .../mysql-client_5.5.43-0ubuntu0.14.04.1_all.deb ...<br> Unpacking mysql-client (5.5.43-0ubuntu0.14.04.1) ...<br> Setting up mysql-client (5.5.43-0ubuntu0.14.04.1) ...</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:24px;"><strong><span style="line-height:1.8;font-family:Monaco;color:rgb(255,0,0);">sudo apt-get install libmysqlclient-dev</span></strong></span></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Processing triggers for man-db (2.6.7.1-1ubuntu1) ...<br> Setting up zlib1g-dev:i386 (1:1.2.8.dfsg-1ubuntu1) ...<br> Setting up libmysqlclient-dev (5.5.43-0ubuntu0.14.04.1) ...<br> 至此安装完成<br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-family:Monaco;font-size:32px;color:rgb(106,0,129);"><span style="line-height:1.8;color:rgb(51,51,51);">检查是否成功安装</span></span></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;"><span style="line-height:1.8;"></span></span><strong>sudo netstat -tap | grep mysql</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">a@ubuntu:~$ sudo netstat -tap | grep mysql<br> tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 localhost:mysql&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *:*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6911/mysqld&nbsp;&nbsp;&nbsp;<br> 说明是成功的 port在LISTEN状态</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"> <span style="line-height:1.8;font-size:32px;">登陆mysql数据库&nbsp;</span><br></h2> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    &nbsp;
   </div> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <strong>mysql -u root -p&nbsp;</strong>&nbsp;
    <br>
   </div> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    -u 表示选择登陆的username， -p 表示登陆的用户password，上面命令输入之后会提示输入password。此时输入password就能够登录到mysql。
   </div> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">a@ubuntu:~$ mysql -u root -p&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Enter password:&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Welcome to the MySQL monitor.&nbsp; Commands end with ; or \g.</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Your MySQL connection id is 42</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Server version: 5.5.43-0ubuntu0.14.04.1 (Ubuntu)</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt;&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:32px;">查看当前的数据库</span></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><strong>show databases</strong>;</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>mysql&gt; show databases<br> &nbsp;&nbsp;&nbsp; -&gt; ;<br> +--------------------+<br> | Database&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------------------+<br> | information_schema |<br> | mysql&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | performance_schema |<br> +--------------------+<br> 3 rows in set (0.00 sec)<br></strong></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><strong><span style="line-height:1.8;font-size:32px;">使用数据库</span></strong></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><strong>use mysql</strong><br></strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; use mysql<br> Reading table information for completion of table and column names<br> You can turn off this feature to get a quicker startup with -A<br><br> Database changed<br><br> 显示数据表单</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>show tables</strong>&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; show tables;<br> +---------------------------+<br> | Tables_in_mysql&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +---------------------------+<br> | columns_priv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | event&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | func&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | general_log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | help_category&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | help_keyword&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | help_relation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | help_topic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | ndb_binlog_index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | plugin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | proc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | procs_priv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | proxies_priv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | servers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | slow_log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | tables_priv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | time_zone&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | time_zone_leap_second&nbsp;&nbsp;&nbsp;&nbsp; |<br> | time_zone_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | time_zone_transition&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | time_zone_transition_type |<br> | user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +---------------------------+<br> 24 rows in set (0.00 sec)<br><span style="line-height:1.8;font-size:32px;"><br></span></p> 
   <h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:32px;">程序訪问该数据库</span></h1> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">insert</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;stdio.h&gt;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;string.h&gt;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include "mysql.h"</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">int main()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;MYSQL mysql;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char f1[100];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;int f2;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char host[100];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char user[100];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char pwd[100];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char db[100];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;int port;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char query[1000];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;char yn;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;printf("Please enter the host:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;scanf("%s",host);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;printf("Please enter the username:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;scanf("%s",user);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;printf("Please enter the password:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;scanf("%s",pwd);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;printf("Please select a database:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;scanf("%s",db);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;printf("Please enter the tcp port:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;scanf("%d",&amp;port);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;mysql_init(&amp;mysql);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;if(mysql_real_connect(&amp;mysql, host, user, pwd, db, port, NULL, 0))</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the f1:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%s",f1);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the f2:\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%d",&amp;f2);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;getchar();</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sprintf(query, "INSERT INTO test (id, test1, test2) VALUES (null, '%s', '%d')", f1,f2);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(!mysql_real_query(&amp;mysql,query,strlen(query)))</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Insert successed!!!\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Whether to print the last SQL:(y/n)");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%c",&amp;yn);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(yn=='y')</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%s\n",query);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);&nbsp;&nbsp; &nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Insert failed!!!\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;}</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;else</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;{</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Connect to MySQL failed!!!\n");</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp; &nbsp;}</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">}<br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">delete</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;stdio.h&gt;<br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;string.h&gt;<br> #include "mysql.h"<br> int main()<br> {<br> &nbsp;&nbsp; &nbsp;MYSQL mysql;<br> &nbsp;&nbsp; &nbsp;char host[100];<br> &nbsp;&nbsp; &nbsp;char user[100];<br> &nbsp;&nbsp; &nbsp;char pwd[100];<br> &nbsp;&nbsp; &nbsp;char db[100];<br> &nbsp;&nbsp; &nbsp;int port;<br> &nbsp;&nbsp; &nbsp;char query[1000];<br> &nbsp;&nbsp; &nbsp;char yn;<br> &nbsp;&nbsp; &nbsp;int id;<br> &nbsp;&nbsp; &nbsp;printf("Please enter the host:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",host);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the username:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",user);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the password:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",pwd);<br> &nbsp;&nbsp; &nbsp;printf("Please select a database:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",db);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the tcp port:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%d",&amp;port);<br> &nbsp;&nbsp; &nbsp;mysql_init(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;if(mysql_real_connect(&amp;mysql, host, user, pwd, db, port, NULL, 0))<br> &nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the id which you want to delete:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%d",&amp;id);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;getchar();<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sprintf(query, "DELETE FROM test WHERE id=%d", id);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(!mysql_real_query(&amp;mysql,query,strlen(query)))<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Delete successed!!!\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Whether to print the last SQL:(y/n)");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%c",&amp;yn);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(yn=='y')<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%s\n",query);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return;<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Delete failed!!!\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Connect to MySQL failed!!!\n");<br> &nbsp;&nbsp; &nbsp;}<br> }<br><br><br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">update</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;stdio.h&gt;<br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;string.h&gt;<br> #include "mysql.h"<br> int main()<br> {<br> &nbsp;&nbsp; &nbsp;MYSQL mysql;<br> &nbsp;&nbsp; &nbsp;char host[100];<br> &nbsp;&nbsp; &nbsp;char user[100];<br> &nbsp;&nbsp; &nbsp;char pwd[100];<br> &nbsp;&nbsp; &nbsp;char db[100];<br> &nbsp;&nbsp; &nbsp;int port;<br> &nbsp;&nbsp; &nbsp;char query[1000];<br> &nbsp;&nbsp; &nbsp;char f1[100];<br> &nbsp;&nbsp; &nbsp;int f2;<br> &nbsp;&nbsp; &nbsp;char yn;<br> &nbsp;&nbsp; &nbsp;int id;<br> &nbsp;&nbsp; &nbsp;printf("Please enter the host:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",host);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the username:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",user);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the password:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",pwd);<br> &nbsp;&nbsp; &nbsp;printf("Please select a database:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",db);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the tcp port:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%d",&amp;port);<br> &nbsp;&nbsp; &nbsp;mysql_init(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;if(mysql_real_connect(&amp;mysql, host, user, pwd, db, port, NULL, 0))<br> &nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the content you want to modify on test1:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%s",f1);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the content you want to modify on test2:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%d",&amp;f2);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please select one id which you want to modify:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%d",&amp;id);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;getchar();<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sprintf(query, "UPDATE test SET test1='%s', test2='%d' WHERE id=%d", f1,f2,id);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(!mysql_real_query(&amp;mysql,query,strlen(query)))<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Delete successed!!!\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Whether to print the last SQL:(y/n)");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%c",&amp;yn);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(yn=='y')<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%s\n",query);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return;<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Delete failed!!!\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Connect to MySQL failed!!!\n");<br> &nbsp;&nbsp; &nbsp;}<br> }<br><br><br><br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">select</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;stdio.h&gt;<br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include&lt;string.h&gt;<br> #include "mysql.h"<br> int main()<br> {<br> &nbsp;&nbsp; &nbsp;MYSQL mysql;<br> &nbsp;&nbsp; &nbsp;MYSQL_RES *res;<br> &nbsp;&nbsp; &nbsp;MYSQL_ROW row;<br> &nbsp;&nbsp; &nbsp;char f1[100];<br> &nbsp;&nbsp; &nbsp;char f2[100];<br> &nbsp;&nbsp; &nbsp;char host[100];<br> &nbsp;&nbsp; &nbsp;char user[100];<br> &nbsp;&nbsp; &nbsp;char pwd[100];<br> &nbsp;&nbsp; &nbsp;char db[100];<br> &nbsp;&nbsp; &nbsp;int port;<br> &nbsp;&nbsp; &nbsp;char query[1000];<br> &nbsp;&nbsp; &nbsp;char yn;<br> &nbsp;&nbsp; &nbsp;int id;<br> &nbsp;&nbsp; &nbsp;printf("Please enter the host:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",host);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the username:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",user);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the password:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",pwd);<br> &nbsp;&nbsp; &nbsp;printf("Please select a database:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%s",db);<br> &nbsp;&nbsp; &nbsp;printf("Please enter the tcp port:\n");<br> &nbsp;&nbsp; &nbsp;scanf("%d",&amp;port);<br> &nbsp;&nbsp; &nbsp;mysql_init(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;if(mysql_real_connect(&amp;mysql, host, user, pwd, db, port, NULL, 0))<br> &nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the f1:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%s",f1);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter the f2:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%s",&amp;f2);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Please enter a id which you want to find:\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%d",&amp;id);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;getchar();<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;sprintf(query, "SELECT %s,%s FROM test WHERE id=%d", f1,f2,id);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(!mysql_real_query(&amp;mysql,query,strlen(query)))<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;res=mysql_store_result(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while(row=mysql_fetch_row(res))<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%-12s",row[0]);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%12s",row[1]);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Whether to print the last SQL:(y/n)");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;scanf("%c",&amp;yn);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(yn=='y')<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%s\n",query);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);&nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mysql_close(&amp;mysql);<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return;<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Select failed!!!\n");<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;}<br> &nbsp;&nbsp; &nbsp;else<br> &nbsp;&nbsp; &nbsp;{<br> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("Connect to MySQL failed!!!\n");<br> &nbsp;&nbsp; &nbsp;}<br> }<br><br><br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">样例1 show tables<br></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:32px;"><span style="line-height:1.8;font-size:12px;">写一个简单的程序来訪问该数据库，实现 show tables 功能：</span></span></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:12px;">代码</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#include &lt;mysql/mysql.h&gt;<br> #include &lt;stdio.h&gt;<br> #include &lt;stdlib.h&gt;<br> int main()&nbsp;<br> {<br> &nbsp;&nbsp;&nbsp; MYSQL *conn;<br> &nbsp;&nbsp;&nbsp; MYSQL_RES *res;<br> &nbsp;&nbsp;&nbsp; MYSQL_ROW row;<br> &nbsp;&nbsp;&nbsp; char server[] = "localhost";<br> &nbsp;&nbsp;&nbsp; char user[] = "root";<br> &nbsp;&nbsp;&nbsp; char password[] = "1";<br> &nbsp;&nbsp;&nbsp; char database[] = "mysql";<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; conn = mysql_init(NULL);<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; if (!mysql_real_connect(conn, server,user, password, database, 0, NULL, 0))&nbsp;<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr, "%s\n", mysql_error(conn));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit(1);<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; if (mysql_query(conn, "show tables"))&nbsp;<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stderr, "%s\n", mysql_error(conn));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit(1);<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; res = mysql_use_result(conn);<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; printf("MySQL Tables in mysql database:\n");<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; while ((row = mysql_fetch_row(res)) != NULL)<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("%s \n", row[0]);<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; mysql_free_result(res);<br> &nbsp;&nbsp;&nbsp; mysql_close(conn);<br> &nbsp;&nbsp; &nbsp;<br> &nbsp;&nbsp;&nbsp; printf("finish! \n");<br> &nbsp;&nbsp;&nbsp; return 0;<br> }</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">编译</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">编译代码的时候须要链接mysql的库，能够通过例如以下方式编译：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　gcc -Wall sqltest.c -o sqltest -lmysqlclient</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　然后执行编译好的代码：</p> 
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">a@ubuntu:~/db$ gcc -Wall sqltest.c -o sqltest -lmysqlclient</span> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">运行</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">a@ubuntu:~/db$ sudo ./sqltest<br> MySQL Tables in mysql database:<br> columns_priv&nbsp;<br> db&nbsp;<br> event&nbsp;<br> func&nbsp;<br> general_log&nbsp;<br> help_category&nbsp;<br> help_keyword&nbsp;<br> help_relation&nbsp;<br> help_topic&nbsp;<br> host&nbsp;<br> ndb_binlog_index&nbsp;<br> plugin&nbsp;<br> proc&nbsp;<br> procs_priv&nbsp;<br> proxies_priv&nbsp;<br> servers&nbsp;<br> slow_log&nbsp;<br> tables_priv&nbsp;<br> time_zone&nbsp;<br> time_zone_leap_second&nbsp;<br> time_zone_name&nbsp;<br> time_zone_transition&nbsp;<br> time_zone_transition_type&nbsp;<br> user&nbsp;<br> finish!&nbsp;</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">样例2 select&nbsp; * from table<br></h2> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">代码<br></h3> 
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(255,0,0);">#include</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&lt;</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">stdlib.h</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&gt;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(255,0,0);">#include</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&lt;</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">stdio.h</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&gt;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(255,0,0);">#include</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&lt;</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql/mysql.h</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&gt;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(255,0,0);">#include</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&lt;</span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">syslog.h</span>
   <span style="line-height:1.8;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;color:rgb(0,112,192);">&gt;</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</span> 
   <div class="articalContent" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> MYSQL mysql;
    <br>
    <br> void doQuery()
    <br> {
    <br> &nbsp;&nbsp;&nbsp;MYSQL_ROW m_row;
    <br> &nbsp;&nbsp;&nbsp;MYSQL_RES *m_res;
    <br> &nbsp;&nbsp;&nbsp;char sql[1024];
    <br> &nbsp;&nbsp;
    <br> &nbsp;&nbsp;&nbsp;sprintf(sql
    <span style="line-height:1.8;color:rgb(112,48,160);">,</span>
    <span style="line-height:1.8;color:rgb(112,48,160);">"selectcount(*) from my_table"</span>);
    <br> &nbsp;&nbsp;&nbsp;if(mysql_query(&amp;mysql,sql) != 0)
    <br> &nbsp;&nbsp;&nbsp;{
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr, "mysql_queryerr:%s",mysql_error(&amp;mysql));
    <br> &nbsp;&nbsp;&nbsp;}
    <br> &nbsp;&nbsp;&nbsp;m_res =mysql_store_result(&amp;mysql);
    <br> &nbsp;&nbsp;&nbsp;if(m_res==NULL)
    <br> &nbsp;&nbsp;&nbsp;{
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr, "get resulterr:%s",mysql_error(&amp;mysql));
    <br> &nbsp;&nbsp;&nbsp;}
    <br> &nbsp;&nbsp;&nbsp;if(m_row = mysql_fetch_row(m_res))
    <br> &nbsp;&nbsp;&nbsp;{
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("count(*) is%d!\n",atoi(m_row[0]));
    <br> &nbsp;&nbsp;&nbsp;}
    <br> &nbsp;&nbsp;&nbsp;mysql_free_result(m_res);
    <br> }
    <br>
    <br> main()
    <br> {
    <br> &nbsp;&nbsp;&nbsp;char host[32] = "my_host";
    <br> &nbsp;&nbsp;&nbsp;char user[32] = "my_user";
    <br> &nbsp;&nbsp;&nbsp;char passwd[32= "my_passwd";
    <br> &nbsp;&nbsp;&nbsp;char db[32] = "my_db";
    <br> &nbsp;&nbsp;&nbsp;
    <br> &nbsp;&nbsp;&nbsp;if( mysql_init(&amp;mysql) == NULL )
    <br> &nbsp;&nbsp;&nbsp;{
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,"Init mysqlerr!");
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return -1;
    <br> &nbsp;&nbsp;&nbsp;}
    <br> &nbsp;&nbsp;&nbsp;if(mysql_real_connect(&amp;mysql,host,user,passwd,db,0,NULL,0)== NULL)
    <br> &nbsp;&nbsp;&nbsp;{
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,"Connect to mysqlError:%s!",mysql_error(&amp;mysql));
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return -1;
    <br> &nbsp;&nbsp;&nbsp;}
    <br> &nbsp;&nbsp;&nbsp;else
    <br> &nbsp;&nbsp;&nbsp;{
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;puts("Connect to mysqlsuccess!");
    <br> &nbsp;&nbsp;&nbsp;}
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <br> &nbsp;&nbsp;&nbsp;doQuery();
    <br> &nbsp;&nbsp;&nbsp;mysql_close(&amp;mysql);
    <br> &nbsp;&nbsp;&nbsp;return 0;
    <br> }
   </div> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">编译</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span class="sfont" style="line-height:1.8;"></span></p> 
   <p style="text-indent:21pt;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">假定<span style="line-height:1.8;">mysql的头文件在/usr/include/mysql，库文件在/usr/lib/mysql，运行下列命令进行编译：</span></span></p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'Courier New';">gcc -<span style="line-height:1.8;">g</span>testsql.c -I/usr/include/mysql -L/usr/lib/mysql -lmysqlclient -lz<br></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">样例5<br></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">在linux上安装好mysql后，建立我们測试用的数据库和表，并插入记录，sql语句例如以下：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(51,51,51);"> 
    <br>
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);"><span style="line-height:1.8;border:none;">CREATE&nbsp;DATABASE&nbsp;ta;&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">use&nbsp;ta&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">CREATE&nbsp;TABLE&nbsp;t1&nbsp;(&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;INTEGER&nbsp;NOT&nbsp;NULL&nbsp;,&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;TEXT&nbsp;NOT&nbsp;NULL&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">);&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">INSERT&nbsp;INTO&nbsp;t1&nbsp;VALUES(1,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">'n1'</span><span style="line-height:1.8;border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">INSERT&nbsp;INTO&nbsp;t1&nbsp;VALUES(2,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">'n2'</span><span style="line-height:1.8;border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">INSERT&nbsp;INTO&nbsp;t1&nbsp;VALUES(3,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">'n3'</span><span style="line-height:1.8;border:none;">);&nbsp;&nbsp;</span></span></li> 
    </ol>
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">获得表中的记录，用到下面mysql的API：</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_init()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_real_connect()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_real_query()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_store_result()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_fetch_row()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_free_result()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql_close()</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">操作中须要用到mysql中定义的三个结构体</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MYSQL</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MYSQL_RES</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MYSQL_ROW</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">一般步骤是：</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1.调用mysql_init()初始化MYSQL结构。很多的函数运行须要这个结构体。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2.调用mysql_real_connect()连接数据库。參数中涉及到数据库名。数据库登录名，数据库password等等。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3.调用mysql_real_query()运行一条Select SQL语句。通过mysql_store_result()的返回值获得Select的结果，返回的结果就是一个MYSQL_RES结构的指针。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4.调用mysql_fetch_row()获得一条记录。函数的返回值是MYSQL_ROW对象。这是一个char二维数组。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">获取一条记录以后，mysql_fetch_row会将游标自己主动向下移动一条记录。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5.调用mysql_free_result()释放结果资源。调用mysql_close关闭连接。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">简单的代码例如以下（没有做失败推断）：</h3> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(51,51,51);"> 
    <br>
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);"><span class="preprocessor" style="line-height:1.8;border:none;color:#808080;">#include&nbsp;&lt;mysql/mysql.h&gt;</span><span style="line-height:1.8;border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);"><span class="preprocessor" style="line-height:1.8;border:none;color:#808080;">#include&nbsp;&lt;stdio.h&gt;</span><span style="line-height:1.8;border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);"><span class="preprocessor" style="line-height:1.8;border:none;color:#808080;">#include&nbsp;&lt;stdlib.h&gt;</span><span style="line-height:1.8;border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);"><span class="preprocessor" style="line-height:1.8;border:none;color:#808080;">#include&nbsp;&lt;string.h&gt;</span><span style="line-height:1.8;border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);"><span class="datatypes" style="line-height:1.8;border:none;">int</span><span style="line-height:1.8;border:none;">&nbsp;main()&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;MYSQL&nbsp;mysql;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;mysql_init(&amp;mysql);&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;mysql_real_connect(&amp;mysql,NULL,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">"root"</span><span style="line-height:1.8;border:none;">,</span><span class="string" style="line-height:1.8;border:none;color:#0000FF;">"123"</span><span style="line-height:1.8;border:none;">,</span><span class="string" style="line-height:1.8;border:none;color:#0000FF;">"ta"</span><span style="line-height:1.8;border:none;">,0,NULL,0);&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;mysql_real_query(&amp;mysql,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">"select&nbsp;*&nbsp;from&nbsp;t1"</span><span style="line-height:1.8;border:none;">,16);&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;MYSQL_RES*&nbsp;res&nbsp;=&nbsp;mysql_store_result(&amp;mysql);&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="line-height:1.8;border:none;">int</span><span style="line-height:1.8;border:none;">&nbsp;num_fields&nbsp;=&nbsp;mysql_num_fields(res);&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;MYSQL_ROW&nbsp;row;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height:1.8;border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="line-height:1.8;border:none;">((row&nbsp;=&nbsp;mysql_fetch_row(res)))&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="line-height:1.8;border:none;">int</span><span style="line-height:1.8;border:none;">&nbsp;i;&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="line-height:1.8;border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="line-height:1.8;border:none;">(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;num_fields;&nbsp;i&nbsp;++)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="line-height:1.8;border:none;">char</span><span style="line-height:1.8;border:none;">&nbsp;buf[100];&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sprintf(buf,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">"[%s]"</span><span style="line-height:1.8;border:none;">,row[i]?row[i]:</span><span class="string" style="line-height:1.8;border:none;color:#0000FF;">"NULL"</span><span style="line-height:1.8;border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stdout,buf);&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stdout,<span class="string" style="line-height:1.8;border:none;color:#0000FF;">"/n"</span><span style="line-height:1.8;border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;mysql_free_result(res);&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;mysql_close(&amp;mysql);&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;exit(0);&nbsp;&nbsp;</span></li> 
     <li class="alt" style="list-style-type:decimal;border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);color:inherit;line-height:1.6;list-style-position:outside;"><span style="line-height:1.8;border:none;color:rgb(0,0,0);">}&nbsp;<br></span></li> 
    </ol>
    <h2 style="color:rgb(0,0,0);line-height:1.5;font-size:21px;">样例6</h2> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">代码<br></h3> 
    <p>#include &lt;mysql/mysql.h&gt;<br> #include &lt;stdio.h&gt;<br> #include &lt;stdlib.h&gt;<br> #include &lt;string.h&gt;<br><br> int main()<br> {<br> &nbsp;&nbsp;&nbsp; char out[100];<br> &nbsp;&nbsp;&nbsp; MYSQL mysql;<br> &nbsp;&nbsp;&nbsp; MYSQL_RES* res;<br><br> &nbsp;&nbsp;&nbsp; int num_fields;<br> &nbsp;&nbsp;&nbsp; int count_fields;<br> &nbsp;&nbsp;&nbsp; int num_rows;<br><br> &nbsp;&nbsp;&nbsp; mysql_init(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; mysql_real_connect(&amp;mysql,NULL,"root","123","ta",0,NULL,0);<br><br> &nbsp;&nbsp;&nbsp; fprintf(stdout,"--insert------------------------/n");<br><br> &nbsp;&nbsp;&nbsp; mysql_real_query(&amp;mysql,"INSERT INTO t1 VALUES(6,'n6')",29);<br><br> &nbsp;&nbsp;&nbsp; count_fields = mysql_field_count(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; sprintf(out,"insert----count_fields is %d/n",count_fields);<br> &nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br><br> &nbsp;&nbsp;&nbsp; res = mysql_store_result(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; if(res == NULL)<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,"insert---store return null/n");<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; else<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_fields = mysql_num_fields(res);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(out,"insert---num_fields is %d/n",num_fields);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br> &nbsp;&nbsp;&nbsp; }<br><br> &nbsp;&nbsp;&nbsp; fprintf(stdout,"---select-----------/n");<br><br> &nbsp;&nbsp;&nbsp; mysql_real_query(&amp;mysql,"SELECT * FROM t1",16);<br><br> &nbsp;&nbsp;&nbsp; count_fields = mysql_field_count(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; sprintf(out,"select---count_fields is %d/n",count_fields);<br> &nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br><br> &nbsp;&nbsp;&nbsp; res = mysql_store_result(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; if(res == NULL)<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,"select---store return null/n");<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; else<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_fields = mysql_num_fields(res);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(out,"select---num_fields is %d/n",num_fields);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_rows = mysql_num_rows(res);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(out,"select---num_rows is %d/n",num_rows);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br> &nbsp;&nbsp;&nbsp; }<br><br> &nbsp;&nbsp;&nbsp; fprintf(stdout,"---select 0------/n");<br><br> &nbsp;&nbsp;&nbsp; mysql_real_query(&amp;mysql,"SELECT * FROM t1 where id = 10",30);<br><br> &nbsp;&nbsp;&nbsp; count_fields = mysql_field_count(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; sprintf(out,"select 0---count_fields is %d/n",count_fields);<br> &nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br><br> &nbsp;&nbsp;&nbsp; res = mysql_store_result(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; if(res == NULL)<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,"select 0---store return null/n");<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; else<br> &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_fields = mysql_num_fields(res);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(out,"select 0---num_fields is %d/n",num_fields);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num_rows = mysql_num_rows(res);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sprintf(out,"select 0---num_rows is %d/n",num_rows);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fprintf(stdout,out);<br> &nbsp;&nbsp;&nbsp; }<br><br> &nbsp;&nbsp;&nbsp; mysql_free_result(res);<br> &nbsp;&nbsp;&nbsp; mysql_close(&amp;mysql);<br> &nbsp;&nbsp;&nbsp; exit(0);<br> }</p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">运行结果是：</h3> 
    <p></p> 
    <p>--insert------------------------<br> insert----count_fields is 0<br> insert---store return null<br> ---select-----------<br> select---count_fields is 2<br> select---num_fields is 2<br> select---num_rows is 7<br> ---select 0------<br> select 0---count_fields is 2<br> select 0---num_fields is 2<br> select 0---num_rows is 0</p> 
    <p>&nbsp;</p> 
    <p>显然，当运行insert语句的时候，是没有结果返回的，因此列的个数为0，且mysql_store_result返回NULL。</p> 
    <p>因此能够通过mysql_field_count()是否返回0来推断是否有结果返回，而不须要运行mysql_store_result来推断是否返回了NULL。我想，mysql_field_count()的效率肯定要比mysql_store_result()高。</p> 
    <p>在这样的情况下，因为没有返回结果，因此mysql_store_result()返回NULL。也就是得不到res指针，于是mysql_num_fields()函数就无法运行，缺少必要的參数。</p> 
    <p></p> 
    <p>&nbsp;</p> 
    <p>当运行第一条select语句的时候。返回了结果，因此mysql_field_count()和mysql_num_fields()都返回了正确的列的个数2，mysql_num_rows()返回了记录的条数7.</p> 
    <p>&nbsp;</p> 
    <p>当运行第二条select语句。因为表中没有 id = 0 的记录，因此mysql_num_rows返回了0表示记录数为0，可是，我们发现mysql_store_result()并没有返回NULL，mysql_num_fields()和mysql_field_count()还是返回了2.</p> 
    <p>&nbsp;</p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">因此我们能够得出这种结论：</h3> 
    <p>运行结果有三种情况，第一是运行insert、update和delete这种语句的时候，是不会有不论什么内容返回。因此mysql_store_result()会返回一个NULL。</p> 
    <p>第二。运行select或show这种语句时，一定会有内容返回。能够取得列信息，可是记录能够为0，也能够不为0。这就像一个表。表头一定存在。可是表中能够没有数据。</p> 
    <p></p> 
    <p>&nbsp;</p> 
    <p>另外：</p> 
    <p>mysql_affected_rows()函数的作用是，当运行update&nbsp; insert&nbsp; delete 时。返回影响的行数。</p> 
    <p></p> 
    <p>&nbsp;</p> 
    <h2 style="color:rgb(0,0,0);line-height:1.5;font-size:21px;">&nbsp;Mysql<span style="line-height:1.8;font-family:'宋体';">库函数说明</span> </h2> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">&nbsp;变量及结构体</h3> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">&nbsp;MYSQL</h4> 
    <p></p> 
    <p>MYSQL是用来连接数据库的通讯过程。要连接MYSQL，必须建立MYSQL实例，通过mysql_init初始化方能開始进行连接。</p> 
    <p>这个结构代表返回行的一个查询的(SELECT,&nbsp;SHOW,&nbsp;DESCRIBE,&nbsp;EXPLAIN)的结果</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>typedef&nbsp;struct&nbsp;st_mysql&nbsp;{</p> <p>&nbsp;NET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;net;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Communication&nbsp;parameters&nbsp;*/</p> <p>&nbsp;gptr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connector_fd;&nbsp;&nbsp;&nbsp;/*&nbsp;ConnectorFd&nbsp;for&nbsp;SSL&nbsp;*/</p> <p>&nbsp;char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*host,*user,*passwd,*unix_socket,</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*server_version,*host_info,*info,*db;</p> <p>&nbsp;unsigned&nbsp;int&nbsp;port,client_flag,server_capabilities;</p> <p>&nbsp;unsigned&nbsp;int&nbsp;protocol_version;</p> <p>&nbsp;unsigned&nbsp;int&nbsp;field_count;</p> <p>&nbsp;unsigned&nbsp;int&nbsp;server_status;</p> <p>&nbsp;unsigned&nbsp;long&nbsp;thread_id;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Id&nbsp;for&nbsp;connection&nbsp;in&nbsp;server&nbsp;*/</p> <p>&nbsp;my_ulonglong&nbsp;affected_rows;</p> <p>&nbsp;my_ulonglong&nbsp;insert_id;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;id&nbsp;if&nbsp;insert&nbsp;on&nbsp;table&nbsp;with&nbsp;NEXTNR&nbsp;*/</p> <p>&nbsp;my_ulonglong&nbsp;extra_info;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Used&nbsp;by&nbsp;mysqlshow&nbsp;*/</p> <p>&nbsp;unsigned&nbsp;long&nbsp;packet_length;</p> <p>&nbsp;enum&nbsp;mysql_status&nbsp;status;</p> <p>&nbsp;MYSQL_FIELD&nbsp;&nbsp;&nbsp;*fields;</p> <p>&nbsp;MEM_ROOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field_alloc;</p> <p>&nbsp;my_bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free_me;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;If&nbsp;free&nbsp;in&nbsp;mysql_close&nbsp;*/</p> <p>&nbsp;my_bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reconnect;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;set&nbsp;to&nbsp;1&nbsp;if&nbsp;automatic&nbsp;reconnect&nbsp;*/</p> <p>&nbsp;struct&nbsp;st_mysql_options&nbsp;options;</p> <p>&nbsp;char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scramble_buff[9];</p> <p>&nbsp;struct&nbsp;charset_info_st&nbsp;*charset;</p> <p>&nbsp;unsigned&nbsp;int&nbsp;server_language;</p> <p>}&nbsp;MYSQL;</p> </td>
      </tr>
     </tbody>
    </table>
    <h4 style="color:rgb(0,0,0);font-size:14px;">MYSQL_RES</h4> 
    <p>返回的数据称为“数据集”，在C的API里相应的就是MYSQL_RES了。从数据库读取数据，最后就是从MYSQL_RES中读取数据。</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>typedef&nbsp;struct&nbsp;st_mysql_res&nbsp;{</p> <p>&nbsp;my_ulonglong&nbsp;row_count;</p> <p>&nbsp;unsigned&nbsp;int&nbsp;field_count,&nbsp;current_field;</p> <p>&nbsp;MYSQL_FIELD&nbsp;&nbsp;&nbsp;*fields;</p> <p>&nbsp;MYSQL_DATA&nbsp;&nbsp;&nbsp;&nbsp;*data;</p> <p>&nbsp;MYSQL_ROWS&nbsp;&nbsp;&nbsp;&nbsp;*data_cursor;</p> <p>&nbsp;MEM_ROOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field_alloc;</p> <p>&nbsp;MYSQL_ROW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;If&nbsp;unbuffered&nbsp;read&nbsp;*/</p> <p>&nbsp;MYSQL_ROW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current_row;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;buffer&nbsp;to&nbsp;current&nbsp;row&nbsp;*/</p> <p>&nbsp;unsigned&nbsp;long&nbsp;*lengths;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;column&nbsp;lengths&nbsp;of&nbsp;current&nbsp;row&nbsp;*/</p> <p>&nbsp;MYSQL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*handle;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;for&nbsp;unbuffered&nbsp;reads&nbsp;*/</p> <p>&nbsp;my_bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eof;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Used&nbsp;my&nbsp;mysql_fetch_row&nbsp;*/</p> <p>}&nbsp;MYSQL_RES;</p> </td>
      </tr>
     </tbody>
    </table>
    <h4 style="color:rgb(0,0,0);font-size:14px;">MYSQL_ROW</h4> 
    <p>是一个行数据的类型安全(type-safe)的表示。当前它实现为一个计数字节的字符串&nbsp;数组。&nbsp;（假设字段值可能包括二进制数据，你不能将这些视为空终止串，由于这种值能够在内部包括空字节)&nbsp;行通过调用mysql_fetch_row()获得</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>typedef&nbsp;char**&nbsp;MYSQL_ROW;</p> </td>
      </tr>
     </tbody>
    </table>
    <h4 style="color:rgb(0,0,0);font-size:14px;">MYSQL_FIELD</h4> 
    <p>这个结构包括字段信息，比如字段名、类型和大小。其成员在以下更具体地描写叙述。</p> 
    <p>你能够通过反复调用mysql_fetch_field()对每一列获得MYSQL_FIELD&nbsp;结构。</p> 
    <p>字段值不是这个结构的部分。他们被包括在一个MYSQL_ROW&nbsp;结构中</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>typedef&nbsp;struct&nbsp;st_mysql_field&nbsp;</p> <p>{&nbsp;</p> <p>char&nbsp;*name;&nbsp;/*&nbsp;Name&nbsp;of&nbsp;column&nbsp;*/&nbsp;</p> <p>char&nbsp;*table;&nbsp;/*&nbsp;Table&nbsp;of&nbsp;column&nbsp;if&nbsp;column&nbsp;was&nbsp;a&nbsp;field&nbsp;*/&nbsp;</p> <p>char&nbsp;*def;&nbsp;/*&nbsp;Default&nbsp;value&nbsp;(set&nbsp;by&nbsp;mysql_list_fields)&nbsp;*/&nbsp;</p> <p>enum&nbsp;enum_field_types&nbsp;type;&nbsp;/*&nbsp;Type&nbsp;of&nbsp;field.&nbsp;Se&nbsp;mysql_com.h&nbsp;for&nbsp;types&nbsp;*/&nbsp;</p> <p>unsigned&nbsp;int&nbsp;length;&nbsp;/*&nbsp;Width&nbsp;of&nbsp;column&nbsp;*/&nbsp;</p> <p>unsigned&nbsp;int&nbsp;max_length;&nbsp;/*&nbsp;Max&nbsp;width&nbsp;of&nbsp;selected&nbsp;set&nbsp;*/&nbsp;</p> <p>unsigned&nbsp;int&nbsp;flags;&nbsp;/*&nbsp;Div&nbsp;flags&nbsp;*/&nbsp;</p> <p>unsigned&nbsp;int&nbsp;decimals;&nbsp;/*&nbsp;Number&nbsp;of&nbsp;decimals&nbsp;in&nbsp;field&nbsp;*/&nbsp;</p> <p>}&nbsp;MYSQL_FIELD</p> </td>
      </tr>
     </tbody>
    </table>
    <h4 style="color:rgb(0,0,0);font-size:14px;">My_ulonglong</h4> 
    <p>该类型用于行编号和&nbsp;mysql_affected_rows&nbsp;()<span style="line-height:1.8;font-family:'宋体';">、</span>mysql_num_rows()<span style="line-height:1.8;font-family:'宋体';">和&nbsp;</span>mysql_insert_id()<span style="line-height:1.8;font-family:'宋体';">。这种类型提供&nbsp;</span><span style="line-height:1.8;font-family:Calibri;">0&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">到&nbsp;</span><span style="line-height:1.8;font-family:Calibri;">1.84e19&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">的一个范围。在一些系统上。试图打印类&nbsp;型&nbsp;</span><span style="line-height:1.8;font-family:Calibri;">my_ulonglong&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">的值将不工作。为了打印出这种值。将它变换到&nbsp;</span><span style="line-height:1.8;font-family:Calibri;">unsigned&nbsp;long&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">而且使&nbsp;用一个</span><span style="line-height:1.8;font-family:Calibri;">%lu&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">打印格式。</span></p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>typedef&nbsp;unsigned&nbsp;long&nbsp;my_ulonglong;</p> </td>
      </tr>
     </tbody>
    </table>
    <p>&nbsp;</p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">函数</h3> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">1 mysql_init</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;功能：&nbsp;&nbsp;获得或初始化一个MYSQL结构</p> 
    <p>3)&nbsp;函数原型：&nbsp;MYSQL&nbsp;*mysql_init(MYSQL&nbsp;*mysql)</p> 
    <p>4)&nbsp;函数返回值：&nbsp;一个被始化的MYSQL*句柄</p> 
    <p>5)&nbsp;备注：&nbsp;&nbsp;在内存不足的情况下。返回NULL</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">2 mysql_close</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;关闭一个server连接，并释放与连接相关的内存</p> 
    <p>3)&nbsp;函数原型：&nbsp;void&nbsp;mysql_close(MYSQL&nbsp;*mysql);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;MYSQL类型的指针</p> 
    <p>5)&nbsp;函数返回值：&nbsp;无</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">3 mysql_connect</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;连接一个MySQLserver</p> 
    <p>3)&nbsp;函数原型：&nbsp;MYSQL&nbsp;*&nbsp;mysql_connect(MYSQL&nbsp;*mysql,const&nbsp;char&nbsp;*host,const&nbsp;char&nbsp;*user,const&nbsp;char&nbsp;*passwd);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;mysql表示一个现存mysql结构的地址<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host表示MYSQLserver的主机名或IP<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user表示登录的username<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passwd表示登录的password</p> 
    <p>5)&nbsp;函数返回值：&nbsp;假设连接成功，一个MYSQL&nbsp;*连接句柄：假设连接失败，NULL</p> 
    <p>6)&nbsp;备注：&nbsp;&nbsp;该函数不推荐。使用mysql_real_connect()取代</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">4 mysql_real_connect</h4> 
    <p>1)&nbsp;所需文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：连接数据库&nbsp;</p> 
    <p>3)&nbsp;函数原型：MYSQL&nbsp;*mysql_real_connect(MYSQL&nbsp;*mysql,const&nbsp;char&nbsp;*host,const&nbsp;char&nbsp;*user,const&nbsp;char&nbsp;*passwd,const&nbsp;char&nbsp;*db,unsigned&nbsp;int&nbsp;port,const&nbsp;char&nbsp;*unix_socket,unsigned&nbsp;int&nbsp;client_flag);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;mysql表示一个现存mysql结构的地址<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host表示MYSQLserver的主机名或IP<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user表示登录的username<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passwd表示登录的password<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db表示要连接的数据库<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port表示MySQLserver的TCP/IP端口<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unix_socket表示连接类型<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client_flag表示MySQL执行ODBC数据库的标记</p> 
    <p>注：</p> 
    <p>參数的指定方式例如以下：&nbsp;</p> 
    <p>　　第<span style="line-height:1.8;font-family:Calibri;">1</span><span style="line-height:1.8;font-family:'宋体';">个參数应是已有</span><span style="line-height:1.8;font-family:Calibri;">MYSQL</span><span style="line-height:1.8;font-family:'宋体';">结构的地址。</span></p> 
    <p>调用<span style="line-height:1.8;font-family:Calibri;">mysql_real_connect()</span><span style="line-height:1.8;font-family:'宋体';">之前，必须调用</span><span style="line-height:1.8;font-family:Calibri;">mysql_init()</span><span style="line-height:1.8;font-family:'宋体';">来初始化</span><span style="line-height:1.8;font-family:Calibri;">MYSQL</span><span style="line-height:1.8;font-family:'宋体';">结构。通过</span><span style="line-height:1.8;font-family:Calibri;">mysql_options()</span><span style="line-height:1.8;font-family:'宋体';">调用，可更改多种连接选项。&nbsp;</span></p> 
    <p>　　<span style="line-height:1.8;font-family:Calibri;">“host”</span><span style="line-height:1.8;font-family:'宋体';">的值必须是主机名或</span><span style="line-height:1.8;font-family:Calibri;">IP</span><span style="line-height:1.8;font-family:'宋体';">地址。</span></p> 
    <p>假设<span style="line-height:1.8;font-family:Calibri;">“host”</span><span style="line-height:1.8;font-family:'宋体';">是</span><span style="line-height:1.8;font-family:Calibri;">NULL</span><span style="line-height:1.8;font-family:'宋体';">或字符串</span><span style="line-height:1.8;font-family:Calibri;">"localhost"</span><span style="line-height:1.8;font-family:'宋体';">。连接将被视为与本地主机的连接。假设操作系统支持套接字（</span><span style="line-height:1.8;font-family:Calibri;">Unix</span><span style="line-height:1.8;font-family:'宋体';">）或命名管道（</span><span style="line-height:1.8;font-family:Calibri;">Windows</span><span style="line-height:1.8;font-family:'宋体';">）。将使用它们而不是</span><span style="line-height:1.8;font-family:Calibri;">TCP/IP</span><span style="line-height:1.8;font-family:'宋体';">连接到server。&nbsp;</span></p> 
    <p>　　<span style="line-height:1.8;font-family:Calibri;">“user”</span><span style="line-height:1.8;font-family:'宋体';">參数包括用户的</span><span style="line-height:1.8;font-family:Calibri;">MySQL</span><span style="line-height:1.8;font-family:'宋体';">登录</span><span style="line-height:1.8;font-family:Calibri;">ID</span><span style="line-height:1.8;font-family:'宋体';">。假设</span><span style="line-height:1.8;font-family:Calibri;">“user”</span><span style="line-height:1.8;font-family:'宋体';">是</span><span style="line-height:1.8;font-family:Calibri;">NULL</span><span style="line-height:1.8;font-family:'宋体';">或空字符串</span><span style="line-height:1.8;font-family:Calibri;">""</span><span style="line-height:1.8;font-family:'宋体';">。用户将被视为当前用户。</span></p> 
    <p>在<span style="line-height:1.8;font-family:Calibri;">UNIX</span><span style="line-height:1.8;font-family:'宋体';">环境下，它是当前的登录名。在</span><span style="line-height:1.8;font-family:Calibri;">Windows&nbsp;ODBC</span><span style="line-height:1.8;font-family:'宋体';">下。必须明白指定当前username。&nbsp;</span></p> 
    <p>“passwd”參数包括用户的password。假设“passwd”是NULL。仅会对该用户的（拥有1个空password字段的）用户表中的条目进行匹配检查。这样。数据库管理员就能按特定的方式设置MySQL权限系统，依据用户是否拥有指定的password，用户将获得不同的权限。</p> 
    <p>调用<span style="line-height:1.8;font-family:Calibri;">mysql_real_connect()</span><span style="line-height:1.8;font-family:'宋体';">之前。不要尝试加密password，password加密将由client</span><span style="line-height:1.8;font-family:Calibri;">API</span><span style="line-height:1.8;font-family:'宋体';">自己主动处理。</span></p> 
    <p>&nbsp;</p> 
    <p>　　<span style="line-height:1.8;font-family:Calibri;">“db”</span><span style="line-height:1.8;font-family:'宋体';">是数据库名称。假设</span><span style="line-height:1.8;font-family:Calibri;">db</span><span style="line-height:1.8;font-family:'宋体';">为</span><span style="line-height:1.8;font-family:Calibri;">NULL</span><span style="line-height:1.8;font-family:'宋体';">。连接会将默认的数据库设为该值。</span></p> 
    <p>&nbsp;</p> 
    <p>　　假设<span style="line-height:1.8;font-family:Calibri;">“port”</span><span style="line-height:1.8;font-family:'宋体';">不是</span><span style="line-height:1.8;font-family:Calibri;">0</span><span style="line-height:1.8;font-family:'宋体';">，其值将用作</span><span style="line-height:1.8;font-family:Calibri;">TCP/IP</span><span style="line-height:1.8;font-family:'宋体';">连接的端口号。注意，</span><span style="line-height:1.8;font-family:Calibri;">“host”</span><span style="line-height:1.8;font-family:'宋体';">參数决定了连接的类型。</span></p> 
    <p>&nbsp;</p> 
    <p>　　假设<span style="line-height:1.8;font-family:Calibri;">unix_socket</span><span style="line-height:1.8;font-family:'宋体';">不是</span><span style="line-height:1.8;font-family:Calibri;">NULL</span><span style="line-height:1.8;font-family:'宋体';">，该字符串描写叙述了应使用的套接字或命名管道。注意，</span><span style="line-height:1.8;font-family:Calibri;">“host”</span><span style="line-height:1.8;font-family:'宋体';">參数决定了连接的类型。&nbsp;</span></p> 
    <p>client_flag的值通常为0。可是，也能将其设置为下述标志的组合，以同意特定功能：</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>标志名称</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>标志描写叙述</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_COMPRESS</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>使用压缩协议。</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_FOUND_ROWS</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>返回发现的行数（匹配的）。而不是受影响的行数。</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_IGNORE_SPACE</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>同意在函数名后使用空格。使全部的函数名成为保留字。</p> <p></p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_INTERACTIVE</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>关闭连接之前。同意interactive_timeout秒的不活动时间。</p> <p></p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_LOCAL_FILES</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>同意LOAD&nbsp;DATA&nbsp;LOCAL处理功能。</p> <p></p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">CLIENT_MULTI_STATEMENTS</span></p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>通知server，client可能在单个字符串内发送多条语句。使用该标识能够获取多个查询结果</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_MULTI_RESULTS</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>通知server，client可以处理来自多语句运行。</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_NO_SCHEMA</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>禁止db_name.tbl_name.col_name语法。</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_ODBC</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>client是ODBCclient。它将mysql变得更为ODBC友好。</p> </td> 
      </tr>
      <tr>
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CLIENT_SSL</p> </td> 
       <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>使用SSL，该选项不应由应用程序设置，而是在client库内部设置。</p> </td> 
      </tr>
     </tbody>
    </table>
    <p>5)&nbsp;函数返回值：&nbsp;假设连接成功。返回与第一个參数值同样的一个MYSQL*连接句柄：假设连接失败。返回NULL。通过mysql_error()获取出错原因。</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">5 mysql_affected_rows</h4> 
    <p>1)&nbsp;所需头文件：<span style="line-height:1.8;font-family:Calibri;">&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</span></p> 
    <p>2)&nbsp;函数功能：<span style="line-height:1.8;font-family:Calibri;">&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">返回最新的</span><span style="line-height:1.8;font-family:Calibri;">UPDATE</span><span style="line-height:1.8;font-family:'宋体';">，</span><span style="line-height:1.8;font-family:Calibri;">DELETE</span><span style="line-height:1.8;font-family:'宋体';">或</span><span style="line-height:1.8;font-family:Calibri;">INSERT</span><span style="line-height:1.8;font-family:'宋体';">查询影响的行数</span></p> 
    <p>3)&nbsp;函数原型：<span style="line-height:1.8;font-family:Calibri;">mysql</span>_affected_rows(MYSQL&nbsp;*mysql)</p> 
    <p>4)&nbsp;函数传入值：<span style="line-height:1.8;font-family:Calibri;">&nbsp;MYSQL</span><span style="line-height:1.8;font-family:'宋体';">类型指针</span></p> 
    <p>5)&nbsp;函数返回值：<span style="line-height:1.8;font-family:Calibri;">&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">大于零的一个整数表示受到影响或检索出来的行数。零表示没有区配查序中</span><span style="line-height:1.8;font-family:Calibri;">WHERE</span><span style="line-height:1.8;font-family:'宋体';">子句的记录或眼下还没有查询被运行</span><span style="line-height:1.8;font-family:Calibri;">;-1</span><span style="line-height:1.8;font-family:'宋体';">表示查询返回一个错误，或对于一个</span><span style="line-height:1.8;font-family:Calibri;">SELECT</span><span style="line-height:1.8;font-family:'宋体';">查询</span></p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">6 mysql_query</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;对指定的连接运行查询</p> 
    <p>3)&nbsp;函数原型：&nbsp;int&nbsp;mysql_query(MYSQL&nbsp;*mysql,const&nbsp;char&nbsp;*query);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;query表示运行的SQL语句</p> 
    <p>5)&nbsp;函数返回值：&nbsp;假设查询成功，为零。出错为非零。</p> 
    <p>6)&nbsp;相关函数：&nbsp;mysql_real_query</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">7 Mysql_real_query</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：对指定的连接运行查询</p> 
    <p>3)&nbsp;函数原型：&nbsp;int&nbsp;mysql_real_query(MYSQL&nbsp;*mysql,const&nbsp;char&nbsp;*query,unsigned&nbsp;int&nbsp;length);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;query表示运行的SQL语句</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Length表示SQL语句的长度</p> 
    <p>5)&nbsp;函数返回值：&nbsp;假设查询成功，为零。出错为非零。出错的代码及原因例如以下所看到的：</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>出错代码</p> </td> 
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>原因</p> </td> 
      </tr>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CR_COMMANDS_OUT_OF_SYNC</p> </td> 
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>命令以一个不适当的次序被运行。</p> </td> 
      </tr>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CR_SERVER_GONE_ERROR&nbsp;</p> </td> 
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>MySQLserver关闭了。</p> </td> 
      </tr>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CR_SERVER_LOST</p> </td> 
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>对server的连接在查询期间失去。</p> </td> 
      </tr>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CR_UNKNOWN_ERROR</p> </td> 
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>发生一个未知的错误</p> </td> 
      </tr>
     </tbody>
    </table>
    <p>6)&nbsp;备注：对于包括二进制数据的查询，使用mysql_real_query()而不是mysql_query()，由于二进制代码数据可能包括“\0”字符，并且。mysql_real_query()比mysql_query()更快，由于它对查询字符串调用strlen()。</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">8 mysql_store_result</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：获取结果标识符</p> 
    <p>3)&nbsp;函数原型：&nbsp;MYSQL_RES&nbsp;*mysql_store_result(MYSQL&nbsp;*mysql);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;MYSQL:类型的指针</p> 
    <p>5)&nbsp;函数返回值：&nbsp;一个MYSQL_RES结果结构。假设发生一个错误发NULL</p> 
    <p>6)&nbsp;备注：</p> 
    <p>假设希望了解查询是否应返回结果集。可使用<span style="line-height:1.8;font-family:Calibri;">mysql_field_count()</span><span style="line-height:1.8;font-family:'宋体';">进行检查。</span><span style="line-height:1.8;font-family:Calibri;">“mysql_field_count()”</span><span style="line-height:1.8;font-family:'宋体';">。</span><span style="line-height:1.8;font-family:Calibri;">mysql_store_result()</span><span style="line-height:1.8;font-family:'宋体';">将查询的所有结果读取到client，分配</span><span style="line-height:1.8;font-family:Calibri;">1</span><span style="line-height:1.8;font-family:'宋体';">个</span><span style="line-height:1.8;font-family:Calibri;">MYSQL_RES</span><span style="line-height:1.8;font-family:'宋体';">结构，并将结果置于该结构中。</span></p> 
    <p>&nbsp;</p> 
    <p>　　假设查询未返回结果集，<span style="line-height:1.8;font-family:Calibri;">mysql_store_result()</span><span style="line-height:1.8;font-family:'宋体';">将返回</span><span style="line-height:1.8;font-family:Calibri;">Null</span><span style="line-height:1.8;font-family:'宋体';">指针（比如。假设查询是</span><span style="line-height:1.8;font-family:Calibri;">INSERT</span><span style="line-height:1.8;font-family:'宋体';">语句）。</span></p> 
    <p>假设读取结果集失败，<span style="line-height:1.8;font-family:Calibri;">mysql_store_result()</span><span style="line-height:1.8;font-family:'宋体';">还会返回</span><span style="line-height:1.8;font-family:Calibri;">Null</span><span style="line-height:1.8;font-family:'宋体';">指针。通过检查</span><span style="line-height:1.8;font-family:Calibri;">mysql_error()</span><span style="line-height:1.8;font-family:'宋体';">是否返回非空字符串，</span><span style="line-height:1.8;font-family:Calibri;">mysql_errno()</span><span style="line-height:1.8;font-family:'宋体';">是否返回非</span><span style="line-height:1.8;font-family:Calibri;">0</span><span style="line-height:1.8;font-family:'宋体';">值，或</span><span style="line-height:1.8;font-family:Calibri;">mysql_field_count()</span><span style="line-height:1.8;font-family:'宋体';">是否返回</span><span style="line-height:1.8;font-family:Calibri;">0</span><span style="line-height:1.8;font-family:'宋体';">，能够检查是否出现了错误。假设未返回行，将返回空的结果集。（空结果集设置不同于作为返回值的空指针）。</span></p> 
    <p>一旦调用了<span style="line-height:1.8;font-family:Calibri;">mysql_store_result()</span><span style="line-height:1.8;font-family:'宋体';">并获得了不是</span><span style="line-height:1.8;font-family:Calibri;">Null</span><span style="line-height:1.8;font-family:'宋体';">指针的结果，可调用</span><span style="line-height:1.8;font-family:Calibri;">mysql_num_rows()</span><span style="line-height:1.8;font-family:'宋体';">来找出结果集中的行数。&nbsp;</span></p> 
    <p>　　能够调用<span style="line-height:1.8;font-family:Calibri;">mysql_fetch_row()</span><span style="line-height:1.8;font-family:'宋体';">来获取结果集中的行，或调用</span><span style="line-height:1.8;font-family:Calibri;">mysql_row_seek()</span><span style="line-height:1.8;font-family:'宋体';">和</span><span style="line-height:1.8;font-family:Calibri;">mysql_row_tell()</span><span style="line-height:1.8;font-family:'宋体';">来获取或设置结果集中的当前行位置。一旦完毕了对结果集的操作，必须调用</span><span style="line-height:1.8;font-family:Calibri;">mysql_free_result()</span><span style="line-height:1.8;font-family:'宋体';">。</span></p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">9 mysql_use_result</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;为无缓冲的结果集获得结果标识符</p> 
    <p>3)&nbsp;函数原型：&nbsp;MYSQL_RES&nbsp;*mysql_use_result(MYSQL&nbsp;*mysql);</p> 
    <p>4)&nbsp;函数传入值：&nbsp;MYSQL类型的指针</p> 
    <p>5)&nbsp;函数返回值：&nbsp;一个MYSQL_RES结果结构，假设发生一个错误发NULL</p> 
    <p>6)&nbsp;备注：</p> 
    <p>mysql_use_result()将初始化结果集检索，但并不像mysql_store_result()那样将结果集实际读取到client。它必须通过对mysql_fetch_row()的调用。对每一行分别进行检索。这将直接从server读取结果，而不会将其保存在暂时表或本地缓冲区内，与mysql_store_result()相比，速度更快并且使用的内存也更少。</p> 
    <p>client仅为当前行和通信缓冲区分配内存，分配的内存可添加到max_allowed_packet字节。</p> 
    <p>使用mysql_use_result()时。必须运行mysql_fetch_row()，直至返回NULL值，否则，未获取的行将作为下一个检索的一部分返回。</p> 
    <p>C&nbsp;API给出命令不同步错误。假设忘记了运行该操作，将不能运行该命令。不应与从mysql_use_result()返回的结果一起使用mysql_data_seek()、mysql_row_seek()、mysql_row_tell()、mysql_num_rows()或mysql_affected_rows()，也不应发出其它查询，直至mysql_use_result()完毕为止。（可是。提取了全部行后，mysql_num_rows()将准确返回提取的行数）。一旦完毕了对结果集的操作，必须调用mysql_free_result()。</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">10 mysql_fetch_row</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;检索一个结果集合的下一行</p> 
    <p>3)&nbsp;函数原型：MYSQL_ROW&nbsp;mysql_fetch_row(MYSQL_RES&nbsp;*result);</p> 
    <p>4)&nbsp;函数传入值：MYSQL_RES:结构的指针</p> 
    <p>5)&nbsp;函数返回值：&nbsp;下一行的一个MYSQL_ROW结构。假设没有很多其它的行可检索或假设出现一个错误。NULL</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">11 mysql_field_count</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;返回近期查询的列数</p> 
    <p>3)&nbsp;函数原型：unsigned&nbsp;int&nbsp;mysql_field_count(MYSQL&nbsp;*mysql);</p> 
    <p>4)&nbsp;函数传入值：MYSQL类型的指针</p> 
    <p>5)&nbsp;函数返回值：&nbsp;结果集中列数的无符号整数</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">12 mysql_num_fields</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;返回指定结果集中列的数量</p> 
    <p>3)&nbsp;函数原型：unsigned&nbsp;int&nbsp;mysql_num_fields(MYSQL_RES&nbsp;*res);</p> 
    <p>4)&nbsp;函数传入值：MYSQL_RES&nbsp;结构的指针</p> 
    <p>5)&nbsp;函数返回值：&nbsp;结果集合中字段数量的一个无符号整数</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">13 mysql_create_db</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;创建一个数据库</p> 
    <p>3)&nbsp;函数原型：int&nbsp;mysql_create_db(MYSQL&nbsp;*mysql,const&nbsp;char&nbsp;*db);</p> 
    <p>4)&nbsp;函数传入值：MYSQL：类型的指针<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db:要创建的数据库名</p> 
    <p>5)&nbsp;函数返回值：&nbsp;假设数据库成功地被创建。返回零，假设错误发生，为非零。</p> 
    <h4 style="color:rgb(0,0,0);font-size:14px;">14 mysql_select_db</h4> 
    <p>1)&nbsp;所需头文件：&nbsp;#include&nbsp;&lt;mysql/mysql.h&gt;</p> 
    <p>2)&nbsp;函数功能：&nbsp;选择一个数据库</p> 
    <p>3)&nbsp;函数原型：int&nbsp;mysql_select_db(MYSQL&nbsp;*mysql,const&nbsp;char&nbsp;*db);</p> 
    <p>4)&nbsp;函数传入值：MYSQL：类型的指针<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db:要创建的数据库名</p> 
    <p>5)&nbsp;函数返回值：&nbsp;假设数据库成功地被创建，返回零，假设错误发生，为非零。</p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">&nbsp;举例</h3> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>#include&nbsp;&lt;stdio.h&gt;<br> #include&nbsp;&lt;stdlib.h&gt;<br> #include&nbsp;"mysql.h"&nbsp;&nbsp;//242机器上该文件在/usr/include/mysql下<br> &nbsp;<br> //定义数据库操作的宏。也能够不定义留着后面直接写进代码<br> #define&nbsp;SELECT_QUERY&nbsp;"select&nbsp;username&nbsp;from&nbsp;tbb_user&nbsp;where&nbsp;userid&nbsp;=&nbsp;%d"<br> &nbsp;<br> int&nbsp;main(int&nbsp;argc,&nbsp;char&nbsp;**argv)&nbsp;//char&nbsp;**argv&nbsp;相当于&nbsp;char&nbsp;*argv[]<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;MYSQL&nbsp;mysql,*sock;&nbsp;&nbsp;&nbsp;&nbsp;//定义数据库连接的句柄。它被用于差点儿全部的MySQL函数<br> &nbsp;&nbsp;&nbsp;&nbsp;MYSQL_RES&nbsp;*res;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//查询结果集。结构类型<br> &nbsp;&nbsp;&nbsp;&nbsp;MYSQL_FIELD&nbsp;*fd&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//包括字段信息的结构<br> &nbsp;&nbsp;&nbsp;&nbsp;MYSQL_ROW&nbsp;row&nbsp;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//存放一行查询结果的字符串数组<br> &nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;qbuf[160];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//存放查询sql语句字符串<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(argc&nbsp;!=&nbsp;2)&nbsp;{&nbsp;//检查输入參数<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,"usage&nbsp;:&nbsp;mysql_select&nbsp;&lt;userid&gt;\n\n");<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;mysql_init(&amp;mysql);</p> <p>&nbsp;&nbsp;if&nbsp;(!(sock&nbsp;=&nbsp;mysql_real_connect(&amp;mysql,"localhost","dbuser","dbpwd","9tmd_bbs_utf8",0,NULL,0)))&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,"Couldn't&nbsp;connect&nbsp;to&nbsp;engine!\n%s\n\n",mysql_error(&amp;mysql));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror("");<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;sprintf(qbuf,SELECT_QUERY,atoi(argv[1]));<br> &nbsp;&nbsp;&nbsp;&nbsp;if(mysql_query(sock,qbuf))&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,"Query&nbsp;failed&nbsp;(%s)\n",mysql_error(sock));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!(res=mysql_store_result(sock)))&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fprintf(stderr,"Couldn't&nbsp;get&nbsp;result&nbsp;from&nbsp;%s\n",&nbsp;mysql_error(sock));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(1);<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;printf("number&nbsp;of&nbsp;fields&nbsp;returned:&nbsp;%d\n",mysql_num_fields(res));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(row&nbsp;=&nbsp;mysql_fetch_row(res))&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("Ther&nbsp;userid&nbsp;#%d&nbsp;'s&nbsp;username&nbsp;is:&nbsp;%s\n",&nbsp;atoi(argv[1]),(((row[0]==NULL)&amp;&amp;(!strlen(row[0])))&nbsp;?</p> <p>&nbsp;"NULL"&nbsp;:&nbsp;row[0]))&nbsp;;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;puts(&nbsp;"query&nbsp;ok&nbsp;!\n"&nbsp;)&nbsp;;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;mysql_free_result(res);<br> &nbsp;&nbsp;&nbsp;&nbsp;mysql_close(sock);<br> &nbsp;&nbsp;&nbsp;&nbsp;exit(0);<br> &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;&nbsp;&nbsp;&nbsp;//.&nbsp;为了兼容大部分的编译器增加此行<br> }</p> </td>
      </tr>
     </tbody>
    </table>
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">&nbsp;编译及执行</h3> 
    <p>使用以下的命令编译</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>gcc&nbsp;-o&nbsp;demo&nbsp;./demo.c&nbsp;-I/usr/include/mysql&nbsp;-L/usr/lib64/mysql&nbsp;-lmysqlclient&nbsp;(-lz)&nbsp;(-lm)&nbsp;后面两个选项可选</p> </td>
      </tr>
     </tbody>
    </table>
    <p>使用以下的命令执行</p> 
    <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
     <tbody>
      <tr>
       <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>./demo</p> </td>
      </tr>
     </tbody>
    </table>
    <h1 style="color:rgb(0,0,0);line-height:1.5;font-size:28px;">mysql中文文档：</h1> 
    <p><a href="http://dev.mysql.com/doc/refman/5.1/zh/apis.html" rel="nofollow" style="color:rgb(0,0,0);background:none;border-top:none;border-right:none;border-bottom:1px dotted rgb(51,51,51);border-left:none;">http://dev.mysql.com/doc/refman/5.1/zh/apis.html</a></p> 
    <br>
   </div> 
   <h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;">SQL备份<br></h1> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MySQL中的每个数据库和数据表分别相应文件系统中的文件夹和其下的文件。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">在Linux下数据库文件的存放文件夹一般为/var/lib/mysql</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">方法一：拷贝<br></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">备份文件前。须要<strong>将MySQL服务停止</strong>，然后将数据库文件夹拷贝就可以。<br> 恢复数据数据库时。须要先创建好一个数据库（不一定同名）。然后将备份出来的文件（注意，不是文件夹）拷贝到相应的MySQL数据库文件夹中。<br> 使用这一方法备份和恢复数据库时，须要新旧的MySQL版本号一致，否则可能会出现错误。</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">方法二：mysqldump</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">备份数据库：mysqldump –user=root –password=root密码 –lock-all-tables 数据库名 &gt; 备份文件.sql</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">恢复数据库：mysql -u root –password=root密码 数据库名 &lt; 备份文件.sql</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">方法三：脚本定时备份</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;color:rgb(0,0,0);">把MySql数据库存放文件夹<span style="line-height:1.8;color:rgb(255,0,0);">/var/lib/mysql</span>以下的<span style="line-height:1.8;color:rgb(255,0,0);">pw85</span>数据库备份到<span style="line-height:1.8;color:rgb(255,0,0);">/home/mysql_data</span>里面，而且保存为<span style="line-height:1.8;color:rgb(255,0,0);">mysqldata_bak_2012_04_11.tar.gz</span>的压缩文件格式（<span style="line-height:1.8;color:rgb(255,0,0);">2012_04_11是指备份运行时当天的日期</span>）。 最后仅仅保留近期<span style="line-height:1.8;color:rgb(255,0,0);">7</span>天的备份。<span style="line-height:1.8;color:rgb(255,0,0);"><br></span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;color:rgb(0,0,0);"><span style="line-height:1.8;color:rgb(255,0,0);">每天你在/home/mysql_data文件夹以下能够看到类似mysqldata_bak_2012_04_11.tar.gz这种压缩文件。</span><span style="line-height:1.8;color:rgb(255,0,0);">假设须要恢复文件的时候，仅仅须要把这个文件解压：tar -zxvf mysqldata_bak_2012_04_11.tar.gz</span><br><span style="line-height:1.8;color:rgb(255,0,0);">然后导入到数据库中就可以。</span></span></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(0,0,255);">1、创建保存备份文件的文件夹：</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;color:rgb(0,0,255);">/home/mysql_data<br></span>cd /home #进入文件夹<br> mkdir mysql_data #创建文件夹<br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(0,0,255);">2、创建备份脚本文件</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;color:rgb(0,0,255);">:/home/mysql_data/mysql_databak.sh</span><br> cd /home/mysql_data #进入文件夹<br> touch mysql_databak.sh #创建文件<br><span style="line-height:1.8;color:rgb(0,0,255);">nano mysql_databak.sh #编辑文件。输入下面内容</span></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(0,0,255);">3、改动文件属性，使其可运行</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">chmod +x /home/mysql_data/mysql_databak.sh<br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(0,0,255);">4、改动/etc/crontab</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">nano /etc/crontab #编辑文件，在以下加入<br> 45 22 * * * root /home/mysql_data/mysql_databak.sh #表示每天22点45分运行备份<br> ctrl+o #保存配置<br> ctrl+x #退出<br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;color:rgb(0,0,255);">5、又一次启动crond使设置生效</span></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">service cron stop #停止<br> service cron start #启动<br> /etc/init.d/cron restart #重新启动<br> chkconfig cron on #设为开机启动</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"> <span style="line-height:1.8;color:rgb(0,0,255);">/home/mysql_data/mysql_databak.sh</span>内容例如以下：<br></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">#!/bin/sh<br> DUMP=/usr/bin/mysqldump #mysqldump备份程序运行路径<br> OUT_DIR=/home/mysql_data #备份文件存放路径<br> LINUX_USER=root #系统username<br> DB_NAME=pw85 #要备份的数据库名字<br> DB_USER=root #数据库账号 注意：非root用户要用备份參数 --skip-lock-tables，否则可能会报错<br> DB_PASS=123456 #数据库password<br> DAYS=7 #DAYS=7代表删除7天前的备份，即仅仅保留近期7天的备份<br> cd $OUT_DIR #进入备份存放文件夹<br> DATE=`date +%Y_%m_%d` #获取当前系统时间<br> OUT_SQL="$DATE.sql" #备份数据库的文件名称<br> TAR_SQL="mysqldata_bak_$DATE.tar.gz" #终于保存的数据库备份文件名称<br> $DUMP -u$DB_USER -p$DB_PASS $DB_NAME --default-character-set=utf8 --opt -Q -R --skip-lock-tables&gt; $OUT_SQL #备份<br> tar -czf $TAR_SQL ./$OUT_SQL #压缩为.tar.gz格式<br> rm $OUT_SQL #删除.sql格式的备份文件<br> chown $LINUX_USER:$LINUX_USER $OUT_DIR/$TAR_SQL #更改备份数据库文件的全部者<br> find $OUT_DIR -name "mysqldata_bak*" -type f -mtime +$DAYS -exec rm {} \; #删除7天前的备份文件</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">备份数据库常见命令<br></h2> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>备份MySQL数据库的命令</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;-hhostname&nbsp;-uusername&nbsp;-ppassword&nbsp;databasename&nbsp;&gt;&nbsp;backupfile.sql</pre>
     </div> 
    </div> 
    <p><strong>备份MySQL数据库为带删除表的格式</strong>备份MySQL数据库为带删除表的格式，可以让该备份覆盖已有数据库而不须要手动删除原有数据库。</p> 
    <p></p> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;---add-drop-table&nbsp;-uusername&nbsp;-ppassword&nbsp;databasename&nbsp;&gt;&nbsp;backupfile.sql</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>直接将MySQL数据库压缩备份</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;-hhostname&nbsp;-uusername&nbsp;-ppassword&nbsp;databasename&nbsp;|&nbsp;gzip&nbsp;&gt;&nbsp;backupfile.sql.gz</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>备份MySQL数据库某个(些)表</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;-hhostname&nbsp;-uusername&nbsp;-ppassword&nbsp;databasename&nbsp;specific_table1&nbsp;specific_table2&nbsp;&gt;&nbsp;backupfile.sql</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>同一时候备份多个MySQL数据库</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;-hhostname&nbsp;-uusername&nbsp;-ppassword&nbsp;--databases&nbsp;databasename1&nbsp;databasename2&nbsp;databasename3&nbsp;&gt;&nbsp;multibackupfile.sql</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>只备份数据库结构</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;--no-data&nbsp;--databases&nbsp;databasename1&nbsp;databasename2&nbsp;databasename3&nbsp;&gt;&nbsp;structurebackupfile.sql</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>备份server上全部数据库</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;--all-databases&nbsp;&nbsp;allbackupfile.sql</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>还原MySQL数据库的命令</strong></h3> 
    <div> 
     <div>
      <pre>mysql&nbsp;-hhostname&nbsp;-uusername&nbsp;-ppassword&nbsp;databasename&nbsp;&lt;&nbsp;backupfile.sql</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>还原压缩的MySQL数据库</strong></h3> 
    <div> 
     <div>
      <pre>gunzip&nbsp;&lt;&nbsp;backupfile.sql.gz&nbsp;|&nbsp;mysql&nbsp;-uusername&nbsp;-ppassword&nbsp;databasename</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>将数据库转移到新server</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;\-uusername&nbsp;\-ppassword&nbsp;databasename&nbsp;\|&nbsp;mysql&nbsp;\--host=*.*.*.\*&nbsp;\-C&nbsp;databasename 
</pre>
     </div> 
    </div> 
    <h2 style="color:rgb(0,0,0);line-height:1.5;font-size:21px;">压缩备份 &nbsp;&nbsp;&nbsp;<br></h2> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>备份并用gzip压缩：</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;&lt;&nbsp;mysqldump&nbsp;options&gt;&nbsp;|&nbsp;gzip&nbsp;&gt;&nbsp;outputfile.sql.gz</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>从gzip备份恢复：</strong></h3> 
    <div> 
     <div>
      <pre>gunzip&nbsp;&lt;&nbsp;outputfile.sql.gz&nbsp;|&nbsp;mysql&nbsp;&lt;&nbsp;mysql&nbsp;options&gt;</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>备份并用bzip压缩：</strong></h3> 
    <div> 
     <div>
      <pre>mysqldump&nbsp;&lt;&nbsp;mysqldump&nbsp;options&gt;&nbsp;|&nbsp;bzip2&nbsp;&gt;&nbsp;outputfile.sql.bz2</pre>
     </div> 
    </div> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"><strong>从bzip2备份恢复:</strong></h3> 
    <div> 
     <div>
      <pre>bunzip2&nbsp;&lt;&nbsp;outputfile.sql.bz2&nbsp;|&nbsp;mysql&nbsp;&lt;&nbsp;mysql&nbsp;options&gt; 
</pre>
     </div> 
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;">启动停止重新启动mysql<br></h1> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">启动<code class="bash functions"><br></code> </h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><code class="bash functions">sudo</code>&nbsp;<code class="bash plain">/etc/init</code><code class="bash plain">.d</code><code class="bash plain">/mysql</code><code class="bash plain">start</code><br></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">停止<br></h2> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <div class="line number1 index0 alt2"> 
     <code class="bash functions">sudo</code>
     <code class="bash plain">/etc/init</code>
     <code class="bash plain">.d</code>
     <code class="bash plain">/mysql</code>
     <code class="bash plain">stop</code> 
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">重新启动<code class="bash functions"><br></code> </h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><code class="bash functions">sudo</code>&nbsp;<code class="bash plain">/etc/init</code><code class="bash plain">.d</code><code class="bash plain">/mysql</code><code class="bash plain">restart</code></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">查看日志</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><code class="bash functions">cat</code>&nbsp;<code class="bash plain">/var/log/mysql</code><code class="bash plain">.err</code><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <div class="line number3 index2 alt2"> 
     <code class="bash functions">cat</code>&nbsp;
     <code class="bash plain">/var/log/mysql/error</code>
     <code class="bash plain">.log</code> 
    </div> 
   </div> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">不支持中文</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">改动 /etc/mysql/my.cnf</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">在 [client] 以下添加：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">default-character-set=utf8 或 character_set_server=utf8</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">在 [mysqld] 以下添加：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">default-character-set=utf8 或 character_set_server=utf8</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">错误提示：</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">unknown variable 'default-character-set=utf8'</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">改动配置文件 /etc/mysql/my.cnf 中的“default-character-set=utf8” 为 “character_set_server=utf8”</p> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;">mysql操作<br></h1> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">1.&nbsp;Mysql基本操作</h2> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">1.1&nbsp;改动管理员的password</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;Mysql刚安装好后无password，使用”mysqladmin–uroot&nbsp;password&nbsp;password”改动管理员password</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;以管理员身份登录数据库，使用”mysql–u&nbsp;root”</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;原来有password，如今要改动，使用”mysqladmin–uroot–p旧password&nbsp;password&nbsp;新password”</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">1.2&nbsp;用户的创建、删除、授权与撤权</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Mysql安装好后，默认有两个数据库(mysql和test)，并且除了root用户外。其它用户仅仅能訪问test数据库。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Mysql中设置了5个授权表(user/db/host/tables_priv/columnts_priv)。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>1)&nbsp;创建新用户，方法例如以下：</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;mysql–u&nbsp;root&nbsp;–p&nbsp;#以管理员身份登录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;insert&nbsp;into&nbsp;mysql.user(host,user,password)&nbsp;values(‘%’,’guest’,password(‘guest’));#创建一个username为guest的用户</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;flush&nbsp;privileges;#重载授权表</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>2)&nbsp;删除用户，方法例如以下：</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;mysql–u&nbsp;root&nbsp;–p&nbsp;#以管理员身份登录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;delete&nbsp;from&nbsp;mysql.user&nbsp;where&nbsp;user=’guest’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;flush&nbsp;privileges;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>3)&nbsp;更改用户password，方法例如以下：</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;mysql–u&nbsp;root&nbsp;–p&nbsp;#以管理员身份登录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;update&nbsp;mysql.user&nbsp;set&nbsp;password=password(‘123’)&nbsp;where&nbsp;user=’guest’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;flush&nbsp;privileges;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>4)&nbsp;用户授权。方法例如以下：</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：GRANT&nbsp;权限列表[(字段列表)]&nbsp;ON&nbsp;数据库名称.表名&nbsp;TO&nbsp;username@域名或IP地址&nbsp;[IDENTIFIED&nbsp;BY&nbsp;‘password值’]&nbsp;[WITH&nbsp;GRANT&nbsp;OPTION];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">经常使用权限例如以下：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>全局管理权限：<br> FILE:&nbsp;在MySQLserver上读写文件。<br> PROCESS:&nbsp;显示或杀死属于其他用户的服务线程。<br> RELOAD:&nbsp;重载訪问控制表。刷新日志等。<br> SHUTDOWN:&nbsp;关闭MySQL服务。</p> <p><br> 数据库/数据表/数据列权限：<br> Alter:&nbsp;改动已存在的数据表(比如添加/删除列)和索引。<br> Create:&nbsp;建立新的数据库或数据表。</p> <p><br> Delete:&nbsp;删除表的记录。</p> <p><br> Drop:&nbsp;删除数据表或数据库。<br> INDEX:&nbsp;建立或删除索引。<br> Insert:&nbsp;添加表的记录。</p> <p><br> Select:&nbsp;显示/搜索表的记录。</p> <p><br> Update:&nbsp;改动表中已存在的记录。<br> 特别的权限：<br> ALL:&nbsp;同意做不论什么事(和root一样)。</p> <p><br> USAGE:&nbsp;仅仅同意登录--其他什么也不同意做。</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>例一：要授权给用户guest能够从随意主机连接到数据库server，并具有全然訪问学生选课数据库xsxk的权限。</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">grant&nbsp;all&nbsp;on&nbsp;xsxk.*&nbsp;to&nbsp;guest@’%’&nbsp;identified&nbsp;by&nbsp;‘guest’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">说明：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;%表示从不论什么主机连接到数据库server，也能够用空白</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;%.gdvcp.net&nbsp;表示从gdvcp.net域中的不论什么主机连接到数据库server</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;192.168.85.%&nbsp;表示从192.168.85.0子网中不论什么主机连接到数据库server</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">D.&nbsp;localhost&nbsp;表示从本地主机连接</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">E.&nbsp;192.168.85.242&nbsp;表示从IP为192.168.85.242的主机连接</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>例二：新建一个用户tom，让他能从子网192.168.85.0中不论什么主机连接到数据库server，能够读取数据库xsxk的内容。而且能改动表course中字段teacher的值。</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">grant&nbsp;select&nbsp;on&nbsp;xsxk.*&nbsp;to&nbsp;<a href="mailto:tom@' rel=" nofollow"192.168.85.%25" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">tom@’192.168.85.%</a>’&nbsp;identified&nbsp;by&nbsp;‘123’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">grant&nbsp;update(teacher)&nbsp;on&nbsp;xsxk.course&nbsp;to&nbsp;<a href="mailto:tom@' rel=" nofollow"192.168.85.%25" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">tom@’192.168.85.%</a>’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>例三：mysql管理员要授权用户admin能够从本地连接到数据库server，对学生选课数据库xsxk具有全然訪问权限，并可将其拥有的权限授予其它用户</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">grant&nbsp;all&nbsp;on&nbsp;xsxk.*&nbsp;to&nbsp;admin@localhost&nbsp;identified&nbsp;by&nbsp;‘123’&nbsp;with&nbsp;grant&nbsp;option;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>5)&nbsp;用户撤权。方法例如以下：</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：REVOKE&nbsp;权限列表[(字段列表)]&nbsp;ON&nbsp;数据库名.表名&nbsp;FROM&nbsp;username@域名或IP地址；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例：mysql管理员要撤销用户admin@localhost对数据库xsxk所拥有的创建删除数据库与表的权限，并撤销该用户能够把自己拥有的权限授予其它用户的权限。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">revokecreate,drop&nbsp;on&nbsp;xsxk.*&nbsp;from&nbsp;admin@localhost;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">revoke&nbsp;grant&nbsp;option&nbsp;on&nbsp;xsxk.*&nbsp;from&nbsp;admin@localhost;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">1.3&nbsp;数据库的创建与删除</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;创建数据库：create&nbsp;database&nbsp;数据库名;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;查看数据库：show&nbsp;databases;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;选择数据库：use&nbsp;数据库名;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;删除数据库：drop&nbsp;database&nbsp;数据库名;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">1.4&nbsp;表操作</h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">1.4.1&nbsp;基本操作</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;创建表</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：create&nbsp;table&nbsp;表名(字段1,…字段n,[表级约束])&nbsp;[Type=表类型];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;字段i(i=1,…n)格式为：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">字段名&nbsp;字段类型&nbsp;[字段约束]</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">说明一：字段类型。规定了某字段所同意输入的数据类型</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>类型</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>描写叙述</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>int</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>同意值在0至2的32次方减1(无符号)之间标准整数</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>double</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>双精度浮点数</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>char</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>最大长度不超过255字符定长字符串</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>varchar</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>最大长度不超过255字符变长字符串</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>text</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>最大长度为65535字符字符串</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>blob</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>可变数据的二进制类型</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>date</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>YYYYMMDD格式日期类型</p> </td> 
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">说明二：字段约束，用来进一步对某个字段所同意输入的数据进行约束，经常使用的字段约束例如以下：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>约束</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>描写叙述</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>NULL（或NOT&nbsp;NULL）</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>指定同意（或不同意）某字段为空。默觉得NULL</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>DEFAULT</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>为某字段指定一个默认值</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>AUTO_INCREMENT</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>自己主动为某个INT字段生成一个递增1的整数</p> </td> 
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;表级约束：用于表示表的主键、外键、索引和唯一约束。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>约束</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>描写叙述</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>Primary&nbsp;key</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>为表指定主键</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>Foreign&nbsp;key&nbsp;……References</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>为表指定外键</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>Unique</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>为某字段创建索引。此字段必须唯一</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>Fulltext</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>为某字段建立全文索引</p> </td> 
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;表类型：用于指定表的类型，即数据的存储格式。</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>表类型</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>描写叙述</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>MyISAM</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>具有非常多优化和增强的特性。是mysql默认表类型</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>ISAM</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>类似于MyISAM。但功能较少</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>HEAP</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>保存在内存中。存取速度快，但存储容量小。恢复难</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>BDB</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>支持事务和页锁定</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>INNODB</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>支持事务、外键和行级锁。是mysql中最完好表格式</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>MERGE</p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>可把多个MyISAM表构建为一个虚拟表，使得这些表的查询就像在一个表上进行。提高查询速度和修复效率，并节省了磁盘空间</p> </td> 
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例：create&nbsp;table&nbsp;student(snovarchar(7)&nbsp;not&nbsp;null,&nbsp;snamevarchar(20)&nbsp;not&nbsp;null,&nbsp;ssex&nbsp;char(1)&nbsp;default&nbsp;‘t’,&nbsp;sbirthday&nbsp;date,&nbsp;sdepa&nbsp;char(20),&nbsp;primary&nbsp;key(sno));</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">a)&nbsp;建好后可通过describe命令查看表结构</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">b)&nbsp;系统会在/var/lib(or&nbsp;lib64)/mysql/xxkk文件夹下创建student.frm(表定义文件)、student.MDY(数据文件)、student.MYI(索引文件)三个文件</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;复制表</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：create&nbsp;table&nbsp;新表名&nbsp;like&nbsp;源表名;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;删除表</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：drop&nbsp;table&nbsp;表名1[,表名2,…];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;改动表</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：alter&nbsp;table&nbsp;表名&nbsp;更修改作1[,更修改作2,…];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;添加表中字段</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">alter&nbsp;table&nbsp;student&nbsp;add&nbsp;saddressvarchar(25);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;更改表字段名和字段类型</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">alter&nbsp;table&nbsp;student&nbsp;change&nbsp;saddressbeizhu&nbsp;text;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;删除字段</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">alter&nbsp;table&nbsp;student&nbsp;drop&nbsp;beizhu;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">D.&nbsp;更改名称</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">alter&nbsp;table&nbsp;student&nbsp;rename&nbsp;to&nbsp;xs;</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">1.4.2&nbsp;表记录操作</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;插入记录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：insert&nbsp;into&nbsp;表名(字段1,字段2,…,字段n)&nbsp;values(字段1的值,字段2的值,…,字段n的值);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例1：要在表student中插入一组数据</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">insert&nbsp;into&nbsp;student(sno,sname,ssex,sbirthday,sdepa)&nbsp;values(‘1’,’lilei’,default,19850721,’math’);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例2：要插入与前一次操作同样的记录。可使用例如以下的缩写</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">insert&nbsp;into&nbsp;student&nbsp;values(‘1’,’lilei’,default,19850721,’math’);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例3：表中有默认字段。若取默认字段值，这时仅仅需改动要改动的内容</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">insert&nbsp;into&nbsp;student(sno,sname,sbirthday)&nbsp;values(‘2’,’lucy’,19850613);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例4：在一个insert语句中使用多个values字句，可插入多条记录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">insert&nbsp;into&nbsp;student&nbsp;values(‘3’,’hanmeimei’,’f’,19850203,’computer’),(‘4’,’lily’,f,19850613,’computer’);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;删除记录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：delete&nbsp;from&nbsp;表名&nbsp;where&nbsp;条件表达式</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例1：删除表student中sno为’3’的记录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">delete&nbsp;from&nbsp;student&nbsp;where&nbsp;sno=’3’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例2：从表student中删除sname字段值前2位为’li’的记录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">delete&nbsp;from&nbsp;student&nbsp;where&nbsp;left(sname,2)=’li’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">删除表中全部记录的方法：truncate&nbsp;table&nbsp;student;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;改动记录</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：update&nbsp;表名&nbsp;set&nbsp;字段名1=字段值1[,字段名2=字段值2,…]&nbsp;where&nbsp;条件表达式;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例：改动表student中sno为’1’的记录，将其sdepa字段值改为’computer’</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">update&nbsp;student&nbsp;set&nbsp;sdepa=’computer’&nbsp;where&nbsp;sno=’1’;</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">1.4.3&nbsp;索引的创建与删除</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;在创建表的同一时候创建索引</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例：要创建一个选课课程表course。将课程编号cno设置为主键，同一时候为课程名称cname创建名为cna的索引</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">create&nbsp;table&nbsp;course(cnovarchar(5)&nbsp;not&nbsp;null,&nbsp;cnamevarchar(30)&nbsp;not&nbsp;null,&nbsp;teacher&nbsp;varchar(20),&nbsp;primary&nbsp;key(cno),&nbsp;index&nbsp;can(cname));</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;向已存在的表加入索引(unique或index子句)</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：create&nbsp;[unique]&nbsp;index&nbsp;索引名&nbsp;on&nbsp;表名(字段名1[(长度)],…);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例1：为表student的sname创建名为sna的索引</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">create&nbsp;index&nbsp;sna&nbsp;on&nbsp;student(sname);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例2：为表student的sname创建名为sna的索引，且索引长度为10</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">create&nbsp;index&nbsp;sna&nbsp;on&nbsp;student(sname(10));</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;删除索引</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：drop&nbsp;index&nbsp;索引名&nbsp;on&nbsp;表名;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例：删除表student中索引名为sna的索引</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">drop&nbsp;index&nbsp;sna&nbsp;on&nbsp;student;</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">2.&nbsp;Mysql查询</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">Mysql<span style="line-height:1.8;font-family:'宋体';">的查询语句和</span><span style="line-height:1.8;font-family:Calibri;">SQL&nbsp;Server</span><span style="line-height:1.8;font-family:'宋体';">基本同样，不同之处包含下面几点：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;获取前<span style="line-height:1.8;font-family:Calibri;">n</span><span style="line-height:1.8;font-family:'宋体';">个记录：</span><span style="line-height:1.8;font-family:Calibri;">SQL&nbsp;Server</span><span style="line-height:1.8;font-family:'宋体';">使用</span><span style="line-height:1.8;font-family:Calibri;">top&nbsp;n</span><span style="line-height:1.8;font-family:'宋体';">，位于</span><span style="line-height:1.8;font-family:Calibri;">select</span><span style="line-height:1.8;font-family:'宋体';">之后。</span><span style="line-height:1.8;font-family:Calibri;">mysql</span><span style="line-height:1.8;font-family:'宋体';">使用</span><span style="line-height:1.8;font-family:Calibri;">limit&nbsp;n</span><span style="line-height:1.8;font-family:'宋体';">，位于整个查询语句之后</span></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">3.&nbsp;Mysql存储过程</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">存储过程是数据库存储的一个重要的功能，可是MySQL在5.0曾经并不支持存储过程。</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.1&nbsp;存储过程定义</h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">3.1.1&nbsp;格式</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">CREATE&nbsp;PROCEDURE过程名([过程參数[,...]])<br> [特性...]过程体</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">样例：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>mysql&gt;&nbsp;DELIMITER&nbsp;//&nbsp;</p> <p>mysql&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc1(OUT&nbsp;s&nbsp;int)</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;BEGIN&nbsp;</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;SELECT&nbsp;COUNT(*)&nbsp;INTO&nbsp;s&nbsp;FROM&nbsp;user;&nbsp;</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;END&nbsp;</p> <p>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//</p> <p>mysql&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;这里须要注意的是DELIMITER&nbsp;//和DELIMITER&nbsp;;两句。DELIMITER是切割符的意思，由于MySQL默认以";"为分隔符。假设我们没有声明切割符，那么编译器会把存储过程当成SQL语句进行处理。则存储过程的编译过程会报错，所以要事先用DELIMITERkeyword申明当前段分隔符。这样MySQL才会将";"当做存储过程中的代码，不会运行这些代码，用完了之后要把分隔符还原。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;存储过程依据须要可能会有输入、输出、输入输出參数，这里有一个输出參数s，类型是int型，假设有多个參数用","切割开。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;假设过程体为多行。则它的開始与结束使用BEGIN与END进行标识。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">3.1.2&nbsp;切割符</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">假设是用MySQL的Administrator管理工具时。能够直接创建，不再须要声明切割符。</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">3.1.3&nbsp;參数</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MySQL存储过程的參数用在存储过程的定义，共同拥有三种參数类型,IN,OUT,INOUT,形式如：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">CREATE&nbsp;PROCEDURE([[IN&nbsp;|OUT&nbsp;|INOUT&nbsp;]參数名数据类形...])</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">IN输入參数:表示该參数的值必须在调用存储过程时指定，在存储过程中改动该參数的值不能被返回，为默认值</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">OUT输出參数:该值可在存储过程内部被改变。并可返回</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">INOUT输入输出參数:调用时指定，而且可被改变和返回</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;IN參数样例</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建:</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;demo_in_parameter(IN&nbsp;p_in&nbsp;int)&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;-&gt;&nbsp;BEGIN&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;-&gt;&nbsp;SELECT&nbsp;p_in;&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;-&gt;&nbsp;SET&nbsp;p_in=2;&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;-&gt;&nbsp;SELECT&nbsp;p_in;&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;-&gt;&nbsp;END;&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">运行结果:</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;SET&nbsp;@p_in=1;&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CALL&nbsp;demo_in_parameter(@p_in);&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;|&nbsp;p_in&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;|&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;|&nbsp;p_in&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;|&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;mysql&gt;&nbsp;SELECT&nbsp;@p_in;&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>17.&nbsp;|&nbsp;@p_in&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>18.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>19.&nbsp;|&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>20.&nbsp;+-------+&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">以上能够看出。p_in尽管在存储过程中被改动，但并不影响@p_id的值&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;OUT參数样例</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建:</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;demo_out_parameter(OUT&nbsp;p_out&nbsp;int)&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;-&gt;&nbsp;BEGIN&nbsp;&nbsp;</p> <p>4.&nbsp;-&gt;&nbsp;SELECT&nbsp;p_out;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;-&gt;&nbsp;SET&nbsp;p_out=2;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;-&gt;&nbsp;SELECT&nbsp;p_out;&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;-&gt;&nbsp;END;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">运行结果:</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;SET&nbsp;@p_out=1;&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CALL&nbsp;sp_demo_out_parameter(@p_out);&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;|&nbsp;p_out&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;|&nbsp;NULL&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;|&nbsp;p_out&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;|&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;mysql&gt;&nbsp;SELECT&nbsp;@p_out;&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>17.&nbsp;|&nbsp;p_out&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>18.&nbsp;+-------+&nbsp;&nbsp;&nbsp;</p> <p>19.&nbsp;|&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;|&nbsp;</p> <p>20.&nbsp;+-------+&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;INOUT參数样例</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建:</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;demo_inout_parameter(INOUT&nbsp;p_inout&nbsp;int)&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;-&gt;&nbsp;BEGIN&nbsp;&nbsp;</p> <p>4.&nbsp;-&gt;&nbsp;SELECT&nbsp;p_inout;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;-&gt;&nbsp;SET&nbsp;p_inout=2;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;-&gt;&nbsp;SELECT&nbsp;p_inout;&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;-&gt;&nbsp;END;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;</p> <p>9.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">运行结果:</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;SET&nbsp;@p_inout=1;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CALL&nbsp;demo_inout_parameter(@p_inout)&nbsp;;&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;+---------+&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;|&nbsp;p_inout&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;+---------+&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;+---------+&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;+---------+&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;|&nbsp;p_inout&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;+---------+&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;+---------+&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;mysql&nbsp;&gt;&nbsp;SELECT&nbsp;@p_inout;&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;+----------+&nbsp;&nbsp;&nbsp;</p> <p>17.&nbsp;|&nbsp;@p_inout&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>18.&nbsp;+----------+&nbsp;&nbsp;&nbsp;</p> <p>19.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>20.&nbsp;+----------+&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">3.1.4&nbsp;变量</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;变量定义</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">DECLARE&nbsp;variable_name&nbsp;[,variable_name...]&nbsp;datatype&nbsp;[DEFAULT&nbsp;value];</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">当中，datatype为MySQL的数据类型。如:int,&nbsp;float,&nbsp;date,&nbsp;varchar(length)</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">比如:</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1.&nbsp;DECLARE&nbsp;l_int&nbsp;int&nbsp;unsigned&nbsp;default&nbsp;4000000;&nbsp;&nbsp;&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2.&nbsp;DECLARE&nbsp;l_numeric&nbsp;number(8,2)&nbsp;DEFAULT&nbsp;9.95;&nbsp;&nbsp;&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3.&nbsp;DECLARE&nbsp;l_date&nbsp;date&nbsp;DEFAULT&nbsp;'1999-12-31';&nbsp;&nbsp;&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4.&nbsp;DECLARE&nbsp;l_datetime&nbsp;datetime&nbsp;DEFAULT&nbsp;'1999-12-31&nbsp;23:59:59';&nbsp;&nbsp;&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5.&nbsp;DECLARE&nbsp;l_varchar&nbsp;varchar(255)&nbsp;DEFAULT&nbsp;'This&nbsp;will&nbsp;not&nbsp;be&nbsp;padded';&nbsp;&nbsp;&nbsp;&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;变量赋值</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;SET变量名=表达式值[,variable_name&nbsp;=&nbsp;expression&nbsp;...]&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;用户变量&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;在MySQLclient使用用户变量</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;SELECT&nbsp;'Hello&nbsp;World'&nbsp;into&nbsp;@x;&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;SELECT&nbsp;@x;&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;|&nbsp;&nbsp;&nbsp;@x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;|&nbsp;Hello&nbsp;World&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;mysql&nbsp;&gt;&nbsp;SET&nbsp;@y='Goodbye&nbsp;Cruel&nbsp;World';&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;mysql&nbsp;&gt;&nbsp;SELECT&nbsp;@y;&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;+---------------------+&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;+---------------------+&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;|&nbsp;Goodbye&nbsp;Cruel&nbsp;World&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;+---------------------+&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;mysql&nbsp;&gt;&nbsp;SET&nbsp;@z=1+2+3;&nbsp;&nbsp;&nbsp;</p> <p>17.&nbsp;mysql&nbsp;&gt;&nbsp;SELECT&nbsp;@z;&nbsp;&nbsp;&nbsp;</p> <p>18.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>19.&nbsp;|&nbsp;@z&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>20.&nbsp;+------+&nbsp;&nbsp;&nbsp;</p> <p>21.&nbsp;|&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>22.&nbsp;+------+&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;在存储过程中使用用户变量</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;GreetWorld(&nbsp;)&nbsp;SELECT&nbsp;CONCAT(@greeting,'&nbsp;World');&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;SET&nbsp;@greeting='Hello';&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;mysql&nbsp;&gt;&nbsp;CALL&nbsp;GreetWorld(&nbsp;);&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;+----------------------------+&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;|&nbsp;CONCAT(@greeting,'&nbsp;World')&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;+----------------------------+&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;|&nbsp;&nbsp;Hello&nbsp;World&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;+----------------------------+&nbsp;&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;在存储过程间传递全局范围的用户变量</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;p1()&nbsp;&nbsp;&nbsp;SET&nbsp;@last_procedure='p1';&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;p2()&nbsp;SELECT&nbsp;CONCAT('Last&nbsp;procedure&nbsp;was&nbsp;',@last_proc);&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;mysql&gt;&nbsp;CALL&nbsp;p1(&nbsp;);&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;mysql&gt;&nbsp;CALL&nbsp;p2(&nbsp;);&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;+-----------------------------------------------+&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;|&nbsp;CONCAT('Last&nbsp;procedure&nbsp;was&nbsp;',@last_proc&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;+-----------------------------------------------+&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;|&nbsp;Last&nbsp;procedure&nbsp;was&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;+-----------------------------------------------+&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注意:</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">a)&nbsp;户变量名一般以@开头</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">b)&nbsp;滥用用户变量会导致程序难以理解及管理</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">3.1.5&nbsp;凝视</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MySQL存储过程可使用两种风格的凝视</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">双模杠：--一般用于单行凝视</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">c风格：一般用于多行凝视</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">比如：&nbsp;</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc1&nbsp;--name存储过程名&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;-&gt;&nbsp;(IN&nbsp;parameter1&nbsp;INTEGER)&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;-&gt;&nbsp;BEGIN&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;-&gt;&nbsp;DECLARE&nbsp;variable1&nbsp;CHAR(10);&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;-&gt;&nbsp;IF&nbsp;parameter1&nbsp;=&nbsp;17&nbsp;THEN&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;-&gt;&nbsp;SET&nbsp;variable1&nbsp;=&nbsp;'birds';&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;-&gt;&nbsp;ELSE&nbsp;&nbsp;</p> <p>9.&nbsp;-&gt;&nbsp;SET&nbsp;variable1&nbsp;=&nbsp;'beasts';&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;-&gt;&nbsp;END&nbsp;IF;&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;-&gt;&nbsp;INSERT&nbsp;INTO&nbsp;table1&nbsp;VALUES&nbsp;(variable1);&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;-&gt;&nbsp;END&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.2&nbsp;存储过程特点</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;MySQL&nbsp;存储过程名字后面的“()”是必须的，即使没有一个參数，也须要“()”</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;MySQL&nbsp;存储过程參数，不能在參数名称前加“@”，如：“@a&nbsp;int”。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">以下的创建存储过程语法在&nbsp;MySQL&nbsp;中是错误的（在&nbsp;SQL&nbsp;Server&nbsp;中是正确的）。&nbsp;MySQL&nbsp;存储过程中的变量，不须要在变量名字前加“@”，尽管&nbsp;MySQL&nbsp;client用户变量要加个“@”。</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="background:rgb(245,245,245);">create&nbsp;procedure&nbsp;pr_add</p> <p style="background:rgb(245,245,245);">(</p> <p style="background:rgb(245,245,245);">@a&nbsp;int,&nbsp;--&nbsp;错误</p> <p style="background:rgb(245,245,245);">b&nbsp;int&nbsp;--&nbsp;正确</p> <p style="background:rgb(245,245,245);">)</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;MySQL&nbsp;存储过程的參数不能指定默认值。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;MySQL&nbsp;存储过程不须要在&nbsp;procedure&nbsp;body&nbsp;前面加&nbsp;“as”。而&nbsp;SQL&nbsp;Server&nbsp;存储过程必须加&nbsp;“as”&nbsp;keyword。</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="background:rgb(245,245,245);">create&nbsp;procedure&nbsp;pr_add&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">(&nbsp;&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">a&nbsp;int,&nbsp;&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">b&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">)&nbsp;&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">as&nbsp;--&nbsp;错误，MySQL&nbsp;不须要&nbsp;“as”&nbsp;&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">begin&nbsp;&nbsp;&nbsp;&nbsp;</p> <p style="background:rgb(245,245,245);">mysql&nbsp;statement&nbsp;...;&nbsp;</p> <p style="background:rgb(245,245,245);">end;&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5)&nbsp;假设&nbsp;MySQL&nbsp;存储过程中包括多条&nbsp;MySQL&nbsp;语句，则须要&nbsp;begin&nbsp;end&nbsp;keyword。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">6)&nbsp;MySQL&nbsp;存储过程中的每条语句的末尾，都要加上分号&nbsp;“;”</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">7)&nbsp;不能在&nbsp;MySQL&nbsp;存储过程中使用&nbsp;“return”&nbsp;keyword。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">8)&nbsp;由于&nbsp;MySQL&nbsp;存储过程參数没有默认值。所以在调用&nbsp;MySQL&nbsp;存储过程时候，不能省略參数。能够用&nbsp;null&nbsp;来替代</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.3&nbsp;存储过程调用</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">用call和你过程名以及一个括号，括号中面依据须要。增加參数。參数包含输入參数、输出參数、输入输出參数。详细的调用方法能够參看上面的样例。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.4&nbsp;存储过程查询</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">我们像知道一个数据库以下有那些表，我们一般採用show&nbsp;tables;进行查看。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">那么我们要查看某个数据库以下的存储过程，是否也能够採用呢？答案是，我们能够查看某个数据库以下的存储过程，可是是令一钟方式。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">我们能够用</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">select&nbsp;name&nbsp;from&nbsp;mysql.proc&nbsp;where&nbsp;db=’数据库名’;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">或者</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">select&nbsp;routine_name&nbsp;from&nbsp;information_schema.routines&nbsp;where&nbsp;routine_schema='数据库名';</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">或者</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">show&nbsp;procedure&nbsp;status&nbsp;where&nbsp;db='数据库名';</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">进行查询。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">假设我们想知道。某个存储过程的具体。那我们又该怎么做呢？是不是也能够像操作表一样用describe表名进行查看呢？</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">答案是：我们能够查看存储过程的具体，可是须要用还有一种方法：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">SHOW&nbsp;CREATE&nbsp;PROCEDURE数据库.存储过程名;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">就能够查看当前存储过程的具体。</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.5&nbsp;存储过程改动</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">ALTER&nbsp;PROCEDURE</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">更改用CREATE&nbsp;PROCEDURE建立的预先指定的存储过程。其不会影响相关存储过程或存储功能。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.6&nbsp;存储过程删除</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">DROP&nbsp;PROCEDURE</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">从MySQL的表格中删除一个或多个存储过程。</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.7&nbsp;存储过程控制语句</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">变量作用域</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">内部的变量在其作用域范围内享有更高的优先权，当运行到end。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">变量时。内部变量消失。此时已经在其作用域外，变量不再可见了，应为在存储<br> 过程外再也不能找到这个申明的变量，可是你能够通过out參数或者将其值指派<br> 给会话变量来保存其值。</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc3()&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;x1&nbsp;varchar(5)&nbsp;default&nbsp;'outer';&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;x1&nbsp;varchar(5)&nbsp;default&nbsp;'inner';&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;select&nbsp;x1;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;select&nbsp;x1;&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">条件语句</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;if-then&nbsp;-else语句</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc2(IN&nbsp;parameter&nbsp;int)&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;var&nbsp;int;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;var=parameter+1;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;var=0&nbsp;then&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(17);&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;if;&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;parameter=0&nbsp;then&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;update&nbsp;t&nbsp;set&nbsp;s1=s1+1;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;else&nbsp;&nbsp;</p> <p>12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;update&nbsp;t&nbsp;set&nbsp;s1=s1+2;&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;if;&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;case语句：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc3&nbsp;(in&nbsp;parameter&nbsp;int)&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;var&nbsp;int;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;var=parameter+1;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;case&nbsp;var&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;when&nbsp;0&nbsp;then&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(17);&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;when&nbsp;1&nbsp;then&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(18);&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(19);&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;case;&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;循环语句</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;while&nbsp;····&nbsp;end&nbsp;while：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc4()&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;var&nbsp;int;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;var=0;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;while&nbsp;var&lt;6&nbsp;do&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(var);&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;var=var+1;&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;while;&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;repeat····&nbsp;end&nbsp;repeat：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc5&nbsp;()&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;v&nbsp;int;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=0;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;repeat&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(v);&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=v+1;&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;until&nbsp;v&gt;=5&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;repeat;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;loop&nbsp;·····end&nbsp;loop:</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">loop循环不须要初始条件，这点和while循环相似，同一时候和repeat循环一样不须要结束条件,&nbsp;leave语句的意义是离开循环。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc6&nbsp;()&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;v&nbsp;int;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=0;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;LOOP_LABLE:loop&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(v);&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=v+1;&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;v&nbsp;&gt;=5&nbsp;then&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;leave&nbsp;LOOP_LABLE;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;if;&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;loop;&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">D.&nbsp;LABLES标号：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">标号能够用在begin&nbsp;repeat&nbsp;while或者loop语句前，语句标号仅仅能在合法的语句前面使用。能够跳出循环，使执行指令达到复合语句的最后一步。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;ITERATE迭代</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">通过引用复合语句的标号,来从新開始复合语句</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;mysql&nbsp;&gt;&nbsp;CREATE&nbsp;PROCEDURE&nbsp;proc10&nbsp;()&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;begin&nbsp;&nbsp;</p> <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;declare&nbsp;v&nbsp;int;&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=0;&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;LOOP_LABLE:loop&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;v=3&nbsp;then&nbsp;&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=v+1;&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;ITERATE&nbsp;LOOP_LABLE;&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;if;&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;insert&nbsp;into&nbsp;t&nbsp;values(v);&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;set&nbsp;v=v+1;&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;v&gt;=5&nbsp;then&nbsp;&nbsp;</p> <p>14.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;leave&nbsp;LOOP_LABLE;&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;if;&nbsp;&nbsp;&nbsp;</p> <p>16.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end&nbsp;loop;&nbsp;&nbsp;&nbsp;</p> <p>17.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;end;&nbsp;&nbsp;&nbsp;</p> <p>18.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</p> <p>19.&nbsp;mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.8&nbsp;存储过程基本函数</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">字符串类</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;CHARSET(str)&nbsp;//返回字串字符集</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;CONCAT&nbsp;(string2&nbsp;[,...&nbsp;])&nbsp;//连接字串</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;INSTR&nbsp;(string&nbsp;,substring&nbsp;)&nbsp;//返回substring首次在string中出现的位置,不存在返回0</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;LCASE&nbsp;(string2&nbsp;)&nbsp;//转换成小写</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5)&nbsp;LEFT&nbsp;(string2&nbsp;,length&nbsp;)&nbsp;//从string2中的左边起取length个字符</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">6)&nbsp;LENGTH&nbsp;(string&nbsp;)&nbsp;//string长度</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">7)&nbsp;LOAD_FILE&nbsp;(file_name&nbsp;)&nbsp;//从文件读取内容</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">8)&nbsp;LOCATE&nbsp;(substring&nbsp;,&nbsp;string&nbsp;[,start_position&nbsp;]&nbsp;)同INSTR,但可指定開始位置</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">9)&nbsp;LPAD&nbsp;(string2&nbsp;,length&nbsp;,pad&nbsp;)&nbsp;//反复用pad加在string开头,直到字串长度为length</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">10)&nbsp;LTRIM&nbsp;(string2&nbsp;)&nbsp;//去除前端空格</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">11)&nbsp;REPEAT&nbsp;(string2&nbsp;,count&nbsp;)&nbsp;//反复count次</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">12)&nbsp;REPLACE&nbsp;(str&nbsp;,search_str&nbsp;,replace_str&nbsp;)&nbsp;//在str中用replace_str替换search_str</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">13)&nbsp;RPAD&nbsp;(string2&nbsp;,length&nbsp;,pad)&nbsp;//在str后用pad补充,直到长度为length</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">14)&nbsp;RTRIM&nbsp;(string2&nbsp;)&nbsp;//去除后端空格</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">15)&nbsp;STRCMP&nbsp;(string1&nbsp;,string2&nbsp;)&nbsp;//逐字符比較两字串大小,</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">16)&nbsp;SUBSTRING&nbsp;(str&nbsp;,&nbsp;position&nbsp;[,length&nbsp;])&nbsp;//从str的position開始,取length个字符</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：mysql中处理字符串时，默认第一个字符下标为1，即參数position必须大于等于1&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">例：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&gt;&nbsp;select&nbsp;substring('abcd',0,2);&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;+-----------------------+&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;|&nbsp;substring('abcd',0,2)&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;+-----------------------+&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;+-----------------------+&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;mysql&gt;&nbsp;select&nbsp;substring('abcd',1,2);&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;+-----------------------+&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;|&nbsp;substring('abcd',1,2)&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;+-----------------------+&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;+-----------------------+&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.02&nbsp;sec)&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">17)&nbsp;TRIM([[BOTH|LEADING|TRAILING]&nbsp;[padding]&nbsp;FROM]string2)&nbsp;//去除指定位置的指定字符</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">18)&nbsp;UCASE&nbsp;(string2&nbsp;)&nbsp;//转换成大写</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">19)&nbsp;RIGHT(string2,length)&nbsp;//取string2最后length个字符</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">20)&nbsp;SPACE(count)&nbsp;//生成count个空格</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;数学类</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;ABS&nbsp;(number2&nbsp;)&nbsp;//绝对值</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;BIN&nbsp;(decimal_number&nbsp;)&nbsp;//十进制转二进制</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;CEILING&nbsp;(number2&nbsp;)&nbsp;//向上取整</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;CONV(number2,from_base,to_base)&nbsp;//进制转换</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5)&nbsp;FLOOR&nbsp;(number2&nbsp;)&nbsp;//向下取整</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">6)&nbsp;FORMAT&nbsp;(number,decimal_places&nbsp;)&nbsp;//保留小数位数</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">7)&nbsp;HEX&nbsp;(DecimalNumber&nbsp;)&nbsp;//转十六进制</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：HEX()中可传入字符串。则返回其ASC-11码，如HEX('DEF')返回4142143<br> 也能够传入十进制整数，返回其十六进制编码，如HEX(25)返回19</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">8)&nbsp;LEAST&nbsp;(number&nbsp;,&nbsp;number2&nbsp;[,..])&nbsp;//求最小值</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">9)&nbsp;MOD&nbsp;(numerator&nbsp;,denominator&nbsp;)&nbsp;//求余</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">10)&nbsp;POWER&nbsp;(number&nbsp;,power&nbsp;)&nbsp;//求指数</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">11)&nbsp;RAND([seed])&nbsp;//随机数</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">12)&nbsp;ROUND&nbsp;(number&nbsp;[,decimals&nbsp;])&nbsp;//四舍五入,decimals为小数位数]</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：返回类型并不是均为整数，如：<br> (1)默认变为整形值</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&gt;&nbsp;select&nbsp;round(1.23);&nbsp;&nbsp;&nbsp;</p> <p>2.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;|&nbsp;round(1.23)&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;&nbsp;&nbsp;</p> <p>8.&nbsp;&nbsp;&nbsp;</p> <p>9.&nbsp;mysql&gt;&nbsp;select&nbsp;round(1.56);&nbsp;&nbsp;&nbsp;</p> <p>10.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>11.&nbsp;|&nbsp;round(1.56)&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>12.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>13.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>14.&nbsp;+-------------+&nbsp;&nbsp;&nbsp;</p> <p>15.&nbsp;1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">(2)能够设定小数位数。返回浮点型数据</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>1.&nbsp;mysql&gt;&nbsp;select&nbsp;round(1.567,2);&nbsp;&nbsp;</p> <p>2.&nbsp;+----------------+&nbsp;&nbsp;&nbsp;</p> <p>3.&nbsp;|&nbsp;round(1.567,2)&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>4.&nbsp;+----------------+&nbsp;&nbsp;&nbsp;</p> <p>5.&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.57&nbsp;|&nbsp;&nbsp;&nbsp;</p> <p>6.&nbsp;+----------------+&nbsp;&nbsp;&nbsp;</p> <p>7.&nbsp;1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.00&nbsp;sec)&nbsp;&nbsp;</p> <p>8.&nbsp;SIGN&nbsp;(number2&nbsp;)&nbsp;//</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">日期时间类</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;ADDTIME&nbsp;(date2&nbsp;,time_interval&nbsp;)&nbsp;//将time_interval加到date2</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;CONVERT_TZ&nbsp;(datetime2&nbsp;,fromTZ&nbsp;,toTZ&nbsp;)&nbsp;//转换时区</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;CURRENT_DATE&nbsp;(&nbsp;)&nbsp;//当前日期</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;CURRENT_TIME&nbsp;(&nbsp;)&nbsp;//当前时间</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5)&nbsp;CURRENT_TIMESTAMP&nbsp;(&nbsp;)&nbsp;//当前时间戳</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">6)&nbsp;DATE&nbsp;(datetime&nbsp;)&nbsp;//返回datetime的日期部分</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">7)&nbsp;DATE_ADD&nbsp;(date2&nbsp;,&nbsp;INTERVAL&nbsp;d_valued_type&nbsp;)&nbsp;//在date2中加上日期或时间</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">8)&nbsp;DATE_FORMAT&nbsp;(datetime&nbsp;,FormatCodes&nbsp;)&nbsp;//使用formatcodes格式显示datetime</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">9)&nbsp;DATE_SUB&nbsp;(date2&nbsp;,&nbsp;INTERVAL&nbsp;d_valued_type&nbsp;)&nbsp;//在date2上减去一个时间</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">10)&nbsp;DATEDIFF&nbsp;(date1&nbsp;,date2&nbsp;)&nbsp;//两个日期差</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">11)&nbsp;DAY&nbsp;(date&nbsp;)&nbsp;//返回日期的天</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">12)&nbsp;DAYNAME&nbsp;(date&nbsp;)&nbsp;//英文星期</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">13)&nbsp;DAYOFWEEK&nbsp;(date&nbsp;)&nbsp;//星期(1-7)&nbsp;,1为星期天</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">14)&nbsp;DAYOFYEAR&nbsp;(date&nbsp;)&nbsp;//一年中的第几天</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">15)&nbsp;EXTRACT&nbsp;(interval_name&nbsp;FROM&nbsp;date&nbsp;)&nbsp;//从date中提取日期的指定部分</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">16)&nbsp;MAKEDATE&nbsp;(year&nbsp;,day&nbsp;)&nbsp;//给出年及年中的第几天,生成日期串</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">17)&nbsp;MAKETIME&nbsp;(hour&nbsp;,minute&nbsp;,second&nbsp;)&nbsp;//生成时间串</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">18)&nbsp;MONTHNAME&nbsp;(date&nbsp;)&nbsp;//英文月份名</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">19)&nbsp;NOW&nbsp;(&nbsp;)&nbsp;//当前时间</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">20)&nbsp;SEC_TO_TIME&nbsp;(seconds&nbsp;)&nbsp;//秒数转成时间</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">21)&nbsp;STR_TO_DATE&nbsp;(string&nbsp;,format&nbsp;)&nbsp;//字串转成时间,以format格式显示</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">22)&nbsp;TIMEDIFF&nbsp;(datetime1&nbsp;,datetime2&nbsp;)&nbsp;//两个时间差</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">23)&nbsp;TIME_TO_SEC&nbsp;(time&nbsp;)&nbsp;//时间转秒数]</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">24)&nbsp;WEEK&nbsp;(date_time&nbsp;[,start_of_week&nbsp;])&nbsp;//第几周</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">25)&nbsp;YEAR&nbsp;(datetime&nbsp;)&nbsp;//年份</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">26)&nbsp;DAYOFMONTH(datetime)&nbsp;//月的第几天</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">27)&nbsp;HOUR(datetime)&nbsp;//小时</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">28)&nbsp;LAST_DAY(date)&nbsp;//date的月的最后日期</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">29)&nbsp;MICROSECOND(datetime)&nbsp;//微秒</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">30)&nbsp;MONTH(datetime)&nbsp;//月</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">31)&nbsp;MINUTE(datetime)&nbsp;//分返回符号,正负或0</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">32)&nbsp;SQRT(number2)&nbsp;//开平方</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">3.9&nbsp;事务、游标的使用</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">事务</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>--&nbsp;启动事务&nbsp;</p> <p>start&nbsp;transaction;&nbsp;</p> <p>……</p> <p>--&nbsp;执行没有异常。提交事务&nbsp;&nbsp;&nbsp;<br> commit;&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">游标</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>--&nbsp;声明游标&nbsp;&nbsp;&nbsp;<br> declare&nbsp;cur&nbsp;cursor&nbsp;for</p> <p>&nbsp;</p> <p>--&nbsp;声明游标的异常处理，设置一个终止标记&nbsp;&nbsp;&nbsp;<br> declare&nbsp;CONTINUE&nbsp;HANDLER&nbsp;FOR&nbsp;SQLSTATE&nbsp;'02000'&nbsp;SET&nbsp;stop=1;&nbsp;&nbsp;</p> <p>&nbsp;</p> <p>--&nbsp;打开游标&nbsp;&nbsp;&nbsp;<br> open&nbsp;cur;&nbsp;&nbsp;</p> <p>&nbsp;</p> <p>--&nbsp;读取一行数据到变量&nbsp;&nbsp;&nbsp;<br> fetch&nbsp;cur&nbsp;into</p> <p>&nbsp;</p> <p>--&nbsp;这个就是推断是否游标已经到达了最后&nbsp;&nbsp;&nbsp;<br> while&nbsp;stop&nbsp;&lt;&gt;&nbsp;1&nbsp;do</p> <p>&nbsp;</p> <p>--&nbsp;读取下一行的数据&nbsp;&nbsp;&nbsp;&nbsp;<br> fetch&nbsp;cur&nbsp;int</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>--&nbsp;关闭游标&nbsp;</p> <p>close&nbsp;cur;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">4.&nbsp;Mysql<span style="line-height:1.8;font-family:'宋体';">视图</span> </h2> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">4.1&nbsp;创建视图</h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">4.1.1&nbsp;定义</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：create&nbsp;[or&nbsp;replace]&nbsp;[algorithm&nbsp;=&nbsp;{undefined&nbsp;|&nbsp;merge&nbsp;|&nbsp;temptable}]&nbsp;view&nbsp;[db_name.]view_name&nbsp;[(column_list)]&nbsp;as&nbsp;select_statement&nbsp;[with&nbsp;[cascaded&nbsp;|&nbsp;local]&nbsp;check&nbsp;option]</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;若给定了[or&nbsp;replace]。则表示当已具有同名的视图时，将覆盖原视图。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;select_statement是一个查询语句，这个查询语句可从表或其他的视图中查询。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;视图属于数据库，因此须要指定数据库的名称。若未指定时，表示在当前的数据库创建新视图。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">D.&nbsp;表和表共享数据库中同样的名称空间，因此，数据库不能包括同样名称的表和视图。而且。视图的列名也不能反复。</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">4.1.2&nbsp;举例</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建一个产品表（product）和一个购买记录表（purchase），再通过视图purchase_detail查询出购买的具体信息。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>create&nbsp;table&nbsp;product<br> (<br> product_idint&nbsp;not&nbsp;null,<br> name&nbsp;varchar(50)&nbsp;not&nbsp;null,<br> price&nbsp;double&nbsp;not&nbsp;null<br> );<br> insert&nbsp;into&nbsp;product&nbsp;values(1,&nbsp;'apple&nbsp;',&nbsp;5.5);<br> create&nbsp;table&nbsp;purchase<br> (<br> id&nbsp;int&nbsp;not&nbsp;null,<br> product_idint&nbsp;not&nbsp;null,<br> qtyint&nbsp;not&nbsp;null&nbsp;default&nbsp;0,<br> gen_timedatetime&nbsp;not&nbsp;null<br> );<br> insert&nbsp;into&nbsp;purchase&nbsp;values(1,&nbsp;1,&nbsp;10,&nbsp;now());<br><br> create&nbsp;view&nbsp;purchase_detail&nbsp;as&nbsp;select&nbsp;product.name&nbsp;as&nbsp;name,&nbsp;product&nbsp;.price&nbsp;as&nbsp;price,&nbsp;purchase.qty&nbsp;as&nbsp;qty,&nbsp;product&nbsp;.price&nbsp;*&nbsp;purchase.qty&nbsp;as&nbsp;total_value&nbsp;from&nbsp;product,&nbsp;purchase&nbsp;where&nbsp;product.product_id&nbsp;=&nbsp;purchase.product_id;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建成功后，输入：select&nbsp;*&nbsp;from&nbsp;purchase_detail;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">执行效果例如以下：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>+-------+-------+-----+-------------+<br> |&nbsp;name&nbsp;|&nbsp;price&nbsp;|&nbsp;qty&nbsp;|&nbsp;total_value&nbsp;|<br> +-------+-------+-----+-------------+<br> |&nbsp;apple&nbsp;|&nbsp;5.5&nbsp;|&nbsp;10&nbsp;|&nbsp;55&nbsp;|<br> +-------+-------+-----+-------------+<br> 1&nbsp;row&nbsp;in&nbsp;set&nbsp;(0.01&nbsp;sec)</p> </td>
     </tr>
    </tbody>
   </table>
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">4.1.3&nbsp;注意事项</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;执行创建视图的语句须要用户具有创建视图（crate&nbsp;view）的权限，若加了[or&nbsp;replace]时。还须要用户具有删除视图（drop&nbsp;view）的权限。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;&nbsp;select语句不能包括from子句中的子查询；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;select语句不能引用系统或用户变量。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;select语句不能引用预处理语句參数；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5)&nbsp;在存储子程序内，定义不能引用子程序參数或局部变量；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">6)&nbsp;在定义中引用的表或视图必须存在。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">可是。创建了视图后，可以舍弃定义引用的表或视图。要想检查视图定义是否存在这类问题。可使用check&nbsp;table语句；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">7)&nbsp;在定义中不能引用temporary表。不能创建temporary视图；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">8)&nbsp;在视图定义中命名的表必须已存在；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">9)&nbsp;不能将触发程序与视图关联在一起；</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">10)&nbsp;在视图定义中同意使用order&nbsp;by，可是，假设从特定视图进行了选择。而该视图使用了具有自己order&nbsp;by的语句，它将被忽略。</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">4.2&nbsp;改动视图</h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">4.2.1&nbsp;定义</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">格式：alter&nbsp;[algorithm&nbsp;=&nbsp;{undefined&nbsp;|&nbsp;merge&nbsp;|&nbsp;temptable}]&nbsp;view&nbsp;view_name&nbsp;[(column_list)]&nbsp;as&nbsp;select_statement&nbsp;[with&nbsp;[cascaded&nbsp;|&nbsp;local]&nbsp;check&nbsp;option]</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">4.2.2&nbsp;举例</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">将上一小节中中创建的视purchase_detail进行改动，去掉qty列，语句例如以下：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>alter&nbsp;view&nbsp;purchase_detail&nbsp;as&nbsp;select&nbsp;product.name&nbsp;as&nbsp;name,&nbsp;product&nbsp;.price&nbsp;as&nbsp;price,&nbsp;product&nbsp;.price&nbsp;*&nbsp;purchase.qty&nbsp;as&nbsp;total_value&nbsp;from&nbsp;product,&nbsp;purchase&nbsp;where&nbsp;product.product_id&nbsp;=&nbsp;purchase.product_id;</p> </td>
     </tr>
    </tbody>
   </table>
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">5.&nbsp;Mysql<span style="line-height:1.8;font-family:'宋体';">作业</span> </h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">MySQL<span style="line-height:1.8;font-family:'宋体';">的事件调度器能够精确到每秒钟运行一个任务。而操作系统的计划任务（如：</span><span style="line-height:1.8;font-family:Calibri;">Linux</span><span style="line-height:1.8;font-family:'宋体';">下的</span><span style="line-height:1.8;font-family:Calibri;">CRON</span><span style="line-height:1.8;font-family:'宋体';">或</span><span style="line-height:1.8;font-family:Calibri;">Windows</span><span style="line-height:1.8;font-family:'宋体';">下的任务计划）仅仅能精确到每分钟运行一次。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">事件调度器有时也可称为暂时触发器<span style="line-height:1.8;font-family:Calibri;">(temporal&nbsp;triggers)</span><span style="line-height:1.8;font-family:'宋体';">，由于事件调度器是基于特定时间周期触发来运行某些任务，而触发器</span><span style="line-height:1.8;font-family:Calibri;">(Triggers)</span><span style="line-height:1.8;font-family:'宋体';">是基于某个表所产生的事件触发的。差别也就在这里。</span></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">5.1.&nbsp;开启事件调度器</h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.1.1.&nbsp;开启</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">有例如以下几种方法：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;运行：SET&nbsp;GLOBAL&nbsp;event_scheduler&nbsp;=&nbsp;1</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;运行：<span style="line-height:1.8;font-family:Calibri;">SET&nbsp;GLOBAL&nbsp;event_scheduler&nbsp;=&nbsp;ON</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;在配置<span style="line-height:1.8;font-family:Calibri;">my.cnf</span><span style="line-height:1.8;font-family:'宋体';">文件&nbsp;中加上&nbsp;</span><span style="line-height:1.8;font-family:Calibri;">event_scheduler&nbsp;=&nbsp;1</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;在启动命令加上”--event_scheduler=1”</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.1.2.&nbsp;查看</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">有例如以下方法：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;运行：<span style="line-height:1.8;font-family:Calibri;">SHOW&nbsp;VARIABLES&nbsp;LIKE&nbsp;</span>“event_scheduler”</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;运行：<span style="line-height:1.8;font-family:Calibri;">select&nbsp;@event_scheduler</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;运行：<span style="line-height:1.8;font-family:Calibri;">SHOW&nbsp;PROCESSLIST</span></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">5.2.&nbsp;创建事件<span style="line-height:1.8;font-family:Cambria;">(CREATE&nbsp;EVENT)</span> </h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.2.1.&nbsp;语法</h4> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;[IF&nbsp;NOT&nbsp;EXISTS]&nbsp;event_name&nbsp;&nbsp;</p> <p>&nbsp;　　&nbsp;<span style="line-height:1.8;font-family:Calibri;">ON&nbsp;SCHEDULE&nbsp;schedule&nbsp;&nbsp;</span></p> <p>　　&nbsp;<span style="line-height:1.8;font-family:Calibri;">[ON&nbsp;COMPLETION&nbsp;[NOT]&nbsp;PRESERVE]&nbsp;&nbsp;</span></p> <p>　　&nbsp;<span style="line-height:1.8;font-family:Calibri;">[ENABLE&nbsp;|&nbsp;DISABLE]&nbsp;&nbsp;</span></p> <p>　　&nbsp;<span style="line-height:1.8;font-family:Calibri;">[COMMENT&nbsp;'comment']&nbsp;&nbsp;</span></p> <p>　　&nbsp;<span style="line-height:1.8;font-family:Calibri;">DO&nbsp;sql_statement;</span></p> </td>
     </tr>
    </tbody>
   </table>
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.2.2.&nbsp;參数</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;schedule:</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">AT&nbsp;TIMESTAMP&nbsp;[+&nbsp;INTERVAL&nbsp;INTERVAL]</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">|&nbsp;EVERY&nbsp;INTERVAL&nbsp;[STARTS&nbsp;TIMESTAMP]&nbsp;[ENDS&nbsp;TIMESTAMP]</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;INTERVAL:</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　quantity&nbsp;{YEAR&nbsp;|&nbsp;QUARTER&nbsp;|&nbsp;MONTH&nbsp;|&nbsp;DAY&nbsp;|&nbsp;HOUR&nbsp;|&nbsp;MINUTE&nbsp;|</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　WEEK&nbsp;|&nbsp;SECOND&nbsp;|&nbsp;YEAR_MONTH&nbsp;|&nbsp;DAY_HOUR&nbsp;|&nbsp;DAY_MINUTE&nbsp;|</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　DAY_SECOND&nbsp;|&nbsp;HOUR_MINUTE&nbsp;|&nbsp;HOUR_SECOND&nbsp;|&nbsp;MINUTE_SECOND}</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.2.3.&nbsp;举例</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">先创建一个表</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;TABLE&nbsp;aaa&nbsp;(timeline&nbsp;TIMESTAMP);&nbsp;&nbsp;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;每秒插入一条记录到数据表</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test_insert&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;1&nbsp;SECOND&nbsp;</p> <p>　　&nbsp;DO&nbsp;INSERT&nbsp;INTO&nbsp;aaa&nbsp;VALUES&nbsp;(CURRENT_TIMESTAMP);</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;5天后清空aaa表</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;AT&nbsp;CURRENT_TIMESTAMP&nbsp;+&nbsp;INTERVAL&nbsp;5&nbsp;DAY&nbsp;</p> <p>&nbsp;&nbsp;　&nbsp;DO&nbsp;TRUNCATE&nbsp;TABLE&nbsp;aaa;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;每天定时清空aaa表：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;1&nbsp;DAY&nbsp;</p> <p>　　&nbsp;DO&nbsp;TRUNCATE&nbsp;TABLE&nbsp;aaa;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">4)&nbsp;5天后开启每天定时清空aaa表：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;1&nbsp;DAY&nbsp;</p> <p>&nbsp;&nbsp;　&nbsp;STARTS&nbsp;CURRENT_TIMESTAMP&nbsp;+&nbsp;INTERVAL&nbsp;5&nbsp;DAY&nbsp;</p> <p>　　&nbsp;DO&nbsp;TRUNCATE&nbsp;TABLE&nbsp;aaa;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">5)&nbsp;每天定时清空aaa表。5天后停止运行：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;1&nbsp;DAY&nbsp;</p> <p>　　&nbsp;ENDS&nbsp;CURRENT_TIMESTAMP&nbsp;+&nbsp;INTERVAL&nbsp;5&nbsp;DAY&nbsp;</p> <p>　　&nbsp;DO&nbsp;TRUNCATE&nbsp;TABLE&nbsp;aaa;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">6)&nbsp;5天后开启每天定时清空test表，一个月后停止运行：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;1&nbsp;DAY&nbsp;</p> <p>　　&nbsp;STARTS&nbsp;CURRENT_TIMESTAMP&nbsp;+&nbsp;INTERVAL&nbsp;5&nbsp;DAY&nbsp;</p> <p>　　&nbsp;ENDS&nbsp;CURRENT_TIMESTAMP&nbsp;+&nbsp;INTERVAL&nbsp;1&nbsp;MONTH&nbsp;</p> <p>　　&nbsp;DO&nbsp;TRUNCATE&nbsp;TABLE&nbsp;aaa;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">7)&nbsp;每天定时清空test表(仅仅运行一次，任务完毕后就终止该事件)：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">[ON&nbsp;COMPLETION&nbsp;[NOT]&nbsp;PRESERVE]能够设置这个事件是运行一次还是持久运行。默觉得NOT&nbsp;PRESERVE。[ENABLE&nbsp;|&nbsp;DISABLE]但是设置该事件创建后状态是否开启或关闭。默觉得ENABLE。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">[COMMENT&nbsp;‘comment’]能够给该事件加上凝视。</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>CREATE&nbsp;EVENT&nbsp;e_test&nbsp;&nbsp;</p> <p>　　&nbsp;ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;1&nbsp;DAY&nbsp;</p> <p>　　&nbsp;ON&nbsp;COMPLETION&nbsp;NOT&nbsp;PRESERVE&nbsp;&nbsp;</p> <p>　　&nbsp;DO&nbsp;TRUNCATE&nbsp;TABLE&nbsp;aaa;</p> </td>
     </tr>
    </tbody>
   </table>
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">5.3.&nbsp;改动事件<span style="line-height:1.8;font-family:Cambria;">(ALTER&nbsp;EVENT)</span> </h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.3.1.&nbsp;语法</h4> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>ALTER&nbsp;EVENT&nbsp;event_name&nbsp;&nbsp;</p> <p>　　&nbsp;[ON&nbsp;SCHEDULE&nbsp;schedule]&nbsp;&nbsp;</p> <p>　　&nbsp;[RENAME&nbsp;TO&nbsp;new_event_name]&nbsp;&nbsp;</p> <p>　　&nbsp;[ON&nbsp;COMPLETION&nbsp;[NOT]&nbsp;PRESERVE]&nbsp;&nbsp;</p> <p>　　&nbsp;[COMMENT&nbsp;'comment']&nbsp;&nbsp;</p> <p>　　&nbsp;[ENABLE&nbsp;|&nbsp;DISABLE]&nbsp;&nbsp;</p> <p>　　&nbsp;[DO&nbsp;sql_statement]</p> </td>
     </tr>
    </tbody>
   </table>
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.3.2.&nbsp;举例</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;暂时关闭事件：ALTER&nbsp;EVENT&nbsp;e_test&nbsp;DISABLE&nbsp;|&nbsp;OFF</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;开启事件：ALTER&nbsp;EVENT&nbsp;e_test&nbsp;ENABLE&nbsp;|&nbsp;ON</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">3)&nbsp;将每天清空aaa表改为5天清空一次：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>ALTER&nbsp;EVENT&nbsp;e_test</p> <p>ON&nbsp;SCHEDULE&nbsp;EVERY&nbsp;5&nbsp;DAY;</p> </td>
     </tr>
    </tbody>
   </table>
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">5.4.&nbsp;删除事件<span style="line-height:1.8;font-family:Cambria;">(DROP&nbsp;EVENT)</span> </h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.4.1.&nbsp;语法</h4> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>DROP&nbsp;EVENT&nbsp;[IF&nbsp;EXISTS]&nbsp;event_name</p> </td>
     </tr>
    </tbody>
   </table>
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">5.4.2.&nbsp;注意事项</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">1)&nbsp;删除事件的前提是事件必须存在。否则会产生ERROR&nbsp;1513(HY000):Unknown&nbsp;event错误，因此最好加上IF&nbsp;EXISTS</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">2)&nbsp;删除事件时假设事件状态为DISABLE，则当又一次启动mysql服务后，该事件将被删除</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">6.&nbsp;Mysql&nbsp;Prepare</h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">当用变量做表名时，简单的用<span style="line-height:1.8;font-family:Verdana;">set</span><span style="line-height:1.8;font-family:'宋体';">或者</span><span style="line-height:1.8;font-family:Verdana;">declare</span><span style="line-height:1.8;font-family:'宋体';">语句定义变量。然后直接作为</span><span style="line-height:1.8;font-family:Verdana;">sql</span><span style="line-height:1.8;font-family:'宋体';">的表名是不行的。</span><span style="line-height:1.8;font-family:Verdana;">mysql</span><span style="line-height:1.8;font-family:'宋体';">会把变量名当作表名。在其它的</span><span style="line-height:1.8;font-family:Verdana;">sql</span><span style="line-height:1.8;font-family:'宋体';">数据库中也是如此</span>。mssql使用例如以下的语句解决：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p>PREPARE&nbsp;stmt_name&nbsp;FROM&nbsp;preparable_stmt;&nbsp;<br> EXECUTE&nbsp;stmt_name&nbsp;[USING&nbsp;@var_name&nbsp;[,&nbsp;@var_name]&nbsp;...];&nbsp;<br> {DEALLOCATE&nbsp;|&nbsp;DROP}&nbsp;PREPARE&nbsp;stmt_name;</p> </td>
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">注：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">A.&nbsp;PREPARE&nbsp;stmt_name&nbsp;FROM&nbsp;preparable_stmt;<span style="line-height:1.8;font-family:'宋体';">提前定义一个语句，并将它赋给</span><span style="line-height:1.8;font-family:Verdana;">stmt_name</span><span style="line-height:1.8;font-family:'宋体';">。</span><span style="line-height:1.8;font-family:Verdana;">tmt_name</span><span style="line-height:1.8;font-family:'宋体';">是不区分大写和小写的。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">B.&nbsp;即使<span style="line-height:1.8;font-family:Verdana;">preparable_stmt</span><span style="line-height:1.8;font-family:'宋体';">语句中的</span><span style="line-height:1.8;font-family:Verdana;">?</span><span style="line-height:1.8;font-family:'宋体';">所代表的是一个字符串，你也不须要将</span><span style="line-height:1.8;font-family:Verdana;">?</span><span style="line-height:1.8;font-family:'宋体';">用引號包括起来。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">C.&nbsp;假设新的&nbsp;<span style="line-height:1.8;font-family:Verdana;">PREPARE&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">语句使用了一个已存在的</span><span style="line-height:1.8;font-family:Verdana;">stmt_name</span><span style="line-height:1.8;font-family:'宋体';">，那么原有的将被马上释放！</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">即使这个新的&nbsp;<span style="line-height:1.8;font-family:Verdana;">PREPARE&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">语句由于错误而不能被正确运行。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">D.&nbsp;PREPARE&nbsp;stmt_name<span style="line-height:1.8;font-family:'宋体';">的作用域是当前client连接会话可见。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">E.&nbsp;要释放一个提前定义语句的资源，能够使用&nbsp;<span style="line-height:1.8;font-family:Verdana;">DEALLOCATE&nbsp;PREPARE&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">句法。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">F.&nbsp;EXECUTE&nbsp;stmt_name<span style="line-height:1.8;font-family:'宋体';">句法中。假设</span><span style="line-height:1.8;font-family:Verdana;">stmt_name</span><span style="line-height:1.8;font-family:'宋体';">不存在，将会引发一个错误。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">G.&nbsp;假设在终止client连接会话时，没有显式地调用&nbsp;<span style="line-height:1.8;font-family:Verdana;">DEALLOCATE&nbsp;PREPARE&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">句法释放资源，server端会自己动释放它。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">H.&nbsp;在提前定义语句中，<span style="line-height:1.8;font-family:Verdana;">CREATE&nbsp;TABLE,&nbsp;DELETE,&nbsp;DO,&nbsp;INSERT,&nbsp;REPLACE,&nbsp;SELECT,&nbsp;SET,&nbsp;UPDATE,&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">和大部分的&nbsp;</span><span style="line-height:1.8;font-family:Verdana;">SHOW&nbsp;</span><span style="line-height:1.8;font-family:'宋体';">句法被支持。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">I.&nbsp;PREPARE&nbsp;<span style="line-height:1.8;font-family:'宋体';">语句不能够用于自己定义函数</span>。</p> 
   <h1 style="line-height:1.5;font-size:28px;font-family:verdana, Arial, Helvetica, sans-serif;">&nbsp;触发器</h1> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h2 style="border-bottom:1px solid rgb(221,221,221);font-size:21px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/findumars/archive/2013/05/22/3092036.html" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">MySQL 触发器样例（两张表同步添加和删除）</a></h2> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"> <span style="line-height:1.8;color:rgb(255,0,0);"><strong>样例1：</strong></span><span style="line-height:1.8;color:rgb(255,0,0);"><strong>创建两个表。目的是在一个表里加入一条记录，还有一个表也加入一条记录：</strong></span> </h3> 
    <h4 style="color:rgb(0,0,0);"><span style="line-height:1.8;color:rgb(255,0,0);"><strong>a.sql的内容</strong></span></h4> 
    <p></p> create database my_frist_db;
    <br> use my_frist_db;
    <br> DROP TABLE IF EXISTS tab1;
    <br> CREATE TABLE tab1(
    <br> tab1_id varchar(11)
    <br> );
    <br>
    <br> DROP TABLE IF EXISTS tab2;
    <br> CREATE TABLE tab2(
    <br> tab2_id varchar(11)
    <br> );
    <br> delimiter ||
    <br> DROP TRIGGER IF EXISTS t_afterinsert_on_tab1 ||
    <br> CREATE TRIGGER t_afterinsert_on_tab1
    <br> AFTER INSERT ON tab1
    <br> FOR EACH ROW
    <br> BEGIN
    <br> insert into tab2(tab2_id) values(new.tab1_id);
    <br> END||
    <br> delimiter ;&nbsp;
    <br> INSERT INTO tab1(tab1_id) values('0001');
    <br>
    <br>
    <h4 style="color:rgb(0,0,0);">运行结果</h4> 
    <span style="line-height:1.8;color:rgb(255,0,0);"><strong>a@ubuntu:~/db$ mysql -h localhost -u root -p</strong></span>
    <br> Enter password:&nbsp;
    <br> Welcome to the MySQL monitor.&nbsp; Commands end with ; or \g.
    <br> Your MySQL connection id is 50
    <br> Server version: 5.5.43-0ubuntu0.14.04.1 (Ubuntu)
    <br>
    <br> Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.
    <br>
    <br> Oracle is a registered trademark of Oracle Corporation and/or its
    <br> affiliates. Other names may be trademarks of their respective
    <br> owners.
    <br>
    <br> Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.
    <br>
    <br>
    <span style="line-height:1.8;color:rgb(255,0,0);"><strong>mysql&gt; source a.sql</strong></span>
    <br> Query OK, 1 row affected (0.00 sec)
    <br>
    <br> Database changed
    <br> Query OK, 0 rows affected, 1 warning (0.00 sec)
    <br>
    <br> Query OK, 0 rows affected (0.14 sec)
    <br>
    <br> Query OK, 0 rows affected, 1 warning (0.00 sec)
    <br>
    <br> Query OK, 0 rows affected (0.02 sec)
    <br>
    <br> Query OK, 0 rows affected, 1 warning (0.00 sec)
    <br>
    <br> Query OK, 0 rows affected (0.04 sec)
    <br>
    <br> Query OK, 1 row affected (0.17 sec)
    <br>
    <br>
    <strong><span style="line-height:1.8;color:rgb(255,0,0);">mysql&gt; show databases;</span></strong>
    <br> +--------------------+
    <br> | Database&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
    <br> +--------------------+
    <br> | information_schema |
    <br> | my_frist_db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
    <br> | mysql&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
    <br> | performance_schema |
    <br> +--------------------+
    <br> 4 rows in set (0.02 sec)
    <br>
    <br>
    <strong><span style="line-height:1.8;color:rgb(255,0,0);">mysql&gt; use my_frist_db</span></strong>
    <br> Database changed
    <br>
    <strong><span style="line-height:1.8;color:rgb(255,0,0);">mysql&gt; show tables;</span></strong>
    <br> +-----------------------+
    <br> | Tables_in_my_frist_db |
    <br> +-----------------------+
    <br> | tab1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
    <br> | tab2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |
    <br> +-----------------------+
    <br> 2 rows in set (0.03 sec)
    <br>
    <strong><span style="line-height:1.8;color:rgb(255,0,0);"><br> mysql&gt; select * from tab1;</span></strong>
    <br> +---------+
    <br> | tab1_id |
    <br> +---------+
    <br> | 0001&nbsp;&nbsp;&nbsp; |
    <br> +---------+
    <br> 1 row in set (0.02 sec)
    <br>
    <br>
    <strong><span style="line-height:1.8;color:rgb(255,0,0);">mysql&gt; select * from tab2;</span></strong>
    <br> +---------+
    <br> | tab2_id |
    <br> +---------+
    <br> | 0001&nbsp;&nbsp;&nbsp; |
    <br> +---------+
    <br> 1 row in set (0.00 sec)
    <br>
    <br>
    <strong><span style="line-height:1.8;color:rgb(255,0,0);">mysql&gt; SHOW TRIGGERS\G;</span></strong>
    <br> *************************** 1. row ***************************
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Trigger: t_afterinsert_on_tab1
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event: INSERT
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Table: tab1
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Statement: BEGIN
    <br> insert into tab2(tab2_id) values(new.tab1_id);
    <br> END
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timing: AFTER
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Created: NULL
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sql_mode:&nbsp;
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Definer: root@localhost
    <br> character_set_client: utf8
    <br> collation_connection: utf8_general_ci
    <br> &nbsp; Database Collation: latin1_swedish_ci
    <br> 1 row in set (0.20 sec)
    <br>
    <br> ERROR:&nbsp;
    <br> No query specified
    <br>
    <br> mysql&gt;&nbsp;
    <br>
    <br>
    <br>
    <p></p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;"> <span style="line-height:1.8;color:rgb(255,0,0);"><strong>样例2：</strong></span><span style="line-height:1.8;color:rgb(255,0,0);"><strong>创建两个表。目的是在一个表里删除一条记录，还有一个表也删除一条记录：</strong></span> </h3> 
    <h4 style="color:rgb(0,0,0);">trig.sql的内容</h4> 
    <p></p> delimiter ||
    <br> DROP TRIGGER IF EXISTS t_afterdelete_on_tab1||
    <br> CREATE TRIGGER t_afterdelete_on_tab1
    <br> AFTER DELETE ON tab1
    <br> FOR EACH ROW
    <br> BEGIN
    <br> delete from tab2 where tab2_id=old.tab1_id;
    <br> END||
    <br> DELETE FROM tab1 WHERE tab1_id='0001';
    <br> SELECT * FROM tab1;
    <br> SELECT * FROM tab2; 
    <p></p> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">运行结果</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;color:rgb(255,0,0);">&nbsp;mysql&gt; source trig.sql</span></strong><br> Query OK, 0 rows affected, 1 warning (0.00 sec)<br><br> Query OK, 0 rows affected (0.04 sec)<br><br> Query OK, 1 row affected (0.16 sec)<br><br> Empty set (0.16 sec)<br><br> Empty set (0.16 sec)<br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">样例3 udate触发器，一个表改动了同一时候改动另外一个表</h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">trig.sql内容</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">CREATE DATABASE my_frist_db;<br> USE my_frist_db;<br> DROP TABLE IF EXISTS tab1;<br> CREATE TABLE tab1(<br> tab_id varchar(11),<br> provinceNameCn varchar(24)&nbsp;<br> );<br><br> DROP TABLE IF EXISTS tab2;<br> CREATE TABLE tab2(<br> tab_id varchar(11),<br> provinceNameCn varchar(24)&nbsp;<br> );<br><br> delimiter ||<br> DROP TRIGGER IF EXISTS t_afterinsert_on_tab1 ||<br> CREATE TRIGGER t_afterinsert_on_tab1<br> AFTER INSERT ON tab1<br> FOR EACH ROW<br> BEGIN<br> insert into tab2(tab_id,provinceNameCn) values(new.tab_id,new.provinceNameCn);<br> END||<br> delimiter ;&nbsp;<br><br> delimiter ||<br> DROP TRIGGER IF EXISTS t_afterdelete_on_tab1||<br> CREATE TRIGGER t_afterdelete_on_tab1<br> AFTER DELETE ON tab1<br> FOR EACH ROW<br> BEGIN<br> delete from tab2 where tab_id=old.tab_id;<br> END||<br> delimiter ;&nbsp;<br><br><br> delimiter ||<br> DROP TRIGGER IF EXISTS t_afterupdate_on_tab1||<br> CREATE TRIGGER t_afterupdate_on_tab1<br> AFTER UPDATE ON tab1<br> FOR EACH ROW<br> BEGIN<br> &nbsp;&nbsp; &nbsp;update tab2 set provinceNameCn=new.provinceNameCn where tab_id=new.tab_id;&nbsp; &nbsp;<br> &nbsp;&nbsp; &nbsp;#DELETE FROM tab2 WHERE tab_id='00';<br> &nbsp;&nbsp; &nbsp;#INSERT INTO tab2(tab_id,provinceNameCn) values(new.tab_id,new.provinceNameCn);<br> END||<br> delimiter ;&nbsp;<br><br><br> INSERT INTO tab1(tab_id,provinceNameCn) VALUES('0001','aaa');<br> INSERT INTO tab1(tab_id,provinceNameCn) VALUES('0002','aab');<br> INSERT INTO tab1(tab_id,provinceNameCn) VALUES('0003','aac');<br> SELECT * FROM tab1;<br> SELECT * FROM tab2;<br> UPDATE tab1 SET provinceNameCn='999' WHERE tab_id='0002';<br> SELECT * FROM tab1;<br> SELECT * FROM tab2;<br> DELETE FROM tab1 WHERE tab_id='0001';<br> SELECT * FROM tab1;<br> SELECT * FROM tab2;</p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;">运行结果</h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; source trig.sql<br> ERROR 1007 (HY000): Can't create database 'my_frist_db'; database exists<br> Database changed<br> Query OK, 0 rows affected (0.00 sec)<br><br> Query OK, 0 rows affected (0.04 sec)<br><br> Query OK, 0 rows affected (0.02 sec)<br><br> Query OK, 0 rows affected (0.00 sec)<br><br> Query OK, 0 rows affected, 1 warning (0.00 sec)<br><br> Query OK, 0 rows affected (0.00 sec)<br><br> Query OK, 0 rows affected, 1 warning (0.00 sec)<br><br> Query OK, 0 rows affected (0.00 sec)<br><br> Query OK, 0 rows affected, 1 warning (0.01 sec)<br><br> Query OK, 0 rows affected (0.00 sec)<br><br> Query OK, 1 row affected (0.05 sec)<br><br> Query OK, 1 row affected (0.00 sec)<br><br> Query OK, 1 row affected (0.00 sec)<br><br> +--------+----------------+<br> | tab_id | provinceNameCn |<br> +--------+----------------+<br> | 0001&nbsp;&nbsp; | aaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0002&nbsp;&nbsp; | aab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0003&nbsp;&nbsp; | aac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------+----------------+<br> 3 rows in set (0.00 sec)<br><br> +--------+----------------+<br> | tab_id | provinceNameCn |<br> +--------+----------------+<br> | 0001&nbsp;&nbsp; | aaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0002&nbsp;&nbsp; | aab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0003&nbsp;&nbsp; | aac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------+----------------+<br> 3 rows in set (0.00 sec)<br><br> Query OK, 1 row affected (0.10 sec)<br> Rows matched: 1&nbsp; Changed: 1&nbsp; Warnings: 0<br><br> +--------+----------------+<br> | tab_id | provinceNameCn |<br> +--------+----------------+<br> | 0001&nbsp;&nbsp; | aaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0002&nbsp;&nbsp; | 999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0003&nbsp;&nbsp; | aac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------+----------------+<br> 3 rows in set (0.00 sec)<br><br> +--------+----------------+<br> | tab_id | provinceNameCn |<br> +--------+----------------+<br> | 0001&nbsp;&nbsp; | aaa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0002&nbsp;&nbsp; | 999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0003&nbsp;&nbsp; | aac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------+----------------+<br> 3 rows in set (0.00 sec)<br><br> Query OK, 1 row affected (0.01 sec)<br><br> +--------+----------------+<br> | tab_id | provinceNameCn |<br> +--------+----------------+<br> | 0002&nbsp;&nbsp; | 999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0003&nbsp;&nbsp; | aac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------+----------------+<br> 2 rows in set (0.00 sec)<br><br> +--------+----------------+<br> | tab_id | provinceNameCn |<br> +--------+----------------+<br> | 0002&nbsp;&nbsp; | 999&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> | 0003&nbsp;&nbsp; | aac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br> +--------+----------------+<br> 2 rows in set (0.00 sec)<br><br><br></p> 
   <h2 style="border-bottom:1px solid rgb(221,221,221);font-size:21px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><a class="postTitle2" href="http://www.cnblogs.com/findumars/archive/2013/05/22/3092049.html" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">MySQL 触发器样例（下订单自己主动降低库存）</a></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">下订单自己主动降低库存，更改订单的时候纠正库存，恶意订单时纠正数量</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">现有例如以下两张表<br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">1）商品表（库存表）</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　编号(id)名称(name)价格(price)库存(stock)<br> 1 F16战斗机 10000 100<br> 2 法拉利 800 70<br> 3 航空母舰 5000 20<br> 4 三栖交通工具 1000 50</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">DROP TABLE IF EXISTS shop;<br> CREATE TABLE shop(<br> id int(11),<br> name varchar(11),<br> price int(11),<br> stock int(11)<br> );</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">INSERT INTO shop(id,name,price,stock) values(1,'F16战斗机', 10000, 10);<br> INSERT INTO shop(id,name,price,stock) values(2,'法拉利', 800, 100);<br> INSERT INTO shop(id,name,price,stock) values(3,'航空母舰',5000, 11);<br> INSERT INTO shop(id,name,price,stock) values(4,'三栖交通工具', 1000, 30);</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">2）订单表</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　编号(id)商品编号(tid)购买数量(num)<br> DROP TABLE IF EXISTS commande;<br> CREATE TABLE commande(<br> tid int(11),<br> num int(11)<br> );</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　我们如今要买5架F16战斗机，下一个订单，须要做什么?</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　传统的做法：<br> insert into commande(tid,num) values(1,5);<br> update shop set stock = stock-5 where id = 1;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　新的方式：<br> 我们能够使用触发器,一触即发!!</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">触发器四要素：</h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　地点：(表,table)，<br> 监视的事件：(insert,delete,update)<br> 时间：(before/after)<br> 触发的事件：(insert,delete,update)</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">需求：如今我们要购买10辆法拉利, 商品表里的触发器应该 这样写：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　#商品表的触发器<br> delimiter ||<br> DROP TRIGGER IF EXISTS tg1_insert_shop ||<br> create trigger tg1_insert_shop<br> after -- 事件触发在 下订单之后<br> insert -- 监视插入事件<br> on commande -- 监视 order订单表<br> for each row<br> begin<br> update shop set stock=stock-new.num where id= new.tid; -- 注意这里是 old.id=new.tid<br> end ||<br> delimiter ;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">运行在commande表的操作：<br> insert into commande(tid,num) values(2,10);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">需求：先购买了10个辆法拉利，然后要把数量更改为5。写出触发器;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　#商品表的触发器<br> delimiter ||<br> DROP TRIGGER IF EXISTS tg1_update_shop ||<br> create trigger tg1_update_shop<br> after<br> update<br> on commande<br> for each row<br> begin<br> update shop set stock = stock + old.num - new.num where id = new.tid; -- 监视更新，既不漏掉旧的，也不漏掉新的，计算差额<br> end ||<br> delimiter ;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">測试：<br> update commande set num=8 where tid=2;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 需求：若订单数量超过10的话。就觉得是恶意订单，仅仅让其购买10个。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> Before：在监视事件发生之前触发的，触发事件要早于监视事件。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　#商品表的触发器<br> delimiter $<br> create trigger tg_update_before<br> before<br> insert<br> on commande<br> for each row<br> begin<br> if new.num &gt; 10 then<br> set new.num = 10;<br> end if;<br> update shop set stock = stock - new.num where id = new.tid;<br> end $</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">測试：<br> insert into commande(tid,num) values(2,22);</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">MySQL 触发器insert 演示样例一</h2> 
   <pre>
</pre> 
   <ol>
    <li class="alt" style="list-style:decimal;"> <span style="line-height:1.8;"><span style="line-height:1.8;">view&nbsp;sourceprint? </span></span><p></p> <p>01&nbsp;delimiter&nbsp;//&nbsp; &nbsp;</p> </li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">create&nbsp;trigger&nbsp;InsertUser&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">before&nbsp;insert&nbsp;on&nbsp;user&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">for&nbsp;each&nbsp;row&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">Begin&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">insert&nbsp;into&nbsp;user_group(uid,gid)&nbsp;values(new.uid,'group4444444444');&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">end;//&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">delimiter&nbsp;;&nbsp; &nbsp;</span></li> 
   </ol>
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">MySQL 触发器insert 演示样例二</h2> 
   <pre>
</pre> 
   <ol>
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;"><span style="line-height:1.8;">delimiter&nbsp;//&nbsp; &nbsp;</span></span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">create&nbsp;trigger&nbsp;InsertUser&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">before&nbsp;insert&nbsp;on&nbsp;user&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">for&nbsp;each&nbsp;row&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">Begin&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"> <span style="line-height:1.8;">IF&nbsp;</span><span class="attribute" style="line-height:1.8;">new.Type</span><span style="line-height:1.8;">=</span><span class="attribute-value" style="line-height:1.8;">2</span><span style="line-height:1.8;">&nbsp;then&nbsp; &nbsp;</span> </li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">insert&nbsp;into&nbsp;user_group(uid,gid)&nbsp;values(new.uid,'group4444444444');&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">else&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">insert&nbsp;into&nbsp;user_group(uid,gid)&nbsp;values(new.uid,'group55555555555')&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">END&nbsp;IF;&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">end;//&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">delimiter&nbsp;;&nbsp; &nbsp;</span></li> 
   </ol>
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;">MySQL 触发器insert 演示样例三：</h3> 
   <pre>
</pre> 
   <ol>
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;"><span style="line-height:1.8;">delimiter&nbsp;//&nbsp; &nbsp;</span></span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">create&nbsp;trigger&nbsp;InsertUser&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">before&nbsp;insert&nbsp;on&nbsp;user&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">for&nbsp;each&nbsp;row&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">Begin&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"> <span style="line-height:1.8;">IF&nbsp;</span><span class="attribute" style="line-height:1.8;">new.type</span><span style="line-height:1.8;">=</span><span class="attribute-value" style="line-height:1.8;">1</span><span style="line-height:1.8;">&nbsp;then&nbsp; &nbsp;</span> </li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">insert&nbsp;into&nbsp;user_group(uid,gid)&nbsp;values(new.uid,'578d3369633b47bd9c1fe8bf905cbfb1');&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">END&nbsp;IF;&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"> <span style="line-height:1.8;">IF&nbsp;</span><span class="attribute" style="line-height:1.8;">new.type</span><span style="line-height:1.8;">=</span><span class="attribute-value" style="line-height:1.8;">2</span><span style="line-height:1.8;">&nbsp;then&nbsp; &nbsp;</span> </li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">insert&nbsp;into&nbsp;user_group(uid,gid)&nbsp;values(new.uid,'387bcd57fc5a4c3c9de83ee210fef661');&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">END&nbsp;IF;&nbsp; &nbsp;</span></li> 
    <li style="list-style:decimal;"><span style="line-height:1.8;">end;//&nbsp; &nbsp;</span></li> 
    <li class="alt" style="list-style:decimal;"><span style="line-height:1.8;">delimiter&nbsp;;&nbsp; &nbsp; </span></li> 
   </ol>
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;"><span class="ask-title" style="line-height:1.8;">mysql的 insert触发器。怎样更改插入后的值</span></h2> 
   <div class="wgt-quality mod-shadow" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br>
    <div class="quality-content"> 
     <div class="quality-content-detail">
      CREATE TRIGGER t_afterinsert_on_tab1
      <br> AFTER INSERT ON tab1
      <br> FOR EACH ROW
      <br> BEGIN
      <br> if new.tab1_id is not null then
      <br> update tab1 set aa='bb' where id=new.tab1_id&nbsp;
      <br> end if;
      <br> END;
     </div> 
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h2 style="line-height:1.5;font-size:21px;font-family:verdana, Arial, Helvetica, sans-serif;">触发器背景知识<br></h2> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    触发器是由事件来触发某个操作。这些事件包含INSERT语句。UPDATE语句和DELETE语句
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><strong>创建触发器</strong></h3> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;"><strong>创建仅仅有一个运行语句的触发器</strong></h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <div class="codetitle" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <span style="line-height:1.8;"></span>&nbsp;代码例如以下:
   </div> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> CREATE TRIGGER 触发器名 BEFORE|AFTER 触发事件
    <br> ON 表名 FOR EACH ROW 运行语句
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">当中，触发器名參数指要创建的触发器的名字</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">BEFORE和AFTER參数指定了触发运行的时间。在事件之前或是之后</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">FOR EACH ROW表示不论什么一条记录上的操作满足触发事件都会触发该触发器<span style="line-height:1.8;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;"></span>代码例如以下:</p> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> mysql&gt; CREATE TRIGGER trig1 AFTER INSERT
    <br> &nbsp;&nbsp;&nbsp; -&gt; ON work FOR EACH ROW
    <br> &nbsp;&nbsp;&nbsp; -&gt; INSERT INTO time VALUES(NOW());
    <br> Query OK, 0 rows affected (0.09 sec)
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">上面创建了一个名为trig1的触发器。一旦在work中有插入动作。就会自己主动往time表里插入当前时间</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;"><strong>创建有多个运行语句的触发器</strong></h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <div class="codetitle" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <span style="line-height:1.8;"></span>&nbsp;代码例如以下:
   </div> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> CREATE TRIGGER 触发器名 BEFORE|AFTER 触发事件
    <br> ON 表名 FOR EACH ROW
    <br> BEGIN
    <br> &nbsp;&nbsp;&nbsp; 运行语句列表
    <br> END
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">当中。BEGIN与END之间的运行语句列表參数表示须要运行的多个语句，不同语句用分号隔开</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">tips：普通情况下，mysql默认是以 ; 作为结束运行语句，与触发器中须要的分行起冲突</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　&nbsp;&nbsp; 为解决此问题可用DELIMITER，如：DELIMITER ||，能够将结束符号变成||</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　&nbsp;&nbsp; 当触发器创建完毕后，能够用DELIMITER ;来将结束符号变成;<br></p> 
   <div class="codetitle" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <span style="line-height:1.8;"></span>代码例如以下:
   </div> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> mysql&gt; DELIMITER ||
    <br> mysql&gt; CREATE TRIGGER trig2 BEFORE DELETE
    <br> &nbsp;&nbsp;&nbsp; -&gt; ON work FOR EACH ROW
    <br> &nbsp;&nbsp;&nbsp; -&gt; BEGIN
    <br> &nbsp;&nbsp;&nbsp; -&gt; INSERT INTO time VALUES(NOW());
    <br> &nbsp;&nbsp;&nbsp; -&gt; INSERT INTO time VALUES(NOW());
    <br> &nbsp;&nbsp;&nbsp; -&gt; END
    <br> &nbsp;&nbsp;&nbsp; -&gt; ||
    <br> Query OK, 0 rows affected (0.06 sec) 
    <p>mysql&gt; DELIMITER ;<br></p> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">上面的语句中。开头将结束符号定义为||，中间定义一个触发器，一旦有满足条件的删除操作</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">就会运行BEGIN和END中的语句。接着使用||结束</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">最后使用DELIMITER ; 将结束符号还原</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><strong>查看触发器</strong></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;"><strong>SHOW TRIGGERS语句查看触发器信息<br></strong></h4> 
   <div class="codetitle" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <span style="line-height:1.8;"></span>代码例如以下:
   </div> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> mysql&gt; SHOW TRIGGERS\G;
    <br> *************************** 1. row ***************************
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Trigger: trig1
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Event: INSERT
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Table: work
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Statement: INSERT INTO time VALUES(NOW())
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timing: AFTER
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Created: NULL
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sql_mode:&nbsp;
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Definer: root@localhost
    <br> character_set_client: utf8
    <br> collation_connection: utf8_general_ci
    <br> &nbsp; Database Collation: latin1_swedish_ci
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">结果会显示全部触发器的基本信息</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;color:rgb(255,0,0);">tips：SHOW TRIGGERS语句无法查询指定的触发器</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <h4 style="font-size:14px;font-family:verdana, Arial, Helvetica, sans-serif;"> <strong>在triggers表中查看触发器信息</strong><span style="line-height:1.8;"></span> </h4> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;"></span>代码例如以下:</p> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> mysql&gt; SELECT * FROM information_schema.triggers\G
    <br> *************************** 1. row ***************************
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRIGGER_CATALOG: def
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRIGGER_SCHEMA: person
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRIGGER_NAME: trig1
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_MANIPULATION: INSERT
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_OBJECT_CATALOG: def
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_OBJECT_SCHEMA: person
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_OBJECT_TABLE: work
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ACTION_ORDER: 0
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ACTION_CONDITION: NULL
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ACTION_STATEMENT: INSERT INTO time VALUES(NOW())
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">结果显示了全部触发器的具体信息，同一时候，该方法能够查询制定触发器的具体信息</span>
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <div class="codetitle" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <span style="line-height:1.8;"></span>代码例如以下:
   </div> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> mysql&gt; SELECT * FROM information_schema.triggers WHERE TRIGGER_NAME='trig1'\G
    <br> *************************** 1. row ***************************
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRIGGER_CATALOG: def
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRIGGER_SCHEMA: person
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TRIGGER_NAME: trig1
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_MANIPULATION: INSERT
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_OBJECT_CATALOG: def
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_OBJECT_SCHEMA: person
    <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EVENT_OBJECT_TABLE: work
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <strong style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">tips：</strong>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">全部触发器信息都存储在information_schema数据库下的triggers表中</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　&nbsp;&nbsp; 能够使用SELECT语句查询，假设触发器信息过多。最好通过TRIGGER_NAME字段指定查询</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:verdana, Arial, Helvetica, sans-serif;"><strong>删除触发器</strong></h3> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <div class="codetitle" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <span style="line-height:1.8;"></span>代码例如以下:
   </div> 
   <div class="codebody" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <br> mysql&gt; DROP TRIGGER trig1;
    <br> Query OK, 0 rows affected (0.04 sec)
    <br>
   </div> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">删除触发器之后最好使用上面的方法查看一遍</span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">同一时候，也能够使用database.trig来指定某个数据库中的触发器</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>tips：</strong>假设不须要某个触发器时一定要将这个触发器删除。以免造成意外操作</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p><font color="#333333"><span style="font-size:14px;"><br></span></font></p> 
   <p><font color="#333333"><span style="font-size:14px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/5101980.html，如需转载请自行联系原作者</span></font></p> 
   <div>
    <br>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
