<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C#由变量捕获引起对闭包的思考 « NotBeCN</title>
  <meta name="description" content="             前言    偶尔翻翻书籍看看原理性的东西确实有点枯燥，之前有看到园中有位园友说到3-6年工作经验的人应该了解的.NET知识，其中就有一点是关于C#中的闭包，其实早之前在看书时（之前根本不知道C#中还有闭包这一说）看到对于闭包的内容篇幅很少而且介绍的例子一看就懂（最终也就是有个印象而已），...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/15/weixin_33817333_90121408.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">C#由变量捕获引起对闭包的思考</h1>
    <p class="post-meta">Nov 15, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="font-size:28px;line-height:1.5;font-family:'Helvetica Neue', Arial;">前言</h1> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">偶尔翻翻书籍看看原理性的东西确实有点枯燥，之前有看到园中有位园友说到3-6年工作经验的人应该了解的.NET知识，其中就有一点是关于C#中的闭包，其实早之前在看书时（之前根本不知道C#中还有闭包这一说）看到对于闭包的内容篇幅很少而且介绍的例子一看就懂（最终也就是有个印象而已），反正工作又用不到来让你去实现闭包，于是乎自己心存侥幸心理，这两天心血来潮再次翻了翻书想仔细研究一番（或许是出于内心的惶恐吧，工作几年竟然不知道闭包，就算知道而且仅止于了解，你是在自欺欺人么），紧接着就查了下资料来研究研究这个东西，若有错误之处，请指出。</p> 
   <h2 style="color:rgb(255,255,255);line-height:1.5;font-size:21px;font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(111,168,51);">话题</h2> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">首先来我们来看看委托的演变进化史，有人问了，本节的主题不是【C#由变量捕获引起对闭包的思考】？哦，看的还仔细，是的，咱能别着急么，又有人问了，你之前不是写过有关委托的详细介绍么，哦，看来还是我的粉丝知道的还挺多，但是这个介绍侧重点不同啦，废话少来，进入主题才是真理。</p> 
   <h3 style="color:rgb(111,168,51);font-size:16px;line-height:1.5;border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Helvetica Neue', Arial;">C#1.0之delegate</h3> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">我们今天知道过来一个列表可以通过lamda如where或者predicate来实现，而在C#1.0中我们必须来写一个方法来实现predicate的逻辑，紧接着创建委托实例是通过指定的方法名来创建。我们来创建一个帮助类（ListUtil），如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
    <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 操作list帮助类
    </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> ListUtil
    {
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 创建一个predicate
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> IList&lt;T&gt; Filter&lt;T&gt;(IList&lt;T&gt; source, Predicate&lt;T&gt;<span style="line-height:1.5;"> predicate)
        {
            List</span>&lt;T&gt; ret = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> List&lt;T&gt;<span style="line-height:1.5;">();
            </span><span style="color:rgb(0,0,255);line-height:1.5;">foreach</span> (T item <span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> source)
            {
                </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> (predicate(item))
                {
                    ret.Add(item);
                }
            }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> ret;
        }

        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;">遍历列表并在控制台上进行打印
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span> Dump&lt;T&gt;(IList&lt;T&gt;<span style="line-height:1.5;"> list)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">foreach</span> (T item <span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> list)
            {
                Console.WriteLine(item);
            }
            Console.ReadKey();
        }
    }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">同时给出一个测试数据：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> SampleData
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">readonly</span> IList&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; Words =
            <span style="color:rgb(0,0,255);line-height:1.5;">new</span> List&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; { <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">the</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">quick</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">brown</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">fox</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">jumped</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">,
             </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">over</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">the</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">lazy</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">dog</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> }.AsReadOnly();    
    }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">现在我们要做的是返回其长度小等于4的字符串并打印，给出长度小于4的方法：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>        <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> MatchFourLettersOrFewer(<span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> item)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> item.Length &lt;= <span style="color:rgb(128,0,128);line-height:1.5;">4</span><span style="line-height:1.5;">;
        }</span></pre>
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">下面我们在控制台调用上述方法来进行过滤：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  Predicate&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; predicate = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> Predicate&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt;<span style="line-height:1.5;">(MatchFourLettersOrFewer);
            IList</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; shortWords =<span style="line-height:1.5;"> ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);</span></pre>
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">结果打印如下：</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><a class="image-link" title="点击放大查看" href="http://images2015.cnblogs.com/blog/589642/201606/589642-20160610160755277-1836225395.png" rel="nofollow" style="text-decoration:none;color:rgb(45,161,45);"><img src="https://images2015.cnblogs.com/blog/589642/201606/589642-20160610160755277-1836225395.png" alt="" style="border:0px;"></a></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">上述一切都是so easy!当我们利用委托来实现时只是简单的进行一次调用不会多次用到，为了精简代码，此时匿名方法出现在C# 2.0.</p> 
   <h3 style="color:rgb(111,168,51);font-size:16px;line-height:1.5;border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Helvetica Neue', Arial;">C#2.0之delegate&nbsp;</h3> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">上述在控制台进行调用方法我们稍作修改即可达到同样效果，如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            Predicate&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; predicate = 
                <span style="color:rgb(0,0,255);line-height:1.5;">delegate</span>(<span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> item) 
                {
                    </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> item.Length &lt;= <span style="color:rgb(128,0,128);line-height:1.5;">4</span><span style="line-height:1.5;">;
                };
            IList</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; shortWords =<span style="line-height:1.5;"> ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">好了，到了这里貌似有点浪费篇幅，到这里我们反观上述代码，对于predicate中过滤数据长度都是硬编码，缺少点什么，我们首先要讲的是闭包，那对于闭包需要的可以基本概括为：闭包是函数与其引用环境组合而成的实体（来源于：你必须知道的.NET）。我们可以将其理解为函数与上下文的综合。我们需要来通过手动输入过滤数据的长度来给出一个上下文。我们给出一个过滤长度的类（VariableLengthMather）：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> VariableLengthMatcher
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> maxLength;

        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 将手动输入的数据进行传递
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="maxLength"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> VariableLengthMatcher(<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> maxLength)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.maxLength =<span style="line-height:1.5;"> maxLength;
        }

        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 类似于匿名方法
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> Match(<span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> item)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> item.Length &lt;=<span style="line-height:1.5;"> maxLength;
        }
    }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">下面我们来进行手动输入调用以此来过滤数据：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            Console.Write(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Maximum length of string to include? </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> maxLength = <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">.Parse(Console.ReadLine());

            VariableLengthMatcher matcher </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> VariableLengthMatcher(maxLength);
            Predicate</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; predicate =<span style="line-height:1.5;"> matcher.Match;
            IList</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; shortWords =<span style="line-height:1.5;"> ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">演示如下：</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><a class="image-link" title="点击放大查看" href="http://images2015.cnblogs.com/blog/589642/201606/589642-20160610162928683-1724990863.gif" rel="nofollow" style="text-decoration:none;color:rgb(45,161,45);"><img src="https://images2015.cnblogs.com/blog/589642/201606/589642-20160610162928683-1724990863.gif" alt="" style="border:0px;"></a></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">接着我们将上述控制台代码进行如下改造：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            Console.Write(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Maximum length of string to include? </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> maxLength = <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">.Parse(Console.ReadLine());
            VariableLengthMatcher matcher </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> VariableLengthMatcher(maxLength);
            Predicate</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; predicate =<span style="line-height:1.5;"> matcher.Match;
            IList</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; shortWords =<span style="line-height:1.5;"> ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);
            Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Now for words with &lt;= 5 letters:</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
           <span style="color:rgb(128,128,0);line-height:1.5;"> maxLength </span></span><span style="color:rgb(128,128,0);line-height:1.5;">= 5;
            shortWords = ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">我们只是将maxLength值改变了下，再次进行打印，演示结果如下：</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><a class="image-link" title="点击放大查看" href="http://images2015.cnblogs.com/blog/589642/201606/589642-20160610163526871-10252455.gif" rel="nofollow" style="text-decoration:none;color:rgb(45,161,45);"><img src="https://images2015.cnblogs.com/blog/589642/201606/589642-20160610163526871-10252455.gif" alt="" style="border:0px;"></a></p> 
   <h3 style="color:rgb(111,168,51);font-size:16px;line-height:1.5;border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Helvetica Neue', Arial;">C#3.0之delegate</h3> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">为了更好的演示代码，我们利用C#3.0中lamda表达式来进行演示，我们继续接着上述来讲，当我们将maxLength修改为5时，此时过滤的数据和4一样，此时我们利用匿名方法或者lamda表达式同样进行如上演示，如下。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            Console.Write(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Maximum length of string to include? </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> maxLength = <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">.Parse(Console.ReadLine());

            Predicate</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; predicate = item =&gt; item.Length &lt;=<span style="line-height:1.5;"> maxLength;
            IList</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt; shortWords =<span style="line-height:1.5;"> ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);

            Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Now for words with &lt;= 5 letters:</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            maxLength </span>= <span style="color:rgb(128,0,128);line-height:1.5;">5</span><span style="line-height:1.5;">;
            shortWords </span>=<span style="line-height:1.5;"> ListUtil.Filter(SampleData.Words, predicate);
            ListUtil.Dump(shortWords);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">看看演示结果：</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><a class="image-link" title="点击放大查看" href="http://images2015.cnblogs.com/blog/589642/201606/589642-20160610170204152-592756506.gif" rel="nofollow" style="text-decoration:none;color:rgb(45,161,45);"><img src="https://images2015.cnblogs.com/blog/589642/201606/589642-20160610170204152-592756506.gif" alt="" style="border:0px;"></a></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">从上述演示结果可以看出此时的maxLength为5，当然打印过滤的结果则不一样，这个时候就得说到第一个话题【变量捕获】。在C# 2.0和3.0中的匿名方法和lambda表达式都能捕获到本地变量。</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(255,0,0);">那么问题来了，什么是变量捕获呢？我们怎么去理解呢？</span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">我们接下来利用lambda表达式再来看一个例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>            <span style="color:rgb(0,0,255);line-height:1.5;">var</span> name = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">cnblogs</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
            Func</span>&lt;String&gt; capture = () =&gt;<span style="line-height:1.5;"> name;
            name </span>= <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">xpy0928</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
            Print(capture);<br></span></pre>
   </div> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>        <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span> Print(Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt;<span style="line-height:1.5;"> capture)
        {
            Console.WriteLine(capture());
            Console.ReadKey();
        }</span></pre>
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">那么打印的结果将会是什么呢？cnblogs？xpy0928？</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><a class="image-link" title="点击放大查看" href="http://images2015.cnblogs.com/blog/589642/201606/589642-20160610170941168-1245447997.png" rel="nofollow" style="text-decoration:none;color:rgb(45,161,45);"><img src="https://images2015.cnblogs.com/blog/589642/201606/589642-20160610170941168-1245447997.png" alt="" style="border:0px;"></a></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">name被捕获，当本地变量发生改变时lambda也同样作出对应的改变（因lambda会延迟执行），所以会输出xpy0928。那么编译器到底做了什么才使得输出xpy0928呢？编译器内部将上述代码进行了大致如下转换。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> Capture
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> name;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> printName()
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.name;
        }
    }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">var</span> capture = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Capture();
    capture.name </span>= <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">cnblogs</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
    capture.name </span>= <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">xpy0928</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;
    Print(capture.printName);</span></pre>
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">到了这里想必我们能够理解了捕获变量的意义lambda始终指向当前对象中的name值即对象中的引用始终存在于lamda中。</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">接下来就要说到闭包，在此之前一直在讨论变量捕获，因为<span style="color:rgb(255,0,0);">闭包产生的源头就是变量捕获</span>。（个人理解，若有错误请指正）。</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(255,0,0);">变量捕获的结果就是编译器将产生一个对象并将该局部变量提升为实例变量从而达到延长局部变量的生命周期，存储到的这个对象叫做所谓的闭包。</span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">上述这句话又是什么意思？我们再来看一个例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            List&lt;Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt;&gt; funcs = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> List&lt;Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt;&gt;<span style="line-height:1.5;">();

            </span><span style="color:rgb(0,0,255);line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);line-height:1.5;">int</span> j = <span style="color:rgb(128,0,128);line-height:1.5;">0</span>; j &lt; <span style="color:rgb(128,0,128);line-height:1.5;">10</span>; j++<span style="line-height:1.5;">)

                funcs.Add(() </span>=&gt;<span style="line-height:1.5;"> j);

            </span><span style="color:rgb(0,0,255);line-height:1.5;">foreach</span> (Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt; func <span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> funcs)

                Console.WriteLine(func());
            Console.ReadKey();</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">有人说上述例子就是闭包，对，是闭包且结果返回10个10，恩完事！不能就这样吧，我们还得解释清楚。我们一句一句来看。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  funcs.Add(() =&gt; j);</pre>
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">()=&gt;j代表什么意思，来我们来看看之前lambda表示式的六部进化曲：</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><img src="https://images2015.cnblogs.com/blog/589642/201606/589642-20160610212018402-1398060881.png" alt="" style="border:0px;"></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">实例化一个匿名委托并返回j值，注意这里说()=&gt;j是返回变量j的当前值而非返回值j。返回的匿名委托为一个匿名类并访问此类中的属性j（为什么说返回的匿名委托为一个匿名类，请看此链接：<a title="jujusharp" href="http://www.cnblogs.com/jujusharp/archive/2011/08/04/C-Sharp-And-Closure.html" rel="nofollow" style="text-decoration:none;color:rgb(45,161,45);">http://www.cnblogs.com/jujusharp/archive/2011/08/04/C-Sharp-And-Closure.html</a>） 。好说完这里，我们再来解释为什么打印10个10？</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);">此时创建的每个匿名委托都捕获了这个变量j，所以每个匿名委托即匿名类保持了对字段j的引用，当for循环完毕时即10时此时字段值全变为10，直到j不被匿名委托所引用，j才会被垃圾回收器回收。</span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">我们再来看看对上述进行修改：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            List&lt;Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt;&gt; funcs = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> List&lt;Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt;&gt;<span style="line-height:1.5;">();

            </span><span style="color:rgb(0,0,255);line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);line-height:1.5;">int</span> j = <span style="color:rgb(128,0,128);line-height:1.5;">0</span>; j &lt; <span style="color:rgb(128,0,128);line-height:1.5;">10</span>; j++<span style="line-height:1.5;">)
            {

                </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> tempJ =<span style="line-height:1.5;"> j;

                funcs.Add(() </span>=&gt;<span style="line-height:1.5;"> tempJ);

            }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">foreach</span> (Func&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt; func <span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> funcs)
                Console.WriteLine(func());
            Console.ReadKey();</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">很明显将输出0-9因为此时创建了一个临时变量tempJ，当每次进行迭代时匿名委托即lambda捕获的是不同的tempJ，所以此时能按照我们预期所输出。</p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">我们再来看一种情况：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>             <span style="color:rgb(0,0,255);line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);line-height:1.5;">int</span> j = <span style="color:rgb(128,0,128);line-height:1.5;">0</span>; j &lt; <span style="color:rgb(128,0,128);line-height:1.5;">10</span>; j++<span style="line-height:1.5;">)
            {
                Func</span>&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt; fun = () =&gt;<span style="line-height:1.5;"> j;
                Console.WriteLine(fun());

            }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(45,161,45);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;">此时还是正常输出0-9，因为此时lambda表达式每次迭代完立即执行，而不像第一个例子直到延迟到循环到10才开始进行所有的lambda执行。</p> 
   <h2 style="color:rgb(255,255,255);line-height:1.5;font-size:21px;font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(111,168,51);">总结&nbsp;</h2> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);">闭包概念：闭包允许你将一些行为封装，将它像一个对象一样传来递去，而且它依然能够访问到原来第一次声明时的上下文。这样可以使控制结构、逻辑操作等从调用细节中分离出来。</span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);">作用：（1）利于代码精简。（2）利于函数编程。（3）代码安全。</span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);"><br></span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);"><br></span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);"><br></span></p> 
   <p style="color:rgb(17,17,17);font-family:'Helvetica Neue', Arial;font-size:13px;line-height:23.4px;"><span style="color:rgb(128,128,0);"><br></span></p> 
   <p><span><font color="#808000"><span style="font-size:13px;line-height:23.4px;">本文转自Jeffcky博客园博客，原文链接：http://www.cnblogs.com/CreateMyself/p/5573643.html，如需转载请自行联系原作者</span></font></span></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
