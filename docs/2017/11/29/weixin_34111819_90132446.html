<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JavaWeb-11 (JSP&EL表达) « NotBeCN</title>
  <meta name="description" content="                  JavaWeb-11 JSP&amp;EL表达式     JSP     四、JSP语法(学好的关键：相应的Servlet)     JavaWeb-10 总结：session技术也是cookie的一种。server给浏览器创建一个篮子，并加上编号，这编号会存储到client上...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/29/weixin_34111819_90132446.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">JavaWeb-11 (JSP&EL表达)</h1>
    <p class="post-meta">Nov 29, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div style="color:rgb(51,51,51);font-size:14px;border:0px;font-family:Helvetica, arial, freesans, clean, sans-serif;line-height:1.6;"> 
    <h1 style="color:rgb(0,0,0);line-height:1.5;font-size:28px;">JavaWeb-11 JSP&amp;EL表达式</h1> 
    <h2 style="color:rgb(0,0,0);line-height:1.5;font-size:21px;">JSP</h2> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">四、JSP语法(学好的关键：相应的Servlet)</h3> 
    <p style="border:0px;">JavaWeb-10 总结：session技术也是cookie的一种。server给浏览器创建一个篮子，并加上编号，这编号会存储到client上，当client再次訪问server时。server会读取client的ID号。假设server找得到，就在篮子中拿出该client的session，若没有就新建一个</p> 
    <p style="border:0px;">重点：URL重写。</p> 
    <p></p> 
    <h4 style="color:rgb(0,0,0);">1、JSP模版元素</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">JSP模板元素：HTML页面

JSP页面中的HTML内容称之为JSP模版元素。 

JSP模版元素定义了网页的基本骨架。即定义了页面的结构和外观。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code></p> 
    <h4 style="color:rgb(0,0,0);">2、JSP表达式</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">JSP脚本表达式（expression）用于将程序数据输出到client

语法：&lt;%= 变量或表达式 %&gt;

举例：当前时间:&lt;%= new java.util.Date() %&gt; 

JSP引擎在翻译脚本表达式时，会将程序数据转成字符串，然后在对应位置用out.print(…) 将数据输给client。

JSP脚本表达式中的变量或表达式后面不能有分号（;）。

注意：现实中不同意这么写，那是html，是美工开发框架用的。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">写这么多java代码没意义。正规开发中不同意出现Jsp脚本 </code></p> 
    <p style="border:0px;">项目架构：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155831764?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">下面实验要使用到的User类：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">public class User {

    private String id ;

    private String username ;

    private int age ;

    public User() {
    }

    public User(String id, String username, int age) {
        super();
        this.id = id;
        this.username = username;
        this.age = age;
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

}
</code></pre> 
    <p style="border:0px;">实验：1.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;输出表达式&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
        &lt;%
            //String name = "张三丰" ;
            request.setAttribute("name", "张三丰") ;
            String name = (String) request.getAttribute("name") ;
            out.write(name) ;
        %&gt;
        &lt;br&gt;
        :
        &lt;%=name %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/1.jsp，IE结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155755513?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <h4 style="color:rgb(0,0,0);">3、JSP脚本片断</h4> 
    <p style="border:0px;">a、JSP脚本片断（scriptlet）用于在JSP页面中编写多行Java代码。语法：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;% 
        多行java代码 
%&gt; 

注意：JSP脚本片断中仅仅能出现java代码。不能出现其他模板元素， JSP引擎在翻译JSP页面中，会将JSP脚本片断中的Java代码将被原封不动地放到Servlet的_jspService方法中。 

JSP脚本片断中的Java代码必须严格遵循Java语法，比如。每运行语句后面必须用分号（;）结束。
</code></pre> 
    <p style="border:0px;">b、在一个JSP页面中能够有多个脚本片断，在两个或多个脚本片断之间能够嵌入文本、HTML标记和其它JSP元素。</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">举例：
    &lt;%
        int x = 10;
        out.println(x);
    %&gt;
    &lt;p&gt;这是JSP页面文本&lt;/p&gt;
    &lt;%
        int y = 20;
        out.println(y);
    %&gt;

多个脚本片断中的代码能够相互訪问。宛如将全部的代码放在一对&lt;%%&gt;之中的情况。如：out.println(x);

正规开发中的JSP中不应出现java脚本：标签封装
</code></pre> 
    <p style="border:0px;">c、单个脚本片断中的Java语句能够是不完整的，可是，多个脚本片断组合后的结果必须是完整的Java语句。比如：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">    &lt;%
        for (int i=1; i&lt;5; i++) 
        {
    %&gt;

        &lt;H1&gt;www.it315.org&lt;/H1&gt;

    &lt;%
        }
    %&gt; 
</code></pre> 
    <p style="border:0px;">实验：2.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp脚本片段&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
        &lt;table border = 1&gt;
           &lt;tr&gt;
                &lt;td&gt;编号&lt;/td&gt;
                &lt;td&gt;姓名&lt;/td&gt;
                &lt;td&gt;年龄&lt;/td&gt;
            &lt;/tr&gt;
        &lt;%
            List&lt;User&gt; list = new ArrayList&lt;User&gt;() ;
            list.add(new User("1","张三丰",20)) ;
            list.add(new User("2","张无忌",23)) ;
            list.add(new User("3","张翠山",25)) ;
            list.add(new User("4","张国老",28)) ;

            /*out.write("&lt;table border = 1&gt;") ;
            out.write("&lt;tr&gt;&lt;td&gt;编号&lt;/td&gt;&lt;td&gt;姓名&lt;/td&gt;&lt;td&gt;年龄&lt;/td&gt;&lt;/tr&gt;") ;
            for(int i = 0 ;i &lt;list.size() ;i++){
                User u = list.get(i) ;
                out.write("&lt;tr&gt;&lt;td&gt;") ;
                out.write(u.getId()) ;
                out.write("&lt;/td&gt;&lt;td&gt;") ;
                out.write(u.getUsername()) ;
                out.write("&lt;/td&gt;&lt;td&gt;") ;
                out.write(u.getAge() + "") ;
                out.write("&lt;/td&gt;&lt;/tr&gt;") ;


            }*/
           // out.write("&lt;/table&gt;") ;

            for(int i = 0 ;i&lt;list.size() ;i++){
                User u = list.get(i) ;              
        %&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;%=u.getId() %&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%=u.getUsername() %&gt;&lt;/td&gt;
                &lt;td&gt;&lt;%=u.getAge() + "" %&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;%
            }
        %&gt;
        &lt;/table&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">以上的底层Servlet源代码例如以下：</p> 
    <p style="border:0px;"><span style="line-height:1.8;border-width:0px;">2</span>jsp.java</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;
import com.heima.bean.*;

public final class _2_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.AnnotationProcessor _jsp_annotationprocessor;

  public Object getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_annotationprocessor = (org.apache.AnnotationProcessor) getServletConfig().getServletContext().getAttribute(org.apache.AnnotationProcessor.class.getName());
  }

  public void _jspDestroy() {
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
                null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";

      out.write("\r\n");
      out.write("\r\n");
      out.write("&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n");
      out.write("&lt;html&gt;\r\n");
      out.write("  &lt;head&gt;\r\n");
      out.write("    &lt;base href=\"");
      out.print(basePath);
      out.write("\"&gt;\r\n");
      out.write("    \r\n");
      out.write("    &lt;title&gt;jsp脚本片段&lt;/title&gt;\r\n");
      out.write("    \r\n");
      out.write("\t&lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;\r\n");
      out.write("\t&lt;meta http-equiv=\"cache-control\" content=\"no-cache\"&gt;\r\n");
      out.write("\t&lt;meta http-equiv=\"expires\" content=\"0\"&gt;    \r\n");
      out.write("\t&lt;meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\"&gt;\r\n");
      out.write("\t&lt;meta http-equiv=\"description\" content=\"This is my page\"&gt;\r\n");
      out.write("\t&lt;!--\r\n");
      out.write("\t&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\"&gt;\r\n");
      out.write("\t--&gt;\r\n");
      out.write("\r\n");
      out.write("  &lt;/head&gt;\r\n");
      out.write("  \r\n");
      out.write("  &lt;body&gt;\r\n");
      out.write("  \t\t&lt;table border = 1&gt;\r\n");
      out.write("  \t\t   &lt;tr&gt;\r\n");
      out.write("\t\t\t\t&lt;td&gt;编号&lt;/td&gt;\r\n");
      out.write("\t\t\t\t&lt;td&gt;姓名&lt;/td&gt;\r\n");
      out.write("\t\t\t\t&lt;td&gt;年龄&lt;/td&gt;\r\n");
      out.write("\t\t\t&lt;/tr&gt;\r\n");
      out.write("\t\t");

            List&lt;User&gt; list = new ArrayList&lt;User&gt;() ;
            list.add(new User("1","张三丰",20)) ;
            list.add(new User("2","张无忌",23)) ;
            list.add(new User("3","张翠山",25)) ;
            list.add(new User("4","张国老",28)) ;

            /*out.write("&lt;table border = 1&gt;") ;
            out.write("&lt;tr&gt;&lt;td&gt;编号&lt;/td&gt;&lt;td&gt;姓名&lt;/td&gt;&lt;td&gt;年龄&lt;/td&gt;&lt;/tr&gt;") ;
            for(int i = 0 ;i &lt;list.size() ;i++){
                User u = list.get(i) ;
                out.write("&lt;tr&gt;&lt;td&gt;") ;
                out.write(u.getId()) ;
                out.write("&lt;/td&gt;&lt;td&gt;") ;
                out.write(u.getUsername()) ;
                out.write("&lt;/td&gt;&lt;td&gt;") ;
                out.write(u.getAge() + "") ;
                out.write("&lt;/td&gt;&lt;/tr&gt;") ;


            }*/
           // out.write("&lt;/table&gt;") ;

            for(int i = 0 ;i&lt;list.size() ;i++){
                User u = list.get(i) ;              

      out.write("\r\n");
      out.write("\t\t\t&lt;tr&gt;\r\n");
      out.write("\t\t\t\t&lt;td&gt;");
      out.print(u.getId() );
      out.write("&lt;/td&gt;\r\n");
      out.write("\t\t\t\t&lt;td&gt;");
      out.print(u.getUsername() );
      out.write("&lt;/td&gt;\r\n");
      out.write("\t\t\t\t&lt;td&gt;");
      out.print(u.getAge() + "" );
      out.write("&lt;/td&gt;\r\n");
      out.write("\t\t\t&lt;/tr&gt;\r\n");
      out.write("\t\t");

            }

      out.write("\r\n");
      out.write("\t\t&lt;/table&gt;\r\n");
      out.write("  &lt;/body&gt;\r\n");
      out.write("&lt;/html&gt;\r\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null &amp;&amp; out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else log(t.getMessage(), t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/2.jsp，输出结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155839954?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <h4 style="color:rgb(0,0,0);">3.1、JSP声明</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%! name = "啊啊啊"%&gt;//全局变量
&lt;% name = "啊啊啊"%&gt;//局部变量
</code></pre> 
    <p style="border:0px;">JSP页面中编写的全部代码，默认会翻译到servlet的service方法中， 而Jsp声明中的java代码被翻译到_jspService方法的外面。语法：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%！
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> java代码 %&gt; </code></p> 
    <p style="border:0px;">所以。JSP声明可用于定义JSP页面转换成的Servlet程序的静态代码块、成员变量和方法 。</p> 
    <p style="border:0px;">多个静态代码块、变量和函数能够定义在一个JSP声明中，也能够分别单独定义在多个JSP声明中。</p> 
    <p style="border:0px;">JSP隐式对象的作用范围仅限于Servlet的_jspService方法，所以在JSP声明中不能使用这些隐式对象。</p> 
    <p style="border:0px;">实验： 3.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp声明&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
        &lt;%!
            String name = "小龙女" ;
            public static void demo(){
                  System.out.print("你好") ;              
            }

            public void demo1(){
                  System.out.print("你好") ;

            }
           public class A{}

        %&gt;
        &lt;%
            demo1() ;
            demo() ;
        %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/3.jsp。在server输出的结果例如以下：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155808976?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">总结出来的在jsp编译环境下:事实上就是在HTML页面里，用标签编写的代码。会转成servlet类里的out.write()里的内容输出。而用&lt;%%&gt;括了的代码就会转成servlet类里的正常java代码</p> 
    <h4 style="color:rgb(0,0,0);">4、JSP凝视</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">    &lt;!--HTML凝视--&gt;

    //这是java凝视

    &lt;%--&lt;%这是jsp凝视%&gt;--%&gt;：这种凝视仅仅能在jsp文档里能够看见。把文档编译成了的servlet类文件就观察不到了，相当于隐身了。
</code></pre> 
    <p style="border:0px;">实验： 4.jsp和servlet源代码</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp凝视&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
        &lt;%
            //这是java凝视
        %&gt;
        &lt;%--&lt;%
            out.write("你好") ;
        %&gt;--%&gt;
        &lt;!-- HTML凝视 --&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/4.jsp， 可发现Servlet源代码例如以下：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;
import com.heima.bean.*;

public final class _4_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.AnnotationProcessor _jsp_annotationprocessor;

  public Object getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_annotationprocessor = (org.apache.AnnotationProcessor) getServletConfig().getServletContext().getAttribute(org.apache.AnnotationProcessor.class.getName());
  }

  public void _jspDestroy() {
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
                null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";

      out.write("\r\n");
      out.write("\r\n");
      out.write("&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\r\n");
      out.write("&lt;html&gt;\r\n");
      out.write("  &lt;head&gt;\r\n");
      out.write("    &lt;base href=\"");
      out.print(basePath);
      out.write("\"&gt;\r\n");
      out.write("    \r\n");
      out.write("    &lt;title&gt;jsp凝视&lt;/title&gt;\r\n");
      out.write("    \r\n");
      out.write("\t&lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;\r\n");
      out.write("\t&lt;meta http-equiv=\"cache-control\" content=\"no-cache\"&gt;\r\n");
      out.write("\t&lt;meta http-equiv=\"expires\" content=\"0\"&gt;    \r\n");
      out.write("\t&lt;meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\"&gt;\r\n");
      out.write("\t&lt;meta http-equiv=\"description\" content=\"This is my page\"&gt;\r\n");
      out.write("\t&lt;!--\r\n");
      out.write("\t&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\"&gt;\r\n");
      out.write("\t--&gt;\r\n");
      out.write("\r\n");
      out.write("  &lt;/head&gt;\r\n");
      out.write("  \r\n");
      out.write("  &lt;body&gt;\r\n");
      out.write("  \t\t");

            //这是java凝视

      out.write("\r\n");
      out.write("  \t\t");
      out.write("\r\n");
      out.write("  \t\t&lt;!-- HTML凝视 --&gt;\r\n");
      out.write("  &lt;/body&gt;\r\n");
      out.write("&lt;/html&gt;\r\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null &amp;&amp; out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else log(t.getMessage(), t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
</code></pre> 
    <h4 style="color:rgb(0,0,0);">5、JSP指令</h4> 
    <p style="border:0px;">JSP指令（directive）是为JSP引擎而设计的，它们并不直接产生不论什么可见输出，而仅仅是告诉引擎怎样处理JSP页面中的其余部分。</p> 
    <p>在JSP 2.0规范中共定义了三个指令：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">a. page指令
</code></pre> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155812454?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">b. Include指令
</code></pre> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155815668?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">c. taglib指令


page指令：演示errorPage：当你的页面出现异常后你须要去哪个页面（错误处理页面）。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> 演示include指令：&lt;%@ include file = "6.jsp"%&gt; //静态包括，在6.jsp里不能有和5.jsp同样的一部分指令标签。也能够包括txt文档（a.txt）。</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> 以上这样的叫静态包括，也是代码级别的包括，所包括的要使用的代码的其它代码能够删除掉！ &lt;%@ taglib %&gt;:引入标签库 除了import指令标签能够反复。</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">、其它指令标签仅仅能写一遍 errorPage也能够在web.xml里配置(优先级高) &lt;error-page&gt; &lt;error-code&gt;404&lt;/error-code&gt; &lt;location&gt;&lt;/location&gt; &lt;/error-page&gt; </code></p> 
    <p style="border:0px;">实验：</p> 
    <p style="border:0px;">5.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" errorPage="6.jsp" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp指令标签&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;

        &lt;%response.setCharacterEncoding("UTF-8"); %&gt;
        &lt;%--&lt;%
        //  out.write(10/0) ;
        %&gt;--%&gt;
        aaaaaaaaaaaaaaaa
        &lt;%@ include file="6.jsp"  %&gt;
        &lt;br&gt;
        &lt;%@ include file="a.txt" %&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">6.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" isErrorPage="true" %&gt;
  &lt;body&gt;
       server正忙。请一会再来訪问
       &lt;%--&lt;%
           out.write(exception.getMessage()) ;
       %&gt;  --%&gt;  
&lt;/body&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/5.jsp。</p> 
    <p>浏览器输出下面结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155859033?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <h4 style="color:rgb(0,0,0);">6、JSP标签</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;jsp:include&gt;标签  ：动态包括

    page属性、它包括了其它路径的jsp时，里面反复的内容不用删除。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">不像静态包括那样。 静态包括与动态包括之间的优缺点：静态包括（代码级别的包括。效率高）、动态包括（页面级别的包括，），他们结果没差别。</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> &lt;jsp:forward&gt;标签 ： page属性：请求转发（地址栏是不变的），动态标签中的forward标签是须要配合param标签来使用吗？不一定。 &lt;jsp:param&gt;标签 ： 怎么拿出10.jsp的param属性值，还有中文值们拿出是乱码怎么办？request.setCharacterEncodeing("UTF-8");重要)。主要用来传递參数。 value属性： name属性 </code></p> 
    <p style="border:0px;">实验：10.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;动作指令&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
     &lt;%--&lt;jsp:include page="11.jsp"&gt;&lt;/jsp:include&gt;--%&gt;
     &lt;% request.setCharacterEncoding("UTF-8") ; %&gt;

     &lt;jsp:forward page="11.jsp?a=abc&amp;addr=武当山"&gt;
          &lt;jsp:param value="bbbbb" name="b"/&gt;
          &lt;jsp:param value="张无忌" name="name"/&gt;
     &lt;/jsp:forward&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">11.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;动作指令&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;&lt;%--
    111111111111111
     &lt;%
        out.write("你好") ;
     %&gt;
  --%&gt;
      &lt;%
           String a = request.getParameter("a") ;
           String b = request.getParameter("b") ;
           String addr = request.getParameter("addr") ;
           String name = request.getParameter("name") ;

          // name = new String(name.getBytes("iso-8859-1"),"UTF-8") ;

           out.write(a + ":" + b + "&lt;br&gt;") ;
           out.write(name + ":" + addr + "&lt;br&gt;") ;
      %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/10.jsp，结果例如以下：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155823109?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <h4 style="color:rgb(0,0,0);">7、JSP内置对象</h4> 
    <p style="border:0px;">a、request</p> 
    <p style="border:0px;">b、response</p> 
    <p style="border:0px;">c、config</p> 
    <p style="border:0px;">d、application</p> 
    <p style="border:0px;">e、exception</p> 
    <p style="border:0px;">f、Session</p> 
    <p style="border:0px;">g、page</p> 
    <p style="border:0px;">h、out</p> 
    <p style="border:0px;">i、pageContext</p> 
    <p style="border:0px;">JSP九大隐式对象表示图</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155906037?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <h4 style="color:rgb(0,0,0);">7.1、out隐式对象：</h4> 
    <p style="border:0px;">a. out隐式对象用于向client发送文本数据。</p> 
    <p></p> 
    <p style="border:0px;">b. out对象是通过调用pageContext对象的getOut方法返回的。其作用和使用方法与ServletResponse.getWriter方法返回的PrintWriter对象很相似。</p> 
    <p style="border:0px;">c. JSP页面中的out隐式对象的类型为JspWriter，JspWriter相当于一种带缓存功能的PrintWriter，设置JSP页面的page指令的buffer属性能够调整它的缓存大小，甚至关闭它的缓存。</p> 
    <p style="border:0px;">d. 仅仅有向out对象中写入了内容，且满足例如以下不论什么一个条件时。out对象才去调用ServletResponse.getWriter方法，并通过该方法返回的PrintWriter对象将out对象的缓冲区中的内容真正写入到Servlet引擎提供的缓冲区中：</p> 
    <p style="border:0px;">e. 设置page指令的buffer属性关闭了out对象的缓存功能</p> 
    <p style="border:0px;">f. out对象的缓冲区已满</p> 
    <p style="border:0px;">g. 整个JSP页面结束</p> 
    <p style="border:0px;">实验：7.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;out对象的细节&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
        &lt;%
            out.write("12345") ;
            //out.flush() ;
            response.getWriter().write("67890") ;
        %&gt;  
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/7.jsp，输出结果例如以下：&nbsp;</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155908721?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155912511?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155836603?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">out对象总结：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">out.write("123");

reponse.getWriter().write("456");
</code></pre> 
    <p style="border:0px;">该两对象不一样。他们要输出的内容都先经过缓存，再由server整理在输出，而输出是先输出456 再123。根本原因是server会先清空out对象的缓存，那么out对象要输出的内容会把内容先存在reponse.getWriter()对象缓存里，当server要清空reponse.getWriter()对象缓存时，就会一起输出。所以是456 123</p> 
    <p style="border:0px;">假设在指令标签的缓存属性设置xxx="0KB" 那么以上总结就不成立了，server会直接顺序输出以上内容。</p> 
    <h4 style="color:rgb(0,0,0);">7.2、pageContext对象</h4> 
    <p style="border:0px;">pageContext对象是JSP技术中最重要的一个对象，它代表JSP页面的执行环境，这个对象不仅封装了对其他8大隐式对象的引用。它自身还是一个域对象。能够用来保存数据。而且，这个对象还封装了web开发中经常涉及到的一些经常使用操作，比如引入和跳转其他资源、检索其他域对象中的属性等。jsp中最重要对象。底层代码的基础！</p> 
    <h4 style="color:rgb(0,0,0);">7.3、通过pageContext获得其它对象</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">getException方法返回exception隐式对象 

getPage方法返回page隐式对象

getRequest方法返回request隐式对象

getResponse方法返回response隐式对象 

getServletConfig方法返回config隐式对象

getServletContext方法返回application隐式对象

getSession方法返回session隐式对象 

getOut方法返回out隐式对象

pageContext封装其他8大内置对象的意义，思考：假设在编程过程中。把pageContext对象传递给一个普通java对象。那么这个java对象将具有什么功能？  
</code></pre> 
    <h4 style="color:rgb(0,0,0);">7.4、pageContext对象的方法</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">public void setAttribute(java.lang.String?
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">name,java.lang.Object?value) public java.lang.Object?getAttribute(java.lang.String?</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">name) public void?removeAttribute(java.lang.String?name) </code></p> 
    <h4 style="color:rgb(0,0,0);">7.5、pageContext对象中还封装了訪问其他域的方法</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">public java.lang.Object?
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">getAttribute(java.lang.String?name,int?</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">scope) public void setAttribute(java.lang.String?</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">name, java.lang.Object?value,int?scope) public void?removeAttribute(java.lang.String?</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">name,int?</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">scope) </code></p> 
    <h4 style="color:rgb(0,0,0);">7.5、代表各个域的常量</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">PageContext.APPLICATION_SCOPE

PageContext.SESSION_SCOPE

PageContext.REQUEST_SCOPE

PageContext.PAGE_SCOPE 

findAttribute方法    （*重点，查找各个域中的属性） EL表达式
</code></pre> 
    <ul style="border:0px;">
     <li style="list-style:disc;border-width:0px;"> <p style="margin-left:auto;border:0px;">PageContext代表jsp页面的执行环境，页面对象。也是一个域对象，封装了经常使用操作。</p> <p></p> <p style="border:0px;">1、域对象（第四个域对象了。）:范围在本页面</p> <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">a、存储数据：setAttribute()、和它的重载（4个范围）

b、能够将数据存放在其它范围中

c、查找方法findAttribute():要从page_Scope。Request_Scope。SESSION_Scope，APPLICATION_SCOPE范围依次去寻找，找不到返回null
</code></pre> <p style="border:0px;">2、提供了请求转发和包括</p> <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">    forward()

    include()
</code></pre> </li>
    </ul>
    <p style="border:0px;">实验：</p> 
    <p style="border:0px;">8.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;pageContext对象&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
        &lt;!--
              1. 域对象: 范围在本页面
                   a. 存储数据
                   b. 能够将数据存放到其它范围中
                   c. 查找方法 findAttribute() : 要从Page_Scope,Request_SCOPE,sESSION_SCOPE,APPLICATION_SCOPE范围依次去
                      寻找,找不到返回空字符串
              2. 提供了拿取其它8个对象的方法
              3. 提供了请求转发和包括
        --&gt;

        &lt;%
            pageContext.setAttribute("name", "东方不败") ;
            pageContext.setAttribute("name1", "张三丰",pageContext.REQUEST_SCOPE) ;


            String name = (String) pageContext.getAttribute("name") ;
          String name1 = (String) pageContext.getAttribute("name1") ;
            out.write(name) ;
            out.write(name1);

            pageContext.setAttribute("name2", "张无忌") ;
            request.setAttribute("name2", "张三丰") ;
            session.setAttribute("name2", "张翠山") ;
            application.setAttribute("name2", "张果老") ;

           // request.setAttribute("age", "123") ;
           // pageContext.getRequest().setAttribute("age", "123") ;
        %&gt;
         &lt;!--  &lt;a href="http://blog.163.com/faith_yee/blog/9.jsp"&gt;9.jsp&lt;/a&gt; --&gt;
         &lt;%
            //pageContext.forward("9.jsp") ;
             pageContext.include("9.jsp") ;
         %&gt;
        &lt;br&gt;
        &lt;%--&lt;%
            String n = (String) pageContext.findAttribute("name2") ;
            out.write(n) ;
        %&gt;
  --%&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">9.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;pageContext对象&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
      9999999999999999999&lt;br&gt;

        &lt;%
            //String name = (String)request.getAttribute("name1") ;         


            //out.write(name) ;

            String name = (String)pageContext.findAttribute("name2") ;
            out.write(name) ;
        %&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/8.jsp，在浏览器输出结果例如以下：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155919859?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">五、JSP中操作JavaBean</h3> 
    <h4 style="color:rgb(0,0,0);">5.1、JavaBean的概念：</h4> 
    <p style="border:0px;">（VO：value Object， DO：Data Object 。POJO：最简单的java对象 ，DTO：Data Transfer Object）不同的场景不同的解释</p> 
    <p style="border:0px;">遵循一定的命名规则：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">1、必须有默认的构造方法
2、类的声明为public类型
3、字段都是私有的private boolean married
4、提供共同拥有的getter或setter方法（属性）。
</code></pre> 
    <p style="border:0px;">通常是先java.io.Serializable接口</p> 
    <p style="border:0px;">实际开发中有什么用？封装数据。便于传递数据</p> 
    <h4 style="color:rgb(0,0,0);">5.2、JavaWeb开发模型：</h4> 
    <p style="border:0px;">MVC模型（model（JavaBean数据）+veiw（JSP显示）+controller（Servlet控制器））</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">现实的样例：桌子+吧台+厨房（流程！）
三层架构：MVC仅仅是三层架构的表现层
</code></pre> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155922823?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">三层架构：（表现层+业务逻辑层+数据訪问层）

（耦合性低：兼容性扩展性强！
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">） </code></p> 
    <p style="border:0px;">评价程序猿好坏：编出来的成品的扩展性。QQ。</p> 
    <p>更新换代这么多年非常大原因是项目扩展性好</p> 
    <p style="border:0px;">JSP开发模式 :</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">*SUN公司推出JSP技术后。同一时候也推荐了两种web应用程序的开发模式。一种是JSP+JavaBean模式（模型1）。一种是Servlet+JSP+JavaBean模式（模型2）。


*JSP+JavaBean模式适合开发业务逻辑不太复杂的web应用程序，这样的模式下。JavaBean用于封装业务数据。JSP即负责处理用户请求，又显示数据。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">(计算器演示样例) *Servlet+JSP+JavaBean(MVC)模式适合开发复杂的web应用，在这样的模式下，servlet负责处理用户请求，jsp负责数据显示，javabean负责封装数据。 Servlet+JSP、JavaBean模式程序各个模块之间层次清晰，web开发推荐採用此种模式。（绘图MVC及三层架构） </code></p> 
    <h4 style="color:rgb(0,0,0);">5.3、jsp:useBean标签（重要内容：就是要封装标签里的内容！）</h4> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;jsp:useBean&gt;标签用来干什么的：创建对象的。
&lt;!--User user = new User();--&gt;
在这样的标签里能够创建对象（用来取代页面里的java代码）    
属性
    1、id
    2、class：我是用哪个类创建的
    3、scope：作用范围：（拿去bean中的数据，在实例里用动作标签拿不出还有一个jsp里的session属性，尽管session是共享的。而jsp里的java代码能够拿出，老师给我们展示底层的代码）    
</code></pre> 
    <p style="border:0px;">实验：</p> 
    <p style="border:0px;">12.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp:UseBean标签&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
     &lt;!--  User user = new User() ; --&gt;
      &lt;jsp:useBean id="user" class="com.heima.bean.User" scope="session"&gt;
           &lt;jsp:setProperty property="username" name="user" value="张无忌"/&gt;
      &lt;/jsp:useBean&gt;

      &lt;jsp:getProperty property="username" name="user"/&gt;

      &lt;a href="http://blog.163.com/faith_yee/blog/13.jsp"&gt;13.jsp&lt;/a&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">13.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp:UseBean标签&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
     &lt;!-- 拿取bean中的数据 --&gt;
     &lt;!--  &lt;jsp:getProperty property="username" name="user"/&gt;--&gt;
     &lt;%
        User u = (User) session.getAttribute("user") ;
        out.write(u.getUsername()) ;   
     %&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/12.jsp，输出结果例如以下：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155925787?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">在点击页面上的超链：进入了http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/13.jsp，输出下面结果： 张无忌</p> 
    <h4 style="color:rgb(0,0,0);">5.4、jsp:useBean标签的内省机制</h4> 
    <p style="border:0px;">在jsp里怎么封装javaBean？ 学习经验：假设搞不懂jsp怎么利用&lt;jsp:useBean&gt; 标签来封装JavaBean的话，能够观察jsp的底层代码：Servlet类的代码！</p> 
    <p></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">    &lt;jsp:setProperty="*" name = "user"/&gt;//内省

    &lt;jsp:getProperty property="id" name="user"/&gt;

    &lt;jsp:getProperty property="username" name="user"/&gt;

    &lt;jsp:getProperty property="age" name="user"/&gt;
</code></pre> 
    <p style="border:0px;">以上过程叫内省机制。</p> 
    <p style="border:0px;">那么内省的底层是怎么回事？</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">内省要求Bean的属性名和页面上的表单控制的名字一样即可
</code></pre> 
    <p style="border:0px;">实验： 14.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp:UseBean标签的内省机制&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
      &lt;form action="15.jsp" method="post"&gt;
          编号： &lt;input type = "text" name = "id"&gt;&lt;br&gt;
          姓名： &lt;input type = "text" name = "username"&gt;&lt;br&gt;
          年龄： &lt;input type = "text" name = "age"&gt;&lt;br&gt;
          &lt;input type = "submit" value = "提交"&gt;&lt;br&gt;
      &lt;/form&gt;

       &lt;a href="http://blog.163.com/faith_yee/blog/15.jsp?id=111&amp;username=abc&amp;age=100"&gt;15.jsp&lt;/a&gt;&lt;%--

       &lt;jsp:forward page="15.jsp"&gt;
            &lt;jsp:param value="1000" name="id"/&gt;
            &lt;jsp:param value="nba" name="username"/&gt;
            &lt;jsp:param value="50" name="age"/&gt;
       &lt;/jsp:forward&gt;
  --%&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">15.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8" %&gt;

&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;jsp:UseBean标签的内省机制&lt;/title&gt;

    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;

  &lt;/head&gt;

  &lt;body&gt;
    &lt;% request.setCharacterEncoding("UTF-8") ; %&gt;
     &lt;jsp:useBean id="user" class="com.heima.bean.User"&gt;&lt;/jsp:useBean&gt;
     &lt;!-- 封装超链的数据 --&gt;
     &lt;jsp:useBean id="user1" class="com.heima.bean.User"&gt;&lt;/jsp:useBean&gt;

    &lt;jsp:setProperty property="*" name="user"/&gt;
     &lt;jsp:setProperty property="id" name="user" param="id"/&gt;
     &lt;jsp:setProperty property="*" name="user1"/&gt;

     &lt;jsp:getProperty property="id" name="user" /&gt;:
     &lt;jsp:getProperty property="username" name="user"/&gt;:
     &lt;jsp:getProperty property="age" name="user"/&gt;
     &lt;hr&gt;
     &lt;jsp:getProperty property="id" name="user1"/&gt;:
     &lt;jsp:getProperty property="username" name="user1"/&gt;:
     &lt;jsp:getProperty property="age" name="user1"/&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">00</span>jsp/14.jsp，页面例如以下：&nbsp;</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155849801?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">在表单里填写例如以下信息：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155853295?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">点击提交：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155935178?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">或者在14.jsp页面里点击超链，结果例如以下：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155858787?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">在15.jsp里的总结</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;!--封装超链的数据--&gt;
&lt; .........&gt;
&lt;jsp:setProperty="*" name = "user1"/&gt;（内省！
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">） &lt;jsp:getProperty property="id" name="user1"/&gt; &lt;jsp:getProperty property="username" name="user1"/&gt; &lt;jsp:getProperty property="age" name="user1"/&gt; </code></p> 
    <p style="border:0px;">出现故障：在超链提交的数据怎么限制封装到哪个对象里？</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">主要看属性名+參数是否一致。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">发现user所要封装的属性名+參数和user1所要封装的属性名+參数都一样。所以都封装成了对象（user+user1）,所以在页面输出了两个对象的内容。15.jsp不会关心其它jsp传过来的数据是否反复或者是什么方式传过来的，仅仅要传过来的属性名+參数满足JavaBean对象里的属性名和方法的接口。那么就为这些数据新建对象。</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">假设想把传过来的数据指定特定的对象名能够吗？貌似不行。以上是内省机制。 </code></p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">六、四大域对象（相当重要）</h3> 
    <p style="border:0px;">a. PageContext:页面范围的数据。用的非常少</p> 
    <p style="border:0px;">b. ServletRequest:请求范围的数据。</p> 
    <p>用的非常多。显示一次数据后就没实用了。这种数据应该放到该范围中</p> 
    <p style="border:0px;">c. HttpSession：会话范围的数据。用的非常多。每次请求和响应都须要共享的数据。比方登录信息，购物信息。</p> 
    <p style="border:0px;">d. ServletContext（application域）：应用范围的数据。用的不多。全部client都共享的信息。注意同步。</p> 
    <p>数据能不能取到，关键是不是从一个地方取的数据</p> 
    <p style="border:0px;">使用的情况详细分析</p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">七、EL表达式（属于JSP中的技术,今天最重要！ </h3> 
    <p></p> 
    <p>）</p> 
    <h4 style="color:rgb(0,0,0);">1、EL表达式简单介绍</h4> 
    <p style="border:0px;">EL 全名为Expression Language。EL主要作用：</p> 
    <p style="border:0px;">1、获取数据：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">EL表达式主要用于替换JSP页面中的脚本表达式，以从各种类型的web域 中检索java对象、获取数据。(某个web域 中的对象，訪问javabean的属性、訪问list集合、訪问map集合、訪问数组)
</code></pre> 
    <p style="border:0px;">2、运行运算：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">利用EL表达式能够在JSP页面中运行一些主要的关系运算、逻辑运算和算术运算，以在JSP页面中完毕一些简单的逻辑运算。${user==null}
</code></pre> 
    <p style="border:0px;">3、获取web开发经常使用对象</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">EL 表达式定义了一些隐式对象，利用这些隐式对象，web开发者能够非常轻松获得对web经常使用对象的引用。从而获得这些对象中的数据。
</code></pre> 
    <p style="border:0px;">4、调用Java方法</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">EL表达式同意用户开发自己定义EL函数，以在JSP页面中通过EL表达式调用Java类的方法。


a、获取数据：

    老做法：

        String name  =(Stirng )session.getAttribute("name");
        out.write(name);

    EL表达式：

        El:${name}  拿到的name也是看设置好的范围来获取的。（观察底层代码）

        指定某个域对象中拿去数据：${sessionScope.name}  

        EL中存在了11个隐含对象

    第一仅仅猫的样例：

        &amp;{user.friend.cat.name}

        &amp;{user["friend"]["cat"]["name"]}

        用点的地方能够用中括号。反之不行

        EL表达式输出常量要加引號，不加的话会识别是变量 ${"abvca"}


    使用EL表达式获取数据语法：“${标识符}”

    EL表达式语句在运行时，会调用pageContext.findAttribute方法，用标识符为keyword，分别从page、request、session、application四个域中查找对应的对象。找到则返回对应对象。找不到则返回”” （注意。不是null，而是空字符串）。 

    演示样例：${user}

    EL表达式也能够非常轻松获取JavaBean的属性，或获取数组、Collection、Map类型集合的数据，比如：

        ${user.address.city}
        ${user.list[0]}：訪问有序集合某个位置的元素
        ${map.key}  ： 获得map集合中指定key的值

    结合JSTL的foreach标签，使用EL表达式也能够非常轻松迭代各种类型的数组或集合。演示样例：

        迭代数组
        迭代collection类型集合
        迭代map类型集合
</code></pre> 
    <p style="border:0px;">实验：project架构：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155940825?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">在实验中要使用到的类： User.java</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">package com.heima.bean;

public class User {

    private String id ;

    private String username ;

    private Friend  friend;

    private int age ;

    public User() {
    }

    public User(String id, String username, int age) {
        super();
        this.id = id;
        this.username = username;
        this.age = age;
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public Friend getFriend() {
        return friend;
    }

    public void setFriend(Friend friend) {
        this.friend = friend;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

}
</code></pre> 
    <p style="border:0px;">Friend.java</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">package com.heima.bean;

public class Friend {

    private Cat cat ;

    public Cat getCat() {
        return cat;
    }

    public void setCat(Cat cat) {
        this.cat = cat;
    }

}
</code></pre> 
    <p style="border:0px;">Cat.java</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">package com.heima.bean;

public class Cat {

    private String name ;

    private String color ;

    public Cat() {
    }

    public Cat(String name, String color) {
        super();
        this.name = name;
        this.color = color;
    }

    public String getName() {
        return name;
    }

    public String getColor() {
        return color;
    }
}
</code></pre> 
    <p style="border:0px;">实验：1.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;el表达式从域对象中获取数据&lt;/title&gt;
    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;
  &lt;/head&gt;

  &lt;body&gt;
        &lt;%
            pageContext.setAttribute("name", "小龙女") ;
            request.setAttribute("name", "赵敏") ;
            session.setAttribute("name", "黄蓉") ;
            application.setAttribute("name", "周芷若") ;

            String name = (String) session.getAttribute("name") ;
            out.write(name) ;

            User user = new User() ;
            Friend f = new Friend() ;
            f.setCat(new Cat("喵喵","白色")) ;
            user.setFriend(f) ;

            request.setAttribute("user", user) ;

            List&lt;User&gt; list = new ArrayList&lt;User&gt;() ;
            list.add(new User("1","张无忌",20)) ;
            list.add(new User("2","乔峰",25)) ;
            list.add(new User("3","郭靖",30)) ;

            request.setAttribute("list", list) ;

            Map&lt;String,User&gt; map = new HashMap&lt;String,User&gt;() ;
            map.put("a", new User("1","张无忌",20)) ;
            map.put("b", new User("2","乔峰",25)) ;
            map.put("c", new User("3","郭靖",30)) ;

            request.setAttribute("map", map) ;
        %&gt;
            &lt;br&gt;
            採用el表达式输出常量:${"abcde"}&lt;br&gt;
            採用el表达式拿取数据: ${name}&lt;br&gt;
            指定从session中拿取数据: ${sessionScope.name }&lt;br&gt;
            拿到人的朋友的第一仅仅猫的名字： ${user.friend.cat.name}:${user["friend"]["cat"]["name"]} &lt;br&gt;
            拿到人的朋友的第一仅仅猫的颜色： ${user.friend.cat.color} &lt;br&gt;
            拿取list中的第一个人的名字:${list[0].username} &lt;br&gt;
            拿取map中的乔峰的名字:${map["b"].username}:${map.b.username} &lt;br&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">01</span>el/1.jsp，页面输出下面结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155904590?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">b、运行运算：

    语法：

        ${运算表达式}，EL表达式支持例如以下运算符：
</code></pre> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155947440?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">        empty运算符：

            检查对象是否为null或“空”，非常好用！！！
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> 三元表达式： ${user!=null?</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">user.name : “”} ，非常好用！</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code>
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">！</code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">！ [ ] 和 . 号运算符 </code></p> 
    <p style="border:0px;">实验：2.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;el表达式的数学运算&lt;/title&gt;
    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;
  &lt;/head&gt;

  &lt;body&gt;
       &lt;%
             int a = 10 ;
             request.setAttribute("a", a) ;

             String s = (String) request.getAttribute("name") ;
             out.write(s) ;
             request.setAttribute("name", s) ;

            Map&lt;String,User&gt; map = new HashMap&lt;String,User&gt;() ;
            map.put("a", new User("1","张无忌",20)) ;
            map.put("b", new User("2","乔峰",25)) ;
            map.put("c", new User("3","郭靖",30)) ;

            request.setAttribute("map", map) ;
       %&gt;
           运行加法: ${1+1 }&lt;br&gt;
           运行比較运算：${ 10 &gt;5}:${ 10 gt 5}&lt;br&gt;
           运行比較运算：${ a &gt;5}&lt;br&gt;
           运行逻辑运算： ${a &gt; 5 || a &lt; 0 }&lt;br&gt;
           运行null运算：${name == null}&lt;br&gt;
           运行三元运算符: ${a&gt;5?"哈哈":"呵呵" }&lt;br&gt;
           检測map是否为空：${empty map }:${ not empty map }

  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">01</span>el/2.jsp。页面输出结果例如以下：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155951090?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">c、获取web开发经常使用对象
</code></pre> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155915728?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">实验：</p> 
    <p style="border:0px;">3.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;el表达式的内置对象&lt;/title&gt;
    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;
  &lt;/head&gt;

  &lt;body&gt;
       &lt;%request.setCharacterEncoding("UTF-8") ; %&gt;
       &lt;form action="4.jsp" method="get"&gt;
            姓名： &lt;input type = "text" name = "username"&gt;&lt;br&gt;
            password： &lt;input type = "text" name = "pass"&gt;&lt;br&gt;
            反复password： &lt;input type = "text" name = "pass"&gt;&lt;br&gt;
             &lt;input type = "submit" value = "提交"&gt;&lt;br&gt;
       &lt;/form&gt;      

       &lt;a href="http://blog.163.com/faith_yee/blog/4.jsp?username=张无忌"&gt;4.jsp&lt;/a&gt;  
       &lt;%--&lt;jsp:forward page="4.jsp"&gt;
            &lt;jsp:param value="东方不败" name="username"/&gt;
       &lt;/jsp:forward&gt;
  --%&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">4.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;el表达式的内置对象&lt;/title&gt;
    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;
  &lt;/head&gt;

  &lt;body&gt;&lt;%--
     &lt;%
         String name = request.getParameter("username") ;
         name = new String(name.getBytes("ISO-8859-1"),"GBK") ;
         out.write(name) ;
     %&gt;--%&gt;
       拿取表单传递的參数： ${param.username }&lt;br&gt;
       拿取超链传递的參数： ${param.username }&lt;br&gt;
       拿取请求转发传递的參数： ${param.username }&lt;br&gt;
       拿取重名參数的值： ${paramValues.pass[0] }: ${paramValues.pass[1] }&lt;br&gt;
       获取请求头的值： ${header.Referer }&lt;br&gt;
       获取请求头的值： ${headerValues.Referer[0] }&lt;br&gt;
       获取全局參数的值： ${initParam.name }&lt;br&gt;
       获取Cookie(是一个map)： ${cookie.JSESSIONID }&lt;br&gt;
       获取Cookie(是一个Cookie对象)的名字： ${cookie.JSESSIONID.name }&lt;br&gt;
       获取Cookie(是一个Cookie对象)的值： ${cookie.JSESSIONID.value }&lt;br&gt;


  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">web.xml</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app version="2.5" 
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt;
  &lt;display-name&gt;&lt;/display-name&gt; 

  &lt;context-param&gt;
    &lt;param-name&gt;name&lt;/param-name&gt;
    &lt;param-value&gt;山本五十六&lt;/param-value&gt;
  &lt;/context-param&gt;
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
  &lt;/welcome-file-list&gt;
&lt;/web-app&gt;
</code></pre> 
    <p style="border:0px;">在浏览器输入http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">01</span>el/3.jsp。页面结果例如以下，输入例如以下信息：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155918599?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">点击提交后进入4.jsp，显演示样例如以下结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401155921500?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">假设在13.jsp点击超链，得到例如以下结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401160003804?%3C/p%3E%3Cp%3Ewatermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">获取Cookie(是一个map)的键：${cookie.key}//拿不出</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">d、调用Java方法

    ${"abc"+"de"}//不行:+支持整数浮点数，不支持字符串

    EL不支持字符串的不论什么操作

    但我们能够定义函数来实现

    ${fun:toupper("abcde")}//EL不识别函数，那么怎么来实现这种方式？EL一定和底层的JAVA代码相关联,所以我们能够自己定义标签函数
</code></pre> 
    <p style="border:0px;">实验： 5.jsp</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;%@ page language="java" import="java.util.*,com.heima.bean.*" pageEncoding="UTF-8"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/myfun" prefix="fun" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/functions"  prefix="fn" %&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="http://blog.163.com/faith_yee/blog/&lt;%=basePath%&gt;"&gt;

    &lt;title&gt;el表达式的内置对象&lt;/title&gt;
    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="http://blog.163.com/faith_yee/blog/styles.css"&gt;
    --&gt;
  &lt;/head&gt;

  &lt;body&gt;
        ${fun:toupper("abcde")} 
        ${fun:toupper("aaaaaaaaa") }   
        ${fun:out("abcde") }

  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
    <p style="border:0px;">a.tld</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;

&lt;taglib xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"
  version="2.0"&gt;

  &lt;tlib-version&gt;1.1&lt;/tlib-version&gt;
  &lt;short-name&gt;fun&lt;/short-name&gt;
  &lt;uri&gt;http://java.sun.com/jsp/myfun&lt;/uri&gt;

  &lt;function&gt;
    &lt;name&gt;toupper&lt;/name&gt;
    &lt;function-class&gt;com.heima.demo.Demo&lt;/function-class&gt;
    &lt;function-signature&gt;java.lang.String demo(java.lang.String)&lt;/function-signature&gt;

  &lt;/function&gt;

  &lt;function&gt;
    &lt;name&gt;out&lt;/name&gt;
    &lt;function-class&gt;com.heima.demo.Demo&lt;/function-class&gt;
    &lt;function-signature&gt;void demo1(java.lang.String)&lt;/function-signature&gt;

  &lt;/function&gt;

 &lt;/taglib&gt;
</code></pre> 
    <p style="border:0px;">Demo.java</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">package com.heima.demo;

public class Demo {

    //将參数转变为大写
    public static String demo(String str){
        return str.toUpperCase() ;
    }

    public static void demo1(String str){
        System.out.println(str);
    }
}
</code></pre> 
    <p style="border:0px;">在浏览器输入：http://localhost:8080/day11<span style="line-height:1.8;border-width:0px;">01</span>el/5.jsp。得到例如以下结果：</p> 
    <p style="border:0px;"><img src="https://uzshare.com/_p?https://img-blog.csdn.net/20150401160006597?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFpdGhfeWVl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" style="border:0px;"><br></p> 
    <p style="border:0px;">方法总结：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">1、创建一个类（后台）
2、类里写方法（静态）
3、写描写叙述性文件（注意路径）
4、页面上要用taglib指令标签引入
5、能够用EL语句是使用了

taglib里能够引用sun公司已经定义好了的方法。
</code></pre> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"></code></p> 
    <code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;"> </code> 
    <p><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">用属性来改变要用法的名字 </code></p> 
    <h3 style="color:rgb(0,0,0);font-size:16px;line-height:1.5;">八、在地址栏里输入中文，server解析为乱码的IE解决的方法</h3> 
    <p style="border:0px;">地址栏输入有中文：</p> 
    <pre><code style="font-size:12px;font-family:Consolas, 'Liberation Mono', Courier, monospace;border:none;">String s = request.getQueryString("username");

//String s = request.getParameter("username");

s = new String(s.getBytes("iso-8859-1"),"gbk");

out.write(s);    
</code></pre> 
    <p style="margin-left:auto;border:0px;"><span style="line-height:1.8;font-size:32px;"><a href="http://download.csdn.net/detail/faith_yee/8554341" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">下载</a></span></p> 
   </div> 
   <div> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;">版权声明：本文博客原创文章。博客，未经同意，不得转载。</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p><font color="#333333"><span style="font-size:12px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/4746773.html，如需转载请自行联系原作者</span></font></p> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
