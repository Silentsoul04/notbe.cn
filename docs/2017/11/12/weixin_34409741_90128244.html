<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Hadoop Hive概念学习系列之hive三种方式区别和搭建、HiveServer2环境搭建、HWI环境搭建和beeline环境搭建（五）... « NotBeCN</title>
  <meta name="description" content="             说在前面的话    　　以下三种情况，最好是在3台集群里做，比如，master、slave1、slave2的master和slave1都安装了hive，将master作为服务端，将slave1作为服务端。    &nbsp;    　以下，是针对CentOS版本的，若是Ubuntu版本，...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/12/weixin_34409741_90128244.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Hadoop Hive概念学习系列之hive三种方式区别和搭建、HiveServer2环境搭建、HWI环境搭建和beeline环境搭建（五）...</h1>
    <p class="post-meta">Nov 12, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">说在前面的话</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　以下三种情况，最好是在3台集群里做，比如，master、slave1、slave2的master和slave1都安装了hive，将master作为服务端，将slave1作为服务端。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　以下，是针对CentOS版本的，若是Ubuntu版本，见我的博客&nbsp;</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/zlslch/p/6084704.html" rel="nofollow" style="color:#000000;">Ubuntu系统下安装并配置hive-2.1.0</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><span style="font-size:18pt;"><strong>hive三种方式区别和搭建</strong></span><br> Hive中metastore（元数据存储）的三种方式：<br><strong><span style="color:rgb(255,0,0);">　a) &nbsp;内嵌Derby方式</span></strong><br><strong><span style="color:rgb(255,0,0);">　　b) &nbsp;Local方式</span></strong><br><strong><span style="color:rgb(255,0,0);">　　c) &nbsp;Remote方式</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><strong>1.本地derby</strong><br> 这种方式是最简单的存储方式，只需要在hive-site.xml做如下配置便可</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>&lt;?xml version=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">1.0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 
&lt;?xml-stylesheet type=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">text/xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span> href=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">configuration.xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 
&lt;configuration&gt; 
    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; 
        &lt;value&gt;jdbc:derby:;databaseName=metastore_db;create=<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span>&lt;/value&gt; 
    &lt;/property&gt;

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; 
        &lt;value&gt;org.apache.derby.jdbc.EmbeddedDriver&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.local&lt;/name&gt; 
        &lt;value&gt;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span>&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; 
        &lt;value&gt;/user/hive/warehouse&lt;/value&gt; 
    &lt;/property&gt; 
&lt;/configuration&gt;</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　注：使用derby存储方式时，运行hive会在当前目录生成一个derby文件和一个metastore_db目录。这种存储方式的弊端是在同一个目录下同时只能有一个hive客户端能使用数据库，否则会提示如下错误。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[html] view plaincopyprint?<span style="font-size:12px;line-height:1.5;">
hive</span>&gt;<span style="font-size:12px;line-height:1.5;"> show tables; 
FAILED: Error </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">in</span> metadata: javax.jdo.JDOFatalDataStoreException: Failed to start database <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">metastore_db</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span>, see the next exception <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span><span style="font-size:12px;line-height:1.5;"> details. 
NestedThrowables: 
java.sql.SQLException: Failed to start database </span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">metastore_db</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span>, see the next exception <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span><span style="font-size:12px;line-height:1.5;"> details. 
FAILED: Execution Error, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span> code <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">from</span><span style="font-size:12px;line-height:1.5;"> org.apache.hadoop.hive.ql.exec.DDLTask 
hive</span>&gt;<span style="font-size:12px;line-height:1.5;"> show tables;
FAILED: Error </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">in</span> metadata: javax.jdo.JDOFatalDataStoreException: Failed to start database <span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">metastore_db</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span>, see the next exception <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span><span style="font-size:12px;line-height:1.5;"> details.
NestedThrowables:
java.sql.SQLException: Failed to start database </span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">metastore_db</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">'</span>, see the next exception <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span><span style="font-size:12px;line-height:1.5;"> details.
FAILED: Execution Error, </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span> code <span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">from</span><span style="font-size:12px;line-height:1.5;"> org.apache.hadoop.hive.ql.exec.DDLTask

 </span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><strong>2.本地mysql （比如master、slave1、slave2集群。hive一般我是安装在master上）（也叫作hive单用户模式）</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>　　当然，你也来个master、slave1、slave2集群，外加client专门来安装hive、sqoop、azkaban这样的。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>　　或者，你也来个master、slave1、slave2、slave3、slave4集群，hive一般我也是安装在master上。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 这种存储方式需要在本地运行一个mysql服务器，并作如下配置（下面两种使用mysql的方式，需要将mysql的jar包拷贝到$HIVE_HOME/lib目录下）。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>&lt;?xml version=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">1.0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 
&lt;?xml-stylesheet type=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">text/xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span> href=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">configuration.xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 

&lt;configuration&gt; 
    &lt;property&gt; 
        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; 
        &lt;value&gt;/user/hive_remote/warehouse&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.local&lt;/name&gt; 
        &lt;value&gt;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span>&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; 
        &lt;value&gt;jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">localhost/hive_remote?createDatabaseIfNotExist=true&lt;/value&gt; </span>
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; 
        &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; 
        &lt;value&gt;hive&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; 
        &lt;value&gt;password&lt;/value&gt; 
    &lt;/property&gt; 
&lt;/configuration&gt;</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>3.远端mysql （在主从上配）（也叫作hive多用户模式）</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>　　（比如master、slave1、slave2集群。hive一般我是安装在master和slave1上）</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>　　或者，你也来个master、slave1、slave2、slave3、slave4集群，hive一般我也是安装在master和slave1上。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="color:rgb(0,0,255);">1、remote一体</span></strong><br> 这种存储方式需要在远端服务器运行一个mysql服务器，并且需要在Hive服务器启动meta服务。<br> 这里用mysql的测试服务器，ip位192.168.1.214，新建hive_remote数据库，字符集位latine1</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>&lt;?xml version=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">1.0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 
&lt;?xml-stylesheet type=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">text/xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span> href=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">configuration.xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 

&lt;configuration&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; 
        &lt;value&gt;/user/hive/warehouse&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; 
        &lt;value&gt;jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.57.6:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt; </span>
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; 
        &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; 
        &lt;value&gt;hive&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; 
        &lt;value&gt;password&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.local&lt;/name&gt; 
        &lt;value&gt;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span>&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.uris&lt;/name&gt; 
        &lt;value&gt;thrift:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.1.188:9083&lt;/value&gt; </span>
    &lt;/property&gt; 

&lt;/configuration&gt;</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　注：这里把hive的服务端和客户端都放在同一台服务器上了。服务端和客户端可以拆开。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><strong><span style="color:rgb(0,0,255);">2.Remote分开</span></strong><br> 将hive-site.xml配置文件拆为如下两部分<br> 1）、服务端配置文件（比如在master）</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>&lt;?xml version=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">1.0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 
&lt;?xml-stylesheet type=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">text/xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span> href=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">configuration.xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 

&lt;configuration&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; 
        &lt;value&gt;/user/hive/warehouse&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; 
        &lt;value&gt;jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.57.6:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt; </span>
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; 
        &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; 
        &lt;value&gt;root&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; 
        &lt;value&gt;<span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">123456</span>&lt;/value&gt; 
    &lt;/property&gt; 
&lt;/configuration&gt;</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　2）、客户端配置文件（比如在slave1）</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>&lt;?xml version=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">1.0</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 
&lt;?xml-stylesheet type=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">text/xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span> href=<span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">configuration.xsl</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">"</span>?&gt; 

&lt;configuration&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt; 
        &lt;value&gt;/user/hive/warehouse&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.local&lt;/name&gt; 
        &lt;value&gt;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span>&lt;/value&gt; 
    &lt;/property&gt; 

    &lt;property&gt; 
        &lt;name&gt;hive.metastore.uris&lt;/name&gt; 
        &lt;value&gt;thrift:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.57.5:9083&lt;/value&gt; </span>
    &lt;/property&gt; 

&lt;/configuration&gt;

 </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　启动hive服务端程序</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>hive --service metastore</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　或者</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>hive  --servie metastore -<span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">9083</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　客户端直接使用hive命令即可。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>root@my188:~<span style="font-size:12px;line-height:1.5;">$ hive 
Hive history file</span>=/tmp/root/<span style="font-size:12px;line-height:1.5;">hive_job_log_root_201301301416_955801255.txt 
hive</span>&gt;<span style="font-size:12px;line-height:1.5;"> show tables; 
OK 
test_hive 
Time taken: </span><span style="color:rgb(128,0,128);font-size:12px;line-height:1.5;">0.736</span><span style="font-size:12px;line-height:1.5;"> seconds 
hive</span>&gt;

 </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong><span style="color:rgb(0,0,255);">　　看hive的官方文档</span></strong></span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>http:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">hive.apache.org/</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201705/855959-20170506195102757-16553520.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201705/855959-20170506195210414-1295567563.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201705/855959-20170506195238742-348377328.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201705/855959-20170506200047836-152607747.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">服务端这边</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">步骤一：[root@sparkmaster local]# yum -y install&nbsp;mysql-server</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130105510146-668169885.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">步骤二：[root@sparkmaster local]# service mysqld start</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130105617943-1722605266.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">步骤三：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[root@sparkmaster local ] mysql -uroot -p</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; CREATE USER 'hive'@'%' IDENTIFIED BY 'hive';</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'hive'@'%' WITH GRANT OPTION;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; flush privileges;<br> mysql&gt; exit;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[root@sparkmaster local]#</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130110137771-748759668.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤四：去hive的安装目录下的lib，下将&nbsp;mysql-connector-java-5.1.21.jar 传到这个目录下。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤五：去hive的安装目录下的conf，下配置hive-site.xml，见上。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤六: 环境变量生效。这些不多赘述。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;若是出现问题，则见</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a class="postTitle2" href="http://www.cnblogs.com/zlslch/p/5944671.html" rel="nofollow" style="color:#000000;">1 复习ha相关 + weekend110的hive的元数据库mysql方式安装配置（完全正确配法）</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">客户端这边</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span>步骤一：注意，不是这个</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130112050927-517083593.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">是这个</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[root@sparkslave1 local]# yum -y install mysql-server</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130113058131-418249529.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤二：[root@sparkslave1 local]# service mysqld start</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130113216834-1765944469.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤三：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[root@sparkslave1&nbsp;local ] mysql -uroot -p</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; CREATE USER 'hive'@'%' IDENTIFIED BY 'hive';</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'hive'@'%' WITH GRANT OPTION;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mysql&gt; flush privileges;<br> mysql&gt; exit;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[root@sparkslave1&nbsp;local]#</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130113412334-1779165445.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤四：去hive的安装目录下的lib，下将&nbsp;mysql-connector-java-5.1.21.jar 传到这个目录下。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤五：去hive的安装目录下的conf，下配置hive-site.xml，见上。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;步骤六: 环境变量生效。这些不多赘述。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>演示：</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130125138099-958967151.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130125211896-1284045105.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);"><strong>&nbsp;服务端和客户端启动hive</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　启动hive服务端程序</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　　　hive&nbsp;--service&nbsp;metastore&nbsp;&nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　客户端直接使用hive命令即可</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">$&nbsp;hive &nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">hive&gt;&nbsp;show&nbsp;tables;&nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">OK&nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">test_hive&nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Time&nbsp;taken:&nbsp;0.736&nbsp;seconds&nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">hive&gt; &nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>&nbsp;HiveServer2测试</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在hive安装目录下的bin目录下，执行nohup hive --service hiveserver2 &amp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">或者，任一目录下，执行 $HIVE_HOME/bin/hiveserver2 &nbsp; 或者 &nbsp; &nbsp;&nbsp;$HIVE_HOME/bin/hive &nbsp; --service &nbsp;hiveserver2</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">或者 &nbsp;$HIVE_HOME/bin/hive &nbsp;&nbsp;--service &nbsp;hiveserver2 &nbsp;10001 &nbsp; &gt;/dev/null &nbsp; 2&gt;/dev/null &nbsp; &amp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>&nbsp;HWI测试</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在hive安装目录下的bin目录下，执行 hive &nbsp;--service hwi</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>CLI测试</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在hive安装目录下的bin目录下，执行 hive &nbsp;--service cli &nbsp; &nbsp;或 &nbsp;./hive</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>HiveServer2　　 &amp; HWI 　　&amp; 　　beeline 三大详细讲解</strong></span><br><span style="color:rgb(0,0,255);">知识准备</span>：bin/hiveserver2，这个是thrift服务器。<br> &nbsp;&nbsp;bin/beeline，这个是客户端cli<br> 其实，去看下Hive的架构，一目了然了。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161125150440862-851356033.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　1、CLI（command line interface）即命令行接口。<br> 2、Thrift Server是Facebook开发的一个软件框架，它用来开发可扩展且跨语言的服务，Hive集成了该服务，能让不同的编程语言调用Hive的接口。<br> 3、Hive客户端提供了通过网页的方式访问Hive提供的服务，这个接口对应Hive的HWI组件（Hive web interface），使用前要启动HWI服务。<br> 4、Metastore是Hive中的元数据存储，主要存储Hive中的元数据，<br> 包括表的名称、表的列和分区及其属性、表的属性（是否为外部表等）、表的数据所在目录等，一般使用MySQL或Derby数据库。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">参考链接：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<a href="http://www.aboutyun.com/thread-12278-1-1.html" rel="nofollow" style="color:#000000;">http://www.aboutyun.com/thread-12278-1-1.html</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　在之前的学习和实践<a class="replace_word" title="Hive知识库" href="http://lib.csdn.net/base/hive" rel="nofollow" style="color:#000000;">Hive</a>中，使用的都是CLI或者hive –e的方式，该方式仅允许使用HiveQL执行查询、更新等操作，并且该方式比较笨拙单一。<span style="color:rgb(0,0,255);">幸好Hive提供了轻客户端的实现，通过HiveServer或者HiveServer2</span>，<span style="color:rgb(0,0,255);">客户端可以在不启动CLI的情况下对Hive中的数据进行操作</span>，两者都允许远程客户端使用多种编程语言如<a class="replace_word" title="Java EE知识库" href="http://lib.csdn.net/base/javaee" rel="nofollow" style="color:#000000;">Java</a>、<a class="replace_word" title="Python知识库" href="http://lib.csdn.net/base/python" rel="nofollow" style="color:#000000;">Python</a>向Hive提交请求，取回结果。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　<span style="color:rgb(255,0,0);">　HiveServer或者HiveServer2都是基于Thrift的</span>，但HiveSever有时被称为Thrift server，而HiveServer2却不会。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　既然已经存在HiveServer为什么还需要HiveServer2呢？这是因为HiveServer不能处理多于一个客户端的并发请求，这是由于HiveServer使用的Thrift接口所导致的限制，不能通过修改HiveServer的代码修正。因此在Hive-0.11.0版本中重写了HiveServer代码得到了HiveServer2，进而解决了该问题。<span style="color:rgb(0,0,255);">HiveServer2支持多客户端的并发和认证，为开放API客户端如JDBC、ODBC提供了更好的支持。</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp; &nbsp;既然HiveServer2提供了更强大的功能，将会对其进行着重学习，但也会简单了解一下HiveServer的使用方法。在命令中输入hive --service help，结果如下。从结果可以了解到，可以使用hive &lt;parameters&gt; --service serviceName &lt;serviceparameters&gt;启动特定的服务，如cli、hiverserver、hiveserver2等。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[hadoop@hadoop~]$<span style="color:rgb(255,0,0);">&nbsp;hive --service help</span><br> Usage ./hive&lt;parameters&gt; --service serviceName &lt;service parameters&gt;<br> Service List: beelinecli help hiveserver2 hiveserver hwi jar lineage metastore metatool orcfiledumprcfilecat schemaTool version<br> Parametersparsed:<br> --auxpath : Auxillary jars<br> --config : Hive configuration directory<br> --service : Starts specificservice/component. cli is default<br> Parameters used:<br> HADOOP_HOME or HADOOP_PREFIX : Hadoop installdirectory<br> HIVE_OPT : Hive options<br> For help on aparticular service:<br> ./hive --service serviceName --help<br> Debug help: ./hive --debug --help</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在命令行输入hive --service hiveserver –help<span style="font-size:18pt;"><strong>查看hiveserver的帮助信息：</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[hadoop@hadoop~]$&nbsp;<span style="color:rgb(255,0,0);">hive --service hiveserver --help</span><br> Starting Hive Thrift Server<br> usage:hiveserver<br> -h,--help Print help information<br> --hiveconf &lt;property=value&gt; Use value for given property<br> --maxWorkerThreads &lt;arg&gt; maximum number of worker threads,<br> default:2147483647<br> --minWorkerThreads &lt;arg&gt; minimum number of worker threads,<br> default:100<br> -p &lt;port&gt; Hive Server portnumber, default:10000<br> -v,--verbose Verbose mode</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">启动hiveserver服务，可以得知默认hiveserver运行在端口10000，最小100工作线程，最大2147483647工作线程。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[hadoop@hadoop~]$<span style="color:rgb(255,0,0);">&nbsp;hive --service hiveserver -v</span><br> Starting Hive Thrift Server<br> 14/08/01 11:07:09WARN conf.HiveConf: DEPRECATED: hive.metastore.ds.retry.* no longer has anyeffect. Use hive.hmshandler.retry.*instead<br> Starting hive serveron port 10000 with 100 min worker threads and 2147483647 maxworker threads</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">接下来<span style="font-size:18pt;"><strong>学习更强大的hiveserver2</strong></span>。<span style="color:rgb(0,0,255);">Hiveserver2允许在配置文件hive-site.xml中进行配置管理，具体的参数为：</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　hive.server2.thrift.min.worker.threads– 最小工作线程数，默认为5。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　hive.server2.thrift.max.worker.threads – 最小工作线程数，默认为500。<br> hive.server2.thrift.port– TCP 的监听端口，默认为10000。<br> hive.server2.thrift.bind.host– TCP绑定的主机，默认为localhost。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　也可以设置环境变量HIVE_SERVER2_THRIFT_BIND_HOST和HIVE_SERVER2_THRIFT_PORT覆盖hive-site.xml设置的主机和端口号。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">从Hive-0.13.0开始，HiveServer2支持通过HTTP传输消息，该特性当客户端和服务器之间存在代理中介时特别有用。与HTTP传输相关的参数如下：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　hive.server2.transport.mode – 默认值为binary（TCP），可选值HTTP。<br> hive.server2.thrift.http.port– HTTP的监听端口，默认值为10001。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　hive.server2.thrift.http.path – 服务的端点名称，默认为 cliservice。<br> hive.server2.thrift.http.min.worker.threads– 服务池中的最小工作线程，默认为5。<br> hive.server2.thrift.http.max.worker.threads– 服务池中的最小工作线程，默认为500。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span style="font-size:14pt;"><strong>启动Hiveserver2有两种方式</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　一种是上面已经介绍过的hive --service hiveserver2</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　另一种更为简洁，为hiveserver2。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">使用hive--service hiveserver2 –H或hive--service hiveserver2 –help查看帮助信息：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Starting HiveServer2<br> Unrecognizedoption: -h<br> usage:hiveserver2<br> -H,--help Print help information<br> --hiveconf &lt;property=value&gt; Use value for given property</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　默认情况下，HiveServer2以提交查询的用户执行查询（true），如果hive.server2.enable.doAs设置为false，查询将以运行hiveserver2进程的用户运行。为了防止非加密模式下的内存泄露，可以通过设置下面的参数为true禁用文件系统的缓存：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　fs.hdfs.impl.disable.cache – 禁用HDFS文件系统缓存，默认值为false。<br> fs.file.impl.disable.cache – 禁用本地文件系统缓存，默认值为false。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><span style="font-size:18pt;"><strong>HiveServer2</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　客户端可以在不启动CLI的情况下对Hive中的数据进行操作。<br> 步骤一：配置HiveServer2，即是配置Hive的JDBC接口啦<br> &nbsp; &nbsp;去修改hive-site.xml文件，当然默认大部分都配置好了，若出现什么问题，去网上搜索查查再具体配置。<br> &nbsp; 见<a href="https://cwiki.apache.org/confluence/display/Hive/Setting+up+HiveServer2" rel="nofollow" style="color:#000000;">https://cwiki.apache.org/confluence/display/Hive/Setting+up+HiveServer2</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　步骤二：启动HiveServer2，默认是10000，<br> 在hive的安装目录下，执行bin/hive --server hiveserver2<br> 或执行bin/hiveserver2<br> 或执行bin/hive --service Hiveserver2 &amp;<br> 当然也可以如下这样<br> bin/hive --service hiveserver2 --hiveconf hive.server2.thrift.port=10001 <br></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>Hive与JDBC示例(非常重要，公司里必须这么干)</strong></span><br> 在使用 JDBC 开发 Hive 程序时, 必须首先开启 Hive 的远程服务接口。使用下面命令进行开启:<br> 步骤一：在hive的安装目录下　　<br> bin/hive --service Hiveserver2 &amp; //Hive0.11.0以上版本提供了的服务是：Hiveserver2<br> 我这里使用的Hive1.2.1版本，故我们使用Hiveserver2服务，下面我使用 Java 代码通过JDBC连接Hiveserver。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　 步骤二:准备好，测试数据<br> 本地目录/home/hadoop/下的djt.txt文件内容(每行数据之间用tab键隔开)如下所示:<br> 1 dajiangtai<br> 2 hadoop<br> 3 Hive<br> 4 hbase<br> 5 spark</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　在此，比如你是在Eclipse里或MyEclipse里编程，则需要</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a class="postTitle2" href="http://www.cnblogs.com/zlslch/p/6024551.html" rel="nofollow" style="color:#000000;">Hive项目开发环境搭建（Eclipse\MyEclipse + Maven）</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　 步骤三：编写号，程序代码<br> import java.sql.Connection;<br> import java.sql.DriverManager;<br> import java.sql.ResultSet;<br> import java.sql.SQLException;<br> import java.sql.Statement;<br> public class Hive {<br> private static String driverName = "org.apache.Hive.jdbc.HiveDriver";//Hive驱动名称<br> private static String url = "jdbc:hive2://djt11:10000/default";//连接Hive2服务的连接地址<br> private static String user = "spark";//对HDFS有操作权限的用户<br> private static String password = "spark";//在非安全模式下，指定一个用户运行查询，忽略密码<br> private static String sql = "";<br> private static ResultSet res;<br> public static void main(String[] args) {<br> try {<br> Class.forName(driverName);//加载HiveServer2驱动程序<br> Connection conn = DriverManager.getConnection(url, user, password);//根据URL连接指定的数据库<br> Statement stmt = conn.createStatement();<br><br> //创建的表名<br> String tableName = "testHiveDriverTable";<br><br> /** 第一步:表存在就先删除 **/<br> sql = "drop table " + tableName;<br> stmt.execute(sql);<br><br> /** 第二步:表不存在就创建 **/<br> sql = "create table " + tableName + " (key int, value string) row format delimited fields terminated by '\t' STORED AS TEXTFILE";<br> stmt.execute(sql);<br><br> // 执行“show tables”操作<br> sql = "show tables '" + tableName + "'";<br> res = stmt.executeQuery(sql);<br> if (res.next()) {<br> System.out.println(res.getString(1));<br> }<br><br> // 执行“describe table”操作<br> sql = "describe " + tableName;<br> res = stmt.executeQuery(sql);<br> while (res.next()) {&nbsp;<br> System.out.println(res.getString(1) + "\t" + res.getString(2));<br> }<br><br> // 执行“load data into table”操作<br> String filepath = "/home/hadoop/djt.txt";//Hive服务所在节点的本地文件路径<br> sql = "load data local inpath '" + filepath + "' into table " + tableName;<br> stmt.execute(sql);<br><br> // 执行“select * query”操作<br> sql = "select * from " + tableName;<br> res = stmt.executeQuery(sql);<br> while (res.next()) {<br> System.out.println(res.getInt(1) + "\t" + res.getString(2));<br> }<br><br> // 执行“regular Hive query”操作，此查询会转换为MapReduce程序来处理<br> sql = "select count(*) from " + tableName;<br> res = stmt.executeQuery(sql);<br> while (res.next()) {<br> System.out.println(res.getString(1));<br> }&nbsp;<br> conn.close();<br> conn = null;<br> } catch (ClassNotFoundException e) {<br> e.printStackTrace();<br> System.exit(1);<br> } catch (SQLException e) {<br> e.printStackTrace();<br> System.exit(1);<br> }<br> }<br> }</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　运行结果(右击--&gt;Run as--&gt;Run on Hadoop)<br> 执行“show tables”运行结果:<br> testHivedrivertable</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　 执行“describe table”运行结果:<br> key int<br> value string</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　 执行“select * query”运行结果:<br> 1 dajiangtai<br> 2 hadoop<br> 3 Hive<br> 4 hbase<br> 5 spark</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　 执行“regular Hive query”运行结果:<br> 5</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>HWI环境搭建方法一</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110016474-1953957324.png" alt="" style="border:0px;"></strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105452677-1505609180.png" alt="" style="border:0px;"></strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105600974-308180590.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105620099-2042335655.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105646177-2019273781.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105916537-2125325878.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105800427-1062269596.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201105941209-713718935.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110034709-1285779303.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110120818-1652678583.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110149459-1772778356.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110236974-1150563748.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　第二步：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110316256-951592920.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110502912-717725669.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　第三步：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110537240-460355251.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　第四步：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110608146-1948936020.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　第五步：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110631927-1380411538.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110740240-1795383308.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110757224-1441003751.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201612/855959-20161201110822037-2009229382.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>Hwi环境搭建方法二（与上面一样的，自行选择）</strong></span><br> HWI是Hive Web Interface的简称，是hive cli的一个web替换方案。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><a href="http://blog.csdn.net/ckfflyingdream/article/details/50515837" rel="nofollow" style="color:#000000;">http://blog.csdn.net/ckfflyingdream/article/details/50515837</a>&nbsp; 感谢！</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Hive Web Interface（HWI）简介：Hive自带了一个Web-GUI。但在lib下，是一个hive-hwi-1.2.1.jar，需要我们自己制作。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161125160253034-1961215777.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>怎么制作出hive-hwi-*.*.*.war？</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>　　这里，以hive-1.2.1位例。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">下载源码</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　下载地址：http://www.apache.org/dyn/closer.cgi/hive/<br> 得到apache-hive-1.2.1-src.tar.gz&nbsp;<br> 打包<br> 将源码解压:&nbsp;<br> tar -zxvf apache-hive-1.2.1-src.tar.gz<br> 进入解压后的目录，再进入hwi目录下：<br> cd apache-hive-1.2.1-src/hwi/<br> 生成war包：<br> jar cvM hive-hwi-1.2.1.war -C web .<br> 将生成的war包，拷贝到hive的lib目录下，重启hwi服务。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">报错解决<br> 若有如下报错，需将jre下的tools.jar包拷到Hive的lib目录下，重启hwi服务：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">cp /usr/java/jdk1.7.0_79/lib/tools.jar /home/Big.Data/Hive/apache-hive-1.2.1-bin/lib/.<br> sh bin/hive --service hwi<br> ----------------------------------------------------------------------------------------------------------------------<br> Problem accessing /hwi/. Reason:<br> Unable to find a javac compiler;<br> com.sun.tools.javac.Main is not on the classpath.<br> Perhaps JAVA_HOME does not point to the JDK.<br> It is currently set to "/usr/java/jdk1.7.0_79/jre"</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>怎么制作出hive-hwi-*.*.*.war？</strong><br> 需要下载Hive的源码文件，然后将hwi/web目录下的文件用 jar cvf hive-hwi-1.2.1.war ./*&nbsp;<br> 其实war包也是zip包，可以通过。<br> cd hwi/web<br> zip hive-hwi-1.2.1.zip ./* 　　　　 //打包成.zip文件。<br> 将zip包后缀改成war<br> mv hive-hwi-1.2.1.zip hive-hwi-1.2.1.war</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161125155954550-476612924.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> cp hive-hwi-1.2.1.war /opt/sxt/soft/apache-hive-1.2.1-bin/lib/</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">命令来打包成一个war包，然后放到Hive的lib目录下即可。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161125162549003-1839713793.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161125162638596-271325084.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&lt;property&gt;<br> &lt;name&gt;hive.hwi.listen.host&lt;/name&gt;<br> &lt;value&gt;0.0.0.0&lt;/value&gt;<br> &lt;description&gt;This is the host address the Hive Web Interface will listen on&lt;/description&gt;<br> &lt;/property&gt;<br> &lt;property&gt;<br> &lt;name&gt;hive.hwi.listen.port&lt;/name&gt;<br> &lt;value&gt;9999&lt;/value&gt;<br> &lt;description&gt;This is the port the Hive Web Interface will listen on&lt;/description&gt;<br> &lt;/property&gt;<br> &lt;property&gt;<br> &lt;name&gt;hive.hwi.war.file&lt;/name&gt;<br> &lt;value&gt;${env:HWI_WAR_FILE}&lt;/value&gt;<br> &lt;description&gt;This sets the path to the HWI war file, relative to ${HIVE_HOME}. &lt;/description&gt;<br> &lt;/property&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;这是hive-1.2.1自带的，需要修改成下面部分。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 配置文件conf/hive-site.xml，添加hive.hwi.war.file的配置：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&lt;property&gt;<br> &lt;name&gt;hive.hwi.listen.host&lt;/name&gt;<br> &lt;value&gt;0.0.0.0&lt;/value&gt;<br> &lt;description&gt;This is the host address the Hive Web Interface will listen on&lt;/description&gt;<br> &lt;/property&gt;<br> &lt;property&gt;<br> &lt;name&gt;hive.hwi.listen.port&lt;/name&gt;<br> &lt;value&gt;9999&lt;/value&gt;<br> &lt;description&gt;This is the port the Hive Web Interface will listen on&lt;/description&gt;<br> &lt;/property&gt;<br> &lt;property&gt;<br> &lt;name&gt;hive.hwi.war.file&lt;/name&gt;<br> &lt;value&gt;lib/hive-hwi-1.2.1.war&lt;/value&gt;<br> &lt;description&gt;This sets the path to the HWI war file, relative to ${HIVE_HOME}. &lt;/description&gt;<br> &lt;/property&gt;<br> 启动<br> $ sh bin/hive --service hwi</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">----------------------------------------------------------------------------------------------------<br> 没有UI war包的，需要自己下载对应版本的源码进行打包，后拷到lib下。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161125162905003-220167562.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　其实这里/lib/hive-hwi-1.2.1war，就是hive安装目录下。soga!</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　在配置文件中，监听端口默认是9999，也可以通过hive配置文件对端口进行修改。当配置完成后，<br> 在hive的安装目录下，执行bin/hive --server hwi</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　对应地，http://masterIP:9999/hwi</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>&nbsp;　　Hive网络接口操作实例</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　如，数据库及表信息查询、Hive查询、等</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><span style="font-size:18pt;"><strong>beeline环境搭建</strong></span><br> 步骤一：<br> 在hive的安装目录下，执行bin/beeline，进入beeline，执行以下<br> !connect jdbc:hive2://localhost:10000 root org.apache.hive.jdbc.HiveDriver</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p><font><span style="font-size:14px;">本文转自大数据躺过的坑博客园博客，原文链接：http://www.cnblogs.com/zlslch/p/6101727.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
