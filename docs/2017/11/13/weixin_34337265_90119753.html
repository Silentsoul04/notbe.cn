<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Microsoft IoT Starter Kit 开发初体验 « NotBeCN</title>
  <meta name="description" content="             1. 引子    &nbsp;&nbsp;&nbsp; 今年6月底，在上海举办的中国国际物联网大会上，微软中国面向中国物联网社区推出了Microsoft IoT Starter Kit ，并且免费开放1000套的申请。申请地址为：http://aka.ms/iotkits，目前仍然有效。...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/13/weixin_34337265_90119753.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Microsoft IoT Starter Kit 开发初体验</h1>
    <p class="post-meta">Nov 13, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>1. 引子</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 今年6月底，在上海举办的中国国际物联网大会上，微软中国面向中国物联网社区推出了Microsoft IoT Starter Kit ，并且免费开放1000套的申请。申请地址为：<a href="http://aka.ms/iotkits" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://aka.ms/iotkits</a>，目前仍然有效。当时一开放申请，我就在线填写了申请表，接下来就是长长的等待。相信很多朋友都是一样，在经过几个月的等待之后，终于拿到了这个开发套件，而有些朋友估计还在等待中。因为官方是一个月处理并邮寄一批，速度不是很快。但是，在经过了一段时间使用以后，我可以说，如果朋友们期待在这个最初版本的套件上开发基于Windows 10 IoT Core的程序的话，那么，还得再等等，因为后续的升级版本套件还在测试中。如果你有Linux和Arduino的基础，那么，恭喜你，你可以快速上手用了。接下来，就从我自己的角度，和大家分享这个套件的使用初体验。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>2.开发套件硬件</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 首先，我们来看一看硬件配置，这次拿到的开发套件是微软物联网开发套件A型，包含了SeeeduinoCloud和Orange Pi Lite两块开发板，外围设备方面，包含Grove接口扩展板、200万像素摄像头、板载麦克风、温湿度传感器、光敏传感器、RGB灯、声音传感器、板载WIFI模块、8G Micro SD存储卡、一根MicroUSB线（给SeeeduinoCloud供电）和一根给Orange Pi Lite供电的USB线，值得注意的是，给SeeeduinoCloud供电的话，普通的充电器或者电脑的USB接口就足够了；但是，给Orange Pi Lite供电的话，最好找个电流大一些的充电器，比如1A以上的，官方标的是需要2A。另外，需要澄清的是，开发套件B不包含在免费赠送的范围内，据说，开发套件B型包含一块RaspberryPi 3 Model B、OLED显示屏、NFC、RFID卡、空气质量传感器、中继器、角度控制器等部件。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 应该说，开发这两块开发板，用的套路是不一样的。首先，SeeeduinoCloud用的是Arduino IDE；Orange Pi Lite默认烧写运行的是Ubuntu系统，需要Linux环境的开发机。Grove接口扩展板和其他的各种传感器，是设计给SeeeduinoCloud用的；而摄像头，是设计给Orange Pi Lite用的。所以，这两部分硬件的概要图是这个样子的。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130736029-1831340184.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130737217-1580820073.png" alt="image" width="484" height="364" style="border:0px;background-image:none;"></a><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130738310-391652770.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130738935-421829044.png" alt="image" width="404" height="364" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 从性能上来看，Orange Pi Lite是不输给树莓派的，而淘宝的价格只有70+RMB，还是比较给力的。相比较而言，还是这块SeeeduinoCloud较贵，官网上的价格是50美金，不过它已经包含了无线WiFi，运行的环境是Openwrt+Arduino。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>3. 软件与准备工作</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 从官方的宣传来看，称此套件“支持Arduino、OpenWrt、多种Linux发行版、Windows 10 IoT Core。为了更方便地连接Azure云服务，微软物联网开发套件在开发版中内置了Azure IoT SDK和Azure Cognitive Services认知服务SDK”。这里，需要大家注意的是，Arduino、OpenWrt是对于SeeeduinoCloud而言的，多种Linux发行版是对于Orange Pi Lite而言的，Windows 10 IoT Core是对于开发套件B的树莓派而言的。所以，不同的硬件运行不同的系统，开发工具和环境也不一样，这个大家需要留心，根据自己的实际需求来选择。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 这里，我们先来测试SeeeduinoCloud和对应的Azure IoTHub服务。在开始之前，首先需要在自己的开发机器上安装Arduino IDE，因为SeeeduinoCloud需要使用Arduino IDE来编写执行的代码。如果没有安装该软件的朋友，可以到<a title="https://www.arduino.cc" href="https://www.arduino.cc/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://www.arduino.cc</a>下载并安装最新的版本。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 另外，使用Azure IoT服务的话，需要向世纪互联提交试用申请，地址为：<a title="https://www.azure.cn/pricing/1rmb-trial-full/?form-type=identityauth" href="https://www.azure.cn/pricing/1rmb-trial-full/?form-type=identityauth" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://www.azure.cn/pricing/1rmb-trial-full/?form-type=identityauth</a>。当然，如果有国际版MSDN订阅的账户，其中包含了Azure服务的，也可以直接使用Azure IoT服务。套件中需要使用的Azure连接信息主要就是IoTHub的Hostname，Devicename和Key。有关IoTHub的创建，可以参考Azure的在线文档：<a title="https://www.azure.cn/documentation/articles/iot-hub-csharp-csharp-getstarted/" href="https://www.azure.cn/documentation/articles/iot-hub-csharp-csharp-getstarted/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://www.azure.cn/documentation/articles/iot-hub-csharp-csharp-getstarted/</a>。有关Device的创建，可以直接使用Device Explore工具，具体可以参考：<a title="https://github.com/Azure/azure-iot-sdks/tree/master/tools/DeviceExplorer" href="https://github.com/Azure/azure-iot-sdks/tree/master/tools/DeviceExplorer" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://github.com/Azure/azure-iot-sdks/tree/master/tools/DeviceExplorer</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 当然，如果要用别的免费的在线服务，也可以选择国内的Yeelink，具体可以参考：<a title="http://wiki.seeed.cc/Seeeduino_Cloud/" href="http://wiki.seeed.cc/Seeeduino_Cloud/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://wiki.seeed.cc/Seeeduino_Cloud/</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>4. 硬件连接与初始设置</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 将开发套件中的SeeeduinoCloud、Grove接口扩展板和4个传感器取出，按照如下的连线方式连接：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; ① Grove - Temp&amp;Humi Sensor -&gt; A0；② Grove - Light Sensor -&gt; A1；③ Grove - Sound Sensor -&gt; A2；④ Grove - Chainable RGB LED -&gt; D4，注意，Chainable RGB LED端接In。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 连线完毕以后，效果图如下：</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130739935-1990786373.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130741092-57881311.png" alt="image" width="484" height="364" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 给SeeeduinoCloud上电，参考<a title="http://wiki.seeed.cc/Seeeduino_Cloud/" href="http://wiki.seeed.cc/Seeeduino_Cloud/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://wiki.seeed.cc/Seeeduino_Cloud/</a>文档的Network Config部分，配置SeeeduinoCloud连接无线路由器的SSID和密码（当然，如果想直接使用RJ45以太网接口的朋友，可以直接忽略）。首先，进入SeeeduinoCloud，其密码是seeeduino，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130741904-1574679742.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130742154-2094235609.png" alt="image" width="644" height="244" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 其次，在System部分，配置可用的无线路由器的SSID和密码，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130742373-1938092484.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130742670-439207943.png" alt="image" width="644" height="367" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 设置结束以后，点击Configure and Restart，重启以后，可以登录无线路由器，发现它能够通过WiFi连接了。当然，从SeeeduinoCloud上电到连接上WiFi，需要一定的时间（大概30秒）。它的主机名是“--”，比较奇怪。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130742998-717868333.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130743310-171711553.png" alt="image" width="644" height="284" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>5. 设置Azure IoTHub连接字符串</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 使用Putty客户端，根据IP地址连接SeeeduinoCloud，按照“root，seeeduino”登录。如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130743717-485458952.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130744185-1204201611.png" alt="image" width="644" height="407" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 在根目录下，使用ls命令查看现有的文件。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130744513-2014646057.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130744826-1059990723.png" alt="image" width="644" height="201" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 可见，其中已经包含了一些必须的文件。这些文件在出厂的时候已经设置好了，需要修改的就是AzureConnectionString。因为这个是连接IoTHub的字符串。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 使用 vi 键入 host name、device id 与 device key 到文件 " AzureConnectionString "。文件路径为 " /root/AzureConnectionString "。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 或者使用 echo 命令输入字符串，如下（下面的问号用上面申请到的连接字符串代替）：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; echo -n '<a name="OLE_LINK33"></a><a name="OLE_LINK32"></a>HOST_NAME:<a name="OLE_LINK36"></a><a name="OLE_LINK35"></a><a name="OLE_LINK34"></a><a name="OLE_LINK31"></a><a name="OLE_LINK30"></a>???.azure-devices.???</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; DEVICE_ID:???</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; DEVICE_KEY:???' &gt; /root/AzureConnectionString</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>6. Arduino编程并下载程序</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong>利用Arduino IDE打开源代码工程，可以去<a title="https://github.com/WayenWeng/Seeeduino_Cloud_Azure_IoT_Hub_Client/" href="https://github.com/WayenWeng/Seeeduino_Cloud_Azure_IoT_Hub_Client/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://github.com/WayenWeng/Seeeduino_Cloud_Azure_IoT_Hub_Client/</a>下载。把Seeeduino_Cloud_Azure_IoT_Hub_Client-master\Arduino Code\libraries下的两个文件夹解压到Arduino IDE的libraries目录下。如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130745326-548944906.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130745560-806152945.png" alt="image" width="644" height="217" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 打开工程，可以发现，程序主要采集的数据就是温度、湿度、光照强度和声音强度，采集的时间间隔可以通过loop中的delay函数来控制，其中的参数是以毫秒为单位的，默认应该是1000，也就是1秒钟采集一次数据，可以根据实际情况修改。另外，发送和接收数据是通过调用根目录下的AzureMessageSend和AzureMessageReceive来实现的，这部分内容并不在Arduino控制的范围内。当然，如果用户需要增加其他的传感器数据，就可以在扩展板上接其他传感器，在程序中读取，并封装到消息体里面就可以。然后，如果硬件连接正确的话，就可以在工具-端口中找到Seeeduino对应的COM号。最后，点击上传，就可以将程序上传到Seeeduino中。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130745842-476358171.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130746060-1067956859.png" alt="image" width="644" height="273" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>7. 运行程序并监控数据</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 在Putty工具中，使用ps命令，就可以查看进程，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130746607-699201703.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130747263-2143364295.png" alt="image" width="644" height="652" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 其中可以找到AzureIoTHubClient，该进程是默认启动的。为了监控数据采集和发送的状态，可以显示启动它。在命令行中，输入./AzureIoTHubClient，回车。如果正常的话，会显示客户端连接Azure IoTHub的状态信息，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130747920-182812282.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130748123-1882561977.png" alt="image" width="644" height="164" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 之后，程序就会每隔1秒钟采集数据，并发送给IoTHub，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130748717-837482911.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130755857-407663168.png" alt="image" width="644" height="87" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 在本地，可以使用Device Explore来监控对应设备的数据，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130757373-817741555.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130757998-1106204606.png" alt="image" width="644" height="447" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 另外，也可以在Azure的主页上查看已经发送的数据数量，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130759342-1600207535.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130800092-1232764304.png" alt="image" width="644" height="633" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>8. 数据的在线可视化-PowerBI</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong>传感器采集的数据是冷冰冰的，如何让它活跃起来，我们可以使用微软提供的Stream Analytics和PowerBI来实现数据的多样化显示。首先，需要在Azure的主页上新建一个流分析的业务，并将其输入配置为之前新建的IoTHub，输出配置为PowerBI，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130800638-554408382.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130801857-742789526.png" alt="image" width="644" height="601" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 当IoT Hub和Stream Analytics都运行起来以后，登录到PowerBI，设置图标的样式，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130803998-292839121.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130804810-1356232542.png" alt="image" width="484" height="462" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 之后，可以将报表固定到某个Dashboard上，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130805560-1708960243.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130806545-440174192.png" alt="image" width="644" height="311" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 保存，回到PowerBI主页，就可以看到实时的传感器数据的视图了，如下图所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images2015.cnblogs.com/blog/41072/201611/41072-20161116130807357-604780592.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="image" src="https://images2015.cnblogs.com/blog/41072/201611/41072-20161116130809013-657897884.png" alt="image" width="644" height="287" style="border:0px;background-image:none;"></a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>后记</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 整个项目调试过程中，需要注意在输入Azure连接字符串时，最好通过VI输入，因为如果使用Windows的记事本等工具输入，有可能会带入一些不必要的字符，影响Azure IoT Hub的连接。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>参考链接</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">1. IoT Starter Kit申请地址：<a href="http://aka.ms/iotkits" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://aka.ms/iotkits</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">2. Azure试用申请：：<a title="https://www.azure.cn/pricing/1rmb-trial-full/?form-type=identityauth" href="https://www.azure.cn/pricing/1rmb-trial-full/?form-type=identityauth" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://www.azure.cn/pricing/1rmb-trial-full/?form-type=identityauth</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">3. IoTHub的创建：<a title="https://www.azure.cn/documentation/articles/iot-hub-csharp-csharp-getstarted/" href="https://www.azure.cn/documentation/articles/iot-hub-csharp-csharp-getstarted/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://www.azure.cn/documentation/articles/iot-hub-csharp-csharp-getstarted/</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">4. Device Explore工具：<a title="https://github.com/Azure/azure-iot-sdks/tree/master/tools/DeviceExplorer" href="https://github.com/Azure/azure-iot-sdks/tree/master/tools/DeviceExplorer" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://github.com/Azure/azure-iot-sdks/tree/master/tools/DeviceExplorer</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">5. SeeeduinoCloud上手文档：<a title="http://wiki.seeed.cc/Seeeduino_Cloud/" href="http://wiki.seeed.cc/Seeeduino_Cloud/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://wiki.seeed.cc/Seeeduino_Cloud/</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">6. 程序代码托管地址：<a title="https://github.com/WayenWeng/Seeeduino_Cloud_Azure_IoT_Hub_Client/" href="https://github.com/WayenWeng/Seeeduino_Cloud_Azure_IoT_Hub_Client/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">https://github.com/WayenWeng/Seeeduino_Cloud_Azure_IoT_Hub_Client/</a></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><br></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><br></p> 
   <p style="line-height:1.5;"><font color="#4b4b4b">本文转自灵动生活博客园博客，原文链接http://www.cnblogs.com/dearsj001/p/MicrosoftIoTStarterKitStartup.html</font><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">：，如需转载请自行联系原作者</span></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
