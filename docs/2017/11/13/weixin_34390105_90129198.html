<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Python-list-sort() « NotBeCN</title>
  <meta name="description" content="                 Python lists have a built-in&nbsp;sort()&nbsp;method that modifies the list in-place and a&nbsp;sorted()built-in function that builds a new ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/13/weixin_34390105_90129198.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Python-list-sort()</h1>
    <p class="post-meta">Nov 13, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Python lists have a built-in&nbsp;sort()&nbsp;method that modifies the list in-place and a&nbsp;sorted()built-in function that builds a new sorted list from an iterable.<br></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">There are many ways to use them to sort data and there doesn't appear to be a single, central place in the various manuals describing them,so I'll do so here.</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Sorting Basics【基本排序】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">A simple ascending【递增】 sort is very easy -- just call the&nbsp;sorted()&nbsp;<span style="color:rgb(0,0,0);">function. It returns a new sorted list:</span></p> 
   <pre>&gt;&gt;&gt; sorted([5, 2, 3, 1, 4])
[1, 2, 3, 4, 5]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">You can also use the&nbsp;list.sort()&nbsp;method of a list. It modifies the list in-place (and<span style="color:rgb(0,0,0);">&nbsp;returns None to a void confusion). Usually it's less convenient than&nbsp;sorted()&nbsp;- but if you don't need the original list, it's slightly more efficient.</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【sorted返回一个新的list，sort在原list基础上进行修改】</span></p> 
   <pre>&gt;&gt;&gt; a = [5, 2, 3, 1, 4]
&gt;&gt;&gt; a.sort()
&gt;&gt;&gt; a
[1, 2, 3, 4, 5]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Another difference<span style="color:rgb(0,0,0);">&nbsp;is that the&nbsp;list.sort()&nbsp;method is only defined for lists. In contrast, the&nbsp;sorted()function accepts any iterable.</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【sorted可以对任意iterable排序，sort只能对list排序】</span></p> 
   <pre>&gt;&gt;&gt; sorted({1: 'D', 2: 'B', 3: 'B', 4: 'E', 5: 'A'})
[1, 2, 3, 4, 5]</pre> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Key Functions【Key 方法】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Starting with Python 2.4, both&nbsp;list.sort()&nbsp;and&nbsp;sorted()&nbsp;added a&nbsp;key&nbsp;parameter to specify a function to be called on each list element prior to making comparisons.<span style="color:rgb(0,0,255);">【自从python2.4之后，list.sort和sorted都添加了一个key参数用来指定一个函数，这个函数作用于每个list元素，在做cmp之前调用】</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">For example, here's a case-insensitive【不区分大小写】 string comparison:</p> 
   <pre>&gt;&gt;&gt; sorted("This is a test string from Andrew".split(), key=str.lower)
['a', 'Andrew', 'from', 'is', 'string', 'test', 'This']</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">The value of the&nbsp;key&nbsp;parameter should be a function that takes a single argument and returns a key to use for sorting purposes.This technique is fast because the key function is called exactly once for each input record.</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【key参数是一个函数，这个函数有一个参数，返回一个用来排序的关键字。这个技术很快，因为key方法在每个输入的record上只执行一次】</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">A common pattern is to sort complex objects using some of the object's indices as a key. For example:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&gt;&gt;&gt; student_tuples = [<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ('john', 'A', 15),<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ('jane', 'B', 12),<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ('dave', 'B', 10),<br> ]<br><span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_tuples, key=lambda student: student[2])&nbsp;&nbsp; # sort by age</span><br> [('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">The same technique works for objects with named attributes. For example:</p> 
   <pre>&gt;&gt;&gt; class Student:
        def __init__(self, name, grade, age):
                self.name = name
                self.grade = grade
                self.age = age
      <span style="color:rgb(255,0,255);">  def __repr__(self):
                return repr((self.name, self.grade, self.age))

</span>&gt;&gt;&gt; student_objects = [
        Student('john', 'A', 15),
        Student('jane', 'B', 12),
        Student('dave', 'B', 10),
]
<span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_objects, key=lambda student: student.age)   # sort by age
</span>[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]</pre> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Operator Module Functions【运算符模块方法】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">The key-function patterns shown above are very common, so Python provides convenience functions to make accessor functions easier and faster. The&nbsp;<a class="http" href="http://docs.python.org/library/operator.html#module-operator" rel="nofollow" style="color:rgb(0,0,0);">operator module</a>&nbsp;has&nbsp;itemgetter,&nbsp;attrgetter, and starting in Python 2.6 a&nbsp;methodcallerfunction.</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【上述key方法模式在python中是很常用的，所以python提供了方便的函数来更加便捷的访问这个函数，operator模块有itemgetter,&nbsp;attrgetter以及从python2.6出现的methodcaller方法】</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Using those functions, the above examples become simpler and faster.</p> 
   <pre>&gt;&gt;&gt; from operator import itemgetter, attrgetter

<span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_tuples, key=itemgetter(2))【age是student中第2个条目（从0记）】
</span>[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]

<span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_objects, key=attrgetter('age'))【直接注明age属性】
</span>[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">The operator module functions allow multiple levels of sorting.For example, to sort by grade then by age:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【operator模块函数支持多级排序，例如先按grade再按age排序】</span></p> 
   <pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_tuples, key=itemgetter(1,2))
</span>[('john', 'A', 15), ('dave', 'B', 10), ('jane', 'B', 12)]

<span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_objects, key=attrgetter('grade', 'age'))
</span>[('john', 'A', 15), ('dave', 'B', 10), ('jane', 'B', 12)]</pre> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Ascending and Descending【递增和递减】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Both&nbsp;list.sort()&nbsp;and&nbsp;sorted()&nbsp;accept a&nbsp;reverse&nbsp;parameter with a boolean value. This is using to flag descending sorts.For example, to get the student data in reverse age order:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【sort和sorted中的reverse（布尔值）参数用来标记排序顺序的，True-递减，False-递增（默认）】</span></p> 
   <pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; sorted(student_tuples, key=itemgetter(2), reverse=True)【递减】
</span>[('john', 'A', 15), ('jane', 'B', 12), ('dave', 'B', 10)]

&gt;&gt;&gt; sorted(student_objects, key=attrgetter('age'), reverse=True)
[('john', 'A', 15), ('jane', 'B', 12), ('dave', 'B', 10)]</pre> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Sort Stability and Complex Sorts【<span style="color:rgb(0,0,255);">排序的稳定性</span>以及<span style="color:rgb(0,0,255);">复杂排序</span>】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Starting with Python 2.2, sorts are guaranteed to be&nbsp;<a class="http" href="http://en.wikipedia.org/wiki/Sorting_algorithm#Stability" rel="nofollow" style="color:rgb(0,0,0);">stable</a>.That means that when multiple records have the same key,their original order is preserved.</p> 
   <pre>&gt;&gt;&gt; data = [('red', 1), ('blue', 1), ('red', 2), ('blue', 2)]
&gt;&gt;&gt; sorted(data, key=itemgetter(0))
[('blue', 1), ('blue', 2), ('red', 1), ('red', 2)]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Notice how the two records for&nbsp;'blue'&nbsp;retain their original order so that&nbsp;('blue',&nbsp;1)&nbsp;is guaranteed to precede&nbsp;('blue',&nbsp;2).</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">This wonderful property lets you build complex sorts in a series of sorting steps. For example, to sort the student data by descending grade and then ascending age, do the age sort first and then sort again using grade:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【要想结果是先按grade递减排序，再按age递增排序。那么，程序中就要先对age进行排序，再按grade排序】</span></p> 
   <pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; s = sorted(student_objects, key=attrgetter('age'))     # sort on secondary key
&gt;&gt;&gt; sorted(s, key=attrgetter('grade'), reverse=True)       # now sort on primary key, descending
</span>[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">The&nbsp;<a class="http" href="http://en.wikipedia.org/wiki/Timsort" rel="nofollow" style="color:rgb(0,0,0);">Timsort</a>&nbsp;algorithm<span style="color:rgb(0,0,255);">（优化后的归并排序）</span>&nbsp;used in Python does multiple sorts efficientlybecause it can take advantage of any ordering already present ina dataset.</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">The Old Way Using Decorate-Sort-Undecorate【老方法：DSU:装饰-排序-去装饰】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">This idiom is called Decorate-Sort-Undecorate after its three steps:</p> 
   <ul style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style-type:disc;">First, the initial list is decorated with new values that control the sort order.</li> 
    <li style="list-style-type:disc;"><span style="color:rgb(0,0,255);">【第一步：用一个新值去装饰初始list，这个值就是排序的依据】</span></li> 
    <li style="list-style-type:disc;">Second, the decorated list is sorted.</li> 
    <li style="list-style-type:disc;"><span style="color:rgb(0,0,255);">【第二步：对装饰好的list进行排序】</span></li> 
    <li style="list-style-type:disc;">Finally, the decorations are removed, creating a list that contains only the initial values in the new order.</li> 
    <li style="list-style-type:disc;"><span style="color:rgb(0,0,255);">【第三步：去除装饰信息，生成一个排好序的只包含初始值的list】</span></li> 
   </ul>
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">For example, to sort the student data by grade using the DSU approach:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【用DSU方法对student按照grade排序】</span></p> 
   <pre><span style="color:rgb(0,0,255);">【D】&gt;&gt;&gt; decorated = [(student.grade, i, student) for i, student in enumerate(student_objects)]  【这里好像使用了类似B if A句型？】  <br>
【S】&gt;&gt;&gt; decorated.sort()
【U】&gt;&gt;&gt; [student for grade, i, student in decorated]               # undecorate
</span>    [('john', 'A', 15), ('jane', 'B', 12), ('dave', 'B', 10)]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">【enumerate（枚举）是做什么用的？？？】</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">附：在Python中，我们习惯这样遍历：<br> for item in sequence:<br> &nbsp;process(item)<br> 这样遍历取不到item的序号i，所有就有了下面的遍历方法：<br> for index in range(len(sequence)):<br> &nbsp;process(sequence[index])<br> 其实，如果你了解内置的enumerate函数，还可以这样写：<br> for index, item in enumerate(sequence):<br> &nbsp;process(index, item)<br> 详细出处参考：<a href="http://www.jb51.net/article/15715.htm" rel="nofollow" style="color:rgb(0,0,0);">http://www.jb51.net/article/15715.htm</a></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">This idiom works because tuples are compared lexicographically; the first items are compared; if they are the same then the second items are compared, and so on.</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【这个方法之所以起作用，是因为tuples是按照字典序比较的，比较第1项，如果相同，就比较第2项，以此类推】</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">It is not strictly necessary in all cases to include the index&nbsp;iin the decorated list. Including it gives two benefits:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">【decorated list中的索引i并不是所有场合都必须的，包含索引之后有两个好处：】</p> 
   <ul style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style-type:disc;">The sort is stable - if two items have the same key, their order will be preserved in the sorted list.</li> 
    <li style="list-style-type:disc;">【排序是稳定的】</li> 
    <li style="list-style-type:disc;"> <p>The original items do not have to be comparable because the ordering of the decorated tuples will be determined by at most the first two items. So for example the original list could contain&nbsp;complex&nbsp;numbers which cannot be sorted directly.</p> </li> 
    <li style="list-style-type:disc;">【初始序列不一定要是可以排序的】</li> 
   </ul>
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Another name for this idiom is&nbsp;<a class="http" href="http://en.wikipedia.org/wiki/Schwartzian_transform" rel="nofollow" style="color:rgb(0,0,0);">Schwartzian transform</a>, after Randal L. Schwartz, who popularized it among Perl programmers.</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">For large lists and lists where the comparison informationis expensive to calculate, and Python versions before 2.4, DSU is likely to be the fastest way to sort the list. For 2.4 and later, key functions provide the same functionality.</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">【python2.4之前，这个方法是最快的排序list方法，但是之后的key函数提供了同样的效果。】</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">The Old Way Using the cmp Parameter【老方法：使用cmp参数】</h2> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Many constructs【架构】 given in this HOWTO assume Python 2.4 or later. Before that, there was no&nbsp;sorted()&nbsp;built in and&nbsp;list.sort()&nbsp;took no keyword arguments. Instead, all of the Py2.x versions supported a&nbsp;cmp&nbsp;parameter to handle user specified comparison functions.</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">In Py3.0, the&nbsp;cmp&nbsp;parameter was removed entirely (as part of a larger effort to simplify and unify the language, eliminating the conflict between rich comparisons and the&nbsp;__cmp__methods).</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【python3.0之后已经完全移除了cmp参数】</span></p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">In Py2.x, sort allowed an optional function which can be called for doing thecomparisons. That function should take two arguments to be compared andthen return a negative value for less-than, return zero if they are equal,or return a positive value for greater-than. For example, we can do:</p> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">【直接看下边代码就知道cmp怎么回事了】</span></p> 
   <pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; def numeric_compare(x, y):
        return x - y
&gt;&gt;&gt; sorted([5, 2, 4, 1, 3], cmp=numeric_compare)
[1, 2, 3, 4, 5]</span></pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">Or you can reverse the order of comparison with:</span></p> 
   <pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; def reverse_numeric(x, y):
        return y - x
&gt;&gt;&gt; sorted([5, 2, 4, 1, 3], cmp=reverse_numeric)
[5, 4, 3, 2, 1]</span></pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">When&nbsp;<span style="color:rgb(0,0,255);">porting【移植】</span>&nbsp;code from Python 2.x to 3.x, the situation can arisewhen you have the user supplying a comparison function and youneed to convert that to a key function. The following wrappermakes that easy to do:</p> 
   <pre>def cmp_to_key(mycmp): <span style="color:rgb(0,0,255);">【从2.x到3.x移植程序时需要用到】
</span>    'Convert a cmp= function into a key= function'
    class K(object):
        def __init__(self, obj, *args):
            self.obj = obj
        def __lt__(self, other):
            return mycmp(self.obj, other.obj) &lt; 0
        def __gt__(self, other):
            return mycmp(self.obj, other.obj) &gt; 0
        def __eq__(self, other):
            return mycmp(self.obj, other.obj) == 0
        def __le__(self, other):
            return mycmp(self.obj, other.obj) &lt;= 0
        def __ge__(self, other):
            return mycmp(self.obj, other.obj) &gt;= 0
        def __ne__(self, other):
            return mycmp(self.obj, other.obj) != 0
    return K</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">To convert to a key function, just wrap the old comparison function:</p> 
   <pre>&gt;&gt;&gt; sorted([5, 2, 4, 1, 3], key=cmp_to_key(reverse_numeric))
[5, 4, 3, 2, 1]</pre> 
   <p style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">In Python 2.7, the&nbsp;<em>cmp_to_key()</em>&nbsp;tool was added to the&nbsp;<em>functools</em>&nbsp;module.</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Odd and Ends【其他方法、结尾】</h2> 
   <ul style="color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style-type:disc;"> <p>For locale aware sorting, use&nbsp;locale.strxfrm()&nbsp;for a key function or&nbsp;locale.strcoll()&nbsp;for a comparison function.</p> </li> 
    <li style="list-style-type:disc;"><span style="color:rgb(0,0,255);">【locale是什么东东？】</span></li> 
    <li class="gap" style="list-style-type:disc;"> <p>The&nbsp;reverse&nbsp;parameter still maintains sort stability (i.e. records with equal keys retain the original order). Interestingly, that effect can be simulated without the parameter by using the builtin&nbsp;reversedfunction twice:</p> <p>reverse参数依然维持排序稳定性。有趣的是，这个效果可以通过不使用这个参数而使用内置reverse方法两次来验证。</p> 
     <ul>
      <li style="list-style-type:none;"><pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; data = [('red', 1), ('blue', 1), ('red', 2), ('blue', 2)]
&gt;&gt;&gt; assert sorted(data, reverse=True) == list(reversed(sorted(reversed(data))))【断言，判断是否为真】</span></pre></li>
     </ul></li> 
    <li class="gap" style="list-style-type:disc;">To create a standard sort order for a class, just add the appropriate rich comparison methods:</li> 
    <li class="gap" style="list-style-type:disc;">为一个类创建基本排序方法时候，只需要这样。</li> 
    <li style="list-style-type:none;"> <pre><span style="color:rgb(0,0,255);">&gt;&gt;&gt; Student.__eq__ = lambda self, other: self.age == other.age
&gt;&gt;&gt; Student.__ne__ = lambda self, other: self.age != other.age
&gt;&gt;&gt; Student.__lt__ = lambda self, other: self.age &lt; other.age
&gt;&gt;&gt; Student.__le__ = lambda self, other: self.age &lt;= other.age
&gt;&gt;&gt; Student.__gt__ = lambda self, other: self.age &gt; other.age
&gt;&gt;&gt; Student.__ge__ = lambda self, other: self.age &gt;= other.age
&gt;&gt;&gt; sorted(student_objects)
[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]</span></pre> <p>For general purpose comparisons, the recommended approach is to define all six rich comparison operators.&nbsp;<span style="color:rgb(0,0,255);">The&nbsp;functools.total_ordering&nbsp;class decorator makes this easy to implement.</span></p> </li> 
    <li class="gap" style="list-style-type:disc;"><span style="color:rgb(0,0,0);">Key functions need not access data internal to objects being sorted. A key function can also access external resources. For instance, if the student grades are stored in a dictionary, they can be used to sort a separate list of student names:</span></li> 
    <li class="gap" style="list-style-type:disc;"> <span style="color:rgb(0,0,0);">key函数不仅可以通过对象内部数据进行排序，也可以通过访问外部资源。例如，学生grades存储在一个字典中，可以使用他们对一个单独的学生姓名list进行排序</span> 
     <ul>
      <li style="list-style-type:none;"><pre>&gt;&gt;&gt; students = ['dave', 'john', 'jane']
&gt;&gt;&gt; newgrades = {'john': 'F', 'jane':'A', 'dave': 'C'}
&gt;&gt;&gt; sorted(students, key=newgrades.__getitem__)
['jane', 'dave', 'john']</pre></li>
     </ul></li> 
    <li class="gap" style="list-style-type:disc;"><span style="color:rgb(0,0,0);">Alternate data structure for performance with ordered data</span></li> 
    <li class="gap" style="list-style-type:disc;"><span style="color:rgb(0,0,0);">【为了有序数据的更好操作，可以灵活选择数据结构】</span></li> 
    <li class="gap" style="list-style-type:disc;"><span style="color:rgb(0,0,0);">　　If you're needing a sorted list every step of the way as you process each item to be added to the sorted list, then list.sort(), sorted() and bisect.insort() are all very slow and tend to yield quadratic behavior【二次行为？】 or worse. In such a scenario, it's better to use something like a heap, red-black tree or treap (like the included heapq module, or this&nbsp;<a class="http" href="http://stromberg.dnsalias.org/~dstromberg/treap/" rel="nofollow" style="color:rgb(0,0,0);"><span>treap module</span></a>&nbsp;- shameless plug added by python treap module author).</span></li> 
   </ul>
   <div>
    <font><span style="font-size:14px;"><br></span></font>
   </div> 
   <div>
    <font><span style="font-size:14px;">本文转自ZH奶酪博客园博客，原文链接：http://www.cnblogs.com/CheeseZH/archive/2012/11/04/2754359.html，如需转载请自行联系原作者</span><br></font>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
