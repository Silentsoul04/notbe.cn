<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>（MySQL里的数据）通过Sqoop Import HDFS 里 和 通过Sqoop Export HDFS 里的数据到（MySQL）（五）... « NotBeCN</title>
  <meta name="description" content="             　下面我们结合 HDFS，介绍 Sqoop 从关系型数据库的导入和导出    一、MySQL里的数据通过Sqoop import&nbsp;HDFS 它的功能是将数据从关系型数据库导入 HDFS 中，其流程图如下所示。        　　我们来分析一下 Sqoop 数据导入流程，首先用户...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/13/weixin_34197488_90132591.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">（MySQL里的数据）通过Sqoop Import HDFS 里 和 通过Sqoop Export HDFS 里的数据到（MySQL）（五）...</h1>
    <p class="post-meta">Nov 13, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　下面我们结合 HDFS，介绍 Sqoop 从关系型数据库的导入和导出</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><span style="font-size:18pt;"><strong>一、MySQL里的数据通过Sqoop import&nbsp;HDFS</strong></span><br> 它的功能是<span style="color:rgb(0,0,255);"><strong>将数据从关系型数据库导入 HDFS 中</strong></span>，其流程图如下所示。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130093710990-563518867.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　我们来分析一下 Sqoop 数据导入流程，首先用户输入一个<span style="font-size:18pt;"><strong><span style="color:rgb(0,0,255);">&nbsp;Sqoop import</span></strong></span>&nbsp;命令，Sqoop 会从关系型数据库中获取元数据信息，<br> 比如要操作数据库表的 schema是什么样子，这个表有哪些字段，这些字段都是什么数据类型等。<br> 它获取这些信息之后，会<strong><span style="color:rgb(0,0,255);">将输入命令转化为<span style="color:rgb(255,0,0);font-size:18pt;">基于 Map</span>&nbsp;的 MapReduce作业</span></strong>。<br> 这样 MapReduce作业中有很多 Map 任务，每个 Map 任务从数据库中读取一片数据，这样多个 Map 任务实现并发的拷贝，把整个数据快速的拷贝到 HDFS 上。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><span style="font-size:18pt;">Sqoop Import HDFS（带着官网）</span></h3> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317151646213-1060525675.png" alt="" style="border:0px;"></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317151657010-1167891294.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317151904651-555620603.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317151923151-1044515795.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　具体，自己去尝试做吧！</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　在这之前，先启动hadoop集群,sbin/start-all.sh。这里不多赘述。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　同时，开启MySQL数据库。这里，不多赘述。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317154035995-1848706261.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　同时，因为后续的sqoop运行啊，会产生一些日志等，我这里先新建一个目录，用来专门存放它。在哪个目录下运行后续的sqoop操作，就在哪个目录下新建就好。（因为，已经配置了环境变量，在任何路径下都是可以运行的）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317153344073-678125301.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoop]$ pwd
</span>/usr/local/<span style="font-size:12px;line-height:1.5;">sqoop
[hadoop@djt002 sqoop]$ ll
total </span>4<span style="font-size:12px;line-height:1.5;">
drwxr</span>-xr-x. 9 hadoop hadoop 4096 Apr 27  2015 sqoop-1.4.6<span style="font-size:12px;line-height:1.5;">
[hadoop@djt002 sqoop]$ mkdir sqoopRunCreate
[hadoop@djt002 sqoop]$ ll
total </span>8<span style="font-size:12px;line-height:1.5;">
drwxr</span>-xr-x. 9 hadoop hadoop 4096 Apr 27  2015 sqoop-1.4.6<span style="font-size:12px;line-height:1.5;">
drwxrwxr</span>-x. 2 hadoop hadoop 4096 Mar 17 23:33<span style="font-size:12px;line-height:1.5;"> sqoopRunCreate
[hadoop@djt002 sqoop]$ cd sqoopRunCreate</span>/<span style="font-size:12px;line-height:1.5;">
[hadoop@djt002 sqoopRunCreate]$ pwd
</span><strong><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">/usr/local/sqoop/</span></strong><span style="font-size:12px;line-height:1.5;"><strong><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">sqoopRunCreate</span></strong>
[hadoop@djt002 sqoopRunCreate]$</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　比如，以后我就在这个目录下运行操作sqoop，<strong>/usr/local/sqoop/</strong><strong>sqoopRunCreate。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:14pt;"><strong>&nbsp;Sqoop Import 应用场景——密码访问</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　（1）明码访问</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317154135166-996598484.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 sqoopRunCreate]$ <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">sqoop list-databases \ </span></strong>&gt;<strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"> --connect jdbc:mysql://192.168.80.200/ \</span></strong>
&gt;<strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"> --username hive \ </span></strong>&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--password hive</span></strong></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317154302698-538589942.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　（2）交互式密码访问</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317154512807-1842108799.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop list-<span style="font-size:12px;line-height:1.5;">databases \
</span>&gt; --connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.200/ \</span>
&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">-</span></strong><span style="font-size:12px;line-height:1.5;"><strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">P</span></strong>

Enter password: （输入hive）</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（3）文件授权密码访问</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　因为，官网上是这么给的，在家目录，且需赋予400权限。所以</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317160306291-92846813.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317160748698-1573164105.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 ~<span style="font-size:12px;line-height:1.5;">]$ pwd
</span>/home/<span style="font-size:12px;line-height:1.5;">hadoop
[hadoop@djt002 </span>~]$<strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"> echo -n "hive" &gt;</span></strong><span style="font-size:12px;line-height:1.5;"><strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"> .password</span></strong>
[hadoop@djt002 </span>~]$ ls -<span style="font-size:12px;line-height:1.5;">a
.            .bash_history  .cache   djt        flume    .gnote           .gvfs            .local          .nautilus  .pulse         Videos       .xsession</span>-<span style="font-size:12px;line-height:1.5;">errors
..           .bash_logout   .config  Documents  .gconf   .gnupg           .hivehistory     .mozilla        <strong><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">.password</span></strong>  .pulse</span>-cookie  .vim         .xsession-<span style="font-size:12px;line-height:1.5;">errors.old
.abrt        .bash_profile  .dbus    Downloads  .gconfd  .gstreamer</span>-0.10<span style="font-size:12px;line-height:1.5;">  .ICEauthority    Music           Pictures   .ssh           .viminfo
anagram.jar  .bashrc        Desktop  .esd_auth  .gnome2  .gtk</span>-<span style="font-size:12px;line-height:1.5;">bookmarks   .imsettings.log  .mysql_history  Public     Templates      .Xauthority
[hadoop@djt002 </span>~<span style="font-size:12px;line-height:1.5;">]$ <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">more .password</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">hive</span></strong>
[hadoop@djt002 </span>~]$ </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317161036463-12227862.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">chmod 400 .password</span> </strong></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317162124588-1002194798.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">sqoop list-databases \ </span></strong>&gt; <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"><strong>--connect jdbc:mysql://192.168.80.200/ \</strong></span>
&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--username hive \ </span></strong>&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">-</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">-password-file /home/hadoop/</span></strong><span style="font-size:12px;line-height:1.5;"><strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">.password</span></strong>


java.io.IOException: The provided password file /home/hadoop/.password does not exist!
</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317162459182-1569907363.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317162535338-164746296.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317162923120-40283844.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317162938354-1379820390.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 local]$ $HADOOP_HOME/bin/hadoop dfs -put /home/hadoop/.password /user/<span style="font-size:12px;line-height:1.5;">hadoop



[hadoop@djt002 local]$ $HADOOP_HOME</span>/bin/hadoop dfs -chmod 400 /user/hadoop/.password</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317163047635-1871960059.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~<span style="font-size:12px;line-height:1.5;">]$ rm .password 
rm: remove write</span>-<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">protected</span> regular file `.password'? y</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317163232057-44827794.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop list-<span style="font-size:12px;line-height:1.5;">databases \
</span>&gt; --connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.200/ \</span>
&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/user/hadoop/.password</span></strong></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:14pt;">&nbsp;Sqoop Import 应用场景——导入全表</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（1）不指定目录 （则默认是在/user/hadoop/下）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317163727166-470860338.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　我这里啊，给大家尝试另一个软件。（为什么，要这样带大家使用，是为了你们的多适应和多自学能力）（别嫌麻烦！）</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/zlslch/p/5971271.html" rel="nofollow" style="color:#000000;">SQLyog之MySQL客户端的下载、安装和使用</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317163758432-1927047739.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317163842823-1863849188.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317163954745-2073350737.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317164026338-1485723800.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，我们选择在hive这个数据库里，创建新的表，命名为</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317164421245-1217974438.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317170458104-1317033458.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317170605416-1686280964.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　如果，面对 SQLyog不能正常显示中文数据的情况：在SQLyog下输入SET character_set_results = gb2312（或 gbk），执行，重新启动SQLyog，显示应该也可以看到你所插入的中文数据了。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a class="postTitle2" href="http://www.cnblogs.com/zlslch/p/6567641.html" rel="nofollow" style="color:#000000;">SQLyog软件里无法插入中文（即由默认的latin1改成UTF8编码格式）</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317194103416-1337812991.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　注意，我的数据表是djt-user。我这里改名啦！</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317194959120-594050557.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 sqoopRunCreate]$ <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">sqoop import \ </span></strong>&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--connect jdbc:mysql://192.168.80.200/hive \</span></strong>
&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--username hive \ </span></strong>&gt; <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"><strong>--password-file /user/hadoop/.password \ </strong></span>&gt; <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;"><strong>--table djt-user</strong></span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195253463-1901919778.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195317729-1433161927.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195329713-1494989071.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195445526-1065239176.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195613026-1067734310.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195747245-1261181150.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317195939620-1938654478.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317200013854-1280524807.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317200237823-1808587684.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317200345135-1809729816.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>SET character_set_database=<span style="font-size:12px;line-height:1.5;">utf8;
SET character_set_server</span>=<span style="font-size:12px;line-height:1.5;">utf8;
SHOW VARIABLES LIKE </span>'character%'; </pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317200428635-1172285145.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317200950166-770936517.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317201147401-1401706302.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317201403260-495666053.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317201500151-1523296263.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317201639401-1241540328.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -rmr /user/hadoop/djt-user</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317201715026-2029749844.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span> --connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.200/hive --username hive --password-file /user/hadoop/.password --table djt-user</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[hadoop@djt002 sqoopRunCreate]$ sqoop import --connect jdbc:mysql://192.168.80.200/hive --username hive --password-file /user/hadoop/.password --table djt-user<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../hcatalog does not exist! HCatalog jobs will fail.<br> Please set $HCAT_HOME to the root of your HCatalog installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../accumulo does not exist! Accumulo imports will fail.<br> Please set $ACCUMULO_HOME to the root of your Accumulo installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../zookeeper does not exist! Accumulo imports will fail.<br> Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.<br> 17/03/18 04:17:10 INFO sqoop.Sqoop: Running Sqoop version: 1.4.6<br> SLF4J: Class path contains multiple SLF4J bindings.<br> SLF4J: Found binding in [jar:file:/usr/local/hadoop/hadoop-2.6.0/share/hadoop/common/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]<br> SLF4J: Found binding in [jar:file:/usr/local/hbase/hbase-1.2.3/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]<br> SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.<br> SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]<br> 17/03/18 04:17:14 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.<br> 17/03/18 04:17:14 INFO tool.CodeGenTool: Beginning code generation<br> 17/03/18 04:17:15 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `djt-user` AS t LIMIT 1<br> 17/03/18 04:17:15 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `djt-user` AS t LIMIT 1<br> 17/03/18 04:17:15 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/local/hadoop/hadoop-2.6.0<br> Note: /tmp/sqoop-hadoop/compile/38104c9fe28c7f43fdb42c26826dbf91/djt_user.java uses or overrides a deprecated API.<br> Note: Recompile with -Xlint:deprecation for details.<br> 17/03/18 04:17:21 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-hadoop/compile/38104c9fe28c7f43fdb42c26826dbf91/djt-user.jar<br> 17/03/18 04:17:21 WARN manager.MySQLManager: It looks like you are importing from mysql.<br> 17/03/18 04:17:21 WARN manager.MySQLManager: This transfer can be faster! Use the --direct<br> 17/03/18 04:17:21 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.<br> 17/03/18 04:17:21 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)<br> 17/03/18 04:17:21 INFO mapreduce.ImportJobBase: Beginning import of djt-user<br> 17/03/18 04:17:21 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar<br> 17/03/18 04:17:21 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps<br> 17/03/18 04:17:22 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">17/03/18 04:17:30 INFO db.DBInputFormat: Using read commited transaction isolation<br> 17/03/18 04:17:30 INFO db.DataDrivenDBInputFormat: BoundingValsQuery: SELECT MIN(`id`), MAX(`id`) FROM `djt-user`<br> 17/03/18 04:17:31 INFO mapreduce.JobSubmitter: number of splits:3<br> 17/03/18 04:17:32 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1489767532299_0002<br> 17/03/18 04:17:33 INFO impl.YarnClientImpl: Submitted application application_1489767532299_0002<br> 17/03/18 04:17:33 INFO mapreduce.Job: The url to track the job: http://djt002:8088/proxy/application_1489767532299_0002/<br> 17/03/18 04:17:33 INFO mapreduce.Job: Running job: job_1489767532299_0002<br> 17/03/18 04:18:03 INFO mapreduce.Job: Job job_1489767532299_0002 running in uber mode : false<br> 17/03/18 04:18:03 INFO mapreduce.Job: map 0% reduce 0%</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">17/03/18 04:19:09 INFO mapreduce.Job: map 67% reduce 0%<br> 17/03/18 04:19:12 INFO mapreduce.Job: map 100% reduce 0%<br> 17/03/18 04:19:13 INFO mapreduce.Job: Job job_1489767532299_0002 completed successfully<br> 17/03/18 04:19:13 INFO mapreduce.Job: Counters: 30<br> File System Counters<br> FILE: Number of bytes read=0<br> FILE: Number of bytes written=370638<br> FILE: Number of read operations=0<br> FILE: Number of large read operations=0<br> FILE: Number of write operations=0<br> HDFS: Number of bytes read=295<br> HDFS: Number of bytes written=105<br> HDFS: Number of read operations=12<br> HDFS: Number of large read operations=0<br> HDFS: Number of write operations=6<br> Job Counters&nbsp;<br> Launched map tasks=3<br> Other local map tasks=3<br> Total time spent by all maps in occupied slots (ms)=174022<br> Total time spent by all reduces in occupied slots (ms)=0<br> Total time spent by all map tasks (ms)=174022<br> Total vcore-seconds taken by all map tasks=174022<br> Total megabyte-seconds taken by all map tasks=178198528<br> Map-Reduce Framework<br> Map input records=3<br> Map output records=3<br> Input split bytes=295<br> Spilled Records=0<br> Failed Shuffles=0<br> Merged Map outputs=0<br> GC time elapsed (ms)=5172<br> CPU time spent (ms)=9510</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Physical memory (bytes) snapshot=362741760<br> Virtual memory (bytes) snapshot=2535641088<br> Total committed heap usage (bytes)=181862400<br> File Input Format Counters&nbsp;<br> Bytes Read=0<br> File Output Format Counters&nbsp;<br> Bytes Written=105<br> 17/03/18 04:19:13 INFO mapreduce.ImportJobBase: Transferred 105 bytes in 111.9157 seconds (0.9382 bytes/sec)<br> 17/03/18 04:19:13 INFO mapreduce.ImportJobBase: Retrieved 3 records.<br> [hadoop@djt002 sqoopRunCreate]$</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317202029463-2112966837.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317202111041-499302194.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317202125135-1450561021.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317202222776-87625310.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317202550041-1485470653.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /user/hadoop/djt-user/part-m-*
1,王菲,female,36<span style="font-size:12px;line-height:1.5;">,歌手
</span>2,谢霆锋,male,30<span style="font-size:12px;line-height:1.5;">,歌手
</span>3,周杰伦,male,33<span style="font-size:12px;line-height:1.5;">,导演
[hadoop@djt002 </span>~]$ </pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　<strong><span style="font-size:18pt;">　总结</span></strong></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre></pre> 
    <pre><span style="font-size:12px;line-height:1.5;">不指定目录  

sqoop import<span style="font-size:12px;line-height:1.5;"> \ --<span style="font-size:12px;line-height:1.5;">connect 'jdbc:mysql://192.168.128.200/hive<span style="font-size:12px;line-height:1.5;"> \ --<span style="font-size:12px;line-height:1.5;">username hive \ --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \ --table djt_user</span></span></span></span></span></span><br><br></pre> 
    <pre><span style="font-size:12px;line-height:1.5;"><br><br><br><br><br>
不指定目录    （推荐这种）

sqoop </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>--<span style="font-size:12px;line-height:1.5;">connect </span>'jdbc:mysql://192.168.128.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>--<span style="font-size:12px;line-height:1.5;">username hive \
</span>--password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>--table djt_user</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　　　即，<strong><span style="color:rgb(0,0,255);">djt_user是在MySQL里</span></strong>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，这里是在/user/hadoop/djt_user</span></strong>。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">（2）指定目录</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　任意可以指定的。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317203039995-1855560756.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317203344745-658172514.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
1,王菲,female,36<span style="font-size:12px;line-height:1.5;">,歌手
</span>2,谢霆锋,male,30<span style="font-size:12px;line-height:1.5;">,歌手
</span>3,周杰伦,male,33<span style="font-size:12px;line-height:1.5;">,导演
[hadoop@djt002 </span>~]$ </pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<strong><span style="color:rgb(0,0,255);">为统一标准和规范化</span></strong>，用数据表djt_user。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317203439979-308484914.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317203458979-729033056.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317203517073-908787561.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　（3）目录已存在</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317204403620-1174277263.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.200/hive \</span>
&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-dir</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Warning: /usr/local/sqoop/sqoop-1.4.6/../hcatalog does not exist! HCatalog jobs will fail.<br> Please set $HCAT_HOME to the root of your HCatalog installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../accumulo does not exist! Accumulo imports will fail.<br> Please set $ACCUMULO_HOME to the root of your Accumulo installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../zookeeper does not exist! Accumulo imports will fail.<br> Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.<br> 17/03/18 04:43:40 INFO sqoop.Sqoop: Running Sqoop version: 1.4.6<br> SLF4J: Class path contains multiple SLF4J bindings.<br> SLF4J: Found binding in [jar:file:/usr/local/hadoop/hadoop-2.6.0/share/hadoop/common/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]<br> SLF4J: Found binding in [jar:file:/usr/local/hbase/hbase-1.2.3/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]<br> SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.<br> SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]<br> 17/03/18 04:43:45 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.<br> 17/03/18 04:43:45 INFO tool.CodeGenTool: Beginning code generation<br> 17/03/18 04:43:46 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `djt_user` AS t LIMIT 1<br> 17/03/18 04:43:46 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `djt_user` AS t LIMIT 1<br> 17/03/18 04:43:46 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/local/hadoop/hadoop-2.6.0<br> Note: /tmp/sqoop-hadoop/compile/1fae17dd362476d95608e216756efa34/djt_user.java uses or overrides a deprecated API.<br> Note: Recompile with -Xlint:deprecation for details.<br> 17/03/18 04:43:52 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-hadoop/compile/1fae17dd362476d95608e216756efa34/djt_user.jar<br> 17/03/18 04:43:52 INFO tool.ImportTool: Destination directory /sqoop/test/djt_user deleted.<br> 17/03/18 04:43:52 WARN manager.MySQLManager: It looks like you are importing from mysql.<br> 17/03/18 04:43:52 WARN manager.MySQLManager: This transfer can be faster! Use the --direct<br> 17/03/18 04:43:52 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">17/03/18 04:43:52 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)<br> 17/03/18 04:43:52 INFO mapreduce.ImportJobBase: Beginning import of djt_user<br> 17/03/18 04:43:52 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar<br> 17/03/18 04:43:52 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps<br> 17/03/18 04:43:53 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032<br> 17/03/18 04:44:02 INFO db.DBInputFormat: Using read commited transaction isolation<br> 17/03/18 04:44:02 INFO db.DataDrivenDBInputFormat: BoundingValsQuery: SELECT MIN(`id`), MAX(`id`) FROM `djt_user`<br> 17/03/18 04:44:02 INFO mapreduce.JobSubmitter: number of splits:3<br> 17/03/18 04:44:03 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1489767532299_0005<br> 17/03/18 04:44:03 INFO impl.YarnClientImpl: Submitted application application_1489767532299_0005<br> 17/03/18 04:44:03 INFO mapreduce.Job: The url to track the job: http://djt002:8088/proxy/application_1489767532299_0005/<br> 17/03/18 04:44:03 INFO mapreduce.Job: Running job: job_1489767532299_0005<br> 17/03/18 04:44:23 INFO mapreduce.Job: Job job_1489767532299_0005 running in uber mode : false<br> 17/03/18 04:44:23 INFO mapreduce.Job: map 0% reduce 0%</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">17/03/18 04:45:21 INFO mapreduce.Job: map 67% reduce 0%<br> 17/03/18 04:45:23 INFO mapreduce.Job: map 100% reduce 0%<br> 17/03/18 04:45:23 INFO mapreduce.Job: Job job_1489767532299_0005 completed successfully<br> 17/03/18 04:45:24 INFO mapreduce.Job: Counters: 30<br> File System Counters<br> FILE: Number of bytes read=0<br> FILE: Number of bytes written=370635<br> FILE: Number of read operations=0<br> FILE: Number of large read operations=0<br> FILE: Number of write operations=0<br> HDFS: Number of bytes read=295<br> HDFS: Number of bytes written=80<br> HDFS: Number of read operations=12<br> HDFS: Number of large read operations=0<br> HDFS: Number of write operations=6<br> Job Counters&nbsp;<br> Launched map tasks=3<br> Other local map tasks=3<br> Total time spent by all maps in occupied slots (ms)=163316<br> Total time spent by all reduces in occupied slots (ms)=0<br> Total time spent by all map tasks (ms)=163316<br> Total vcore-seconds taken by all map tasks=163316<br> Total megabyte-seconds taken by all map tasks=167235584<br> Map-Reduce Framework<br> Map input records=3<br> Map output records=3<br> Input split bytes=295<br> Spilled Records=0<br> Failed Shuffles=0<br> Merged Map outputs=0<br> GC time elapsed (ms)=3240<br> CPU time spent (ms)=8480</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Physical memory (bytes) snapshot=356696064<br> Virtual memory (bytes) snapshot=2535596032<br> Total committed heap usage (bytes)=181862400<br> File Input Format Counters&nbsp;<br> Bytes Read=0<br> File Output Format Counters&nbsp;<br> Bytes Written=80<br> 17/03/18 04:45:24 INFO mapreduce.ImportJobBase: Transferred 80 bytes in 91.6189 seconds (0.8732 bytes/sec)<br> 17/03/18 04:45:24 INFO mapreduce.ImportJobBase: Retrieved 3 records.<br> [hadoop@djt002 sqoopRunCreate]$</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317204634901-62973029.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317204641870-1064599307.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">&nbsp;</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">&nbsp;Sqoop Import 应用场景——控制并行度</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（1）控制并行度</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　默认是4个，当然我这里数据量小，指定1个就行了。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317205133291-1609446237.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -rm  /sqoop/test/djt_user/part-m-*</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317214533151-2143735353.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　在这里，可能会遇到这个问题。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a class="postTitle2" href="http://www.cnblogs.com/zlslch/p/6568403.html" rel="nofollow" style="color:#000000;">Sqoop异常解决ERROR tool.ImportTool: Encountered IOException running import job: java.io.IOException: No columns to generate for ClassWriter问题</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317214937120-1311813870.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317215108838-776994484.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">Sqoop Import 应用场景——控制字段分隔符</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　（1）控制字段分隔符</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　注意，默认的控制分段分隔符是逗号，我们这里自定义。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317215700229-2089355861.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　这里，<strong><span style="color:rgb(0,0,255);">djt_user是在MySQL里</span></strong>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user。</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317215824338-386173046.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
1@王菲@female@36<span style="font-size:12px;line-height:1.5;">@歌手
</span>2@谢霆锋@male@30<span style="font-size:12px;line-height:1.5;">@歌手
</span>3@周杰伦@male@33<span style="font-size:12px;line-height:1.5;">@导演
[hadoop@djt002 </span>~]$ </pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（2）手动增量导入</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317220239338-679598221.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 我们加入，4、5和6。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317220448916-1932980517.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">append \
</span>&gt; --check-column 'id'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">incremental append \
</span>&gt; --last-value 3</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　这里，<span style="color:rgb(0,0,255);"><strong>djt_user是在MySQL里</strong></span>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317220542541-1633732505.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
1@王菲@female@36<span style="font-size:12px;line-height:1.5;">@歌手
</span>2@谢霆锋@male@30<span style="font-size:12px;line-height:1.5;">@歌手
</span>3@周杰伦@male@33<span style="font-size:12px;line-height:1.5;">@导演
</span>4@王力宏@male@40<span style="font-size:12px;line-height:1.5;">@演员
</span>5@张三@male@39<span style="font-size:12px;line-height:1.5;">@无业游民
</span>6@李四@female@18<span style="font-size:12px;line-height:1.5;">@学生
[hadoop@djt002 </span>~]$ </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; 　　（3）自动增量导入</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317221230995-1130081137.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317224729541-1242132200.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoopRunCreate]$ sqoop job \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">create job_import_djt_user \
</span>&gt; -- <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">append \
</span>&gt; --check-column 'id'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">incremental append \
</span>&gt; --last-value 6<br><br><br>
[hadoop@djt002 sqoopRunCreate]$ sqoop job --exec job_import_djt_user</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<strong><span style="color:rgb(0,0,255);">djt_user是在MySQL里</span></strong>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong>删除某个job</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317224300995-1845994775.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre> [hadoop@djt002 sqoopRunCreate]$ sqoop job --delete job_import_djt_user</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong>查看当前可用的job</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;[hadoop@djt002 sqoopRunCreate]$ sqoop job --list</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317225031995-1725922359.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　<strong>查看某个具体job的信息</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;[hadoop@djt002 sqoopRunCreate]$ &nbsp;sqoop job --show job_import_djt_user</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170317225223166-17449009.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">[hadoop@djt002 sqoopRunCreate]$ sqoop job --show<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../hcatalog does not exist! HCatalog jobs will fail.<br> Please set $HCAT_HOME to the root of your HCatalog installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../accumulo does not exist! Accumulo imports will fail.<br> Please set $ACCUMULO_HOME to the root of your Accumulo installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../zookeeper does not exist! Accumulo imports will fail.<br> Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.<br> 17/03/18 06:50:58 INFO sqoop.Sqoop: Running Sqoop version: 1.4.6<br> Missing argument for option: show<br> [hadoop@djt002 sqoopRunCreate]$ clear<br> [hadoop@djt002 sqoopRunCreate]$ sqoop job --show job_import_djt_user<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../hcatalog does not exist! HCatalog jobs will fail.<br> Please set $HCAT_HOME to the root of your HCatalog installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../accumulo does not exist! Accumulo imports will fail.<br> Please set $ACCUMULO_HOME to the root of your Accumulo installation.<br> Warning: /usr/local/sqoop/sqoop-1.4.6/../zookeeper does not exist! Accumulo imports will fail.<br> Please set $ZOOKEEPER_HOME to the root of your Zookeeper installation.<br> 17/03/18 06:51:47 INFO sqoop.Sqoop: Running Sqoop version: 1.4.6<br> SLF4J: Class path contains multiple SLF4J bindings.<br> SLF4J: Found binding in [jar:file:/usr/local/hadoop/hadoop-2.6.0/share/hadoop/common/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]<br> SLF4J: Found binding in [jar:file:/usr/local/hbase/hbase-1.2.3/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]<br> SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.<br> SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]<br> Job: job_import_djt_user<br> Tool: import<br> Options:<br> ----------------------------<br> verbose = false<br> incremental.last.value = 10<br> db.connect.string = jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8<br> codegen.output.delimiters.escape = 0<br> codegen.output.delimiters.enclose.required = false</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">codegen.input.delimiters.field = 0<br> hbase.create.table = false<br> hdfs.append.dir = true<br> db.table = djt_user<br> codegen.input.delimiters.escape = 0<br> import.fetch.size = null<br> accumulo.create.table = false<br> codegen.input.delimiters.enclose.required = false<br> db.username = hive<br> reset.onemapper = false<br> codegen.output.delimiters.record = 10<br> import.max.inline.lob.size = 16777216<br> hbase.bulk.load.enabled = false<br> hcatalog.create.table = false<br> db.clear.staging.table = false<br> incremental.col = id<br> codegen.input.delimiters.record = 0<br> db.password.file = /user/hadoop/.password<br> enable.compression = false<br> hive.overwrite.table = false<br> hive.import = false<br> codegen.input.delimiters.enclose = 0<br> accumulo.batch.size = 10240000<br> hive.drop.delims = false<br> codegen.output.delimiters.enclose = 0<br> hdfs.delete-target.dir = false</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">codegen.output.dir = .<br> codegen.auto.compile.dir = true<br> relaxed.isolation = false<br> mapreduce.num.mappers = 1<br> accumulo.max.latency = 5000<br> import.direct.split.size = 0<br> codegen.output.delimiters.field = 64<br> export.new.update = UpdateOnly<br> incremental.mode = AppendRows<br> hdfs.file.format = TextFile<br> codegen.compile.dir = /tmp/sqoop-hadoop/compile/d81bf23cb3eb8eb11e7064a16df0b92b<br> direct.import = false<br> hdfs.target.dir = /sqoop/test/djt_user<br> hive.fail.table.exists = false<br> db.batch = false<br> [hadoop@djt002 sqoopRunCreate]$</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<strong><span style="font-size:18pt;">Sqoop Import 应用场景——启动压缩</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　 启动压缩</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　默认是gzip压缩，具体去看官网</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318100604370-28645877.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; -<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; -z</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<span style="color:rgb(0,0,255);"><strong>djt_user是在MySQL里</strong></span>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318100708354-1549750068.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318100822448-322725849.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">Sqoop Import 应用场景——导入空值处理</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（1）导入空值处理</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318100947198-294554899.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　先，不加空值处理，看是怎样的。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318101253713-585199366.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; -<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"
&gt; </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<span style="color:rgb(0,0,255);"><strong>djt_user是在MySQL里</strong></span>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318101342026-76139679.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　所以，一般需要对null进行转换，即需对空值进行处理。比如年龄那列，要么给他假如是18岁定死，要么就是0等。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318101739323-352826193.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; -<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-non-string "###"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-string "###"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　这里，<span style="color:rgb(0,0,255);"><strong>djt_user是在MySQL里</strong></span>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong>&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　我这里，将空值null转换成###，这个，大家可以根据自己的需要，可以转换成其它的，不多赘述。自行去举一反三。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318101911041-257399661.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　下面呢，这个场景，比如，如下，我不需全部的字段导出，非空值的某部分字段呢，该如何操作啊?</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>Sqoop Import 应用场景——导入部分数据</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（1）使用–columns&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　即，指定某个或某些字段导入</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318102204182-774492321.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　比如，我这里，指定只导入id和name，当然，你可以去指定更多，我这里只是个参考和带入门的引子实例罢了。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318102857901-1493254228.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; -<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--columns id,name \ </span></strong>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-non-string "###"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-string "###"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　这里，<span style="color:rgb(0,0,255);"><strong>djt_user是在MySQL里</strong></span>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong>&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318102957307-1598946798.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
1<span style="font-size:12px;line-height:1.5;">@王菲
</span>2<span style="font-size:12px;line-height:1.5;">@谢霆锋
</span>3<span style="font-size:12px;line-height:1.5;">@周杰伦
</span>4<span style="font-size:12px;line-height:1.5;">@王力宏
</span>5<span style="font-size:12px;line-height:1.5;">@张三
</span>6<span style="font-size:12px;line-height:1.5;">@李四
</span>7<span style="font-size:12px;line-height:1.5;">@王五
</span>8<span style="font-size:12px;line-height:1.5;">@王六
</span>9<span style="font-size:12px;line-height:1.5;">@小王
</span>10<span style="font-size:12px;line-height:1.5;">@小林
[hadoop@djt002 </span>~]$ </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　（2）使用–where</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　刚是导入指定的字段，也可以用筛选来导入达到目的。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　比如，我这里，只想导入sex=female的。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318103406166-1568093501.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318103242182-1901781537.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user \
</span>&gt; <strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--where "sex='female'" \ </span></strong>&gt; --target-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --delete-target-<span style="font-size:12px;line-height:1.5;">dir \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-non-string "###"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-string "###"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<span style="color:rgb(0,0,255);"><strong>djt_user是在MySQL里</strong></span>，通过Sqoop工具，导入到<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>。</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318103450979-64903011.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
1@王菲@female@36<span style="font-size:12px;line-height:1.5;">@歌手
</span>6@李四@female@18<span style="font-size:12px;line-height:1.5;">@学生
</span>9@小王@female@24<span style="font-size:12px;line-height:1.5;">@hadoop运维
</span>10@小林@female@30<span style="font-size:12px;line-height:1.5;">@###
[hadoop@djt002 </span>~]$ </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　（3）使用–query</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　比如，导入比较复杂更实用。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318103754088-1502659131.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318104140932-467632306.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318104457370-252605012.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
2@谢霆锋@male@30<span style="font-size:12px;line-height:1.5;">@歌手
</span>6@李四@female@18<span style="font-size:12px;line-height:1.5;">@学生
</span>9@小王@female@24<span style="font-size:12px;line-height:1.5;">@hadoop运维
</span>10@小林@female@30<span style="font-size:12px;line-height:1.5;">@###
[hadoop@djt002 </span>~]$ </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;color:rgb(0,0,255);"><strong>注意</strong></span><br> 若，从MySQL数据库导入数据到HDFS里，出现中断情况了怎么办?</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　答：好比MapReduce作业丢失一样，有个容错机制。但是这里，我们不用担心，任务中断导致数据重复插入，这个不需担心。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　它这里呢，要么就是全部导入才成功，要么就是一条都导不进不成功。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp; 即，<strong><span style="color:rgb(0,0,255);">Sqoop Import HDFS 里没有“脏数据”的情况发生</span></strong>。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong><strong>MySQL里的数据通过Sqoop import&nbsp;HDFS</strong>（作为扩展）</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　下面我们看一下 Sqoop 如何使用命令行来导入数据的，其命令行语法如下所示。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">sqoop import \<br> --connect jdbc:mysql://192.168.80.128:3306/db_hadoop \<br> --username sqoop \<br> --password sqoop \<br> --table user \<br> --target-dir /junior/sqoop/ \ //可选，不指定目录，数据默认导入到/user下<br> --where "sex='female'" \ //可选<br> --as-sequencefile \ //可选，不指定格式，数据格式默认为 Text 文本格式<br> --num-mappers 10 \ //可选，这个数值不宜太大<br> --null-string '\\N' \ //可选&nbsp;<br> --null-non-string '\\N' \ //可选</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">--connect</span>：指定 JDBC URL。<br><span style="color:rgb(0,0,255);">--username/password</span>：mysql 数据库的用户名。<br><span style="color:rgb(0,0,255);">--table</span>：要读取的数据库表。<br><span style="color:rgb(0,0,255);">--target-dir</span>：将数据导入到指定的 HDFS 目录下，文件名称如果不指定的话，会默认数据库的表名称。<br><span style="color:rgb(0,0,255);">--where</span>：过滤从数据库中要导入的数据。<br><span style="color:rgb(0,0,255);">--as-sequencefile</span>：指定数据导入数据格式。<br><span style="color:rgb(0,0,255);">--num-mappers</span>：指定 Map 任务的并发度。<br><span style="color:rgb(0,0,255);">--null-string，--null-non-string</span>：同时使用可以将数据库中的空字段转化为'\N'，因为数据库中字段为 null，会占用很大的空间。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>下面我们介绍几种 Sqoop 数据导入的特殊应用（作为扩展）</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:14pt;"><strong>1、</strong></span>Sqoop 每次导入数据的时候，不需要把以往的所有数据重新导入 HDFS，只需要把新增的数据导入 HDFS 即可，下面我们来看看如何导入新增数据。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">sqoop import \ </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--connect jdbc:mysql://192.168.80.128:3306/db_hadoop \</span>
<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--username sqoop \ </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--password sqoop \ </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--table user \ </span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--incremental append \</span></strong>    <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">代表只导入增量数据</span>
<strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--check-column id \</span> </strong>    <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">以主键id作为判断条件</span>
<strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">--last-value 999</span> </strong>   <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">导入id大于999的新增数据</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　上述三个组合使用，可以实现数据的增量导入。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:14pt;"><strong>2、</strong></span>Sqoop 数据导入过程中，直接输入明码存在安全隐患，我们可以通过下面两种方式规避这种风险。<br> 1)-P:sqoop 命令行最后使用 -P，此时提示用户输入密码，而且用户输入的密码是看不见的，起到安全保护作用。密码输入正确后，才会执行 sqoop 命令。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>-P</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　2)--password-file：指定一个密码保存文件，读取密码。我们可以将这个文件设置为只有自己可读的文件，防止密码泄露。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--password-file my-sqoop-password</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>二、通过Sqoop Export&nbsp;<strong>HDFS里的数据到MySQL</strong></strong></span><br> 它的功能是将数据从 HDFS 导入关系型数据库表中，其流程图如下所示。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201611/855959-20161130094401506-1657159659.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　我们来分析一下 Sqoop 数据导出流程，首先用户输入一个 Sqoop export 命令，它会获取关系型数据库的 schema，<br> 建立 Hadoop 字段与数据库表字段的映射关系。 然后会将输入命令转化为基于 Map 的 MapReduce作业，<br> 这样 MapReduce作业中有很多 Map 任务，它们并行的从 HDFS 读取数据，并将整个数据拷贝到数据库中。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318105314276-1571435584.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　大家，必须要去看官网！</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>&nbsp;Sqoop Export 应用场景——直接导出</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　直接导出</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　请去看我下面的这篇博客，对你有好处。我不多赘述。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;"><a class="postTitle2" href="http://www.cnblogs.com/zlslch/p/6572293.html" rel="nofollow" style="color:#000000;">SQLyog普通版与SQLyog企业版对比分析</a></h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318113211776-1906460104.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>CREATE TABLE djt_user_copy SELECT * FROM djt_user WHERE 1=2;</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318112202995-1758363934.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoopRunCreate]$ sqoop export \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user_copy \
</span>&gt; --export-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --input-fields-terminated-by "@"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>，<strong>通过Sqoop工具，导出到</strong><strong><span style="color:rgb(0,0,255);">djt_user_copy是在MySQL里</span>。</strong></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　因为啊，之前，/sqoop/test/djt_user的数据如下</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318112129854-549281554.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318113524104-64023160.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>&nbsp;Sqoop Export 应用场景——指定map数</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　指定map数</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　 &nbsp; Map Task默认是4个</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318114252010-1212759630.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318114310073-377143181.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318113805260-1422008133.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoopRunCreate]$ sqoop export \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user_copy \
</span>&gt; --export-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --input-fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; -m 1</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<strong>HDFS里，是在/sqoop/test/djt_user，<strong>通过Sqoop工具，导出到</strong><strong>djt_user_copy是在MySQL里。</strong></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318114536666-857265087.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">Sqoop Export 应用场景——插入和更新</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　插入和更新</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318114623307-292949850.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318115518901-2093473674.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318115259510-1425214797.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoopRunCreate]$ sqoop export \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user_copy \
</span>&gt; --export-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; --input-fields-terminated-by "@"<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; -m 1<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --update-<span style="font-size:12px;line-height:1.5;">key id \
</span>&gt; --update-mode allowinsert</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>，<strong>通过Sqoop工具，导出到</strong><strong><span style="color:rgb(0,0,255);">djt_user_copy是在MySQL里</span>。</strong></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318115605604-663141806.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="font-size:18pt;">Sqoop Export 应用场景——事务处理</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　事务处理</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　比如，从HDFS里导出到MySQL。这个时候可能会出现意外情况，如出现中断，则会出现“脏数据”重复情况。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">则提供了这个事务处理。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　即&nbsp;<strong>HDFS &nbsp;-&gt; &nbsp; 先导出到 &nbsp;中间表（成功才可以，后续导出） -&gt; MySQL</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">我这里是， &nbsp; &nbsp;&nbsp;<span style="color:rgb(0,0,255);"><strong>/sqoop/test/djt_user</strong></span>&nbsp;<strong><span style="color:rgb(0,0,255);">（在HDFS里） &nbsp; &nbsp;-&gt; &nbsp; &nbsp; djt_user_copy_tmp （在MySQL里） &nbsp;-&gt; &nbsp; &nbsp;djt_user_copy （在MySQL里）&nbsp;</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　&nbsp;这里，<strong>HDFS里，是在/sqoop/test/djt_user，<strong>通过Sqoop工具，导出到</strong><strong>djt_user_copy是在MySQL里。</strong></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　注意这个中间表，需要创建djt_user_copy_tmp</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318120340916-1205403045.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318120512338-1059304186.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318120201432-1495293006.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318120209604-1930035827.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318121016588-1334524115.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoopRunCreate]$ sqoop export \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user_copy \
</span>&gt; --staging-<span style="font-size:12px;line-height:1.5;">table djt_user_copy_tmp \
</span>&gt; --clear-staging-<span style="font-size:12px;line-height:1.5;">table \
</span>&gt; --export-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; -input-fields-terminated-by "@"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　这里，<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>，<strong>通过Sqoop工具，先导出到中间表<strong><strong>djt_user_copy_tmp是在MySQL里</strong></strong>，再继续导出到</strong><strong><span style="color:rgb(0,0,255);">djt_user_copy是在MySQL</span>里。</strong></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　因为，此刻HDFS里的</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318121403370-1576669605.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318121416338-1623080436.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318121428729-924524380.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span style="font-size:18pt;"><strong>再次做测试</strong></span>，假设，我现在，把MySQL里的djt_user数据导入到HDFS里的/sqoop/test/djt_user。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318121514354-701981786.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318122546635-74477842.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span> --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8' --username hive --password-file /user/hadoop/.password -table djt_user  --target-dir /sqoop/test/djt_user --delete-target-dir -m 1 --fields-terminated-by "@" --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-non-string "###" --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-string "###"</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318122711448-919098539.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>[hadoop@djt002 ~]$ $HADOOP_HOME/bin/hadoop fs -cat /sqoop/test/djt_user/part-m-*
1@王菲@female@36<span style="font-size:12px;line-height:1.5;">@歌手
</span>2@谢霆锋@male@30<span style="font-size:12px;line-height:1.5;">@歌手
</span>3@周杰伦@male@33<span style="font-size:12px;line-height:1.5;">@导演
</span>4@王力宏@male@40<span style="font-size:12px;line-height:1.5;">@演员
</span>5@张三@male@39<span style="font-size:12px;line-height:1.5;">@无业游民
</span>6@李四@female@18<span style="font-size:12px;line-height:1.5;">@学生
</span>7@王五@male@34<span style="font-size:12px;line-height:1.5;">@Java开发工程师
</span>8@王六@male@45<span style="font-size:12px;line-height:1.5;">@hadoop工程师
</span>9@小王@female@24<span style="font-size:12px;line-height:1.5;">@hadoop运维
</span>10@小林@female@30<span style="font-size:12px;line-height:1.5;">@###
[hadoop@djt002 </span>~]$ </pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　然后，接着，我们把HDFS里的/sqoop/test/djt_user &nbsp; &nbsp;导出到 &nbsp;MySQL里的&nbsp;djt_user_copydjt_user_copy。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong><span style="color:rgb(0,0,255);">说白了，就是再次做了一下&nbsp;Sqoop Export 应用场景——事务处理。（自己好好理清思路去）</span></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　即&nbsp;<strong>HDFS &nbsp;-&gt; &nbsp; 先导出到 &nbsp;中间表（成功才可以，后续导出） -&gt; MySQL</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">我这里是， &nbsp; &nbsp; &nbsp;<strong>/sqoop/test/djt_user</strong><strong>（在HDFS里） &nbsp; &nbsp;-&gt; &nbsp; &nbsp; djt_user_copy_tmp （在MySQL里） &nbsp;-&gt; &nbsp; &nbsp;djt_user_copydjt_user_copy&nbsp;（在MySQL里）&nbsp;</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318123353307-225800598.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318123041698-1731142354.png" alt="" style="border:0px;"></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">[hadoop@djt002 sqoopRunCreate]$ sqoop export \
</span>&gt; --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8'<span style="font-size:12px;line-height:1.5;"> \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">username hive \
</span>&gt; --password-file /user/hadoop/<span style="font-size:12px;line-height:1.5;">.password \
</span>&gt; --<span style="font-size:12px;line-height:1.5;">table djt_user_copy \
</span>&gt; --staging-<span style="font-size:12px;line-height:1.5;">table djt_user_copy_tmp \
</span>&gt; --clear-staging-<span style="font-size:12px;line-height:1.5;">table \
</span>&gt; --export-dir /sqoop/test/<span style="font-size:12px;line-height:1.5;">djt_user \
</span>&gt; -input-fields-terminated-by "@"</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong>这里，<strong><span style="color:rgb(0,0,255);">HDFS里，是在/sqoop/test/djt_user</span>，<strong>通过Sqoop工具，先导出到中间表<strong><strong>djt_user_copy_tmp是在MySQL里</strong></strong>，再继续导出到</strong><strong><span style="color:rgb(0,0,255);">djt_user_copy是在MySQL里</span>。</strong></strong></strong>&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　因为，HDFS里的</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318123202432-1674707464.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318121416338-1623080436.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　得到，</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318123702823-1711413558.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>Sqoop Export &nbsp;HDFS 应用场景——字段不对应问题</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　字段不对应问题</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　因为，在Sqoop import时，我们有选择性的导入某个字段或某些字段对吧，那么，同样，对于Sqoop export也是一样！</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>[hadoop@djt002 sqoopRunCreate]$ sqoop <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span> --connect 'jdbc:mysql://192.168.80.200/hive?useUnicode=true&amp;characterEncoding=utf-8' --username hive --password-file /user/hadoop/.password -table djt_user --columns name,sex,age,profile --target-dir /sqoop/test/djt_user --delete-target-dir -m 1 --fields-terminated-by "@" --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-non-string "###" --<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-string "###"</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <pre>　　比如，HDFS里（的/sqoop/test/djt_user/）有4列， &nbsp;数据库里（的djt_user_copy）有5列（因为会多出自增键）。<span style="color:rgb(0,0,255);font-size:18pt;"><strong>那么，如何来处理这个棘手问题呢?</strong></span></pre> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318124410932-1393408953.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318124451791-1770241347.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span style="font-size:14pt;"><strong><span style="color:rgb(0,0,255);">这样来处理，&nbsp;</span></strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:14pt;"><strong><span style="color:rgb(0,0,255);">　　照样sqoop export里也有&nbsp;-columns name,sex,age,profile \</span></strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:14pt;"><strong><span style="color:rgb(0,0,255);"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318124951604-195714814.png" alt="" style="border:0px;"></span></strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:14pt;"><strong><span style="color:rgb(0,0,255);"><img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318124837573-628639204.png" alt="" style="border:0px;"></span></strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<img src="https://images2015.cnblogs.com/blog/855959/201703/855959-20170318125218416-1081440827.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　 我的这里，自增键呢?/</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong><strong>通过Sqoop Export&nbsp;<strong>HDFS里的数据到MySQL</strong></strong>（作为扩展）</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; 下面我们看一下 Sqoop 如何使用命令行来导出数据的，其命令行语法如下所示。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">sqoop export \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">password sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--export-dir user</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="color:rgb(0,0,255);">--connect</span>：指定 JDBC URL。<br><span style="color:rgb(0,0,255);">--username/password</span>：mysql 数据库的用户名和密码。<br><span style="color:rgb(0,0,255);">--table</span>：要导入的数据库表。<br><span style="color:rgb(0,0,255);">--export-dir</span>：数据在 HDFS 上的存放目录。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="font-size:18pt;"><strong>下面我们介绍几种 Sqoop 数据导出的特殊应用（作为扩展）</strong></span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong>1</strong>、Sqoop export 将数据导入数据库，一般情况下是一条一条导入的，这样导入的效率非常低。这时我们可以使用 Sqoop export 的批量导入提高效率，其具体语法如下。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><strong><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">sqoop export \ --Dsqoop.export.records.per.statement=10 \ --connect jdbc:mysql://192.168.80.128:3306/db_hadoop \ --username sqoop \ --password sqoop \ --table user \ --export-dir user \ --batch</span></strong></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp; &nbsp;&nbsp;<span style="color:rgb(0,0,255);">--Dsqoop.export.records.per.statement</span>：指定每次导入10条数据，--batch：指定是批量导入。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong>2</strong>、在实际应用中还存在这样一个问题，比如导入数据的时候，Map Task 执行失败，&nbsp;<br> 那么该 Map 任务会转移到另外一个节点执行重新运行，这时候之前导入的数据又要重新导入一份，造成数据重复导入。<br> 因为 Map Task 没有回滚策略，一旦运行失败，已经导入数据库中的数据就无法恢复。<br> Sqoop export 提供了一种机制能保证原子性， 使用--staging-table 选项指定临时导入的表。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> Sqoop export 导出数据的时候会分为两步：<br> 第一步，将数据导入数据库中的临时表，如果导入期间 Map Task 失败，会删除临时表数据重新导入；<br> 第二步，确认所有 Map Task 任务成功后，会将临时表名称为指定的表名称。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">sqoop export \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">password sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--staging-table staging_user</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;<strong>3</strong>、在 Sqoop 导出数据过程中，如果我们想更新已有数据，可以采取以下两种方式。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)通过 --update-key id 更新已有数据。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="font-size:12px;line-height:1.5;">sqoop export \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">password sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--update-key id</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp; &nbsp;2) &nbsp;使用 --update-key id和--update-mode allowinsert 两个选项的情况下，如果数据已经存在，则更新数据，如果数据不存在，则插入新数据记录。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">sqoop export \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128.:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">password sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--update-<span style="font-size:12px;line-height:1.5;">key id \
</span>--update-mode allowinsert</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>4、</strong>如果 HDFS 中的数据量比较大，很多字段并不需要，我们可以使用 --columns 来指定插入某几列数据。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">sqoop export \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">192.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">password sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--column username,sex</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>5、</strong>当导入的字段数据不存在或者为null的时候，我们使用--input-null-string和--input-null-non-string 来处理。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="font-size:12px;line-height:1.5;">sqoop export \
</span>--connect jdbc:mysql:<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">129.168.80.128:3306/db_hadoop \</span>
--<span style="font-size:12px;line-height:1.5;">username sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">password sqoop \
</span>--<span style="font-size:12px;line-height:1.5;">table user \
</span>--input-<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-string '\\N'<span style="font-size:12px;line-height:1.5;"> \
</span>--input-<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>-non-string '\\N'</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p><font><span style="font-size:14px;">本文转自大数据躺过的坑博客园博客，原文链接：http://www.cnblogs.com/zlslch/p/6116476.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
