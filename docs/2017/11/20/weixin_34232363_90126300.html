<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Linux 介绍快速浏览 « NotBeCN</title>
  <meta name="description" content="                  Linux 介绍 内核 库: .so 共享对象，windows：dll 动态链接库 应用程序     Linux的基本原则： 1、由目的单一的小程序组成；组合小程序完成复杂任务； 2、一切皆文件； 3、尽量避免捕获用户接口； 4、配置文件保存为纯文本格式；     用户接口 G...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/20/weixin_34232363_90126300.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Linux 介绍快速浏览</h1>
    <p class="post-meta">Nov 20, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="blogpost-body"> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Linux 介绍<br> 内核<br> 库: .so 共享对象，windows：dll 动态链接库<br> 应用程序</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Linux的基本原则：<br> 1、由目的单一的小程序组成；组合小程序完成复杂任务；<br> 2、一切皆文件；<br> 3、尽量避免捕获用户接口；<br> 4、配置文件保存为纯文本格式；</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">用户接口<br> GUI接口：<br> CLI接口：<br> 命令提示符，prompt, bash(shell)<br> #: root<br> $: 普通用户<br> 命令：</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">命令格式：<br> 命令 选项 参数<br> 选项：<br> 短选项： -<br> 多个选项可以组合：-a -b = -ab<br> 长选项： --<br> 参数：命令的作用对象</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 虚拟终端(terminal)：Ctrl+Alt+F1-F6</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Shell:<br> GUI: Graphic User Interface<br> Windows<br> X-Window<br> Gnome<br> KDE<br> Xface<br> CLI: Command Line Interface<br> sh<br> bash<br> csh<br> ksh<br> zsh<br> tcsh</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> prompt,命令提示符:<br> 命令：<br> magic number: 魔数<br> shebang</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">#!/bin/bash</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"># command options... arguments...</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">选项：<br> 短选项 -<br> 长选项 --<br> 参数：</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">list: ls<br> 列出，列表</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">目录：文件，路径映射</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">路径：从指定起始点到目的地所经过位置</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">文件系统：file system</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">列出指定路径下的文件</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 目录：working directory, current directory</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">pwd: Printing Working directory</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">ls<br> -l：长格式<br> 文件类型：<br> -：普通文件 (f)<br> d: 目录文件<br> b: 块设备文件 (block)<br> c: 字符设备文件 (character)<br> l: 符号链接文件(symbolic link file)<br> p: 命令管道文件(pipe)<br> s: 套接字文件(socket)<br> 文件权限：9位，每3位一组，3组 权限（U,G,O）每一组：rwx(读，写，执行), r-- ，第一组：文件的属主用户权限。第二组：文件的属组用户权限，第三组：其他用户权限<br> 文件硬链接的次数<br> 文件的属主(owner)<br> 文件的属组(group)<br> 文件大小(size)，单位是字节<br> 时间戳(timestamp)：最近一次被修改的时间<br> 访问:access<br> 修改:modify，文件内容发生了改变<br> 改变:change，metadata，元数据<br> -h：做单位转换<br> -a: 显示以.开头的隐藏文件<br> . 表示当前目录<br> .. 表示父目录<br> -A<br> -d: 显示目录自身属性<br> -i: index node, inode<br> -r: 逆序显示<br> -R: 递归(recursive)显示<br><br> cd: change directory<br> 家目录，主目录, home directory<br> cd ~USERNAME: 进入指定用户的家目录<br> cd -:在当前目录和前一次所在的目录之间来回切换</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">命令类型：<br> 内置命令(shell内置)，内部，内建<br> 外部命令：在文件系统的某个路径下有一个与命令名称相应的可执行文件<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> type: 显示指定属于哪种类型<br><br> date：时间管理<br> Linux: rtc</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">硬件时钟<br> 系统时钟</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 获得命令的使用帮助：<br> 内部命令：<br> help COMMAND 比如：help cd<br> 外部命令：<br> COMMAND --help 比如：date --help<br><br> 命令手册：manual<br> man COMMAND</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">whatis COMMAND<br> 分章节：<br> 1：用户命令(/bin, /usr/bin, /usr/local/bin)<br> 2：系统调用<br> 3：库用户<br> 4：特殊文件(设备文件)<br> 5：文件格式(配置文件的语法)<br> 6：游戏<br> 7：杂项(Miscellaneous)<br> 8: 管理命令(/sbin, /usr/sbin, /usr/local/sbin)</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">MAN：<br> NAME：命令名称及功能简要说明<br> SYNOPSIS：用法说明，包括可用的选项<br> DESCRIPTION：命令功能的详尽说明，可能包括每一个选项的意义<br> OPTIONS：说明每一个选项的意义<br> FILES：此命令相关的配置文件<br> BUGS：<br> EXAMPLES：使用示例<br> SEE ALSO：另外参照</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">翻屏：<br> 向后翻一屏：SPACE<br> 向前翻一屏：b<br> 向后翻一行：ENTER<br> 向前翻一行：k</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">查找：<br> /KEYWORD: 向后<br> n: 下一个<br> N：前一个</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">q: 退出</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">练习：<br> 使用date单独获取系统当前的年份、月份、日、小时、分钟、秒<br><br> hwclock<br> -w:&nbsp;<br> -s:&nbsp;<br> 练习：<br> 1、echo是内部命令还是外部命令？<br> 2、其作用？<br> 3、如何显示 echo “The year is 2013." echo "Today is 26.”为两行？</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">请设置系统时间和硬件时间保持一致。<br> cp<br> mv<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">文件系统：<br> rootfs: 根文件系统 /</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">FHS：Linux</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">/boot: 系统启动相关的文件，如内核、initrd，以及grub(bootloader)<br> /dev: 设备文件<br> 设备文件：<br> 块设备：随机访问，数据块<br> 字符设备：线性访问，按字符为单位<br> 设备号：主设备号（major）和次设备号（minor）<br> /etc：配置文件<br> /home：用户的家目录，每一个用户的家目录通常默认为/home/USERNAME<br> /root：管理员的家目录；<br> /lib：库文件<br> 静态库, .a<br> 动态库， .dll, .so (shared object)<br> /lib/modules：内核模块文件<br> /lib64<br> /media：挂载点目录，移动设备<br> /mnt：挂载点目录，额外的临时文件系统<br> /opt：可选目录，第三方程序的安装目录<br> /proc：伪文件系统，内核映射文件<br> /sys：伪文件系统，跟硬件设备相关的属性映射文件<br> /tmp：临时文件, /var/tmp<br> /var：可变化的文件<br> /bin: 可执行文件, 用户命令<br> /sbin：管理命令</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">绝对路径：以跟目录为起点到目标的路径。<br> 相对路径：以当前目录为起点到目标的路径</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mkdir：创建空目录<br> -p:<br> -v: verbose<br> /root/x/y/z</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">/mnt/test/x/m,y<br> mkdir -pv /mnt/test/x/m /mnt/test/y<br> mkdir -pv /mnt/test/{x/m,y}</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> # tree：查看目录树</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">删除目录：rmdir (remove directory)<br> 删除空目录<br> -p<br><br> 文件创建和删除<br> # touch<br> -a<br> -m<br> -t<br> -c<br> # stat 查看文件信息</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建文件，可以使用文件编辑器</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">nano</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">vi(另外一个文件)</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">删除文件：rm<br> -i 删除之前确认<br> -f 删除之前不确认<br> -r 递归删除<br><br> rm -rf / linux 自杀</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">cp： copy<br> cp SRC DEST<br> -r<br> -i 存在覆盖前确认<br> -f<br> -p<br> -a：归档复制，常用于备份<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">cp file1 file2 file3<br> 一个文件到一个文件<br> 多个文件到一个目录<br> cp /etc/{passwd,inittab,rc.d/rc.sysinit} /tmp/</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mv: move<br> 移动文件</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">mv SRC DEST<br> mv -t DEST SRC</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">目录管理：<br> ls、cd、pwd、mkdir、rmdir、tree</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">文件管理：<br> touch、stat、file、rm、cp、mv、nano,vi,vim</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">日期时间：<br> date、clock、hwclock、cal ,ntpdate</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">查看文本：<br> cat、tac、more、less、head、tail</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 分屏显示：<br> more、less</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">more: 向后翻<br> less:</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> head:查看前n行&nbsp;<br> tail:查看后n行<br> -n&nbsp;<br><br> tail -f: 查看文件尾部，不退出，等待显示后续追加至此文件的新内容；</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 文本处理：<br> cut、sort,join、sed、awk</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 文本文件：<br> Tom:23:male:2013/05/06</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">cut:<br> -d: 指定字段分隔符，默认是空格<br> -f: 指定要显示的字段<br> -f 1,3<br> -f 1-3</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">文本排序：sort<br> -n：数值排序<br> -r: 降序<br> -t: 字段分隔符<br> -k: 以哪个字段为关键字进行排序<br> -u: 排序后相同的行只显示一次<br> -f: 排序时忽略字符大小写<br><br><br> 文本统计：wc (word count)<br> -l<br> -w<br> -c<br> -L<br> sed基本用法：<br> sed: Stream EDitor<br> 行编辑器 (全屏编辑器: vi)<br><br> sed: 模式空间<br> 默认不编辑原文件，仅对模式空间中的数据做处理；而后，处理结束后，将模式空间打印至屏幕；</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> sed [options] 'AddressCommand' file ...<br> -n: 静默模式，不再默认显示模式空间中的内容<br> -i: 直接修改原文件<br> -e SCRIPT -e SCRIPT:可以同时执行多个脚本<br> -f /PATH/TO/SED_SCRIPT<br> sed -f /path/to/scripts file<br> -r: 表示使用扩展正则表达式<br><br><br> Command：<br> d: 删除符合条件的行；<br> p: 显示符合条件的行；<br> a \string: 在指定的行后面追加新行，内容为string<br> \n：可以用于换行<br> i \string: 在指定的行前面添加新行，内容为string<br> r FILE: 将指定的文件的内容添加至符合条件的行处<br> w FILE: 将地址指定的范围内的行另存至指定的文件中;&nbsp;<br> s/pattern/string/修饰符: 查找并替换，默认只替换每行中第一次被模式匹配到的字符串<br> 加修饰符<br> g: 全局替换<br> i: 忽略字符大小写<br> s///: s###, s@@@ <br> \(\), \1, \2<br><br> l..e: like--&gt;liker<br> love--&gt;lover<br><br> like--&gt;Like<br> love--&gt;Love<br><br> &amp;: 引用模式匹配整个串</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">sed练习：<br> 1、删除/etc/grub.conf文件中行首的空白符；<br> sed -r 's@^[[:space:]]+@@g' /etc/grub.conf<br> 2、替换/etc/inittab文件中"id:3:initdefault:"一行中的数字为5；<br> sed 's@\(id:\)[0-9]\(:initdefault:\)@\15\2@g' /etc/inittab<br> 3、删除/etc/inittab文件中的空白行；<br> sed '/^$/d' /etc/inittab</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> awk:<br> awk是一个强大的文本分析工具，<br> 相对于grep的查找，sed的编辑，<br> awk在其对数据分析并生成报告时，显得尤为强大。<br> 简单来说awk就是把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理。<br><br><br> awk '{pattern + action}' {commands}<br> 其中 pattern 表示 AWK 在数据中查找的内容，而 action 是在找到匹配内容时所执行的一系列命令。<br> 花括号（{}）不需要在程序中始终出现，但它们用于根据特定的模式对一系列指令进行分组。<br> pattern就是要表示的正则表达式，用斜杠括起来。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">案例：<br> 显示最近登录的5个帐号<br> #last -n 5 | awk '{print $1}'<br> 读入有'\n'换行符分割的一条记录，然后将记录按指定的域分隔符划分域，填充域<br> $0则表示所有域,$1表示第一个域,$n表示第n个域。默认域分隔符是"空白键" 或 "[tab]键",<br> 所以$1表示登录用户，$3表示登录用户ip,以此类推。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">如果只是显示/etc/passwd的账户</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">#cat /etc/passwd |awk -F ':' '{print $1}'&nbsp;<br> root<br> daemon<br> bin<br> sys<br> 这种是awk+action的示例，每行都会执行action{print $1}。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">-F指定域分隔符为':'。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">如果只是显示/etc/passwd的账户和账户对应的shell,而账户与shell之间以tab键分割</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">#cat /etc/passwd |awk -F ':' '{print $1"\t"$7}'<br> root /bin/bash<br> daemon /bin/sh<br> bin /bin/sh<br> sys /bin/sh<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">如果只是显示/etc/passwd的账户和账户对应的shell,而账户与shell之间以逗号分割,而且在所有行添加列名name,shell,在最后一行添加"blue,/bin/nosh"。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">复制代码<br> cat /etc/passwd |awk -F ':' 'BEGIN {print "name,shell"} {print $1","$7} END {print "blue,/bin/nosh"}'<br> name,shell<br> root,/bin/bash<br> daemon,/bin/sh<br> bin,/bin/sh<br> sys,/bin/sh<br> ....<br> blue,/bin/nosh</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk工作流程是这样的：先执行BEGING，然后读取文件，读入有/n换行符分割的一条记录，然后将记录按指定的域分隔符划分域，填充域，$0则表示所有域,$1表示第一个域,$n表示第n个域,随后开始执行模式所对应的动作action。接着开始读入第二条记录······直到所有的记录都读完，最后执行END操作。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">搜索/etc/passwd有root关键字的所有行</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">#awk -F: '/root/' /etc/passwd<br> root:x:0:0:root:/root:/bin/bash<br> 这种是pattern的使用示例，匹配了pattern(这里是root)的行才会执行action(没有指定action，默认输出每行的内容)。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">搜索支持正则，例如找root开头的: awk -F: '/^root/' /etc/passwd</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">搜索/etc/passwd有root关键字的所有行，并显示对应的shell</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"># awk -F: '/root/{print $7}' /etc/passwd&nbsp;<br> /bin/bash<br> 这里指定了action{print $7}</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk内置变量<br> awk有许多内置变量用来设置环境信息，这些变量可以被改变，下面给出了最常用的一些变量。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">ARGC 命令行参数个数<br> ARGV 命令行参数排列<br> ENVIRON 支持队列中系统环境变量的使用<br> FILENAME awk浏览的文件名<br> FNR 浏览文件的记录数<br> FS 设置输入域分隔符，等价于命令行 -F选项<br> NF 浏览记录的域的个数<br> NR 已读的记录数<br> OFS 输出域分隔符<br> ORS 输出记录分隔符<br> RS 控制记录分隔符</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">$0变量是指整条记录。$1表示当前行的第一个域,$2表示当前行的第二个域,......以此类推。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">统计/etc/passwd:文件名，每行的行号，每行的列数，对应的完整行内容:</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">#awk -F ':' '{print "filename:" FILENAME ",linenumber:" NR ",columns:" NF ",linecontent:"$0}' /etc/passwd<br> filename:/etc/passwd,linenumber:1,columns:7,linecontent:root:x:0:0:root:/root:/bin/bash<br> filename:/etc/passwd,linenumber:2,columns:7,linecontent:daemon:x:1:1:daemon:/usr/sbin:/bin/sh<br> filename:/etc/passwd,linenumber:3,columns:7,linecontent:bin:x:2:2:bin:/bin:/bin/sh<br> filename:/etc/passwd,linenumber:4,columns:7,linecontent:sys:x:3:3:sys:/dev:/bin/sh<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">使用printf替代print,可以让代码更加简洁，易读</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk -F ':' '{printf("filename:%s,linenumber:%s,columns:%s,linecontent:%s\n",FILENAME,NR,NF,$0)}' /etc/passwd<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">print和printf<br> awk中同时提供了print和printf两种打印输出的函数。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">其中print函数的参数可以是变量、数值或者字符串。字符串必须用双引号引用，参数用逗号分隔。如果没有逗号，参数就串联在一起而无法区分。这里，逗号的作用与输出文件的分隔符的作用是一样的，只是后者是空格而已。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">printf函数，其用法和c语言中printf基本相似,可以格式化字符串,输出复杂时，printf更加好用，代码更易懂。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk编程<br> 变量和赋值</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">除了awk的内置变量，awk还可以自定义变量。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">下面统计/etc/passwd的账户人数</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk '{count++;print $0;} END{print "user count is ", count}' /etc/passwd<br> root:x:0:0:root:/root:/bin/bash<br> ......<br> user count is 40<br> count是自定义变量。之前的action{}里都是只有一个print,其实print只是一个语句，而action{}可以有多个语句，以;号隔开。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">这里没有初始化count，虽然默认是0，但是妥当的做法还是初始化为0:</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk 'BEGIN {count=0;print "[start]user count is ", count} {count=count+1;print $0;} END{print "[end]user count is ", count}' /etc/passwd<br> [start]user count is 0<br> root:x:0:0:root:/root:/bin/bash<br> ...<br> [end]user count is 40<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">统计某个文件夹下的文件占用的字节数</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">ls -l |awk 'BEGIN {size=0;} {size=size+$5;} END{print "[end]size is ", size}'<br> [end]size is 8657198<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">如果以M为单位显示:</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">ls -l |awk 'BEGIN {size=0;} {size=size+$5;} END{print "[end]size is ", size/1024/1024,"M"}'&nbsp;<br> [end]size is 8.25889 M<br> 注意，统计不包括文件夹的子目录。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">条件语句</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk中的条件语句是从C语言中借鉴来的，见如下声明方式：</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">复制代码<br> if (expression) {<br> statement;<br> statement;<br> ... ...<br> }</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">if (expression) {<br> statement;<br> } else {<br> statement2;<br> }</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">if (expression) {<br> statement1;<br> } else if (expression1) {<br> statement2;<br> } else {<br> statement3;<br> }</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">统计某个文件夹下的文件占用的字节数,过滤4096大小的文件(一般都是文件夹):</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">ls -l |awk 'BEGIN {size=0;print "[start]size is ", size} {if($5!=4096){size=size+$5;}} END{print "[end]size is ", size/1024/1024,"M"}'&nbsp;<br> [end]size is 8.22339 M<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">循环语句</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk中的循环语句同样借鉴于C语言，支持while、do/while、for、break、continue，这些关键字的语义和C语言中的语义完全相同。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">数组</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">因为awk中数组的下标可以是数字和字母，数组的下标通常被称为关键字(key)。值和关键字都存储在内部的一张针对key/value应用hash的表格里。由于hash不是顺序存储，因此在显示数组内容时会发现，它们并不是按照你预料的顺序显示出来的。数组和变量一样，都是在使用时自动创建的，awk也同样会自动判断其存储的是数字还是字符串。一般而言，awk中的数组用来从记录中收集信息，可以用于计算总和、统计单词以及跟踪模板被匹配的次数等等。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">显示/etc/passwd的账户</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">awk -F ':' 'BEGIN {count=0;} {name[count] = $1;count++;}; END{for (i = 0; i &lt; NR; i++) print i, name[i]}' /etc/passwd<br> 0 root<br> 1 daemon<br> 2 bin<br> 3 sys<br> 4 sync<br> 5 games<br> ......</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">这里使用for循环遍历数组</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> linux 引号<br> 1、反引号：`` ,命令替换<br> 2、单引号：'' ，字符串<br> 3、双引号: "" ,变量替换</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">管道：前一个命令的输出，作为后一个命令的输入</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">命令1 | 命令2 | 命令3 | ...</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">练习：<br> 1、统计/usr/bin/目录下的文件个数；<br> # ls /usr/bin | wc -l</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">判断 /home/goldin目录是否有文件</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">2、取出当前系统上所有用户的shell，要求，每种shell只显示一次，并且按顺序进行显示；<br> # cut -d: -f7 /etc/passwd | sort -u<br> 4、取出/etc/inittab文件的第6行；<br> # head -6 /etc/inittab | tail -1<br> 5、取出/etc/passwd文件中倒数第9个用户的用户名和shell，显示到屏幕上并将其保存至/tmp/users文件中；<br> # tail -9 /etc/passwd | head -1 | cut -d: -f1,7 | tee /tmp/users<br> 6、显示/etc目录下所有以pa开头的文件，并统计其个数；<br> # ls -d /etc/pa* | wc -l</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 用户管理：<br> useradd, userdel, usermod, passwd, chsh, chfn, finger, id, chage</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">组管理：<br> groupadd, groupdel, groupmod, gpasswd<br><br> 权限管理：<br> chown, chgrp, chmod, umask</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> /etc/passwd:<br> 用户名：密码：UID:GID：注释：家目录：默认SHELL</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">/etc/group:<br> 组名：密码：GID:以此组为其附加组的用户列表</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">/etc/shadow：<br> 用户名：密码：最近一次修改密码的时间：最短使用期限：最长使用期限：警告时间：非活动时间：过期时间：</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">用户管理：<br> useradd, userdel, usermod, passwd, chsh, chfn, finger, id, chage</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> useradd [options] USERNAME&nbsp;<br> -u UID<br> -g GID（基本组）<br> -G GID,... （附加组）<br> -c "COMMENT"<br> -d /path/to/directory<br> -s SHELL<br> -m -k<br> -M<br> -r: 添加系统用户<br><br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">userdel:<br> userdel [option] USERNAME<br> -r: 同时删除用户的家目录</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">id：查看用户的帐号属性信息<br> -u<br> -g<br> -G<br> -n</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">finger: 查看用户帐号信息<br> finger USERNAME</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">修改用户帐号属性：<br> usermod<br> -u UID&nbsp;<br> -g GID<br> -a -G GID：不使用-a选项，会覆盖此前的附加组；<br> -c<br> -d -m：<br> -s<br> -l<br> -L：锁定帐号<br> -U：解锁帐号<br><br> chsh: 修改用户的默认shell</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">chfn：修改注释信息</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">密码管理：<br> passwd [USERNAME]<br> --stdin<br> -l<br> -u<br> -d: 删除用户密码</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">pwck：检查用户帐号完整性</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 组管理：<br> 创建组:groupadd<br> groupadd&nbsp;<br> -g GID<br> -r：添加为系统组<br><br> groupmod<br> -g GID<br> -n GRPNAME</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">groupdel</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">gpasswd：为组设定密码</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">newgrp GRPNAME &lt;--&gt; exit<br><br> chage<br> -d: 最近一次的修改时间<br> -E: 过期时间<br> -I：非活动时间<br> -m: 最短使用期限<br> -M: 最长使用期限<br> -W: 警告时间</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 权限管理：<br> r:&nbsp;<br> w：<br> x：<br> 111 101 101<br> 三类用户：<br> u: 属主<br> g: 属组<br> o: 其它用户</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">chown: 改变文件属主(只有管理员可以使用此命令)<br> # chown USERNAME file,...<br> -R: 修改目录及其内部文件的属主<br> --reference=/path/to/somefile file,...</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">chown USERNAME:GRPNAME file,...<br> chown USERNAME.GRPNAME file,...<br><br> # chgrp GRPNAME file,...<br> -R<br> --reference=/path/to/somefile file,...<br></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">chmod: 修改文件的权限<br> 修改三类用户的权限：<br> chmod MODE file,...<br> -R<br> --reference=/path/to/somefile file,...</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">rwxr-x---</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">ps -aux</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">netstat -ntpl</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">grep<br> find</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">yum install lrzsz 上传文件rz</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">-linux 安全性</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">登陆<br> 等日志查看<br> 限制某些IP才能ssh登陆<br> ...<br> 密码一个月换一次<br> 设置密码：特殊符号，大写，小写，1223455，最少8位</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">防火墙<br> 规则<br> 添加规则<br> 配置文件</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
    <div> 
     <font><span style="font-size:14px;">本文转自大数据躺过的坑博客园博客，原文链接：http://www.cnblogs.com/zlslch/p/6048224.html，如需转载请自行联系原作者</span></font>
     <br>
    </div> 
   </div> 
   <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"></div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
