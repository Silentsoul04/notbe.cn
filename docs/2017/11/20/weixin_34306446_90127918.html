<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>关于Eclipse中的开源框架EMF(Eclipse Modeling Framework) « NotBeCN</title>
  <meta name="description" content="             Eclipse项目本身可以划分为4个主要的子项目:Equinox,平台,Java开发工具(Java Development Tools,JDT)和插件开发环境(Plug-in Development Environment,PDE).一般来说,这4个子项目足以来扩展架构和开发基于Ecli...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/20/weixin_34306446_90127918.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">关于Eclipse中的开源框架EMF(Eclipse Modeling Framework)</h1>
    <p class="post-meta">Nov 20, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Eclipse项目本身可以划分为4个主要的子项目:Equinox,平台,Java开发工具(Java Development Tools,JDT)和插件开发环境(Plug-in Development Environment,PDE).一般来说,这4个子项目足以来扩展架构和开发基于Eclipse的工具.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Equinox和平台是Eclipse的核心组件,许多人直接将他们当做Eclipse.Equinox是OSGI R4核心架构规范的实现.这种规范提供作为所有Eclipse的基础的组件模型.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">JDT是使用Eclipse构建的功能完备的Java开发环境,其工具高度集成.代表Eclipse平台的能力所在.JDT可用来开发Eclipse或者其他目标平台的Java程序,JDT甚至可以用来开发Eclipse项目自身.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">PDE提供了视图和编辑器来为Eclipse创建插件,PDE通过支持插件开发活动的非Java部分(例如注册插件扩展等)来以JDT为基础构建并扩展JDT.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">建模项目:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">Eclipse建模项目是Eclipse中基于模型开发技术的改进和提升的重点,其核心是EMF,它为建模提供了基本架构,其他建模子项目建立在EMF核心之上.他们能够提供某些功能,例如模型转换,数据库集成和图形比那机器生成.其中还包括许多重要建模标准的实现.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">EMF不需要完全不同的方法或者任何复杂的建模工具,EMF入门所需要的只是Eclipse Java开发工具.EMF和建模概念直接与他们的实现相关联.从而使Eclipse-----通常是Java开发人员的建模入门门槛较低.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">本文转自:<a href="http://www.cnblogs.com/jpcflyer/archive/2012/05/29/2517678.html" rel="nofollow" style="color:#000000;">http://www.cnblogs.com/jpcflyer/archive/2012/05/29/2517678.html</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">后来发现这个博主也是翻译的一本国外的书(Addison.Wesley.Eclipse.Modeling.Framework.A.Developers.Guide)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span>Eclipse Modeling Framework (EMF)，简单的说，就是Eclipse提供的一套建模框架</span>，<span>可以用EMF建立自己的UML模型，设计模型的XML格式或编写模型的java代码</span>。<span>EMF提供了一套方便的机制，实现了功能的相互转换，大大提高了效率</span>，下面是其具体功能介绍：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>一、统一java、UML、XML</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　为了帮助理解EMF，我们可以举一个例子。假设老板要你写需要写一个程序，<span>来管理供应商的采购清单</span>，<span>采购清单需要维护三大项</span>：<span>付款方(bill to)</span>、<span>运送地址(ship to)</span>和<span>购买货物集合（集合中包含名字name、数量quantity、价格price）</span>。你回答说：没问题。然后就开始设计采购系统的java接口：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">interface</span><span style="font-size:12px;line-height:1.5;"> PurchaseOrder{//购买订单接口类
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 2</span> <span style="font-size:12px;line-height:1.5;">　　String getShipTo();//运送地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 3</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> setShipTo(String value);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 4</span> <span style="font-size:12px;line-height:1.5;">　　String getBillTo();付款方
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 5</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> setBillTo(String value);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 6</span> 　　List getItems(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> List of Item 订单中的商品</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 7</span> <span style="font-size:12px;line-height:1.5;">}
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 8</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">interface</span><span style="font-size:12px;line-height:1.5;"> Item{//购买商品的接口类
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 9</span> <span style="font-size:12px;line-height:1.5;">　　String getProductName();//名字
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">10</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> setProductName(String value);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">11</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> getQuantity();//数量
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">12</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> setQuantity(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> value);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">13</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> getPrice();//价格
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">14</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> setPrice(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> value);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">15</span> }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">然后就准备开始实现自己的接口，忽然老板问了一句，<span>“你不要先建立自己的模型吗”</span>，对于大多数从来不建模的java程序员，你认为代码就是模型，用那些形式化建模元素建立模型除了能在文档中增加篇幅外，没有任何好处，但即使如此，你仍然要听老板的话，所以你建立了如图1所示的UML模型。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images0.cnblogs.com/blog/610238/201412/231546318128742.jpg" alt="" width="433" height="125" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">这里，你可以要求老板走开，然后编码实现了，<span>但首先你还得保存模型，这里我们你想到了用XML文件保存</span>，自诩聪明之时，写好了如下的<span>XML schema文件</span>：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;?</span><span style="color:rgb(255,0,255);font-size:12px;line-height:1.5;">xml version="1.0" encoding="UTF-8"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">?&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 2</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:schema </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xmlns:xsd</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.w3.org/2001/XMLSchema"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 3</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　xmlns:po</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.example.com/SimplePO"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 4</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　targetNamespace</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.example.com/SimplePO"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 5</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:complexType </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="PurchaseOrder"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 6</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:sequence</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 7</span> 　　　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:element </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="shipTo"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="xsd:string"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 8</span> 　　　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:element </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="billTo"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="xsd:string"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 9</span> 　　　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:element </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="items"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="po:Item"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">10</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　 minOccurs</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="0"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> maxOccurs</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="unbounded"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">11</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:sequence</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">12</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:complexType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">13</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:complexType </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="Item"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">14</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:sequence</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">15</span> 　　　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:element </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="productName"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="xsd:string"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">16</span> 　　　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:element </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="quantity"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="xsd:int"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">17</span> 　　　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:element </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="price"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="xsd:float"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">18</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:sequence</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">19</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:complexType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">20</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">xsd:schema</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在下一步工作之前，你突然意识到现在<span>已经有三种系统表示</span>：<span>Java interfaces</span>、<span>UML模型</span>和&nbsp;<span>XML&nbsp;Schema</span>，你开始思考，<span>同一个系统设计了三种模型（暂且认为XML和接口也是模型）</span>，进行了大量重复的工作，有没有一种方法，<span>只设计其中的一种模型，然后实现三者之间的相互转换？</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　此时，<span>EMF出现了，EMF是一个建模框架，能够实现java代码的生成，即它统一了三种重要的技术：Java, XML 和 UML</span>。如图2所示。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images0.cnblogs.com/blog/610238/201412/231547470777516.jpg" alt="" width="350" height="246" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">假设<span>你要操作一个XML文档，如果你是XML schema大牛，你可以从设计schema开始，然后通过EMF得到UML模型，再通过EMF得到java代码</span>，当然如果你不是，<span>可以从设计UML模型开始，一样可以完成上述功能</span>。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>二、建模 vs 编程</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　这里有的人可能会问：<span>难道EMF只是一个描述模型和生成其它东西的框架吗？回答是的，但不全面</span>，<span>EMF的功能远不止此，它能有效地为编程服务</span>，这也是一个经典问题的答案：<span>“我是应该先建模还是直接写代码？”，EMF的回答是两者都可以，因此在EMF看来，两者是等价的</span>。用英语回答就是："To model or to program, that is not the question."</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>三、定义模型</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　上面我们用三种形式描述了我们的概念模型，那么这三者有没有共同的模型概念，方便它们之间的转换呢（模型转换的知识在此暂时省略）？我们再回顾下前面的三种模型：</p> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style:disc;"><span>PurchaseOrder and Item 在UML和java中是类，但在XML schema中是复杂类型定义；</span></li> 
    <li style="list-style:disc;"> <span>shipTo, billTo, productName, quantity 和 price在UML中是属性</span>，<span>在java中是get()/set()方法对，在XML schema中是内嵌的元素类型；</span> </li> 
    <li style="list-style:disc;"> <span>items在UML是类的关联或引用</span>，<span>在java中是get()方法</span>，<span>在XML schema中是另一种复杂类型的内嵌元素类型</span>。</li> 
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　可以看到这三者都用到了一种较高层的定义来分别表达UML、XML、java。因此，<span>要实现EMF和模型之间的转换</span>，<span>我们需要这种能够描述EMF模型的模型，我们称为元模型。</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>1、Ecore (Meta)模型</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　能够描述EMF的模型称为Ecore元模型（位于MOF的M2层，关于MOF可以参考<a href="http://en.wikipedia.org/wiki/Meta-Object_Facility" rel="nofollow" style="color:#000000;">http://en.wikipedia.org/wiki/Meta-Object_Facility</a>），它本身也是EMF模型，因此Ecore是它自己的元模型。如果再深入一点，Ecore的元模型又是什么呢？回答仍然是Ecore，因为它可以描述自身。Ecore只是OMG的MOF在Eclipse下的一种实现，可能还有其它元模型形式（可以参考<a href="http://wenku.baidu.com/view/d28de6717fd5360cba1adb28.html" rel="nofollow" style="color:#000000;">http://wenku.baidu.com/view/d28de6717fd5360cba1adb28.html</a>第二段），这里就不详细介绍了。<span>图3给出了一个简化的Ecore元模型，说它是简化的</span>，<span>是因为它只是Ecore元模型的子集，而且为了方便，将某些公共类省略</span>，如ENamedElement类（这个类定义了类中属性的名字）。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images0.cnblogs.com/blog/610238/201412/231551115935834.jpg" alt="" width="515" height="206" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">从图2中可以看到，我们需要四种Ecore类来描述我们的模型，它们是：</p> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style:disc;"><span>EClass 用于表示模型中的类，它有一个name，0个或多个attributes，0个或多个references。</span></li> 
    <li style="list-style:disc;"><span>EAttribute 用于表示模型中的attribute，它有一个name和一个type。</span></li> 
    <li style="list-style:disc;"><span>EReference 用于表示两个类之间的关联，它有一个name，一个布尔值表示它是否是containment，还有一个引用类型（其它类）。</span></li> 
    <li style="list-style:disc;"><span>EDataType 用于表示attribute的类型，它可以是基本类型，例如int 、 float 或对象类型 java.util.Date等.</span></li> 
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　我们还可以观察到，<span>Ecore元模型这么类似于UML中的类图</span>，这不足为怪，<span>因为UML本来就是一种统一的建模语言（名符其实）</span>，倒是有另一点可能不明白？<span>即然Ecore也是UML，</span><strong><span>为什么不用UML作为UML的元模型呢</span>？答案很简单，<span>因为Ecore只是UML的子集</span></strong>，<span>没有必要用到除类图以外的其它UML元素。</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">将采购订单类描述为名为PurchaseOrder的EClass实例.它包含连个属性(通过eAttribute访问的EAttribute的实例)shipTo和billTo以及一个名为items的引用(通过eReferences访问的EReference的实例),对它来说,eReferenceType(目标类型)相当于另一个名为Item的EClass实例.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images0.cnblogs.com/blog/610238/201412/231551597658284.jpg" alt="" width="631" height="253" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">用这些Ecore对象表示内存中的模型之后,EMF可以读取它们来生成实现的代码.但是首先该如何创建模型呢?答案就是从开始的输入形式中构建它,如果从Java接口开始,EMF将内省它们并构建Ecore模型,然而,如果从XML Schema开始那么就将根据其构建模型.如果从UML开始就有3种可能的情况:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">(1)直接Ecore编辑.EMF包含一个简单的基于结构树的Ecore样本编辑器,如果使用图形工具,Ecore工具(Ecore Tools)项目会提供一个基于UML符号的图形Ecore编辑器.也可以使用第三方选项.包括Topcased的Ecore Editor,Omondo的EclipseUML和Soyatec的eUML.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">(2)从UML导入.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">EMF项目和EMF模型向导提供一种课扩展的架构,可以再其中插入模型导入程序,以支持不同的模型格式.EMF只支持Rational Rose(.mdl文件).Rose具有这种特殊状态的原因是是它是用来"引导"EMF自身实现的工具.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">(3)从UML导出.这类似于第二种选项.但是UML工具专门提供转换支持.从UML工具内而不是从EMF向导调用它.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">由此可见第一种最合适,在开发过程中它没有导入或者导出的步骤.只需要编辑模型然后生成代码.同时,它与其它方法不同.用户不用担心Ecore模型与工具本身的共有模型不同步.当UML模型改变时候,其他两种方法都需要显式再导入和再导出.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">第二种和第三种的优点是:可以使用UML工具完成EMF建模以外的任务,可以使用UML的全部功能,以及特定工具提供的优秀特性.例如:如果它支持自己的代码生成.就可以使用该工具来定义Ecore模型,或者定义和生成应用程序的其他部分.只要提供到Ecore的转化机制,那么该工具也可以用作EMF以及其生成器的输入源.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong style="line-height:1.5;">2、XMI序列格式</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span>有了Ecore元模型后，可能有人会问：“Ecore的序列化格式(Serialized form)是什么呢？”</span>是Java code、XML Schema 和 UML diagram中的一种吗？实际上，<span>Ecore的规范序列化格式是XMI(XML Metadata Interchange)</span>，<span>为什么会出现另外一种XMI格式，而不用前面介绍的三种格式呢</span>？<strong>首先，</strong><strong><span>Java code、XML Schema 和 UML diagram都增加了Ecore本身并不具有的信息</span>，<span>已经改变了Ecore；其次，</span></strong><span><strong>Java code、XML Schema 和 UML diagram中没有一种能够适用于任何场合，即没有一种是通用的，而XMI正好满足这两点。</strong></span>我们的采购系统Ecore实例可以用下面的XMI序列表示：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;?</span><span style="color:rgb(255,0,255);font-size:12px;line-height:1.5;">xml version="1.0" encoding="UTF-8"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">?&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 2</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">ecore:EPackage </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xmi:version</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="2.0"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> xmlns:xmi</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.omg.org/XMI"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 3</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　xmlns:xsi</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.w3.org/2001/XMLSchema-instance"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 4</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　xmlns:ecore</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.eclipse.org/emf/2002/Ecore"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="po"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 5</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　nsURI</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="http://www.example.com/SimplePO"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> nsPrefix</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="po"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 6</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eClassifiers </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EClass"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="PurchaseOrder"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 7</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eStructuralFeatures </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EAttribute"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="shipTo"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 8</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　eType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EDataType
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 9</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　http://www.eclipse.org/emf/2002/Ecore#//EString"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">10</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eStructuralFeatures </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EAttribute"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="billTo"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">11</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　eType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EDataType
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">12</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　http://www.eclipse.org/emf/2002/Ecore#//EString"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">13</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eStructuralFeatures </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EReference"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="items"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">14</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　upperBound</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="-1"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> eType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="#//Item"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> containment</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="true"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">15</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eClassifiers</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">16</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eClassifiers </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EClass"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="Item"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">17</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eStructuralFeatures </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EAttribute"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">18</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="productName"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> eType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EDataType 
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">19</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　http://www.eclipse.org/emf/2002/Ecore#//EString"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">20</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eStructuralFeatures </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EAttribute"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="quantity"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">21</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　eType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EDataType
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">22</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　http://www.eclipse.org/emf/2002/Ecore#//EInt"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">23</span> 　　　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eStructuralFeatures </span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EAttribute"</span><span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;"> name</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="price"</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">24</span> <span style="color:rgb(255,0,0);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　eType</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">="ecore:EDataType
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">25</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　http://www.eclipse.org/emf/2002/Ecore#//EFloat"</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">/&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">26</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">eClassifiers</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">27</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);font-size:12px;line-height:1.5;">ecore:EPackage</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span>&nbsp;当我们听到别人要导出EMF模型时，实际上就是导出EMF的XMI。</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>3、java注释</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span>我们已经知道EMF能够将java接口自动生成UML的属性和方法，但是否所有的接口都能生成呢？或者什么样的接口才能生成呢？</span>首先，<span>EMF并不会盲目地把所有的java接口自动生成UML的属性和方法，其次，只有符合特定规范才能通过EMF生成</span>（EMF使用的是JavaBeans简单属性祖先命名模式的子集，具体规范可参考http://java.sun.com/products/javabeans/docs/spec.html）。根据此规范，需要用@model标明哪些接口需要用EMF生成模型。例如前面给的PurchaseOrder接口就需要用下面的格式来生成UML：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 1</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 2</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"><span style="font-size:12px;line-height:1.5;"> * @mode</span>l
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 3</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 4</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">interface</span><span style="font-size:12px;line-height:1.5;"> PurchaseOrder
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 5</span> <span style="font-size:12px;line-height:1.5;">{
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 6</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 7</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> * @model
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 8</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 9</span> <span style="font-size:12px;line-height:1.5;">　　String getShipTo();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">10</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">11</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> * @model
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">12</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">13</span> <span style="font-size:12px;line-height:1.5;">　　String getBillTo();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">14</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">15</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> * @model type="Item" containment="true"
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">16</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">17</span> <span style="font-size:12px;line-height:1.5;">　　List getItems();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">18</span> }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">这里使用@model标记将PurhaseOrder确定为模型类,它包含了两个属性(shipTo和billTo)以及一个引用(items).注意shipTo和billTo这两个属性都有通过Java内省可用的模型信息,也就是说,他们是string类型的简单属性.其他模型信息均未显示在@model标记之后,因为只有不同于默认的信息才需要制定.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">items引用需要一些非默认模型信息,因为引用是多重---多值引用(表现为(getItems()返回一个List),所以需要将引用的目标类型制定为type="Item",还需要指定containment="true"来表示我们希望采购订单成为项目的容器,并将它们串行化为子项目.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">注意在注释后的接口中不需要setShipTo()和setBillTo()方法,对于get()方法的注释,不需要包括它们,一旦表示这些属性(默认为可以设置的属性),就会生成set()方法.如果它们不在接口里,就将它们合并到该接口.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>4、Ecore "Big Picture"</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　我们先来回顾前面的知识：</p> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style:disc;"><span>Ecore和它的XMI序列化格式是EMF的核心；</span></li> 
    <li style="list-style:disc;"><span>EMF模型至少可以通过三种形式得到（UML、XML schema、Java 接口）；</span></li> 
    <li style="list-style:disc;"><span>通过Ecore模型可以生成Java接口及其它形式的模型；</span></li> 
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　其实，<span>通过XML schema定义模型有一个优势：给定schema后，可以序列化成持久模型的实例</span>。<span><strong>因为XML schema不仅仅定义了模型，还指定了模型实例的持久格式</strong></span>。问题出来了：是否还有其它的持久模型格式呢？回答是肯定的，例如relational database (RDB) Schema等。Ecore的"big picture"如图5所示。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images0.cnblogs.com/blog/610238/201412/231553382969082.jpg" alt="" width="532" height="195" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>四、生成代码</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span>EMF最主要的功能莫过于其自动代码生成能力了，能够极大提高工作效率。</span>假设我们已经有了上面的模型，生成转换成Java代码呢？<span>你只要新建EMF项目，它即自动加载了生成器。</span>那么，EMF生成是的是什么样的代码呢？</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span><strong>首先</strong>，Ecore类（即EClass）相当于java的两个实体：接口及其实现类。</span>例如对于EClass&nbsp;PurchaseOrder相当于java的：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">interface</span><span style="font-size:12px;line-height:1.5;"> PurchaseOrder ...
</span><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">class</span> PurchaseOrderImpl <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">extends</span> ... <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">implements</span> PurchaseOrder {</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">是这种设计方式，是因为我们认为这是类模型API（如文档对象模型DOM）的最好模式。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<strong>其次</strong>，每个生成的接口都直接或间接扩展了基接口EObject，如：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;<span class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">1</span>&nbsp;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span>&nbsp;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">interface</span>&nbsp;PurchaseOrder&nbsp;<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">extends</span>&nbsp;EObject {</span>&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">EObject是java.lang.Object的EMF等价物，即所有模型对象的基础。扩展的EObject包含下面三种行为：</p> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <li style="list-style:disc;">eClass()返回对象的元对象（是一个EClass）。</li> 
    <li style="list-style:disc;">eContainer() and eResource() 分别返回对象的包含对象及其资源。</li> 
    <li style="list-style:disc;">eGet(), eSet(), eIsSet(), and eUnset() 提供了访问交互对象的API。</li> 
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>　　然后</strong>，EObject还是另一个接口的扩展：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">interface</span> EObject <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">extends</span><span style="font-size:12px;line-height:1.5;"> Notifier {
}</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>最后</strong>，根据类型及用户设定的属性生成代码。例如：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span><span style="font-size:12px;line-height:1.5;"> String getShipTo()
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">2</span> <span style="font-size:12px;line-height:1.5;">{
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">3</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> shipTo;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">4</span> }</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">对于相应的set()会有点不同，它会对其它可能对此属性状态改变的观察者发出通知，如：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> setShipTo(String newShipTo)
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 2</span> <span style="font-size:12px;line-height:1.5;">{
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 3</span> 　　String oldShipTo =<span style="font-size:12px;line-height:1.5;"> shipTo;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 4</span> 　　shipTo =<span style="font-size:12px;line-height:1.5;"> newShipTo;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 5</span> 　　<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span><span style="font-size:12px;line-height:1.5;"> (eNotificationRequired())
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 6</span> 　　　　eNotify(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> ENotificationImpl(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">this</span><span style="font-size:12px;line-height:1.5;">,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 7</span> <span style="font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　　　　　　　Notification.SET,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 8</span> <span style="font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　　　　　　　POPackage.PURCHASE_ORDER__SHIP_TO,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 9</span> <span style="font-size:12px;line-height:1.5;">　　　　　　　　　　　　　　　　　　　　　　oldShipTo, shipTo));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">10</span> }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">注意到当没有观察者时，为了避免调用eNotify()花费的高昂代价，EMF会添加一个eNotificationRequired()守卫条件。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>五、总结</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　本篇由浅入深的介绍了EMF的相关知识，由于篇幅原因，不可能将全部的EMF知识都写在这里，感兴趣的读者可以通过参考书籍了解其它内容。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>六、参考资料</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　1. Steinberg, D., Budinsky, F., Paternostro, M., Merks, E.: Eclipse Modeling Framework, 2nd Edition. Pearson Education (2008)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;本文转自SummerChill博客园博客，原文链接：http://www.cnblogs.com/DreamDrive/p/4180249.html，如需转载请自行联系原作者</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
