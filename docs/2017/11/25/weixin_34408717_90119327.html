<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>DataSet的灵活,实体类的方便，DTO的效率：SOD框架的数据容器，打造最适合DDD的ORM框架... « NotBeCN</title>
  <meta name="description" content="             引言：DDD的困惑    最近，我看到园子里面有位朋友的一篇博客 《领域驱动设计系列（一）:为何要领域驱动设计？&nbsp;》文章中有下面一段话，对DDD使用产生的疑问：        •没有正确的使用ORM, 导致数据加载过多，导致系统性能很差。•为了解决性能问题，就不加载一些导航属性...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/25/weixin_34408717_90119327.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">DataSet的灵活,实体类的方便，DTO的效率：SOD框架的数据容器，打造最适合DDD的ORM框架...</h1>
    <p class="post-meta">Nov 25, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">引言：DDD的困惑</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">最近，我看到园子里面有位朋友的一篇博客 《<a id="cb_post_title_url" href="http://www.cnblogs.com/cnblogsfans/p/4284462.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">领域驱动设计系列（一）:为何要领域驱动设计？</a>&nbsp;》文章中有下面一段话，对DDD使用产生的疑问：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>•没有正确的使用ORM, 导致数据加载过多，导致系统性能很差。

•为了解决性能问题，就不加载一些导航属性，但是却把DB Entity返回上层，这样对象的一些属性为空，上层使用这个数据时根本不知道什么时间这个属性是有值的，这个是很丑陋的是不是？</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">博主说的第一个问题，是因为使用ORM的人把实体类的全部属性的数据查询出来了，相当于执行了 select * from table 这样的查询，而实际上，Domain层是不需要这么多额外的数据的。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">重新定义一个Domain需要的 DTO？ 但这又会导致DTO膨胀，DTO对象满天飞！</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">所以为了简便，就直接查询出全部属性对应的数据，或者也用EF的Select子句，投影下，但将结果又投影给了另外一个DTO对象或者Entity 对象，这样就使得对象中部分属性为空了，于是又产生了博主的第二个问题。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><strong>第二个问题有多严重？</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">假设某个表有50个字段，这样大的表在很多复杂的系统中是很常见的，于是MAP出来的Entity或者DTO，也有50个属性，而我这次仅需要使用其中的2个属性的值，于是，这个对象上的 48个属性数据都浪费了。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">如果这样的DTO对象用在List上且用于分布式环境，那么，这样浪费的网络IO和序列化，凡序列化浪费的CPU，还是比较严重的。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">1，准备工作</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">比如有下面一个用户信息类接口：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre> <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">interface</span><span style="line-height:1.5;"> IUser
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> Age { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> FirstName { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> LasttName { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> UserID { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
    }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">然后根据这个接口,写一个PDF.NET SOD 实体类 UserEntity ，用于持久化数据到数据库或者其它用途:</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border-width:1px;border-style:solid;border-color:#808080;font-size:12px;line-height:1.5;">View Code</span> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">还有一个用户类的DTO类 UserDto，可用于分布式系统的数据传输或者解决方案多个项目分层之间的数据传输：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border-width:1px;border-style:solid;border-color:#808080;font-size:12px;line-height:1.5;">View Code</span> 
   </div> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2，SOD框架的实体类</h1> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.1，索引器访问与字段映射</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> 如果 UserEntity user=new UserEntity();此时user 对象里面并没有 UserID 的数据，除非调用了属性的Set方法，此时，可以用下面的代码来验证：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>UserEntity user=<span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> UserEntity();

</span><span style="color:rgb(0,0,255);line-height:1.5;">bool</span> flag=(user[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">User ID</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>] ==<span style="color:rgb(0,0,255);line-height:1.5;">null</span>);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">true</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;注意&nbsp;user[<span style="color:rgb(128,0,0);">"User ID"]&nbsp;</span>&nbsp; 这个地方，SOD的实体类可以当作“索引器”来使用，索引器的Key是实体类属性Map的数据库字段名称，请看UserEntity. UserID 属性的定义：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> UserID
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">get</span> { <span style="color:rgb(0,0,255);line-height:1.5;">return</span> getProperty&lt;<span style="color:rgb(0,0,255);line-height:1.5;">int</span>&gt;(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">User ID</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">); }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">set</span> { setProperty(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">User ID</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">, value); }
        }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">可见我们可以将一个不同的字段名影射到一个属性名上。所以，根据这个定义，访问索引器 &nbsp;user[<span style="color:rgb(128,0,0);">"User ID"]&nbsp;&nbsp;&nbsp;</span>&nbsp; 就等于访问 user实体类的属性 UserID&nbsp;。&nbsp;</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.2，“空”的两种境界（null / DBNull.Value）&nbsp;</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">从这里我们可以得出结论：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>结论一：<br>
SOD 实体类的属性值默认均为空 （null)</pre>
   </div> 
   <h3 style="font-size:16px;border-bottom:1px solid rgb(170,170,170);line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.2.1，程序中的 null</h3> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">此时的空，代表数据没有作任何初始化，这种“空”来自以程序中。我们还可以通过查询来进一步验证这种情况的空值：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">假如我们的<strong>ORM查询语言OQL</strong>查询并没有指定要查询实体类的Age属性，那么结果user对象仅有2个数据，并没有3个数据：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>            OQL q3 =<span style="line-height:1.5;"> OQL.From(uq)
              .Select(uq.UserID, uq.FirstName) <span style="color:rgb(0,128,0);line-height:1.5;">//<span style="line-height:1.5;">未查询 user.Age 字段 <span style="color:rgb(0,0,0);line-height:1.5;"> .Where(uq.FirstName) .END; UserEntity user3 =<span style="line-height:1.5;"> context.UserQuery.GetObject(q3); <span style="color:rgb(0,128,0);line-height:1.5;">//<span style="line-height:1.5;">未查询 user.Age 字段，此时查询该字段的值应该是 null <span style="color:rgb(0,0,255);line-height:1.5;">bool flag3 = (user3[<span style="color:rgb(128,0,0);line-height:1.5;">"<span style="line-height:1.5;">Age<span style="line-height:1.5;">"] == <span style="color:rgb(0,0,255);line-height:1.5;">null);<span style="color:rgb(0,128,0);line-height:1.5;">//<span style="line-height:1.5;">true Console.WriteLine(<span style="color:rgb(128,0,0);line-height:1.5;">"<span style="line-height:1.5;">user[\"Age\"] == null :{0}<span style="line-height:1.5;">"<span style="color:rgb(0,0,0);line-height:1.5;">, flag); Console.WriteLine(<span style="color:rgb(128,0,0);line-height:1.5;">"<span style="line-height:1.5;">user.Age:{0}<span style="line-height:1.5;">", user3.Age);</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">程序输出：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>user["Age"] == null :True
user.Age:0</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <h3 style="font-size:16px;border-bottom:1px solid rgb(170,170,170);line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.2.2，数据库中的 NULL</h3> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">为了验证SOD 实体类从数据库查询出来的字段的空值是什么情况，我们先插入几条测试数据：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>LocalDbContext context = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> LocalDbContext();<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">自动创建表
           
 </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">插入几条测试数据</span>
context.Add&lt;UserEntity&gt;(<span style="color:rgb(0,0,255);line-height:1.5;">new</span> UserEntity() {  FirstName =<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, LasttName=<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">san</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> });
context.Add</span>&lt;IUser&gt;(<span style="color:rgb(0,0,255);line-height:1.5;">new</span> UserDto() { FirstName = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">li</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, LasttName = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">si</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, Age = <span style="color:rgb(128,0,128);line-height:1.5;">21</span><span style="line-height:1.5;"> });
context.Add</span>&lt;IUser&gt;(<span style="color:rgb(0,0,255);line-height:1.5;">new</span> UserEntity() { FirstName = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">wang</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, LasttName = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">wu</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, Age = <span style="color:rgb(128,0,128);line-height:1.5;">22</span> });</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">我们插入的第一条数据并没有年龄Age 的数据，下面再来查询这条数据，看数据库的值是否为NULL：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">            //</span><span style="color:rgb(0,128,0);line-height:1.5;">查找姓张的一个用户</span>
            UserEntity uq = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> UserEntity() { FirstName = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };
            OQL q </span>=<span style="line-height:1.5;"> OQL.From(uq)
               .Select(uq.UserID, uq.FirstName, uq.Age)
               .Where(uq.FirstName)
            .END;

            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">下面的语句等效
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">UserEntity user2 = EntityQuery&lt;UserEntity&gt;.QueryObject(q,context.CurrentDataBase);</span>
            UserEntity user2 =<span style="line-height:1.5;"> context.UserQuery.GetObject(q);
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">zhang san 的Age 未插入值，此时查询该字段的值应该是 NULL</span>
            <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> flag2 = (user2[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Age</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>] == DBNull.Value);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">true </span>
            Console.WriteLine(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">user[\"Age\"] == DBNULL.Value :{0}</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, flag);</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">注意，这里我们在OQL的Select 子句中，指定了要查询实体类的 Age 属性，如果数据库没有该属性字段的值，它一定是NULL，也就是 程序中说的 NBNULL.Value，看输出结果验证：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>user["Age"] == DBNULL.Value :True
user.Age:0</pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">当然，这里数据库为空，要求表字段是支持可空的。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">从这里我们可以得出结论：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>结论二： SOD 用OQL 查询的实体类属性,如果数据库对应的字段值为空,那么实体类内部该属性值也为空（DBNull.Value)</pre>
   </div> 
   <h3 style="font-size:16px;border-bottom:1px solid rgb(170,170,170);line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">&nbsp;</h3> 
   <h3 style="font-size:16px;border-bottom:1px solid rgb(170,170,170);line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">２.２.３　在OQL查询中的ＮＵＬＬ</h3> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在OQLCompare对象上，可以直接调用 IsNull 方法来判断实体类某个属性在数据库对应的值是否为空，例如下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查询没有填写 LastName的用户，即LastName==DBNull.Value;</span>
  UserEntity uq = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> UserEntity() ;
  OQL q </span>=<span style="line-height:1.5;"> OQL.From(uq)
        .Select(uq.UserID, uq.FirstName, uq.Age)
        .Where(cmp </span>=&gt;<span style="line-height:1.5;"> cmp.IsNull( uq.LastName))
  .END;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">将输出下面的SQL：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">Select</span> <span style="color:rgb(255,0,0);line-height:1.5;">[</span><span style="color:rgb(255,0,0);line-height:1.5;">UserID</span><span style="color:rgb(255,0,0);line-height:1.5;">]</span>,<span style="color:rgb(255,0,0);line-height:1.5;">[</span><span style="color:rgb(255,0,0);line-height:1.5;">FistName</span><span style="color:rgb(255,0,0);line-height:1.5;">]</span>,<span style="color:rgb(255,0,0);line-height:1.5;">[</span><span style="color:rgb(255,0,0);line-height:1.5;">Age</span><span style="color:rgb(255,0,0);line-height:1.5;">]</span> <span style="color:rgb(0,0,255);line-height:1.5;">From</span> <span style="color:rgb(255,0,0);line-height:1.5;">[</span><span style="color:rgb(255,0,0);line-height:1.5;">User</span><span style="color:rgb(255,0,0);line-height:1.5;">]</span> 
  <span style="color:rgb(0,0,255);line-height:1.5;">Where</span> <span style="color:rgb(255,0,0);line-height:1.5;">[</span><span style="color:rgb(255,0,0);line-height:1.5;">LastName</span><span style="color:rgb(255,0,0);line-height:1.5;">]</span> <span style="color:rgb(0,0,255);line-height:1.5;">IS</span> <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">2.3，可空类型的问题</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">在EF等ORM中，要定义一个字段可空，需要定义成可空类型，比如我们的User类，假设定义成EF的实体类，应该是这样子的：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> EFUserEntity
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span>? Age { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        [MaxLength(</span><span style="color:rgb(128,0,128);line-height:1.5;">20</span><span style="line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span>? FirstName { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        [MaxLength(</span><span style="color:rgb(128,0,128);line-height:1.5;">10</span><span style="line-height:1.5;">)]
        </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span>? LasttName { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        [Key]
        [Required]
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> UserID { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span>; } <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">主键,不可为空</span>
    }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这种可空类型的实体类定义，能够让数据库字段标记为NULL，但是，这个实体类在于DTO类进行转换的时候，总会遇到一些麻烦，因为实体类属性为空，而DTO属性不为空。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">有人说，我们把DTO属性也定义为可空类型，不就好了么？</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">我在想，.NET推出值类型上的可空类型，本意是为了兼容从数据库来的空值，这样，对于 int a; 这个变量来说，可以知道它的值到底是0，还是变量根本没有值，这是未知的，而int? a; 这个变量完美的解决了这个问题。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">但是，如果你的服务的客户端不是.net,而是JAVA，JS，或者<strong>其它不支持可空类型的语言，这种有可空类型属性的DTO就遇上麻烦了</strong>。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">所以，SOD的实体类，属性可以定义为非可空类型的，但是属性的内部值，null或者 DBNull.Value 都是可以的。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">3，数据的容器&nbsp;</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">SOD实体类可以仅看作一个数据容器，又可以看作一个ORM的实体类，大大增加了使用的灵活性和查询的效率。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">对于上面的查询，不管Age属性在实体类里面是&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">bool</span> flag=(user2[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Age</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>]==NBNull.Value);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">true</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">还是&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">bool</span> flag=(user3[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Age</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>]==<span style="color:rgb(0,0,255);line-height:1.5;">null</span>);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">true</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">当外面获取Age属性的时候，都是Age的默认值0：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre> <span style="color:rgb(0,0,255);line-height:1.5;">int</span> age=user2.Age;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">0</span>
 <span style="color:rgb(0,0,255);line-height:1.5;">int</span> age=user3.Age;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">0</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;这些数据在实体类中是怎么存储的呢？原来，实体类内部有一个类似于“名-值对”的2个数组，用于存储实体类映射的数据库字段名和字段的值，这个结构就是SOD框架的中的&nbsp; PropertyNameValues 类，定义很简单：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>    <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> PropertyNameValues
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">string</span>[] PropertyNames { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">object</span>[] PropertyValues { <span style="color:rgb(0,0,255);line-height:1.5;">get</span>; <span style="color:rgb(0,0,255);line-height:1.5;">set</span><span style="line-height:1.5;">; }
    }</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">所以实体类的字段值是存储在Object对象上，这也是 为何SOD实体类可以处理2种空值null,DBNull.Value的原因。当然你也可以存其它内容，只要属性类型兼容即可。比如属性类型是long，而数据库字段的值类型是 int ,这在SOD实体类是允许的。</p> 
   <h3 style="font-size:16px;border-bottom:1px solid rgb(170,170,170);line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">３.１，综合示例</h3> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面这个查询，动态查询一个实体类的属性是否等于指定的值，或者该属性对应的字段在数据库是否为空，而实现动态查询的关键，是使用索引器，<br> 如下面的BatchNumber 属性，查询此属性值是否为0或者是否为空：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">private</span><span style="line-height:1.5;"> OQL FilterQuery(EntityBase entity)
{
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (entity <span style="color:rgb(0,0,255);line-height:1.5;">is</span><span style="line-height:1.5;"> IExportTable)
            {
                entity[</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">BatchNumber</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>] = <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">;
                OQL q </span>=<span style="line-height:1.5;"> OQL.From(entity)
                    .Select()
                    .Where(cmp </span>=&gt; cmp.EqualValue(entity[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">BatchNumber</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>]) | cmp.IsNull(entity[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">BatchNumber</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">]))
                    .END;
                </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> q;

            }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">;
}</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> 另外，这个值的可变性，使得SOD框架处理<strong>&nbsp;枚举属性</strong>&nbsp;非常方便，因为，Enum 与int 类型是兼容的，可以相互转换，参看这篇文章：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><span style="text-decoration:underline;"><span style="color:rgb(0,102,204);">《&nbsp;</span></span><a id="homepage1_HomePageDays_DaysList_ctl04_DayList_TitleUrl_0" href="http://www.cnblogs.com/bluedoctor/p/3252963.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">实体类的枚举属性--原来支持枚举类型这么简单，没有EF5.0也可以</a>》</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">属性值的<span style="color:rgb(255,0,0);">可变性</span>，除了上面的好处，还有什么好处？</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">好处大大的，这意味着 PropertyNames，PropertyValues 的长度是可变的，就像前面的例子，查询了Age属性，实体类的值有3个，而不查询，那么值只有2个。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">假设实体类有50个属性，本次只查询了2个属性，那么SOD的实体类实际传输的数据就只有2个，而不是50个，这将大大节省数据传输量。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这个可以通过SOD实体类的序列化结果来验证。</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">4，在分布式系统上使用实体类</h1> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">4.1，实体类的序列化与反序列化</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这里必然绕不开实体类的序列化与反序列化，现在最新的SOD框架已经内置支持，参考下面的代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre> <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">查找姓张的一个用户</span>
            UserEntity uq = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> UserEntity() { FirstName = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };

            OQL q3 </span>=<span style="line-height:1.5;"> OQL.From(uq)
              .Select(uq.UserID, uq.FirstName) </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">未查询 user.Age 字段</span>
<span style="line-height:1.5;">              .Where(uq.FirstName)
           .END;
            UserEntity user3 </span>=<span style="line-height:1.5;"> context.UserQuery.GetObject(q3);

            Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">实体类序列化测试</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">var</span> entityNameValues=<span style="line-height:1.5;"> user3.GetNameValues();
            PropertyNameValuesSerializer ser </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> PropertyNameValuesSerializer(entityNameValues);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> strEntity =<span style="line-height:1.5;"> ser.Serializer();
            Console.WriteLine(strEntity);
            Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">成功</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//
</span>            Console.WriteLine(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">反序列化测试</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            PropertyNameValuesSerializer des </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> PropertyNameValuesSerializer(<span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">);
            UserEntity desUser </span>= des.Deserialize&lt;UserEntity&gt;<span style="line-height:1.5;">(strEntity);
            Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">成功</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>);</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面是序列化结果的输出：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;?</span><span style="color:rgb(255,0,255);line-height:1.5;">xml version="1.0" encoding="utf-16"</span><span style="color:rgb(0,0,255);line-height:1.5;">?&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">PropertyNameValues </span><span style="color:rgb(255,0,0);line-height:1.5;">xmlns:xsi</span><span style="color:rgb(0,0,255);line-height:1.5;">="http://www.w3.org/2001/XMLSchema-instance"</span><span style="color:rgb(255,0,0);line-height:1.5;"> xmlns:xsd</span><span style="color:rgb(0,0,255);line-height:1.5;">="http://www.w3.org/2001/XMLSchema"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">PropertyNames</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">string</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>User ID<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">string</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">string</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>First Name<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">string</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">PropertyNames</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">PropertyValues</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">anyType </span><span style="color:rgb(255,0,0);line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);line-height:1.5;">="xsd:int"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>26<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">anyType</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">anyType </span><span style="color:rgb(255,0,0);line-height:1.5;">xsi:type</span><span style="color:rgb(0,0,255);line-height:1.5;">="xsd:string"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>zhang<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">anyType</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">PropertyValues</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">PropertyNameValues</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">可见，以这种方式序列化传输的数据量，将是很少的。当然，你还可以更改成JSOn序列化，这样数据更少，缺点是数据元数据没有了。</p> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">4.2，Entity,DomainModel,DTO 之间的数据拷贝</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">三层或者多层架构，或者DDD架构，少不了Entity,DomainModel,DTO 之间的数据拷贝，如果数据结构高度相似，可以使用AutoMapper之类的工具，而在SOD框架内，使用了速度最快的属性拷贝方案，参见之前我写的博客文章：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;《<a id="homepage1_HomePageDays_DaysList_ctl00_DayList_TitleUrl_0" href="http://www.cnblogs.com/bluedoctor/archive/2012/12/20/2826392.html" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">使用反射+缓存+委托，实现一个不同对象之间同名同类型属性值的快速拷贝</a>》</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">另外，如果是从实体类到DTO，或者DTO到实体类的数据复制，在EntityBase上提供了&nbsp;<strong>MapFrom</strong>和<strong>MapTo</strong>方法，例如下面使用的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.5;">IUser TestMapFromDTO(IUser data)<br>
{
 IUser user </span>= EntityBuilder.CreateEntity&lt;IUser&gt;<span style="line-height:1.5;">();
 ((entityBase)user).MapFrom(data);
 </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> user;
}</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">当然，还有CopyTo方法，只要你引用了框架扩展 PWMIS.Core.Extension.dll</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">using</span><span style="line-height:1.5;"> PWMIS.Core.Extensions;
... ...

</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">CoyTo 创建一个实例对象</span>
ImplCarInfo icResult= info.CopyTo&lt;ImplCarInfo&gt;(<span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">);

</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">CopyTo 填充一个实例对象</span>
ImplCarInfo icResult2 = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> ImplCarInfo();
info.CopyTo</span>&lt;ImplCarInfo&gt;(icResult2);</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;将实体类的数据拷贝到DTO对象的时候，推荐下面这种直接调用 这种方式：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre>DTOXXX dto=EntityObject.CopyTo&lt;DTOXX&gt;()； </pre>
   </div> 
   <h2 style="font-size:21px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">&nbsp;4.3 在WCF,WebService 上使用"实体类"</h2> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">有很多朋友想在WebService上直接使用SOD实体类,但是由于实体类继承自实体类接口,默认的XML序列化会失败,不过WCF采用了不同的序列化方式,可以序列化SOD的实体类,但是会将实体类内部的一些数据也序列化过去,增大数据传输量，因此，我一般都是建议在WCF，WebService 的服务方法上使用DTO对象，而不是SOD实体类。可以通过上面的方法实现实体类与DTO之间的转换。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">但是，采用DTO对象会导致“数据更新冗余”，比如某个属性没有修改，DTO上也会有对应的默认值的，比如 userEntity.Age 属性，如果从未赋值，那么 userDto.Age 也会有默认值 0 ，而传输这个默认值0 并没有意义，并且有可能让服务后段的ORM代码将这个 0 更新到数据库中，这就是数据更新容易。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">有时候，我们希望只更新已经改变的数据，没有改变的数据不更新，那么此时WCF等服务端的方法，采用ＤＴＯ对象就无法做到了。幸好，ＳＯＤ的实体类提供了仅仅获取更改过的数据的方法，请看下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre> <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">序列化之后的属性是否修改的情况测试,下面的实体类,LastName 属性没有被修改</span>
 UserEntity user4 = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> UserEntity() {  UserID =<span style="color:rgb(128,0,128);line-height:1.5;">100</span>, Age=<span style="color:rgb(128,0,128);line-height:1.5;">20</span>, FirstName =<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zhang san</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">};
 entityNameValues </span>=<span style="line-height:1.5;"> user4.GetChangedValues();
 PropertyNameValuesSerializer ser </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> PropertyNameValuesSerializer(entityNameValues);
 </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> strEntity =<span style="line-height:1.5;"> ser.Serializer();
 Console.WriteLine(strEntity);
 Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">成功</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
 </span><span style="color:rgb(0,128,0);line-height:1.5;">//
</span> Console.WriteLine(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">反序列化测试</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
 PropertyNameValuesSerializer des </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> PropertyNameValuesSerializer(<span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">);
 UserEntity desUser </span>= des.Deserialize&lt;UserEntity&gt;<span style="line-height:1.5;">(strEntity);
 Console.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">成功</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>);</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这里需要调用实体类的　GetChangedValues 方法，这样序列化的时候就只序列化了修改过的数据了，并且反序列化之后，数据也还原了之前的“修改状态”，拿这样的实体类去更新数据库，就不会出现“数据更新冗余”了。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面是一个ＷＣＦ方法示例：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> Dosomething(PropertyNameValues para)
{
  UserEntity user </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> UserEntity();
  PropertyNameValuesSerializer ser </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> PropertyNameValuesSerializer(para);
  ser.FillEntity(user);
  </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">To Dosomething.....</span>
}</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br><strong>注意：</strong>该功能需要ＳＯＤ框架的　5.2.3.0527　版本以上支持</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <h1 style="font-size:28px;line-height:1.5;font-family:Verdana, Arial, Helvetica, sans-serif;">5，SOD框架 的CodeFirst支持</h1> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;最新版的SOD框架（PDF.NET SOD）已经可以方便的支持CodeFirst开发了，使用很简单，调用只需要一行代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
    <pre> Console.WriteLine(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">第一次运行，将检查并创建数据表</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
 LocalDbContext context </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> LocalDbContext();<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">自动创建表</span></pre>
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">而这个LocalDbContext 的定义也不复杂：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> LocalDbContext : DbContext // 内部会根据 local 连接字符串名字，决定是否使用 SqlServerDbContext

        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span><span style="line-height:1.5;"> LocalDbContext()
            : </span><span style="color:rgb(0,0,255);line-height:1.5;">base</span>(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">local</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">) 
        {
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">local 是连接字符串名字</span>
<span style="line-height:1.5;">        }

        </span><span style="color:rgb(0,0,255);line-height:1.5;">#region</span> 父类抽象方法的实现

        <span style="color:rgb(0,0,255);line-height:1.5;">protected</span> <span style="color:rgb(0,0,255);line-height:1.5;">override</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span><span style="line-height:1.5;"> CheckAllTableExists()
        {
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">创建用户表</span>
            CheckTableExists&lt;UserEntity&gt;<span style="line-height:1.5;">();
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">;
        }

        </span><span style="color:rgb(0,0,255);line-height:1.5;">#endregion</span><span style="line-height:1.5;">
}</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(29,88,209);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br> 综合结论：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;所以SOD实体类对用户而言是透明的，它并没有增加使用的复杂性，又可以很好的控制数据量，还可以让你知道数据来自哪里，简单而又强大。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/114517/201502/061455313283685.png" alt="PDF.NET SOD 框架架构图" width="731" height="702" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">这样的ORM，才是合适DDD的ORM，当然，<strong>SOD不仅仅是一个ORM</strong>，它还有SQL-MAP和DataControl，具体可以看框架官网&nbsp;<a href="http://www.pwmis.com/sqlmap" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://www.pwmis.com/sqlmap</a>&nbsp;，9年历史铸就的成果，坚固可靠。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">附注：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">下面是本文说明中使用的完整代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border-width:1px;border-style:solid;border-color:#808080;font-size:12px;line-height:1.5;">View Code</span> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">图片的效果要好些：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><img src="https://images0.cnblogs.com/blog/114517/201502/121412171517683.png" alt="" style="border:0px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;">有关该测试程序的完整下载和查看，请看框架开源项目地址：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><a href="http://pwmis.codeplex.com/SourceControl/latest#SOD/Test/EntityTest-2013/Program.cs" rel="nofollow" style="color:rgb(29,88,209);text-decoration:none;">http://pwmis.codeplex.com/SourceControl/latest#SOD/Test/EntityTest-2013/Program.cs</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:15px;"><br></p> 
   <p><font><span style="font-size:15px;">&nbsp; &nbsp; 本文转自深蓝医生博客园博客，原文链接：http://www.cnblogs.com/bluedoctor/p/4286707.html</span></font><span style="font-size:15px;font-family:Verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者</span></p> 
   <div>
    <br>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
