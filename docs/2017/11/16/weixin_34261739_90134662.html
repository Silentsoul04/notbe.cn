<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Java操作图片的工具类 « NotBeCN</title>
  <meta name="description" content="             操作图片的工具类:                         1 import java.awt.AlphaComposite;  2 import java.awt.Color;  3 import java.awt.Font;  4 import java.awt.Graphi...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/16/weixin_34261739_90134662.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Java操作图片的工具类</h1>
    <p class="post-meta">Nov 16, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">操作图片的工具类:</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:14px;font-family:'Courier New';"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  1</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.AlphaComposite;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  2</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.Color;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  3</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.Font;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  4</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.Graphics;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  5</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.Graphics2D;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  6</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.Image;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  7</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.Toolkit;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  8</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.color.ColorSpace;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">  9</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.geom.AffineTransform;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 10</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.image.AffineTransformOp;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 11</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.image.BufferedImage;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 12</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.image.ColorConvertOp;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 13</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.image.CropImageFilter;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 14</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.image.FilteredImageSource;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 15</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.awt.image.ImageFilter;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 16</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.io.File;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 17</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.io.FileInputStream;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 18</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.io.FileOutputStream;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 19</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.io.IOException;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 20</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> java.io.InputStream;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 21</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 22</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> com.sun.image.codec.jpeg.JPEGEncodeParam;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 23</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> com.sun.image.codec.jpeg.JPEGImageEncoder;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 24</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> com.sun.image.codec.jpeg.JPEGCodec;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 25</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 26</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">import</span><span style="font-size:12px;line-height:1.5;"> javax.imageio.ImageIO;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 27</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 28</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 29</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> * 图片处理工具类：&lt;br&gt;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 30</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> * 功能：缩放图像、切割图像、图像类型转换、彩色转黑白、文字水印、图片水印等
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 31</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@author</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Administrator
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 32</span>  <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 33</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">class</span><span style="font-size:12px;line-height:1.5;"> ImageUtils {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 34</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 35</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 36</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 几种常见的图片格式
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 37</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 38</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> String IMAGE_TYPE_GIF = "gif";<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 图形交换格式</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 39</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> String IMAGE_TYPE_JPG = "jpg";<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 联合照片专家组</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 40</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> String IMAGE_TYPE_JPEG = "jpeg";<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 联合照片专家组</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 41</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> String IMAGE_TYPE_BMP = "bmp";<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 英文Bitmap（位图）的简写，它是Windows操作系统中的标准图像文件格式</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 42</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> String IMAGE_TYPE_PNG = "png";<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 可移植网络图形</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 43</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> String IMAGE_TYPE_PSD = "psd";<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> Photoshop的专用格式Photoshop</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 44</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 45</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 46</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 缩放图像（按比例缩放）
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 47</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像文件地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 48</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> result 缩放后的图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 49</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> scale 缩放比例
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 50</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> flag 缩放选择:true 放大; false 缩小;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 51</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 52</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> scale(String srcImageFile, String result,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 53</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> scale, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">boolean</span><span style="font-size:12px;line-height:1.5;"> flag) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 54</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 55</span>             BufferedImage src = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> File(srcImageFile)); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 读入文件</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 56</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> width = src.getWidth(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 得到源图宽</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 57</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 58</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height = src.getHeight(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 得到源图长</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 59</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 60</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (flag) {<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 放大</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 61</span>                 width = width *<span style="font-size:12px;line-height:1.5;"> scale;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 62</span>                 height = height *<span style="font-size:12px;line-height:1.5;"> scale;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 63</span>             } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span> {<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 缩小</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 64</span>                 width = width /<span style="font-size:12px;line-height:1.5;"> scale;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 65</span>                 height = height /<span style="font-size:12px;line-height:1.5;"> scale;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 66</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 67</span>             Image image =<span style="font-size:12px;line-height:1.5;"> src.getScaledInstance(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 68</span> <span style="font-size:12px;line-height:1.5;">                    Image.SCALE_DEFAULT);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 69</span>             BufferedImage tag = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 70</span> <span style="font-size:12px;line-height:1.5;">                    BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 71</span>             Graphics g =<span style="font-size:12px;line-height:1.5;"> tag.getGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 72</span>             g.drawImage(image, 0, 0, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制缩小后的图</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 73</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 74</span> <span style="font-size:12px;line-height:1.5;">            g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 75</span>             ImageIO.write(tag, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> File(result));<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 输出到文件流</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 76</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (IOException e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 77</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 78</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 79</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 80</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 81</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 82</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 缩放图像（按高度和宽度缩放）
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 83</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像文件地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 84</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> result 缩放后的图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 85</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> height 缩放后的高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 86</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> width 缩放后的宽度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 87</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> bb 比例不对时是否需要补白：true为补白; false为不补白;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 88</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 89</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> scale2(String srcImageFile, String result, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> width,<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">boolean</span><span style="font-size:12px;line-height:1.5;"> bb) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 90</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 91</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">double</span> ratio = 0.0; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 缩放比例</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 92</span>             File f = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 93</span>             BufferedImage bi =<span style="font-size:12px;line-height:1.5;"> ImageIO.read(f);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 94</span>             Image itemp =<span style="font-size:12px;line-height:1.5;"> bi.getScaledInstance(width, height, bi.SCALE_SMOOTH);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 95</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 计算比例</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 96</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> ((bi.getHeight() &gt; height) || (bi.getWidth() &gt;<span style="font-size:12px;line-height:1.5;"> width)) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 97</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (bi.getHeight() &gt;<span style="font-size:12px;line-height:1.5;"> bi.getWidth()) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 98</span>                     ratio = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Integer(height)).doubleValue()
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;"> 99</span>                             /<span style="font-size:12px;line-height:1.5;"> bi.getHeight();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">100</span>                 } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">101</span>                     ratio = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> Integer(width)).doubleValue() /<span style="font-size:12px;line-height:1.5;"> bi.getWidth();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">102</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">103</span>                 AffineTransformOp op = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> AffineTransformOp(AffineTransform
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">104</span>                         .getScaleInstance(ratio, ratio), <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">105</span>                 itemp = op.filter(bi, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">106</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">107</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (bb) {<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">补白</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">108</span>                 BufferedImage image = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">109</span> <span style="font-size:12px;line-height:1.5;">                        BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">110</span>                 Graphics2D g =<span style="font-size:12px;line-height:1.5;"> image.createGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">111</span> <span style="font-size:12px;line-height:1.5;">                g.setColor(Color.white);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">112</span>                 g.fillRect(0, 0<span style="font-size:12px;line-height:1.5;">, width, height);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">113</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (width == itemp.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">))
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">114</span>                     g.drawImage(itemp, 0, (height - itemp.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>)) / 2<span style="font-size:12px;line-height:1.5;">,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">115</span>                             itemp.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>), itemp.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">),
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">116</span>                             Color.white, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">117</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">118</span>                     g.drawImage(itemp, (width - itemp.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>)) / 2, 0<span style="font-size:12px;line-height:1.5;">,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">119</span>                             itemp.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>), itemp.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">),
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">120</span>                             Color.white, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">121</span> <span style="font-size:12px;line-height:1.5;">                g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">122</span>                 itemp =<span style="font-size:12px;line-height:1.5;"> image;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">123</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">124</span>             ImageIO.write((BufferedImage) itemp, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(result));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">125</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (IOException e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">126</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">127</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">128</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">129</span>     
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">130</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">131</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 缩放图像（按高度和宽度缩放）
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">132</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像文件地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">133</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> result 缩放后的图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">134</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> height 缩放后的高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">135</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> width 缩放后的宽度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">136</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> bb 比例不对时是否需要补白：true为补白; false为不补白;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">137</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">138</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span> scale3(String srcImageFile, String result, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> width,<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">boolean</span><span style="font-size:12px;line-height:1.5;"> bb) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">139</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">140</span>             BufferedImage src = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> File(srcImageFile)); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 读入文件
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">141</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">int _width = src.getWidth(); </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 得到源图宽
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">142</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">143</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">int _height = src.getHeight(); </span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 得到源图长</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">144</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">145</span>            
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">146</span>             Image image =<span style="font-size:12px;line-height:1.5;"> src.getScaledInstance(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">147</span> <span style="font-size:12px;line-height:1.5;">                    Image.SCALE_DEFAULT);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">148</span>             BufferedImage tag = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">149</span> <span style="font-size:12px;line-height:1.5;">                    BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">150</span>             Graphics g =<span style="font-size:12px;line-height:1.5;"> tag.getGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">151</span>             g.drawImage(image, 0, 0, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制缩小后的图</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">152</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">153</span> <span style="font-size:12px;line-height:1.5;">            g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">154</span>             ImageIO.write(tag, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> File(result));<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 输出到文件流</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">155</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (IOException e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">156</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">157</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">158</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">159</span>     
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">160</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">161</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 图像切割(按指定起点坐标和宽高切割)
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">162</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">163</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> result 切片后的图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">164</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> x 目标切片起点坐标X
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">165</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> y 目标切片起点坐标Y
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">166</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> width 目标切片宽度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">167</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> height 目标切片高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">168</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">169</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> cut(String srcImageFile, String result,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">170</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> x, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> y, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> width, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> height) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">171</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">172</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 读取源图像</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">173</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">174</span>             BufferedImage bi = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">175</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> srcWidth = bi.getHeight(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 源图宽度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">176</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> srcHeight = bi.getWidth(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 源图高度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">177</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcWidth &gt; 0 &amp;&amp; srcHeight &gt; 0<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">178</span>                 Image image =<span style="font-size:12px;line-height:1.5;"> bi.getScaledInstance(srcWidth, srcHeight,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">179</span> <span style="font-size:12px;line-height:1.5;">                        Image.SCALE_DEFAULT);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">180</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 四个参数分别为图像起点坐标和宽高
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">181</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 即: CropImageFilter(int x,int y,int width,int height)</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">182</span>                 ImageFilter cropFilter = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> CropImageFilter(x, y, width, height);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">183</span>                 Image img =<span style="font-size:12px;line-height:1.5;"> Toolkit.getDefaultToolkit().createImage(
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">184</span>                         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> FilteredImageSource(image.getSource(),
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">185</span> <span style="font-size:12px;line-height:1.5;">                                cropFilter));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">186</span>                 BufferedImage tag = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">187</span>                 Graphics g =<span style="font-size:12px;line-height:1.5;"> tag.getGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">188</span>                 g.drawImage(img, 0, 0, width, height, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制切割后的图</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">189</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">190</span> <span style="font-size:12px;line-height:1.5;">                g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">191</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 输出为文件</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">192</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">193</span>                 ImageIO.write(tag, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(result));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">194</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">195</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">196</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">197</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">198</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">199</span>     
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">200</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">201</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 图像切割（指定切片的行数和列数）
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">202</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">203</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> descDir 切片目标文件夹
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">204</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">205</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> rows 目标切片行数。默认2，必须是范围 [1, 20] 之内
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">206</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> cols 目标切片列数。默认2，必须是范围 [1, 20] 之内
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">207</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">208</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> cut2(String srcImageFile, String descDir,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">209</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> rows, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> cols) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">210</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">211</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span>(rows&lt;=0||rows&gt;20) rows = 2; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 切片行数</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">212</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span>(cols&lt;=0||cols&gt;20) cols = 2; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 切片列数
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">213</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 读取源图像</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">214</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">215</span>             BufferedImage bi = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">216</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> srcWidth = bi.getHeight(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 源图宽度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">217</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> srcHeight = bi.getWidth(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 源图高度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">218</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcWidth &gt; 0 &amp;&amp; srcHeight &gt; 0<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">219</span> <span style="font-size:12px;line-height:1.5;">                Image img;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">220</span> <span style="font-size:12px;line-height:1.5;">                ImageFilter cropFilter;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">221</span>                 Image image =<span style="font-size:12px;line-height:1.5;"> bi.getScaledInstance(srcWidth, srcHeight, Image.SCALE_DEFAULT);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">222</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> destWidth = srcWidth; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 每张切片的宽度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">223</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">224</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> destHeight = srcHeight; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 每张切片的高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">225</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">226</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 计算切片的宽度和高度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">227</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcWidth % cols == 0<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">228</span>                     destWidth = srcWidth /<span style="font-size:12px;line-height:1.5;"> cols;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">229</span>                 } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">230</span>                     destWidth = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) Math.floor(srcWidth / cols) + 1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">231</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">232</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcHeight % rows == 0<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">233</span>                     destHeight = srcHeight /<span style="font-size:12px;line-height:1.5;"> rows;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">234</span>                 } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">235</span>                     destHeight = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) Math.floor(srcWidth / rows) + 1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">236</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">237</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 循环建立切片
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">238</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 改进的想法:是否可用多线程加快切割速度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">239</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> i = 0; i &lt; rows; i++<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">240</span>                     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> j = 0; j &lt; cols; j++<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">241</span>                         <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 四个参数分别为图像起点坐标和宽高
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">242</span>                         <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 即: CropImageFilter(int x,int y,int width,int height)</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">243</span>                         cropFilter = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> CropImageFilter(j * destWidth, i *<span style="font-size:12px;line-height:1.5;"> destHeight,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">244</span> <span style="font-size:12px;line-height:1.5;">                                destWidth, destHeight);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">245</span>                         img =<span style="font-size:12px;line-height:1.5;"> Toolkit.getDefaultToolkit().createImage(
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">246</span>                                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> FilteredImageSource(image.getSource(),
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">247</span> <span style="font-size:12px;line-height:1.5;">                                        cropFilter));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">248</span>                         BufferedImage tag = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(destWidth,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">249</span> <span style="font-size:12px;line-height:1.5;">                                destHeight, BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">250</span>                         Graphics g =<span style="font-size:12px;line-height:1.5;"> tag.getGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">251</span>                         g.drawImage(img, 0, 0, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制缩小后的图</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">252</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">253</span> <span style="font-size:12px;line-height:1.5;">                        g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">254</span>                         <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 输出为文件</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">255</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">256</span>                         ImageIO.write(tag, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(descDir
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">257</span>                                 + "_r" + i + "_c" + j + ".jpg"<span style="font-size:12px;line-height:1.5;">));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">258</span> <span style="font-size:12px;line-height:1.5;">                    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">259</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">260</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">261</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">262</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">263</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">264</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">265</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">266</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">267</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 图像切割（指定切片的宽度和高度）
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">268</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">269</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> descDir 切片目标文件夹
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">270</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">271</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destWidth 目标切片宽度。默认200
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">272</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destHeight 目标切片高度。默认150
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">273</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">274</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> cut3(String srcImageFile, String descDir,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">275</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> destWidth, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> destHeight) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">276</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">277</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span>(destWidth&lt;=0) destWidth = 200; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 切片宽度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">278</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span>(destHeight&lt;=0) destHeight = 150; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 切片高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">279</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 读取源图像</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">280</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">281</span>             BufferedImage bi = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">282</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> srcWidth = bi.getHeight(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 源图宽度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">283</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> srcHeight = bi.getWidth(); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 源图高度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">284</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcWidth &gt; destWidth &amp;&amp; srcHeight &gt;<span style="font-size:12px;line-height:1.5;"> destHeight) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">285</span> <span style="font-size:12px;line-height:1.5;">                Image img;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">286</span> <span style="font-size:12px;line-height:1.5;">                ImageFilter cropFilter;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">287</span>                 Image image =<span style="font-size:12px;line-height:1.5;"> bi.getScaledInstance(srcWidth, srcHeight, Image.SCALE_DEFAULT);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">288</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> cols = 0; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 切片横向数量</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">289</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> rows = 0; <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 切片纵向数量
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">290</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 计算切片的横向和纵向数量</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">291</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcWidth % destWidth == 0<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">292</span>                     cols = srcWidth /<span style="font-size:12px;line-height:1.5;"> destWidth;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">293</span>                 } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">294</span>                     cols = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) Math.floor(srcWidth / destWidth) + 1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">295</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">296</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (srcHeight % destHeight == 0<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">297</span>                     rows = srcHeight /<span style="font-size:12px;line-height:1.5;"> destHeight;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">298</span>                 } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">299</span>                     rows = (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) Math.floor(srcHeight / destHeight) + 1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">300</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">301</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 循环建立切片
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">302</span>                 <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 改进的想法:是否可用多线程加快切割速度</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">303</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> i = 0; i &lt; rows; i++<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">304</span>                     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> j = 0; j &lt; cols; j++<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">305</span>                         <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 四个参数分别为图像起点坐标和宽高
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">306</span>                         <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 即: CropImageFilter(int x,int y,int width,int height)</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">307</span>                         cropFilter = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> CropImageFilter(j * destWidth, i *<span style="font-size:12px;line-height:1.5;"> destHeight,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">308</span> <span style="font-size:12px;line-height:1.5;">                                destWidth, destHeight);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">309</span>                         img =<span style="font-size:12px;line-height:1.5;"> Toolkit.getDefaultToolkit().createImage(
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">310</span>                                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> FilteredImageSource(image.getSource(),
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">311</span> <span style="font-size:12px;line-height:1.5;">                                        cropFilter));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">312</span>                         BufferedImage tag = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(destWidth,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">313</span> <span style="font-size:12px;line-height:1.5;">                                destHeight, BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">314</span>                         Graphics g =<span style="font-size:12px;line-height:1.5;"> tag.getGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">315</span>                         g.drawImage(img, 0, 0, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 绘制缩小后的图</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">316</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">317</span> <span style="font-size:12px;line-height:1.5;">                        g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">318</span>                         <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 输出为文件</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">319</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">320</span>                         ImageIO.write(tag, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(descDir
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">321</span>                                 + "_r" + i + "_c" + j + ".jpg"<span style="font-size:12px;line-height:1.5;">));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">322</span> <span style="font-size:12px;line-height:1.5;">                    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">323</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">324</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">325</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">326</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">327</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">328</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">329</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">330</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">331</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 图像类型转换：GIF-&gt;JPG、GIF-&gt;PNG、PNG-&gt;JPG、PNG-&gt;GIF(X)、BMP-&gt;PNG
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">332</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">333</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> formatName 包含格式非正式名称的 String：如JPG、JPEG、GIF等
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">334</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">335</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destImageFile 目标图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">336</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">337</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> convert(String srcImageFile, String formatName, String destImageFile) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">338</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">339</span>             File f = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">340</span> <span style="font-size:12px;line-height:1.5;">            f.canRead();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">341</span> <span style="font-size:12px;line-height:1.5;">            f.canWrite();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">342</span>             BufferedImage src =<span style="font-size:12px;line-height:1.5;"> ImageIO.read(f);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">343</span>             ImageIO.write(src, formatName, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(destImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">344</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">345</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">346</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">347</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">348</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">349</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">350</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 彩色转为黑白 
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">351</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">352</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destImageFile 目标图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">353</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">354</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> gray(String srcImageFile, String destImageFile) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">355</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">356</span>             BufferedImage src = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">357</span>             ColorSpace cs =<span style="font-size:12px;line-height:1.5;"> ColorSpace.getInstance(ColorSpace.CS_GRAY);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">358</span>             ColorConvertOp op = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> ColorConvertOp(cs, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">359</span>             src = op.filter(src, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">360</span>             ImageIO.write(src, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(destImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">361</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (IOException e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">362</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">363</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">364</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">365</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">366</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">367</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 给图片添加文字水印
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">368</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">369</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> pressText 水印文字
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">370</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">371</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destImageFile 目标图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">372</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> fontName 水印的字体名称
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">373</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">374</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> fontStyle 水印的字体样式
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">375</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">376</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> color 水印的字体颜色
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">377</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">378</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> fontSize 水印的字体大小
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">379</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">380</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> x 修正值
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">381</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">382</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> y 修正值
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">383</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">384</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> alpha 透明度：alpha 必须是范围 [0.0, 1.0] 之内（包含边界值）的一个浮点数字
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">385</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">386</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">387</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> pressText(String pressText,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">388</span> <span style="font-size:12px;line-height:1.5;">            String srcImageFile, String destImageFile, String fontName,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">389</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> fontStyle, Color color, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> fontSize,<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> x,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">390</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> y, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> alpha) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">391</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">392</span>             File img = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">393</span>             Image src =<span style="font-size:12px;line-height:1.5;"> ImageIO.read(img);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">394</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> width = src.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">395</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height = src.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">396</span>             BufferedImage image = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">397</span> <span style="font-size:12px;line-height:1.5;">                    BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">398</span>             Graphics2D g =<span style="font-size:12px;line-height:1.5;"> image.createGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">399</span>             g.drawImage(src, 0, 0, width, height, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">400</span> <span style="font-size:12px;line-height:1.5;">            g.setColor(color);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">401</span>             g.setFont(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Font(fontName, fontStyle, fontSize));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">402</span> <span style="font-size:12px;line-height:1.5;">            g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_ATOP,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">403</span> <span style="font-size:12px;line-height:1.5;">                    alpha));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">404</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 在指定坐标绘制水印文字</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">405</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">406</span>             g.drawString(pressText, (width - (getLength(pressText) *<span style="font-size:12px;line-height:1.5;"> fontSize))
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">407</span>                     / 2 + x, (height - fontSize) / 2 +<span style="font-size:12px;line-height:1.5;"> y);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">408</span> <span style="font-size:12px;line-height:1.5;">            g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">409</span>             ImageIO.write((BufferedImage) image, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> File(destImageFile));<span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 输出到文件流</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">410</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">411</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">412</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">413</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">414</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">415</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">416</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 给图片添加文字水印
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">417</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">418</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> pressText 水印文字
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">419</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">420</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destImageFile 目标图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">421</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> fontName 字体名称
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">422</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> fontStyle 字体样式
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">423</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> color 字体颜色
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">424</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> fontSize 字体大小
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">425</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> x 修正值
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">426</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">427</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> y 修正值
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">428</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">429</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> alpha 透明度：alpha 必须是范围 [0.0, 1.0] 之内（包含边界值）的一个浮点数字
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">430</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">431</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">432</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> pressText2(String pressText, String srcImageFile,String destImageFile,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">433</span>             String fontName, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> fontStyle, Color color, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> fontSize, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> x,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">434</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> y, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> alpha) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">435</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">436</span>             File img = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">437</span>             Image src =<span style="font-size:12px;line-height:1.5;"> ImageIO.read(img);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">438</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> width = src.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">439</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height = src.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">440</span>             BufferedImage image = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(width, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">441</span> <span style="font-size:12px;line-height:1.5;">                    BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">442</span>             Graphics2D g =<span style="font-size:12px;line-height:1.5;"> image.createGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">443</span>             g.drawImage(src, 0, 0, width, height, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">444</span> <span style="font-size:12px;line-height:1.5;">            g.setColor(color);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">445</span>             g.setFont(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> Font(fontName, fontStyle, fontSize));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">446</span> <span style="font-size:12px;line-height:1.5;">            g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_ATOP,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">447</span> <span style="font-size:12px;line-height:1.5;">                    alpha));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">448</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 在指定坐标绘制水印文字</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">449</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">450</span>             g.drawString(pressText, (width - (getLength(pressText) *<span style="font-size:12px;line-height:1.5;"> fontSize))
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">451</span>                     / 2 + x, (height - fontSize) / 2 +<span style="font-size:12px;line-height:1.5;"> y);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">452</span> <span style="font-size:12px;line-height:1.5;">            g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">453</span>             ImageIO.write((BufferedImage) image, "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(destImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">454</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">455</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">456</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">457</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">458</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">459</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">460</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 给图片添加图片水印
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">461</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">462</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> pressImg 水印图片
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">463</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> srcImageFile 源图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">464</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> destImageFile 目标图像地址
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">465</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> x 修正值。 默认在中间
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">466</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">467</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> y 修正值。 默认在中间
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">468</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">469</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> alpha 透明度：alpha 必须是范围 [0.0, 1.0] 之内（包含边界值）的一个浮点数字
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">470</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">471</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">472</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">void</span><span style="font-size:12px;line-height:1.5;"> pressImage(String pressImg, String srcImageFile,String destImageFile,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">473</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> x, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> y, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span><span style="font-size:12px;line-height:1.5;"> alpha) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">474</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">475</span>             File img = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(srcImageFile);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">476</span>             Image src =<span style="font-size:12px;line-height:1.5;"> ImageIO.read(img);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">477</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> wideth = src.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">478</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height = src.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">479</span>             BufferedImage image = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(wideth, height,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">480</span> <span style="font-size:12px;line-height:1.5;">                    BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">481</span>             Graphics2D g =<span style="font-size:12px;line-height:1.5;"> image.createGraphics();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">482</span>             g.drawImage(src, 0, 0, wideth, height, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">483</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 水印文件</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">484</span>             Image src_biao = ImageIO.read(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(pressImg));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">485</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> wideth_biao = src_biao.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">486</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> height_biao = src_biao.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">487</span> <span style="font-size:12px;line-height:1.5;">            g.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_ATOP,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">488</span> <span style="font-size:12px;line-height:1.5;">                    alpha));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">489</span>             g.drawImage(src_biao, (wideth - wideth_biao) / 2<span style="font-size:12px;line-height:1.5;">,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">490</span>                     (height - height_biao) / 2, wideth_biao, height_biao, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">491</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 水印文件结束</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">492</span> <span style="font-size:12px;line-height:1.5;">            g.dispose();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">493</span>             ImageIO.write((BufferedImage) image,  "JPEG", <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(destImageFile));
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">494</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">495</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">496</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">497</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">498</span>     
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">499</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">500</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 创建图片缩略图(等比缩放 无失真缩放)
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">501</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> src 源图片文件完整路径
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">502</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">503</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> dist 目标图片文件完整路径
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">504</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> width 缩放的宽度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">505</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">506</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> height 缩放的高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">507</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">508</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> flag  true 按照实际长宽输出  如果 false 按照比例进行无失真压缩
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">509</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">510</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">511</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">512</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">boolean</span> createThumbnail(String src, String dist, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> width, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">float</span> height,<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">boolean</span><span style="font-size:12px;line-height:1.5;"> flag) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">513</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">boolean</span> flag1 = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;"> ;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">514</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">515</span>             File srcfile = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> File(src);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">516</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (!<span style="font-size:12px;line-height:1.5;">srcfile.exists()) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">517</span>                 System.out.println("文件不存在"<span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">518</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> flag1;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">519</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">520</span>             BufferedImage image =<span style="font-size:12px;line-height:1.5;"> ImageIO.read(srcfile);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">521</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">522</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 获得缩放的比例</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">523</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">524</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">double</span> ratio = 1.0<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">525</span>             <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 判断如果高、宽都不大于设定值，则不处理</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">526</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (image.getHeight() &gt; height || image.getWidth() &gt;<span style="font-size:12px;line-height:1.5;"> width) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">527</span>                 <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (image.getHeight() &gt;<span style="font-size:12px;line-height:1.5;"> image.getWidth()) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">528</span>                     ratio = height /<span style="font-size:12px;line-height:1.5;"> image.getHeight();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">529</span>                 } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">530</span>                     ratio = width /<span style="font-size:12px;line-height:1.5;"> image.getWidth();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">531</span> <span style="font-size:12px;line-height:1.5;">                }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">532</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">533</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> newWidth = flag ? (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) width : (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) (image.getWidth() *<span style="font-size:12px;line-height:1.5;"> ratio);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">534</span>                <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> newHeight = flag ? (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>)height : (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span>) (image.getHeight() *<span style="font-size:12px;line-height:1.5;"> ratio);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">535</span>             BufferedImage bfImage = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> BufferedImage(newWidth, newHeight,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">536</span> <span style="font-size:12px;line-height:1.5;">                    BufferedImage.TYPE_INT_RGB);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">537</span>             flag1 =<span style="font-size:12px;line-height:1.5;"> bfImage.getGraphics().drawImage(
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">538</span> <span style="font-size:12px;line-height:1.5;">                    image.getScaledInstance(newWidth, newHeight,
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">539</span>                             Image.SCALE_SMOOTH), 0, 0, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">540</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">541</span>             FileOutputStream os = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> FileOutputStream(dist);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">542</span>             JPEGImageEncoder encoder =<span style="font-size:12px;line-height:1.5;"> JPEGCodec.createJPEGEncoder(os);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">543</span>             JPEGEncodeParam jParam =<span style="font-size:12px;line-height:1.5;"> encoder.getDefaultJPEGEncodeParam(bfImage) ;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">544</span>             jParam.setQuality(1f, <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;">) ;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">545</span> <span style="font-size:12px;line-height:1.5;">            encoder.encode(bfImage);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">546</span> <span style="font-size:12px;line-height:1.5;">            os.close();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">547</span>             flag1 = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">true</span><span style="font-size:12px;line-height:1.5;"> ;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">548</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">549</span>             flag1 = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">false</span><span style="font-size:12px;line-height:1.5;"> ;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">550</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">551</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> flag1 ;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">552</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">553</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">554</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">555</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * 计算text的长度（一个中文算两个字符）
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">556</span> 
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">557</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> text
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">558</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@return</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">559</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">560</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">final</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> getLength(String text) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">561</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> length = 0<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">562</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">for</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> i = 0; i &lt; text.length(); i++<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">563</span>             <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">if</span> (<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span> String(text.charAt(i) + "").getBytes().length &gt; 1<span style="font-size:12px;line-height:1.5;">) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">564</span>                 length += 2<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">565</span>             } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">else</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">566</span>                 length += 1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">567</span> <span style="font-size:12px;line-height:1.5;">            }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">568</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">569</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span> length / 2<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">570</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">571</span>     
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">572</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">573</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * &lt;获取图片宽度&gt;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">574</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * add by jiang_yanyan 2015-01-04
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">575</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> file  图片文件
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">576</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@return</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 宽度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">577</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">578</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> getImgWidth(File file) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">579</span>         InputStream is = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">580</span>         BufferedImage src = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">581</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> ret = -1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">582</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">583</span>             is = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> FileInputStream(file);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">584</span>             src =<span style="font-size:12px;line-height:1.5;"> javax.imageio.ImageIO.read(is);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">585</span>             ret = src.getWidth(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 得到源图宽</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">586</span> <span style="font-size:12px;line-height:1.5;">            is.close();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">587</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">588</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">589</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">590</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> ret;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">591</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">592</span>       
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">593</span>     <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">/**</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">594</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * &lt;获取图片高度&gt;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">595</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * add by jiang_yanyan 2015-01-04
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">596</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@param</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> file  图片文件
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">597</span> <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">     * </span><span style="color:rgb(128,128,128);font-size:12px;line-height:1.5;">@return</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 高度
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">598</span>      <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">*/</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">599</span>     <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">public</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">static</span> <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span><span style="font-size:12px;line-height:1.5;"> getImgHeight(File file) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">600</span>         InputStream is = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">601</span>         BufferedImage src = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span><span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">602</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">int</span> ret = -1<span style="font-size:12px;line-height:1.5;">;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">603</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">try</span><span style="font-size:12px;line-height:1.5;"> {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">604</span>             is = <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">new</span><span style="font-size:12px;line-height:1.5;"> FileInputStream(file);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">605</span>             src =<span style="font-size:12px;line-height:1.5;"> javax.imageio.ImageIO.read(is);
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">606</span>             ret = src.getHeight(<span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">null</span>); <span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;">//</span><span style="color:rgb(0,128,0);font-size:12px;line-height:1.5;"> 得到源图高</span>
<span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">607</span> <span style="font-size:12px;line-height:1.5;">            is.close();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">608</span>         } <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">catch</span><span style="font-size:12px;line-height:1.5;"> (Exception e) {
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">609</span> <span style="font-size:12px;line-height:1.5;">            e.printStackTrace();
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">610</span> <span style="font-size:12px;line-height:1.5;">        }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">611</span>         <span style="color:rgb(0,0,255);font-size:12px;line-height:1.5;">return</span><span style="font-size:12px;line-height:1.5;"> ret;
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">612</span> <span style="font-size:12px;line-height:1.5;">    }
</span><span style="color:rgb(0,128,128);font-size:12px;line-height:1.5;">613</span> }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p><font><span style="font-size:14px;">本文转自SummerChill博客园博客，原文链接：http://www.cnblogs.com/DreamDrive/p/5760462.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
