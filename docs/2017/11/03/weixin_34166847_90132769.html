<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>iBATIS In Action：执行非查询语句（二） « NotBeCN</title>
  <meta name="description" content="                   本章内容包括                    iBATIS API的更多内容        插入数据        更新和删除数据        使用存储过程                5.3&nbsp;   更新和删除数据           至此，我们已经学习了...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/03/weixin_34166847_90132769.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">iBATIS In Action：执行非查询语句（二）</h1>
    <p class="post-meta">Nov 3, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;border:1px solid rgb(102,102,102);width:200px;"> 
    <strong><em><span style="font-family:'宋体';"><br> 本章内容包括</span><span></span></em></strong>
    <p><strong><em></em></strong></p> 
    <strong><em></em></strong> 
    <ul style="list-style:none;">
     <li style="background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;list-style-type:disc;"> <span>iBATIS API</span><span style="font-family:'宋体';">的更多内容</span> </li> 
     <li style="background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;list-style-type:disc;"> <span style="font-family:Wingdings;"><span style="font-family:'Times New Roman';font-size:7pt;line-height:normal;"></span></span><span style="font-family:'宋体';">插入数据</span> </li> 
     <li style="background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;list-style-type:disc;"> <span style="font-family:Wingdings;"><span style="font-family:'Times New Roman';font-size:7pt;line-height:normal;"></span></span><span style="font-family:'宋体';">更新和删除数据</span> </li> 
     <li style="background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;list-style-type:disc;"> <span style="font-family:Wingdings;"><span style="font-family:'Times New Roman';font-size:7pt;line-height:normal;"></span></span><span style="font-family:'宋体';">使用存储过程</span> </li> 
    </ul>
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">5.3&nbsp;</strong>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">更新和删除数据</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">至此，我们已经学习了如何向数据库插入数据以及获取相应记录的键值，再来看看如何更新和删除数据。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">Insert<span style="line-height:1.8;font-family:'宋体';">方法返回的是</span>object<span style="line-height:1.8;font-family:'宋体';">类型的值，而</span>Update<span style="line-height:1.8;font-family:'宋体';">和</span>Delete<span style="line-height:1.8;font-family:'宋体';">方法则返回</span>int<span style="line-height:1.8;font-family:'宋体';">类型的值，该值指示了更新或删除语句所影响的记录数。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">iBATIS<span style="line-height:1.8;font-family:'宋体';">框架允许使用单条语句操作一条或多条记录。这是它与大多数</span>ORM<span style="line-height:1.8;font-family:'宋体';">工具不同的地方之一，后者一般只能修改单条记录。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.3.1&nbsp;</strong><strong><span style="line-height:1.8;font-family:'宋体';">并发更新处理</span></strong></p> 
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">iBATIS</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">目前尚未实现的一个功能是<strong>锁定记录以管理对相同数据的并发修改</strong>。有几种技术可用来处理并发更新，如在数据行上使用时间戳或者版本号。比如，有如下一个</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">account</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">表，定义为：<br><br></span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">CREATE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">TABLE</span>
    <span style="color:rgb(0,0,0);">&nbsp;account&nbsp;(<br> accountid&nbsp;serial&nbsp;</span>
    <span style="color:rgb(128,128,128);">NOT</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">NULL</span>
    <span style="color:rgb(0,0,0);">,<br> username&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">10</span>
    <span style="color:rgb(0,0,0);">),<br> passwd&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">10</span>
    <span style="color:rgb(0,0,0);">),<br> firstname&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">30</span>
    <span style="color:rgb(0,0,0);">),<br> lastname&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">30</span>
    <span style="color:rgb(0,0,0);">),<br> address1&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">30</span>
    <span style="color:rgb(0,0,0);">),<br> address2&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">30</span>
    <span style="color:rgb(0,0,0);">),<br> city&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">30</span>
    <span style="color:rgb(0,0,0);">),<br> state&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">5</span>
    <span style="color:rgb(0,0,0);">),<br> postalcode&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">10</span>
    <span style="color:rgb(0,0,0);">),<br> country&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">varchar</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(128,0,0);font-weight:bold;">5</span>
    <span style="color:rgb(0,0,0);">),<br> version&nbsp;int8,<br></span>
    <span style="color:rgb(0,0,255);">CONSTRAINT</span>
    <span style="color:rgb(0,0,0);">&nbsp;account_pkey&nbsp;</span>
    <span style="color:rgb(0,0,255);">PRIMARY</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">KEY</span>
    <span style="color:rgb(0,0,0);">&nbsp;(accountid)<br> )<br></span> 
   </div> 
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';"><br> 我们可以在更新数据的时候增加</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">version</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">列，在</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">update</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">语句的</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">where</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">子句使用</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">accountId</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">和</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">version</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">两个字段。在执行更新操作时，如果要更新的记录未被其它用户修改，那么更新会得以成功地执行，因为版本号未被改变，映射语句也可返回期望的记录数。如果返回的是</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">0</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">，而且未抛出任何异常，那么您就该知道，其他人已经修改了记录。下一步如何处理就由您来决定了。</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.3.2&nbsp;</strong><strong><span style="line-height:1.8;font-family:'宋体';">更新和删除子项记录</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">在一个对象模型系统中，不难找到一些包含子对象的组件（</span>component<span style="line-height:1.8;font-family:'宋体';">）。例如，一个</span>Order<span style="line-height:1.8;font-family:'宋体';">对象可能会包含一个</span>OrderItem<span style="line-height:1.8;font-family:'宋体';">类型的列表（</span>list<span style="line-height:1.8;font-family:'宋体';">）或数组（</span>array<span style="line-height:1.8;font-family:'宋体';">），这些子对象表示订单的细项。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">因为</span>iBATIS<span style="line-height:1.8;font-family:'宋体';">主要是一个</span>SQL<span style="line-height:1.8;font-family:'宋体';">映射工具，它不能在更新数据库时去管理这种关系。这样，这种功能就必须由您程序的数据访问层而不是</span>iBATIS<span style="line-height:1.8;font-family:'宋体';">来处理了。而其实现代码相当简单：</span></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">public</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">void</span>
    <span style="color:rgb(0,0,0);">&nbsp;SaveOrder(Order&nbsp;order)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(</span>
    <span style="color:rgb(0,0,255);">null</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);">==</span>
    <span style="color:rgb(0,0,0);">&nbsp;order.OrderId)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.Insert(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">Order.insert</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;order);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">else</span>
    <span style="color:rgb(0,0,0);">&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.Update(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">Order.update</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;order);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.Delete(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">Order.deleteDetails</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;order);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">for</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(0,0,255);">int</span>
    <span style="color:rgb(0,0,0);">&nbsp;i&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);">0</span>
    <span style="color:rgb(0,0,0);">;&nbsp;i&nbsp;</span>
    <span style="color:rgb(0,0,0);">&lt;</span>
    <span style="color:rgb(0,0,0);">&nbsp;order.OrderItems.Count;&nbsp;i</span>
    <span style="color:rgb(0,0,0);">++</span>
    <span style="color:rgb(0,0,0);">)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OrderItem&nbsp;oi&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;order.OrderItems[i];<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.Insert(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">OrderItem.insert</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;oi);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br></span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;"><span style="line-height:1.8;"><span style="line-height:1.8;font-family:'宋体';">这段代码能够实现功能，但它没有提供任何事务机制，因此如果最后一个</span>OrderItem<span style="line-height:1.8;font-family:'宋体';">失败，那么所有的其它数据则处于不一致的状态，因为事务只能处理每一次插入和更新操作。此外，性能也是个问题，因为每条的执行都会立即提交。在下节中，您将了解如何使用批量更新技术来解决上述的两个问题（即事务和性能）。</span></span></span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.4&nbsp;</strong><strong><span style="line-height:1.8;font-family:'宋体';">执行批量更新</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;font-family:'宋体';">译注</span></strong><span style="line-height:1.8;font-family:'宋体';">：在</span>iBATIS.NET<span style="line-height:1.8;font-family:'宋体';">中并未提供与此等价的功能，不过园子里的</span><a href="http://www.cnblogs.com/zealic/archive/2007/11/13/958347.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">Zealic</a><span style="line-height:1.8;font-family:'宋体';">提供了</span><a href="http://www.cnblogs.com/zealic/archive/2007/11/13/958347.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><span style="line-height:1.8;font-family:'宋体';">一种方法</span></a><span style="line-height:1.8;font-family:'宋体';">，可以借鉴一下。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.5&nbsp;</strong><strong><span style="line-height:1.8;font-family:'宋体';">使用存储过程</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">存储过程是在数据库服务器进程中执行的代码块。大部分存储过程都是以特定于数据库的语言（而这些语言一般基于</span>SQL<span style="line-height:1.8;font-family:'宋体';">），一些数据库生产商还允许使用其它语言开发（例如，</span>Oracle<span style="line-height:1.8;font-family:'宋体';">中可用</span>Java<span style="line-height:1.8;font-family:'宋体';">，</span>SQL Server 2005<span style="line-height:1.8;font-family:'宋体';">中可用</span>C#<span style="line-height:1.8;font-family:'宋体';">，而</span>PostgreSQL<span style="line-height:1.8;font-family:'宋体';">允许几乎任何语言）。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.5.1&nbsp;</strong><strong><span style="line-height:1.8;font-family:'宋体';">三思而行</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">存储过程往往被</span>Java<span style="line-height:1.8;font-family:'宋体';">开发人员视为“敌人”，因为它们是平台相关的（数据库平台相关的，</span>&nbsp;<span style="line-height:1.8;font-family:'宋体';">不一定是操作系统相关的），而这是一些</span>Java<span style="line-height:1.8;font-family:'宋体';">开发人员所不接受的。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">相比于特定的解决方案，我们更注重于解决问题，我们发现存储过程在优化过程中值得考虑，它还可以解决那些复杂的以数据为中心的问题。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;font-family:'宋体';">不要作极端主义者</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">在对存储过程的讨论中存在两个极端的观点。一方面，一些纯</span>Java<span style="line-height:1.8;font-family:'宋体';">主义者认为永远不要使用存储过程（更有甚者，有人认为</span>SQL<span style="line-height:1.8;font-family:'宋体';">本身也不能使用）。另一方面，一些纯数据库主义者认为与数据库间的任何交互都要通过存储过程来进行。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">实际上，那则古老的谚语：“纯粹主义者都是错误的。”在这里也是适用的，两个极端的观点都是错误的。存储过程是一个工具，仅仅如此。考虑一个类似的情景：一位木匠，他有一把锤子，一个卷尺和一张锯。虽然他能够使用锤子来测量木板，但使用卷尺显然更好（使用锯来钉钉子的情况也是如此）。每一项工作都有最合适的工具，每个工具也都是为某种工作设计的。如果选择了错误的工具，它就不会发挥太好的作用。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;font-family:'宋体';">选择正确的工具</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">我们可以选择的工具有</span>SQL<span style="line-height:1.8;font-family:'宋体';">，存储过程和应用程序代码。一些操作用</span>SQL<span style="line-height:1.8;font-family:'宋体';">实现起来不错，另一些可以选择存储过程，其它的则可以使用应用程序代码。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">例如，考虑这种情况，我们要从几张表中查询以生成报表。使用应用程序代码，先从几张表中抓取所有数据，然后再进行过滤、连接，没什么意义。为一个简单的查询创建存储过程也会增加复杂性，却不会带来大的好处。将</span>SQL<span style="line-height:1.8;font-family:'宋体';">放在</span>iBATIS<span style="line-height:1.8;font-family:'宋体';">的映射语句中则是一种快速、简单、高效的解决方案。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">现在，有一个更复杂的报表，需要进行多个子查询和左连接从百万级的记录中收集数据，存储过程会更好。使用存储过程，可以有更多选项进行优化。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">在应用程序中，如果需要使用动态</span>SQL<span style="line-height:1.8;font-family:'宋体';">，映射语句也非常有用。在第</span>8<span style="line-height:1.8;font-family:'宋体';">章，我们会看到分别使用</span>C#<span style="line-height:1.8;font-family:'宋体';">代码，存储过程和映射语句来实现动态</span>SQL<span style="line-height:1.8;font-family:'宋体';">。我们不想吊您的胃口，如果您等不及了，直接跳到</span>8.5<span style="line-height:1.8;font-family:'宋体';">节看一下吧。</span></p> 
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">在使用存储过程时需要考虑的一点是，它们可用来更新并返回数据，如果此时调用存储过程的方法不需要提交（比如仅用作读取数据），因而事务并未提交，那么就可能出现问题。在这种情况下，事务管理器需要完成提交，即使是读操作，或者您手工管理这些事务，就像下面的例子：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">try</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.BeginTransaction();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.QueryForObject(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">Account.insertAndReturn</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;a);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.CommitTransaction();<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">catch</span>
    <span style="color:rgb(0,0,0);">(Exception)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sqlMapper.RollBackTransaction();<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br></span> 
   </div> 
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';"><br> 关于事务的更多内容在第</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">7</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">章，因此要获得更多信息，去那里看看吧。</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.5.2 IN</strong><strong><span style="line-height:1.8;font-family:'宋体';">，</span>OUT</strong><strong><span style="line-height:1.8;font-family:'宋体';">，</span>INOUT</strong><strong><span style="line-height:1.8;font-family:'宋体';">参数</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">目前为止，我们看到的参数都是输入参数——将它们传给</span>iBATIS<span style="line-height:1.8;font-family:'宋体';">，传入的数据保持不变（除了</span>&lt;selectKey&gt;<span style="line-height:1.8;font-family:'宋体';">元素）。使用存储过程时，可以使用三种参数：</span>IN<span style="line-height:1.8;font-family:'宋体';">，</span>OUT<span style="line-height:1.8;font-family:'宋体';">和</span>INOUT<span style="line-height:1.8;font-family:'宋体';">。</span></p> 
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">在</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">iBATIS</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">中使用存储过程时，</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">IN</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">参数用法很简单。将参数传给存储过程跟传给映射语句是一样的。这里是一个简单的存储过程，它接受两个</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">IN</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">参数并返回一个值：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">CREATE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">OR</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(255,0,255);">REPLACE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">FUNCTION</span>
    <span style="color:rgb(0,0,0);">&nbsp;max_in_example<br> (a&nbsp;float4,&nbsp;b&nbsp;float4)<br></span>
    <span style="color:rgb(0,0,255);">RETURNS</span>
    <span style="color:rgb(0,0,0);">&nbsp;float4&nbsp;</span>
    <span style="color:rgb(0,0,255);">AS</span>
    <span style="color:rgb(0,0,0);"><br><span class="MathJax" style="line-height:normal;word-spacing:normal;border:0px;"><span class="math" style="border:0px;vertical-align:0px;line-height:normal;"><span style="border:0px;vertical-align:0px;line-height:normal;font-size:16.25px;"><span style="border:0px;vertical-align:0px;line-height:normal;"><span class="mrow" style="border:0px;vertical-align:0px;line-height:normal;"><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">B</span><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">O</span><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">D</span><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">Y<span style="border:0px;vertical-align:0px;line-height:normal;"></span></span></span><span style="border:0px;vertical-align:0px;line-height:normal;width:0px;"></span></span></span><span style="border-width:0px;border-left-style:solid;vertical-align:-.073em;line-height:normal;width:0px;"></span></span><span class="MJX_Assistive_MathML" style="border:0px;vertical-align:0px;line-height:normal;width:1px;">BODY</span></span><br></span>
    <span style="color:rgb(0,0,255);">BEGIN</span>
    <span style="color:rgb(0,0,0);"><br></span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(a&nbsp;</span>
    <span style="color:rgb(128,128,128);">&gt;</span>
    <span style="color:rgb(0,0,0);">&nbsp;b)&nbsp;</span>
    <span style="color:rgb(0,0,255);">then</span>
    <span style="color:rgb(0,0,0);"><br></span>
    <span style="color:rgb(0,0,255);">return</span>
    <span style="color:rgb(0,0,0);">&nbsp;a;<br></span>
    <span style="color:rgb(0,0,255);">else</span>
    <span style="color:rgb(0,0,0);"><br></span>
    <span style="color:rgb(0,0,255);">return</span>
    <span style="color:rgb(0,0,0);">&nbsp;b;<br></span>
    <span style="color:rgb(0,0,255);">end</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">;<br></span>
    <span style="color:rgb(0,0,255);">END</span>
    <span style="color:rgb(0,0,0);">;<br><span class="MathJax" style="line-height:normal;word-spacing:normal;border:0px;"><span class="math" style="border:0px;vertical-align:0px;line-height:normal;"><span style="border:0px;vertical-align:0px;line-height:normal;font-size:16.25px;"><span style="border:0px;vertical-align:0px;line-height:normal;"><span class="mrow" style="border:0px;vertical-align:0px;line-height:normal;"><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">B</span><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">O</span><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">D</span><span class="mi" style="border:0px;vertical-align:0px;line-height:normal;font-family:'MathJax_Math-italic';">Y<span style="border:0px;vertical-align:0px;line-height:normal;"></span></span></span><span style="border:0px;vertical-align:0px;line-height:normal;width:0px;"></span></span></span><span style="border-width:0px;border-left-style:solid;vertical-align:-.073em;line-height:normal;width:0px;"></span></span><span class="MJX_Assistive_MathML" style="border:0px;vertical-align:0px;line-height:normal;width:1px;">BODY</span></span><br> LANGUAGE&nbsp;</span>
    <span style="color:rgb(255,0,0);">'</span>
    <span style="color:rgb(255,0,0);">plpgsql</span>
    <span style="color:rgb(255,0,0);">'</span>
    <span style="color:rgb(0,0,0);">&nbsp;VOLATILE;<br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">下面是相应的参数映射，映射语句以及</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">C#</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">代码：<br><br></span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameterMap&nbsp;</span>
    <span style="color:rgb(255,0,0);">id</span>
    <span style="color:rgb(0,0,255);">="pm_in_example"</span>
    <span style="color:rgb(255,0,0);">&nbsp;class</span>
    <span style="color:rgb(0,0,255);">="hashtable"</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="a"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="a"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="b"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="b"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br></span>
    <span style="color:rgb(0,0,255);">&lt;/</span>
    <span style="color:rgb(128,0,0);">parameterMap</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br><br></span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">procedure&nbsp;</span>
    <span style="color:rgb(255,0,0);">id</span>
    <span style="color:rgb(0,0,255);">="in_example"</span>
    <span style="color:rgb(255,0,0);">&nbsp;parameterMap</span>
    <span style="color:rgb(0,0,255);">="pm_in_example"</span>
    <span style="color:rgb(255,0,0);">&nbsp;resultClass</span>
    <span style="color:rgb(0,0,255);">="int"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;max_in_example<br></span>
    <span style="color:rgb(0,0,255);">&lt;/</span>
    <span style="color:rgb(128,0,0);">procedure</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">Hashtable&nbsp;condition&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">new</span>
    <span style="color:rgb(0,0,0);">&nbsp;Hashtable();<br> condition.Add(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">a</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;</span>
    <span style="color:rgb(0,0,0);">7</span>
    <span style="color:rgb(0,0,0);">);<br> condition.Add(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">b</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;</span>
    <span style="color:rgb(0,0,0);">5</span>
    <span style="color:rgb(0,0,0);">);<br></span>
    <span style="color:rgb(0,0,255);">return</span>
    <span style="color:rgb(0,0,0);">&nbsp;sqlMapper.QueryForObject</span>
    <span style="color:rgb(0,0,0);">&lt;</span>
    <span style="color:rgb(0,0,255);">int</span>
    <span style="color:rgb(0,0,0);">&gt;</span>
    <span style="color:rgb(0,0,0);">(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">Account.in_example</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;condition);<br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">INOUT</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">参数是指那些可以传给存储过程，可被存储过程修改的参数，就像在下面的例子中，存储过程接受两个数字，交换它们的值。看存储过程的代码（使用</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">MS SQL</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">的</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">T-SQL</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">）：<br><br></span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">CREATE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">PROCEDURE</span>
    <span style="color:rgb(0,0,0);">&nbsp;Swap<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">@a</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">INT</span>
    <span style="color:rgb(0,0,0);">&nbsp;OUTPUT,<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">@b</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">INT</span>
    <span style="color:rgb(0,0,0);">&nbsp;OUTPUT<br></span>
    <span style="color:rgb(0,0,255);">AS</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">DECLARE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@temp</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">INT</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">SET</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@temp</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@a</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">SET</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@a</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@b</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">SET</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@b</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@temp</span>
    <span style="color:rgb(0,0,0);"><br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">下面是相应的参数映射、映射语句和</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">C#</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">代码：<br><br></span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameterMap&nbsp;</span>
    <span style="color:rgb(255,0,0);">id</span>
    <span style="color:rgb(0,0,255);">="para_swap_numbers"</span>
    <span style="color:rgb(255,0,0);">&nbsp;class</span>
    <span style="color:rgb(0,0,255);">="hashtable"</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="a"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="a"</span>
    <span style="color:rgb(255,0,0);">&nbsp;direction</span>
    <span style="color:rgb(0,0,255);">="InputOutput"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="b"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="b"</span>
    <span style="color:rgb(255,0,0);">&nbsp;direction</span>
    <span style="color:rgb(0,0,255);">="InputOutput"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br></span>
    <span style="color:rgb(0,0,255);">&lt;/</span>
    <span style="color:rgb(128,0,0);">parameterMap</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br><br></span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">procedure&nbsp;</span>
    <span style="color:rgb(255,0,0);">id</span>
    <span style="color:rgb(0,0,255);">="swap_numbers"</span>
    <span style="color:rgb(255,0,0);">&nbsp;parameterMap</span>
    <span style="color:rgb(0,0,255);">="para_swap_numbers"</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;Swap<br></span>
    <span style="color:rgb(0,0,255);">&lt;/</span>
    <span style="color:rgb(128,0,0);">procedure</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">Hashtable&nbsp;condition&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">new</span>
    <span style="color:rgb(0,0,0);">&nbsp;Hashtable();<br> condition.Add(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">a</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;</span>
    <span style="color:rgb(0,0,0);">7</span>
    <span style="color:rgb(0,0,0);">);<br> condition.Add(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">b</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;</span>
    <span style="color:rgb(0,0,0);">5</span>
    <span style="color:rgb(0,0,0);">);<br> sqlMapper.Insert(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">swap_numbers</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;condition);<br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">OUT</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">参数较为少用。它类似于结果（就像</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">resultMap</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">中的那样），却像参数那样传入。传入的值会被忽略，然后在存储过程中被返回值替换掉。</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">OUT</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">参数可返回任意的单个值（见我们的下个例子）。</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">下面例子中的存储过程很简单，使用两个</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">IN</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">参数和一个</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">OUT</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">参数（</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">MS SQL</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">的</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">T-SQL</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">）:<br><br></span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">CREATE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">PROCEDURE</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(255,0,255);">Max</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">@a</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">INT</span>
    <span style="color:rgb(0,0,0);">,<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">@b</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">INT</span>
    <span style="color:rgb(0,0,0);">,<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">@c</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);font-weight:bold;">INT</span>
    <span style="color:rgb(0,0,0);">&nbsp;OUTPUT<br></span>
    <span style="color:rgb(0,0,255);">AS</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">IF</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@a</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&gt;</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@b</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">SET</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@c</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@a</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">ELSE</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">SET</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@c</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,128,0);">@b</span>
    <span style="color:rgb(0,0,0);"><br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">这个存储过程接收三个参数并返回</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">void</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">。但是，第三个参数仅用作输出，因此取决于另外两个参数的大小关系，它将被替换为较大的一个。要在</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">iBATIS</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">中使用它，需要如下代码：</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';"><br></span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">procedure&nbsp;</span>
    <span style="color:rgb(255,0,0);">id</span>
    <span style="color:rgb(0,0,255);">="max_number"</span>
    <span style="color:rgb(255,0,0);">&nbsp;parameterMap</span>
    <span style="color:rgb(0,0,255);">="para_max_number"</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;Max<br></span>
    <span style="color:rgb(0,0,255);">&lt;/</span>
    <span style="color:rgb(128,0,0);">procedure</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br><br></span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameterMap&nbsp;</span>
    <span style="color:rgb(255,0,0);">id</span>
    <span style="color:rgb(0,0,255);">="para_max_number"</span>
    <span style="color:rgb(255,0,0);">&nbsp;class</span>
    <span style="color:rgb(0,0,255);">="hashtable"</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="a"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="a"</span>
    <span style="color:rgb(255,0,0);">&nbsp;direction</span>
    <span style="color:rgb(0,0,255);">="Input"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="b"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="b"</span>
    <span style="color:rgb(255,0,0);">&nbsp;direction</span>
    <span style="color:rgb(0,0,255);">="Input"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">&lt;</span>
    <span style="color:rgb(128,0,0);">parameter&nbsp;</span>
    <span style="color:rgb(255,0,0);">property</span>
    <span style="color:rgb(0,0,255);">="c"</span>
    <span style="color:rgb(255,0,0);">&nbsp;column</span>
    <span style="color:rgb(0,0,255);">="c"</span>
    <span style="color:rgb(255,0,0);">&nbsp;direction</span>
    <span style="color:rgb(0,0,255);">="Output"</span>
    <span style="color:rgb(255,0,0);">&nbsp;dbType</span>
    <span style="color:rgb(0,0,255);">="int"</span>
    <span style="color:rgb(255,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">/&gt;</span>
    <span style="color:rgb(0,0,0);"><br></span>
    <span style="color:rgb(0,0,255);">&lt;/</span>
    <span style="color:rgb(128,0,0);">parameterMap</span>
    <span style="color:rgb(0,0,255);">&gt;</span>
    <span style="color:rgb(0,0,0);"><br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">Hashtable&nbsp;condition&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">new</span>
    <span style="color:rgb(0,0,0);">&nbsp;Hashtable();<br> condition.Add(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">a</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;a);<br> condition.Add(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">b</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;b);<br><br> ExecuteInsert(</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">max_number</span>
    <span style="color:rgb(0,0,0);">"</span>
    <span style="color:rgb(0,0,0);">,&nbsp;condition);<br></span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">Convert.ToInt32(condition["c"])&nbsp;is&nbsp;the&nbsp;maximum.<br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="font-family:'宋体';">译注</span></strong>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">：参数</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">c</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">对应的</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">parameter</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">节点中有一个</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">dbType</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">特性，此处不能省略。如果省略，则会出现“</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">String[2]: the Size property has an invalid size of 0.</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">”的异常，原因时参数</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">c</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">被解析为</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">varchar</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">类型，此时</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">OUT</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">参数需要设定长度，故而引发上述异常。将</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">dbType</span>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">加上就不会有问题了。这个问题也说明</span>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">parameter Map</strong>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="font-family:'宋体';">要尽量写得详细</span></strong>
   <span style="color:rgb(51,51,51);font-size:14px;font-family:'宋体';">。</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"></span> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">存储过程也可以返回多行记录。在对大量数据进行复杂的查询时，如果传统的</span>SQL<span style="line-height:1.8;font-family:'宋体';">优化技术没有效果，使用存储过程可能会显著地改善性能。一些更为困难的情况是外连接（</span>outer join<span style="line-height:1.8;font-family:'宋体';">）和需要计算的过滤。如果在这些情景中，您决定要使用存储过程，就需要确保对系统的瓶颈有良好的理解，否则不仅不能改善性能，还可能会变得更糟。</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5.6&nbsp;</strong><strong><span style="line-height:1.8;font-family:'宋体';">小结</span></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;font-family:'宋体';">在本章中，我们查看了使用</span>iBATIS<span style="line-height:1.8;font-family:'宋体';">修改数据库数据的绝大多数选项。在读完第</span>4<span style="line-height:1.8;font-family:'宋体';">章和本章后，您已经了解了使用</span>iBATIS<span style="line-height:1.8;font-family:'宋体';">维护数据的所有信息。</span></p> 
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">在第</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'Times New Roman';">6</span>
   <span style="color:rgb(51,51,51);font-size:10.5pt;font-family:'宋体';">章中，我们将继续进行扩展。通过了解更为高级的查询技术，您能够更好地利用已掌握的数据库技能和平台。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上一篇：</span>
   <a href="http://www.cnblogs.com/anderslly/archive/2007/11/05/executingnonquerystatement01.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">iBATIS In Action：执行非查询语句（一）</a>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">；</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <p><span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">下一篇：</span><span style="font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;color:rgb(255,0,240);">iBATIS In Action：使用高级查询技术（一）</span><span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">；</span></p> 
   <p><span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></span></p> 
   <p><span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></span></p> 
   <p><font color="#333333"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：</span><span style="font-size:14px;">http://www.cnblogs.com/anderslly/archive/2007/12/11/executingnonquerystatement02.html</span></font><span style="font-size:14px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;">，如需转载请自行联系原作者。</span></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
