<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C++Directx11开发笔记六：3D空间坐标系变换，绘制3D图形动画 « NotBeCN</title>
  <meta name="description" content="             上一篇文章中我们认识了Direct3D中一些空间坐标系，其中包含了几何模型坐标系，世界坐标系，观察坐标系，投影坐标系以及屏幕坐标系，一些纯理论的知识。今天我们来了解一下这些坐标系的变换，并且通过一个例子来说明这些坐标系的关系。这些变换主要在于几何模型到世界坐标系的变化，世界坐标系到观察坐...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/17/weixin_34067102_90132661.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">C++Directx11开发笔记六：3D空间坐标系变换，绘制3D图形动画</h1>
    <p class="post-meta">Nov 17, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">上一篇文章中我们认识了Direct3D中一些空间坐标系，其中包含了几何模型坐标系，世界坐标系，观察坐标系，投影坐标系以及屏幕坐标系，一些纯理论的知识。今天我们来了解一下这些坐标系的变换，并且通过一个例子来说明这些坐标系的关系。这些变换主要在于几何模型到世界坐标系的变化，世界坐标系到观察坐标系的变化，和观察坐标系到投影之间的变换，最后将投影所得的图像通过绘图管线在屏幕上绘制出来。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>世界坐标系转换：</strong></p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">世界坐标系转换其实就是将顶点从几何模型坐标系移到世界坐标系中，在游戏里就是构建游戏场景，将物品放置到一个场景里。通常在世界坐标系转换时，还将通过改变大小来控制基元物件的放大或缩小，通过改变方向来设置旋转，通过改变位置来进行转变。在一个场景中，每一个物件都有他自己的世界坐标系转换矩阵，这是由于每一个物件都有其自己的大小，方向和位置。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>&nbsp;观察坐标系转换：</strong></p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">所有顶点在转换到世界坐标系后，观察坐标系转换将其从世界坐标系转换为观察坐标系中。前面我们讲过，观察坐标系即是在世界坐标系内，从观测者或者摄像机角度透视所能够看到的图像，在观察坐标系内，观测者将站在原点（或者说以观测者为原点），透视的方向即是Z轴方向，即观察方向为Z轴方向。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;很值得注意的是，虽然观察坐标空间是从观测者在世界坐标系内所能够看到的一个框架，但是观察坐标系矩阵却是由定点来填充的，而非观测者。因此，观察矩阵所填充的数据是和观测者或者摄像机里的正好相反，比如说，我们想把摄像机往-z方向移动4个单位，那么我们必须计算出观察矩阵转换的定点正好为4个单位的Z轴方向。虽然摄像机是往反方向移动，但是在摄像机里的成像却是相反的。在Direct3D中有一个方法可以用来计算这种观察矩阵，那就是XMMatrixLookAtLH（）方法，我们只要告诉他观测者的位置，所观看的位置，并且告诉他观察者向上方向，就可以计算出观察矩阵。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>投影坐标系转换：</strong></p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">投影坐标系转换即是将定点从3D坐标系如：世界和观察坐标系转换为投影坐标系，在投影坐标系中，一个顶点的X和Y坐标是根据在3D空间中的X/Z和Y/Z的比率获得的。首先我们来看一个图，那样有助于我们理解这个概念，如下所示：</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img alt="" src="https://images.cnblogs.com/cnblogs_com/xdotnet/20110802001.jpg" width="399" height="221" style="border:0px;"></p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在3D中，根据透视法，越靠近的物体越大，从上图可以看出，一棵高为h单位在远离观测点d单位的树，和一棵高为2h单位距离观测点2d位置的树是一样大的。因此，顶点在2D屏幕上呈现是依据X/Z和Y/Z的比率决定的。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">在Direct3D中以一个叫做FOV(field-of-view)，这个主要是通过特定方向判断特定位置的顶点是否可见。每个人都有一个FOV，当然那是在我们的前方，因为我们不可能看到后面，如果两个物体离得太近或非常远也是看不到的。在计算机绘图里，FOV包含在一个视截体里，在3D中这个视截体被定义一个六面体，有两个面是XY面平行，他们被叫做近Z视平面和远Z视平面。其它的面被定义为观测者的横向和纵向可视界面，FOV越大，视截体的体积也越大，当然容纳的物体也更多，如下图所示。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img alt="" src="https://images.cnblogs.com/cnblogs_com/xdotnet/20110802002.jpg" width="531" height="299" style="border:0px;"></p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">GPU会过滤视截体外部的东东以至于不会浪费那些不需要显示的部分，这个被称为裁剪，GPU将会将顶点转换为投影顶点，那样就可以知道是否在视截体内。在Direct3D 11中，这些换行都被一个方法完成，那就是XMMatrixPerspectiveFovLH()，我们将提高4个参数，FOVy，比率，Zn和Zf即可以获得投影矩阵。其中FOVy就是Y方向的投影角度，比率就是宽和高比率，Zn和Zf分别是近视面和远视面的大小。</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>绘制3D图形：</strong></p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">有了以上理论知识，我们就可以在屏幕上绘制3D图形了。在前面的例子中我们学会了如何绘制三角形，这里我们将绘制一个立方体。根据我们前面的例子知道，计算机绘图中需要告诉GPU三角形的顶点，因此我们需要先定义一下立方体的顶点，由于立方体有8个顶点，所以我们可以定义一个数组。并且我们还需要告诉像素着色器颜色，因此我们可以先定义一个结构，其代码如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <div> 
     <span style="color:rgb(0,0,255);line-height:1.5;">struct</span>
     <span style="line-height:1.5;">&nbsp;SimpleVertex<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;XMFLOAT3&nbsp;Pos;<br> &nbsp;&nbsp;&nbsp;&nbsp;XMFLOAT4&nbsp;Color;<br> };<br> &nbsp;&nbsp;&nbsp;&nbsp;SimpleVertex&nbsp;vertices[]&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;XMFLOAT3(&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;),&nbsp;XMFLOAT4(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">&nbsp;)&nbsp;},<br> &nbsp;&nbsp;&nbsp;&nbsp;};</span> 
    </div> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">我们知道，GPU识别的最小几何单位是三角形（点线除外），我们告诉GPU立方体的顶点是绘制不出来的，所以我们要转换一下。立方体有6个面，也就是12个三角形，那就是有36个顶点，上面我们才定义了八个顶点，是不是不够呢？前面一章节我们也知道，多边形可以共用一边，即共用两个顶点，因此我们可以通过定义一个索引来描述顶点，其代码如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <div> 
     <span style="line-height:1.5;">WORD&nbsp;indices[]&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
     <span style="line-height:1.5;">,<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">5</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">4</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">5</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">4</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">7</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">4</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
     <span style="line-height:1.5;">,<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">6</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">5</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">6</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
     <span style="line-height:1.5;">,<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">7</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">6</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">7</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
     <span style="line-height:1.5;">,<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">6</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">4</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">5</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">7</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">4</span>
     <span style="line-height:1.5;">,</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">6</span>
     <span style="line-height:1.5;">,<br> &nbsp;&nbsp;&nbsp;&nbsp;};</span> 
    </div> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">上面的数字就是表示vertices的下标，8个顶点就是0-7。创建索引缓存和创建顶点缓存很像，顶点缓存前面已经描述过就不再写了，创建索引缓存如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <div> 
     <span style="line-height:1.5;">&nbsp;D3D11_BUFFER_DESC&nbsp;bd;<br> &nbsp;&nbsp;&nbsp;&nbsp;ZeroMemory(&nbsp;</span>
     <span style="line-height:1.5;">&amp;</span>
     <span style="line-height:1.5;">bd,&nbsp;</span>
     <span style="color:rgb(0,0,255);line-height:1.5;">sizeof</span>
     <span style="line-height:1.5;">(bd)&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;bd.Usage&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;D3D11_USAGE_DEFAULT;<br> &nbsp;&nbsp;&nbsp;&nbsp;bd.ByteWidth&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;</span>
     <span style="color:rgb(0,0,255);line-height:1.5;">sizeof</span>
     <span style="line-height:1.5;">(&nbsp;WORD&nbsp;)&nbsp;</span>
     <span style="line-height:1.5;">*</span>
     <span style="line-height:1.5;">&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">36</span>
     <span style="line-height:1.5;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;36&nbsp;vertices&nbsp;needed&nbsp;for&nbsp;12&nbsp;triangles&nbsp;in&nbsp;a&nbsp;triangle&nbsp;list</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;bd.BindFlags&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;D3D11_BIND_INDEX_BUFFER;<br> &nbsp;&nbsp;&nbsp;&nbsp;bd.CPUAccessFlags&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">;<br> &nbsp;&nbsp;&nbsp;&nbsp;bd.MiscFlags&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">;<br> &nbsp;&nbsp;&nbsp;&nbsp;InitData.pSysMem&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;indices;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,0,255);line-height:1.5;">if</span>
     <span style="line-height:1.5;">(&nbsp;FAILED(&nbsp;g_pd3dDevice</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">CreateBuffer(&nbsp;</span>
     <span style="line-height:1.5;">&amp;</span>
     <span style="line-height:1.5;">bd,&nbsp;</span>
     <span style="line-height:1.5;">&amp;</span>
     <span style="line-height:1.5;">InitData,&nbsp;</span>
     <span style="line-height:1.5;">&amp;</span>
     <span style="line-height:1.5;">g_pIndexBuffer&nbsp;)&nbsp;)&nbsp;)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,0,255);line-height:1.5;">return</span>
     <span style="line-height:1.5;">&nbsp;FALSE;</span> 
    </div> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">创建了索引缓存后需要灌水GPU这个索引缓存，那样他才知道如何使用，其代码如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div> 
     <span style="line-height:1.5;">g_pImmediateContext</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">IASetIndexBuffer(&nbsp;g_pIndexBuffer,&nbsp;DXGI_FORMAT_R16_UINT,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">&nbsp;);</span> 
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">万事具备，当然接下来我们要确定的就是坐标系的确立，将其移动到世界坐标系内，我们先看一下如下代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <div> 
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">全局代码</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">XMMATRIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_World;<br> XMMATRIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_View;<br> XMMATRIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_Projection;<br><br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">初始化<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Initialize&nbsp;the&nbsp;world&nbsp;matrix</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;g_World&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMMatrixIdentity();<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Initialize&nbsp;the&nbsp;view&nbsp;matrix</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;XMVECTOR&nbsp;Eye&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMVectorSet(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">-</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">5.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;XMVECTOR&nbsp;At&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMVectorSet(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;XMVECTOR&nbsp;Up&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMVectorSet(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.0f</span>
     <span style="line-height:1.5;">&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;g_View&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMMatrixLookAtLH(&nbsp;Eye,&nbsp;At,&nbsp;Up&nbsp;);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Initialize&nbsp;the&nbsp;projection&nbsp;matrix</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;g_Projection&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMMatrixPerspectiveFovLH(&nbsp;XM_PIDIV2,&nbsp;width&nbsp;</span>
     <span style="line-height:1.5;">/</span>
     <span style="line-height:1.5;">&nbsp;(FLOAT)height,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0.01f</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">100.0f</span>
     <span style="line-height:1.5;">&nbsp;);</span> 
    </div> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">从上面的代码中可以确立顶点坐标矩阵的确立，为了更能够突出3维的效果，我们先让他转动起来，即通过游戏时间让立方体绕自己的Y轴移动某个角度，其方法为：XMMatrixRotationY。其主要代码如下所示：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <div> 
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Update&nbsp;variables<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//<br></span>
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;ConstantBuffer&nbsp;cb;<br> &nbsp;&nbsp;&nbsp;&nbsp;cb.mWorld&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMMatrixTranspose(&nbsp;g_World&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;cb.mView&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMMatrixTranspose(&nbsp;g_View&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;cb.mProjection&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;XMMatrixTranspose(&nbsp;g_Projection&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;g_pImmediateContext</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">UpdateSubresource(&nbsp;g_pConstantBuffer,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,&nbsp;NULL,&nbsp;</span>
     <span style="line-height:1.5;">&amp;</span>
     <span style="line-height:1.5;">cb,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">&nbsp;);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Renders&nbsp;a&nbsp;triangle<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//<br></span>
     <span style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;g_pImmediateContext</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">VSSetShader(&nbsp;g_pVertexShader,&nbsp;NULL,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;g_pImmediateContext</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">VSSetConstantBuffers(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="line-height:1.5;">&amp;</span>
     <span style="line-height:1.5;">g_pConstantBuffer&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;g_pImmediateContext</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">PSSetShader(&nbsp;g_pPixelShader,&nbsp;NULL,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;g_pImmediateContext</span>
     <span style="line-height:1.5;">-&gt;</span>
     <span style="line-height:1.5;">DrawIndexed(&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">36</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">,&nbsp;</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">&nbsp;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;36&nbsp;vertices&nbsp;needed&nbsp;for&nbsp;12&nbsp;triangles&nbsp;in&nbsp;a&nbsp;triangle&nbsp;list</span> 
    </div> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>&nbsp;HLSL编写：</strong></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <div> 
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">--------------------------------------------------------------------------------------<br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Constant&nbsp;Buffer&nbsp;Variables<br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">--------------------------------------------------------------------------------------</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">cbuffer&nbsp;ConstantBuffer&nbsp;:&nbsp;register(&nbsp;b0&nbsp;)<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;matrix&nbsp;World;<br> &nbsp;&nbsp;&nbsp;&nbsp;matrix&nbsp;View;<br> &nbsp;&nbsp;&nbsp;&nbsp;matrix&nbsp;Projection;<br> }<br><br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">--------------------------------------------------------------------------------------</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="color:rgb(0,0,255);line-height:1.5;">struct</span>
     <span style="line-height:1.5;">&nbsp;VS_OUTPUT<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;float4&nbsp;Pos&nbsp;:&nbsp;SV_POSITION;<br> &nbsp;&nbsp;&nbsp;&nbsp;float4&nbsp;Color&nbsp;:&nbsp;COLOR0;<br> };<br><br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">--------------------------------------------------------------------------------------<br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Vertex&nbsp;Shader<br></span>
     <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">--------------------------------------------------------------------------------------</span>
     <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
     <span style="line-height:1.5;">VS_OUTPUT&nbsp;VS(&nbsp;float4&nbsp;Pos&nbsp;:&nbsp;POSITION,&nbsp;float4&nbsp;Color&nbsp;:&nbsp;COLOR&nbsp;)<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;VS_OUTPUT&nbsp;output&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;(VS_OUTPUT)</span>
     <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
     <span style="line-height:1.5;">;<br> &nbsp;&nbsp;&nbsp;&nbsp;output.Pos&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;mul(&nbsp;Pos,&nbsp;World&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;output.Pos&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;mul(&nbsp;output.Pos,&nbsp;View&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;output.Pos&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;mul(&nbsp;output.Pos,&nbsp;Projection&nbsp;);<br> &nbsp;&nbsp;&nbsp;&nbsp;output.Color&nbsp;</span>
     <span style="line-height:1.5;">=</span>
     <span style="line-height:1.5;">&nbsp;Color;<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
     <span style="color:rgb(0,0,255);line-height:1.5;">return</span>
     <span style="line-height:1.5;">&nbsp;output;<br> }</span> 
    </div> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(100,102,179);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(57,57,57);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">文章不能写太长，到后面就有点写不下去的感觉，这篇就到这吧，因为下面我们要学的将深入一点看这个空间转换，并且将不同的3D物品联系起来！！！！大学的时候只顾着玩游戏了，代数几何没学好，现在感觉很亏啊，假如上天再给我一次机会..........</p> 
   <p><font color="#393939"><span style="font-size:14px;">本文转自网魂小兵博客园博客，原文链接：http://www.cnblogs.com/xdotnet/archive/2011/08/03/direct3d11_trasformations.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
