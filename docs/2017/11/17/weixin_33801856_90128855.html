<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>《101 Windows Phone 7 Apps》读书笔记-ALARM CLOCK « NotBeCN</title>
  <meta name="description" content="             课程内容    Ø 隔离存储空间    Ø 设置    Ø 设置页面向导    Ø Toggle Switch控件    Ø 使用自定义字体    &nbsp;&nbsp;&nbsp; Alarm Clock模仿的是一种有点复古的数字闹钟。它具有固定的显示，上面的分段可以根据需要进行打开...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/17/weixin_33801856_90128855.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">《101 Windows Phone 7 Apps》读书笔记-ALARM CLOCK</h1>
    <p class="post-meta">Nov 17, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>课程内容</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 隔离存储空间</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 设置</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 设置页面向导</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø Toggle Switch控件</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 使用自定义字体</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; Alarm Clock模仿的是一种有点复古的数字闹钟。它具有固定的显示，上面的分段可以根据需要进行打开或者关闭。它不仅能够显示当前的时间、周几，而且可以设置午休的闹钟（即使它被锁屏界面遮盖，闹钟会在程序运行的状态下发出提醒）。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; Alarm Clock提供了一些诸如颜色、时间格式和震动方式等与用户可设置的功能。它也能够保留状态信息，比如闹铃是否被打开，什么时间应该发出提醒。所有的这些都是通过Setting类来完成的，之前介绍的几乎所有应用也是使用了Setting类。在第三部分-“本地数据存储和获取”中，我们会更加深入地研究Setting类的工作机制以及数据的存储和获取。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>Setting and Isolated Storage</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 隔离存储空间（<em>Isolated&nbsp;</em><em>storage</em>）是一个提供给每个应用程序的特殊文件夹，它被用来存储任意的数据文件。这个文件夹下的文件与指定的应用程序是分隔开的。一个应用程序无法获取另一个应用程序的隔离存储空间。即使应用程序想要与其他应用共享数据，它也无法通过隔离存储空间来实现。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 正如第22章的“<em>Notepad</em>”应用所讲，尽管我们可以从隔离存储空间中读取或者写入文件，但是本书的大部分应用程序都使用了Setting类，这就向我们展示了一个更加简单的机制，它被称为应用设置（<em>application settings</em>）。在<em>System.IO.IsolatedStorage</em>命名空间中有一个静态的<em>IsolatedStorageSettings.ApplicationSettings</em>字典（dictionary）。我们可以使用一个字符串键值在该字典中存储任何的可序列化对象。当应用程序退出的时候（无论是关闭或者休眠），<em>ApplicationSettings</em>中的内容会自动序列化，存储到隔离存储空间的文件中。当应用程序开始运行或者被重新激活时，<em>ApplicationSettings</em>会自动被之前存储的数据所填充。列表20.1包含了通用Setting类的实现，它封装了<em>ApplicationSettings</em><em>。</em></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 虽然通过<em>ApplicationSettings</em>进行数据存储和数据获取是一种直接的方式，但与之不同的是，Setting类能够有效地减少应用程序的代码量。因为使用<em>ApplicationSettings</em>时，用户必须准备那些不在字典中的keys（一般是首次运行程序时使用的）。Setting类支持默认值的规范，它会将该值缓存起来，因此，每次不用从字典中来获取。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 除非应用程序运行时，你不想它自动加载大量的数据，使用<em>ApplicationSettings</em>（或者本书的Setting类）来存储应用程序的用户设置和其它状态已经足够了。与从隔离存储空间中读取/写入数据相比，这种方式要简单得多。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; ForceRefresh方法解决了外部代码改变underlying dictionary entry的情况。这也影响了本书中每个使用color picker的应用程序，因为color picker直接更新<em>ApplicationSettings</em><em>。</em><em></em></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 尽管IsolatedStorageSettings定义了一个保存的方法，但是你不必调用它，因为当你的应用程序退出时，所有的内容会被自动保存。但是，你的应用程序必须优雅地退出使得其实现。因此，唯一手动调用保存方法的原因是在应用程序崩溃之后、关闭或者休眠之前，确保数据不丢失。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;<font>在应用程序更新或者卸载以后，隔离空间中的数据会发生什么？</font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#4b4b4b"><u>当应用程序更新到一个新的版本时，它隔离空间中的数据仍旧会被保存。当应用程序被卸载时，它隔离空间中的数据会被删除。在此之后，没有办法再恢复数据了。</u></font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;<font>每个应用程序可以获得多大的隔离存储空间？</font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;<u>隔离存储空间只受手机配置的影响。与web版本的silverlight不同，对于每个应用程序的隔离存储空间，并没有人为引入空间大小的限制。</u></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><u></u>&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>The Settings Page</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; Alarm Clock包含四个页面：主页面、提醒页面、设置页面和引导页面（本章不做介绍）。因为设置页面是本章的一个内容，所以我们会先研究Alarm Clock的设置页面。该页面如图20.1所示。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images.cnblogs.com/cnblogs_com/dearsj001/201208/201208081542305986.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="clip_image002" alt="clip_image002" src="https://images.cnblogs.com/cnblogs_com/dearsj001/201208/201208081542329724.png" height="505" width="304" style="border:0px;background-image:none;margin-left:auto;"></a></p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">图20.1 Alarm Clock所展示的设置页面</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 该页面利用了Silverlight for Windows Phone Toolkit中的 toggle switch控件。从功能上来看，toggle switch控件的作用和check box类似。从视觉上来看，它的默认外观就是一个滑动开关。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 虽然toggle switch是内容控件，但是你不想涉及到它的Content属性。它默认将控件当前状态对应的“打开”或者“关闭”显示出来（通过IsChecked属性实现），这与设备内置应用的滑动开关行为相匹配。而你应该将它的Header属性设置成一个描述性字符串。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 针对应用程序设置页面的外观和行为，Windows Phone 团队发布了若干指导意见：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 页面应该具备标准的双段文字标题，即使页面的其它部分具备滚动条，它也不能滚动。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 显示应用名称的text block应该设置为“SETTINGS”，就像把用户指引到了设备的Settings应用页面。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 显示页面名称的text block应该设置为应用的名称，这也是和设备的Settings应用页面外观保持一致。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 当用户改变了一项设置，应用程序应该立刻体现出来。最好不要有页面级别的应用/取消按钮。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 对于一些特殊的不可逆的设置，需要给用户弹出消息框，使得他能够有机会进行取消操作。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 尽量保持设置页面的简洁。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 避免设置多于1页的设置页面。如果内容无法在1个页面显示，那么就可以利用scrolling或者pivot控件来处理。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;<font>如何在设备内置的Setting页面中加入应用程序的页面？</font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;<u>这是无法实现的。在当前的Windows Phone版本中，第三方应用只能在其应用本身中具备设置页面。</u></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 可以通过浏览设备内置的设置页面来思考应用程序的设置页面该如何设计。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; color picker页面利用传入的settingName作为参数，直接把选定的颜色写入到IsolatedStorageSettings. ApplicationSettings中去。这也是为什么它能够与任何应用程序使用的Setting对象配合的原因，同时，也说明了在重新获取设置页面时，为什么要调用ForceRefresh方法。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 如果你的应用程序使用了特别的设备功能（如利用位置服务来获取邮政编码，而无需用户手动输入），微软推荐应用程序的设置页面应当提供设置来禁止这些功能。当然，应用程序代码没有禁止这种功能的能力，但是，应用程序可以不调用这些代码，从而达到不使用设备某种功能的目的。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>The Alarm Page</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; Alarm Page如图20.2所示，可以说是第二个设置页面，但它被专门用来设置提醒的打开、关闭与时间的设定。它同时也具有一个测试提醒音乐的按钮，用户可以确定音量是否足够吵醒他们。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images.cnblogs.com/cnblogs_com/dearsj001/201208/201208081542344510.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="clip_image002[5]" alt="clip_image002[5]" src="https://images.cnblogs.com/cnblogs_com/dearsj001/201208/20120808154236375.png" height="505" width="304" style="border:0px;background-image:none;"></a></p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">图20.2 alarm页面展示应用程序最重要的设置</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 虽然应用程序应当避免使用多于1页的设置页面，但该页特别的重要，以至于需要单独的一页。用户希望每晚访问Alarm Page来确保闹铃设置正确，但他们并不需要访问设置页面。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><font>注意：</font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 本应用程序利用Part V-“Audio&amp;Video”的音效API来产生提醒铃声。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 与第9章“Fake Call”一样，time picker控件的ValueChanged事件用于将新的值应用到相应的设置中去。没有这部分的话，由于time picker控件引入的页面导航，用于设置time picker值的OnNavigatedTo部分的代码会覆盖掉新选择的值。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>The Main Page</strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 主页面看上去很像一个实际的数字闹钟，它具有时间、日期和闹铃信息显示。它的根节点包含了许多分栏，主要为了均匀分布星期一到星期日的显示。列表20.6包含了该页面的XAML，图20.3展示了页面的布局，并且其根节点设置为ShowGridLines=”True”。</p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><a href="http://images.cnblogs.com/cnblogs_com/dearsj001/201208/201208081542482434.png" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="clip_image002[8]" alt="clip_image002[8]" src="https://images.cnblogs.com/cnblogs_com/dearsj001/201208/201208081542586885.png" height="303" width="504" style="border:0px;background-image:none;"></a></p> 
   <p align="center" style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">图20.3 显示了网格的主页面</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><font>注意：</font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 与第四章“Stopwatch”类似，该页面使用了一个定时器来持续刷新时间显示，周期为一秒，这也用来闹铃响起时，每秒钟一次的振动。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 该页面也使用了与第四章相同的屏幕方向锁定方法。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 七个周历的文本框并非在XAML中构建和添加，而是通过背后的代码来实现。因为将它们通过代码中的数组来存放和处理比较方便。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 该页面将ApplicationIdleDetectionMode设置为Disabled，使得应用程序在锁屏和关闭屏幕的情况下继续运行。这也是用户所希望的，而并不是让屏幕保持整晚都亮着。但是，如果用户希望这样，该页面也可以设置UserIdleDetectionMode为Disabled，使得应用程序不会自动锁住。如果用户想要关闭设备屏幕，他们必须手动来完成。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 该页面有一些特殊的功能，比如，它将选定的前景色和背景色应用到application bar和主页面。选定的背景色是应用到网格，而不是整个页面。重新调用它来设置页面的背景色也会无效。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 如果闹铃响起后触摸屏幕，那么会让设备停止闹铃，但5分钟后仍旧会响起（这个5分钟是当前开始的5分钟，如果闹铃不在整数分钟响起，会令用户感到疑惑）。否则，触摸屏幕会改变application bar的可视性。这就为用户提供了更加实际和生动的显示。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 不同的文本框的透明度参数为1时，是亮起的。在透明度为0.1或者0.2时，它们就被关掉了（在实际应用时，该值会有一点偏差）。Timer_Tick事件代码影响着存放周历文本框的数组，它利用DateTime.Now.DayOfWeek（包括0到6的数字）作为数组的下标。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><strong>TimeDisplay&nbsp;</strong><strong>用户控件</strong><strong></strong></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 这个应用的特别之处在于使用七段数码管来显示时间，它有几种方法来实现。比如，我们可以创建基于矢量的图形，根据它们的填充设置，在合适的时间来点亮合适的分段。这个应用程序使用了更加简单的方法：使用自定义字体。列表20.8包含了TimeDisplay用户控件的XAML代码，它实现了七段显示。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 在使用自定义字体之前，确保你具有这个权限！</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">&nbsp;&nbsp;&nbsp; 虽然使用自定义字体比较简单，但是否合法使用就是另一回事情了。在使用字体之前，应该确保了解它的使用规则。列表20.8使用的自定义字体被称为“Pendule Ornamental”，该字体由Scott Lawrence所创建，可以在通过以下链接地址下载到：<a href="http://fontstruct.fontshop.com/fontstructions/show/200136" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://fontstruct.fontshop.com/fontstructions/show/200136</a>。它遵循Creative Commons Attribution Share Alike license，详细内容请参考以下网页：<a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://creativecommons.org/licenses/by-sa/3.0/</a>。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><font>注意：</font></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 使用自定义字体，只需要将字体文件包含到项目工程中（将其Build Action设置为Content），并在需要使用该字体的text block、text box控件（或者是那些继承字体的子控件）的FontFamily中添加引用。其语法为：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">pathAndFilename#fontName</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">我们可以通过Windows资源管理器来打开字体文件，从而确定fontName的正确值。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 为了达到每个数字显示管灰暗的效果，该用户控件实际上使用了两个重叠的text block。在任何时间，底层的text block的所有分段均被点亮（用88：88表示小时和分钟，用88表示秒），其不透明度设置为0.1。顶层的text block用于显示实际时间，其不透明度设置为1。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 每个text block分为两个不同的部分，一个用于显示小时/分钟，其面积较大；另一个用于显示秒，其面积较小（它们的面积和显示值均可以在代码文件中设置）。这里text block的不同之处在于它的内容属性并非是它的Text属性，而是Inlines属性。尽管类型转换可以把它设置成XAML中的string，但Inlines可以设置为Inline对象的集合。有两个类从抽象的Inline类继承而来，即Run 和 LineBreak。LineBreak类的介绍请参考第八章“Vibration Composer”。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">Ø 在Run的实例中，我们可以把它和text block设置成相同的formatting属性。例如，FontFamily, FontSize, FontStyle, FontWeight, Foreground和 TextDecorations等等。因此，Run提供了一种简便的方法来创建text block中具有混合格式的文本内容。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><br></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><br></p> 
   <p style="line-height:1.5;"><font color="#4b4b4b">&nbsp; &nbsp;本文转自施炯博客园博客，原文链接http://www.cnblogs.com/dearsj001/archive/2012/08/08/101App4WP7_AlarmClock.html</font><span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">：，如需转载请自行联系原作者</span></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
