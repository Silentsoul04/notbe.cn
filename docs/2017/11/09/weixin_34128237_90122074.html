<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>排列与组合的一些定理（二） « NotBeCN</title>
  <meta name="description" content="             一，容斥原理    设S是一个集合，Ai 是S 中具有性质 Pi 的元素组成的子集合。那么，S中既不具有性质P1,也不具有性质P2，...更不具有性质Pn 的元素个数为：        &nbsp;    二，容斥原理计算 有限制的重组合问题    ①什么是有限制的重组合问题？(重组合就...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/09/weixin_34128237_90122074.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">排列与组合的一些定理（二）</h1>
    <p class="post-meta">Nov 9, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p><strong><span style="font-size:15px;">一，容斥原理</span></strong></p> 
   <p><span style="font-size:15px;">设S是一个集合，A<sub>i </sub>是S 中具有性质 P<sub>i</sub> 的元素组成的子集合。那么，S中既不具有性质P1,也不具有性质P2，...更不具有性质P<sub>n </sub>的元素个数为：</span></p> 
   <p><span style="font-size:15px;"><img width="709" height="127" alt="" src="https://images2015.cnblogs.com/blog/715283/201607/715283-20160717153156232-235431650.png"></span></p> 
   <p>&nbsp;</p> 
   <p><strong><span style="font-size:15px;">二，容斥原理计算 有限制的重组合问题</span></strong></p> 
   <p><span style="font-size:15px;">①什么是有限制的重组合问题？(重组合就是，某个元素可重复选择)</span></p> 
   <p><span style="font-size:15px;"><span style="font-family:'Microsoft YaHei';font-size:16px;">从集合{k<sub>1</sub>·b<sub>1</sub>，k<sub>2</sub>·b<sub>2</sub>，....，k<sub>n</sub>·b<sub>n</sub>}中选取r个<span style="color:rgb(255,0,0);"><strong>元素</strong></span>，（不考虑次序），一共有多少种组合？</span></span></p> 
   <p><span style="text-decoration:underline;"><em><span style="font-size:15px;">元素，可以是一个抽象的概念。一切问题，只要满足这个“范式”，就可以视为一个重组合问题，从而用容斥原理求解。</span></em></span></p> 
   <p><span style="font-size:15px;">从集合可以看出：b<sub>1</sub> 最多只能选取k<sub>1</sub>个，b<sub>2</sub> 最多只能选取k<sub>2</sub>个，...，b<sub>n</sub> 最多只能选取k<sub>n</sub>个</span></p> 
   <p><span style="font-size:15px;">而在<a href="http://www.cnblogs.com/hapjin/p/5656632.html" rel="nofollow">这篇文章</a>的末尾提到了无限的重组合问题求解公式。因此，<span style="color:rgb(255,0,0);"><strong>可以试着将有限制的重组合问题转化为无限制的重组合问题(但是附加了一些条件)</strong></span>。</span></p> 
   <p><span style="font-size:15px;">解法如下：</span></p> 
   <p><span style="font-size:15px;">首先考虑<span style="color:rgb(0,0,255);">问题1</span>：在无限制的重组合问题的 集合中选取 r 个元素时，一共有多少种选取方法？----答案是一共有F(n,r)种。</span></p> 
   <p><span style="font-size:15px;">然后再定义: 性质A<sub>1</sub> 表示 <span style="color:rgb(0,0,255);">问题1</span>得到的选取方案中 至少要存在 k<sub>1</sub>+1 个b<sub>1</sub></span></p> 
   <p><span style="font-size:15px;">性质A<sub>2</sub> 表示 <span style="color:rgb(0,0,255);">问题1</span>得到的选取方案中 至少要存在 k<sub>2</sub>+1 个b<sub>2</sub></span></p> 
   <p><span style="font-size:15px;">.....</span></p> 
   <p><span style="font-size:15px;">性质A<sub>n</sub> 表示 <span style="color:rgb(0,0,255);">问题1<span style="color:rgb(0,0,0);">得到的选取方案中 至少要存在 k<sub>n</sub>+1 个b<sub>n</sub></span></span></span></p> 
   <p><span style="font-size:15px;"><span style="font-family:'Microsoft YaHei';font-size:16px;">从而，问题：从集合{k<sub>1</sub>·b<sub>1</sub>，k<sub>2</sub>·b<sub>2</sub>，....，k<sub>n</sub>·b<sub>n</sub>}中选取r个<span style="color:rgb(255,0,0);"><strong>元素</strong>，（不考虑次序），一共有多少种组合？</span></span></span></p> 
   <p><span style="font-size:15px;">转化成了：从集合<span style="font-family:'Microsoft YaHei';font-size:16px;">{∞·b<sub>1</sub>，∞·b<sub>2</sub>，....，∞·b<sub>n</sub>}中选取r个元素，（不考虑次序），<span style="color:rgb(255,0,0);">并且b<sub>1</sub>不超过k<sub>1</sub> b<sub>2</sub>不超过k<sub>2</sub>，b<sub>n</sub>不超过k<sub>n</sub></span>，一共有多少种组合？</span></span></p> 
   <p><span style="font-size:15px;">因此，有限制的重组合问题就转化成了无限制的重组合问题，但是附加了条件：<span style="font-family:'Microsoft YaHei';font-size:16px;"><span style="color:rgb(255,0,0);">b<sub>1</sub>不超过k<sub>1</sub> ，b<sub>2</sub>不超过k<sub>2</sub>，b<sub>n</sub>不超过k<sub>n</sub></span></span></span></p> 
   <p><span style="font-size:15px;">用数学公式表示就是：|A¯<sub>1 </sub>∩ A¯<sub>2</sub> ∩....A¯<sub>n</sub>| &nbsp;&nbsp; A¯<sub>1</sub>表示不具有A<sub>1</sub>性质的集合（即A<sub>1</sub>的非）</span></p> 
   <p><span style="font-size:15px;">根据容斥原理：|A¯<sub>1 </sub>∩ A¯<sub>2</sub> ∩....A¯<sub>n</sub>|就可以计算出来了。</span></p> 
   <p>&nbsp;</p> 
   <p><strong><span style="font-size:15px;">三，容斥原理计算错排问题</span></strong></p> 
   <p><span style="font-size:15px;">错排问题就是：给定N个数1,2,3...n&nbsp; 要求第 i 个数不在 第 i 个位置上，一共有多少种排列？</span></p> 
   <p><span style="font-size:15px;">性质A<sub>1</sub>表示第 1 个数恰好在 1 位置上</span></p> 
   <p><span style="font-size:15px;">性质A<sub>2</sub>表示第 2 个数恰好在 2 位置上</span></p> 
   <p><span style="font-size:15px;">.....</span></p> 
   <p><span style="font-size:15px;">性质A<sub>n</sub>表示第 n 个数恰好在 n 位置上</span></p> 
   <p><span style="font-size:15px;">错排问题就可以表示成公式：|A¯<sub>1 </sub>∩ A¯<sub>2</sub> ∩....A¯<sub>n</sub>| ，就可以用“容斥原理”来计算了。</span></p> 
   <p>&nbsp;</p> 
   <p><strong><span style="font-size:15px;">四，棋盘多项式</span></strong></p> 
   <p><span style="font-size:15px;">是一种更复杂度的错排问题。</span></p> 
   <p><span style="font-size:15px;">比如，给定一个4行4列的矩阵，元素1不能放在第1行第2列；元素2不能放在第4行第3列；元素3不能放在第1行第3列。求这三个元素一共有多少种放置方式？</span></p> 
   <p>&nbsp;</p> 
   <p><strong><span style="font-size:15px;">五，母函数</span></strong></p> 
   <p><span style="font-size:15px;">母函数有两种：普通的母函数 和 指数母函数。<span style="color:rgb(255,0,0);">普通母函数一般用来解决组合问题，指数母函数用来解决排列问题。</span></span></p> 
   <p><span style="font-size:15px;">不管是排列问题，还是组合问题。都是从 n 个数中选出若干个数。排列问题关注的是：是把选出的数做排列(考虑顺序)，组合问题则是不考虑顺序。</span></p> 
   <p><span style="font-size:15px;">①普通母函数</span></p> 
   <p><span style="font-size:15px;">(1+x)(1+x)...(1+x)(1+x)=(1+x)<sup>n</sup> 这个公式表示了：一共有n个物品，每个物品要么不选，要么选中（每个物品最多只能选一次）。 </span></p> 
   <p><span style="color:rgb(255,0,0);"><strong><span style="font-size:15px;">对于每一项(1+x)，1 表示不选，x表示选中。一共有 n 个(1+x)，即表示一共有 n 个物品。</span></strong></span></p> 
   <p><span style="font-size:15px;">那么从 n 个物品中选取 r个一共有多少种选择？（不考虑顺序--默认是组合问题）</span></p> 
   <p><span style="font-size:15px;">将(1+x)(1+x)...(1+x)(1+x) 乘出来，得到1,2...n的多项式。x<sup>r </sup>的系数就是： n 个物品中选取 r个的 总共的选取方法数。</span></p> 
   <p><span style="font-size:15px;">由二项式定理：(1+x)<sup>n</sup> = <span style="font-family:'Microsoft YaHei';font-size:16px;">C(n,0)X<sup>0</sup> Y<sup>n</sup> + C(n,1)X<sup>1</sup> Y<sup>n-1</sup> +.....+ C(n,n)X<sup>n</sup> Y<sup>0</sup> = C(n,0)X<sup>0</sup> + C(n,1)X<sup>1</sup> +.....+ C(n,n)X<sup>n</sup> (其中Y=1) </span></span></p> 
   <p><span style="font-size:15px;"><span style="font-family:'Microsoft YaHei';font-size:16px;">可以看出 x<sup>r </sup>的系数为C(n,r)，刚好符合。</span></span></p> 
   <p><span style="font-size:15px;">普通，对这种简单的组合问题，用普通母函数计算太复杂了。<span style="color:rgb(255,0,0);"><strong>普通母函数合适的是更复杂一些的组合问题</strong></span>。</span></p> 
   <p><span style="font-size:15px;">如，有 n 个物品，每个物品最多可选两次，从中选取 r 个有多少种选择方案？母函数为：</span></p> 
   <p><span style="font-size:15px;">(1+x+x<sup>2</sup>)(1+x+x<sup>2</sup>).....(1+x+x<sup>2</sup>) = (1+x+x<sup>2</sup>)<sup>n </sup></span></p> 
   <p><span style="font-size:15px;"><span style="color:rgb(255,0,0);">选择方案数为</span>(1+x+x<sup>2</sup>)(1+x+x<sup>2</sup>).....(1+x+x<sup>2</sup>) = (1+x+x<sup>2</sup>)<sup>n </sup>的 <span style="color:rgb(255,0,0);">x<sup>r</sup> 的系数。</span></span></p> 
   <p><span style="font-size:15px;">再比如，有 n 个物品，每个只能选<strong>奇数</strong>次，母函数如下：<br></span></p> 
   <p><span style="font-size:15px;">(x+x<sup>3</sup>+...x<sup>2k-1</sup>)(x+x<sup>3</sup>+...x<sup>2k-1</sup>).....(x+x<sup>3</sup>+...x<sup>2k-1</sup>) = (x+x<sup>3</sup>+...x<sup>2k-1</sup>)<sup>n</sup></span></p> 
   <p><span style="font-size:15px;">......</span></p> 
   <p><strong><span style="font-size:15px;">再比如，有4 个物品，第1个物品最多只能选 2次，第二个物品只能选奇数次，第三个物品只能选偶数次，第四个物品最多只能选取3次。从中选取 r 个物品，一共有多少种选择方案？（组合问题）</span></strong></p> 
   <p><span style="font-size:15px;">普通母函数如下：(1+x+x<sup>2</sup>)(x+x<sup>3</sup>+...x<sup>2k-1</sup>)(1+x<sup>2</sup>+...x<sup>2k</sup>)(1+x+x<sup>2</sup>+x<sup>3</sup>)</span></p> 
   <p><span style="font-size:15px;">将上面的母函数解出来，x<sup>r </sup>的系数就是选择的方案的数目。</span></p> 
   <p>&nbsp;</p> 
   <p><span style="font-size:15px;">②指数母函数</span></p> 
   <p><span style="font-size:15px;">指数母函数的用法与普通母函数的用法一致。只不过是“表示形式”不同而已。</span></p> 
   <p><span style="font-size:15px;">(1+x+x<sup>2</sup>+x<sup>3</sup>)在<strong>普通</strong>母函数中 表示某个物品在<strong><span style="color:rgb(255,0,0);">组合</span>计数</strong>中 可选0次，1次，2次，3次【或者说该物品最多可选3次】</span></p> 
   <p><span style="font-size:15px;">那<strong>指数</strong>母函数中选择某个物品该如何表示呢？</span></p> 
   <p><span style="font-size:15px;">(1+x+x<sup>2</sup>/2!+x<sup>3</sup>/3!+...+x<sup>k</sup>/k!)就表示：某个物品在<strong><span style="color:rgb(255,0,0);">排列</span>计数</strong>中 可选0次，1次，2次....k次【或者说该物品最多可选k次】</span></p> 
   <p><span style="font-size:15px;">如，有 n 个物品，每个物品最多可选两次，从中选取 r 个有多少种选择方案？母函数为：</span></p> 
   <p><span style="font-size:15px;">(1+x+x<sup>2</sup>/2!)(1+x+x<sup>2</sup>/2!).....(1+x+x<sup>2</sup>/2!) = (1+x+x<sup>2</sup>/2!)<sup>n </sup></span></p> 
   <p><span style="font-size:15px;"><span style="color:rgb(255,0,0);">选择方案数为</span>(1+x+x<sup>2</sup>/2!)(1+x+x<sup>2</sup>/2!).....(1+x+x<sup>2</sup>/2!) = (1+x+x<sup>2</sup>/2!)<sup>n</sup><span style="color:rgb(255,0,0);">的 x<sup>r</sup> 的系数。</span></span></p> 
   <p><strong><span style="font-size:15px;">再比如，有4 个物品，第1个物品最多只能选 2次，第二个物品只能选奇数次，第三个物品只能选偶数次，第四个物品最多只能选取3次。从中选取 r 个物品，一共有多少种选择方案？（排列问题）</span></strong></p> 
   <p><span style="font-size:15px;">指数母函数如下：(1+x+x<sup>2</sup>/2!)[(x+x<sup>3</sup>/3!+...x<sup>2k-1</sup>/(2k-1)!)][(1+x<sup>2</sup>/2!+...x<sup>2k</sup>/(2k)!](1+x+x<sup>2</sup>/2!+x<sup>3</sup>/3!)</span></p> 
   <p><span style="font-size:15px;">排列的方案数就是指数母函数解出来，x<sup>r</sup>的系数</span></p> 
   <p>&nbsp;</p> 
   <p><strong><span style="font-size:15px;">六，整数拆分</span></strong></p> 
   <p><span style="font-size:15px;">给定一个整数 n，将 n 拆分成 1，2，3 的和，一共有多少种拆分方式？</span></p> 
   <p><span style="font-size:15px;">比如：n=4。 4=1+1+1+1；4=1+1+2；4=2+2；4=1+3</span></p> 
   <p><span style="font-size:15px;">故一共有4种拆分方式。</span></p> 
   <p><span style="font-size:15px;">考虑(1-x)<sup>-1</sup> = (1+x+x<sup>2</sup>+...+x<sup>n</sup>)，根据上面的普通母函数可知：“某个物品可选0次，1次，2次.....n次” (1*[0,1,2,...n])</span></p> 
   <p><span style="font-size:15px;">比如：x<sup>3</sup> 就表示数字1选取了3次，x<sup>2</sup>表示数字1选取了2次....</span></p> 
   <p><span style="font-size:15px;">考虑(1-x<sup>2</sup>)<sup>-1</sup> = (1+x<sup>2</sup>+x<sup>4</sup>+...+x<sup>2n</sup>)，根据上面的普通母函数可知：“某个物品可选0次，2次，4次.....2n次” （2*[0,1,2,...n]）</span></p> 
   <p><span style="font-size:15px;">比如：x<sup>6</sup>就表示数字2选取了3次，x<sup>4</sup>表示数字2选取了2次....</span></p> 
   <p><span style="font-size:15px;">考虑(1-x<sup>3</sup>)<sup>-1</sup> = (1+x<sup>2</sup>+x<sup>4</sup>+...+x<sup>2n</sup>)，根据上面的普通母函数可知：“某个物品可选0次，3次，6次.....3n次”(3*[0,1,2,...n])</span></p> 
   <p><span style="font-size:15px;">比如：x<sup>6</sup>就表示数字3选取了2次，x<sup>3</sup>表示数字3选取了1次....</span></p> 
   <p>&nbsp;</p> 
   <p><span style="font-size:15px;">因此，整数 n 拆分成1，2，3之和的方式数为：</span></p> 
   <p><span style="font-size:15px;"><img width="265" height="72" alt="" src="https://images2015.cnblogs.com/blog/715283/201607/715283-20160717162712264-1255913505.png"><br></span></p> 
   <p><span style="font-size:15px;">(1-x<sup><span style="color:rgb(255,0,0);">1</span></sup>)<sup>-1</sup> *(1-x<span style="color:rgb(255,0,0);"><sup>2</sup></span>)<sup>-1</sup> * (1-x<span style="color:rgb(255,0,0);"><sup>3</sup></span>)<sup>-1</sup> 的<strong><span style="color:rgb(255,0,0);"> x<sup>n</sup> 的系数就是整数 n 拆分成 1，2，3 之和的方式数。(也就是说 n 只能由 1，2，3 相加得到，但是1，2，3，可以出现多次)</span></strong><br></span></p> 
   <p><strong><span style="font-size:15px;">定理：给定一个整数 n ，将 n 拆分成 a ,b ,c ...和的方法数是：</span></strong></p> 
   <p><span style="font-size:15px;"><img width="442" height="110" alt="" src="https://images2015.cnblogs.com/blog/715283/201607/715283-20160717163554623-6242445.png"></span></p> 
   <p>&nbsp;</p> 
   <p><strong><span style="font-size:15px;">七，一些常用的泰勒展开式</span></strong></p> 
   <p><span style="font-size:15px;">(1-x)<sup>-1</sup> = 1+x<sup>2</sup>+x<sup>3</sup>+....+x<sup>n</sup>+...</span></p> 
   <p><span style="font-size:15px;">e<sup>x</sup>=1+x+x<sup>2</sup>/2!+x<sup>3</sup>/3!+...+x<sup>n</sup>/n!+....</span></p> 
   <p>&nbsp;</p> 
   <p><span style="font-size:15px;">八，参考资料</span></p> 
   <p><a class="postTitle2" id="cb_post_title_url" href="http://www.cnblogs.com/hapjin/p/5656632.html" rel="nofollow">排列与组合的一些定理</a></p> 
   <p><br></p> 
   <p>本文转自hapjin博客园博客，原文链接：http://www.cnblogs.com/hapjin/p/5678888.html，如需转载请自行联系原作者<br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
