<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>【转】MFC中动态创建控件 « NotBeCN</title>
  <meta name="description" content="             动态控件是指在需要时由Create()创建的控件，这与预先在对话框中放置的控件是不同的。&nbsp;&nbsp; 一、创建动态控件：&nbsp;&nbsp; 为了对照，我们先来看一下静态控件的创建。&nbsp;&nbsp; 放置静态控件时必须先建立一个容器，一般是对话框，这时我们在对话框...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/09/weixin_34375054_90121163.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">【转】MFC中动态创建控件</h1>
    <p class="post-meta">Nov 9, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">动态控件是指在需要时由Create()创建的控件，这与预先在对话框中放置的控件是不同的。&nbsp;&nbsp;<br> 一、创建动态控件：&nbsp;&nbsp;<br> 为了对照，我们先来看一下静态控件的创建。&nbsp;&nbsp;<br> 放置静态控件时必须先建立一个容器，一般是对话框，这时我们在对话框编辑窗口中，从工具窗口中拖出所需控件放在对话框中即可，再适当修改控件ID，设置控件属性，一个静态控件就创建好了，当对话框被显示时，其上的控件也会显示。&nbsp;&nbsp;<br> 静态控件不需要调用Create()函数来创建。&nbsp;&nbsp;<br> 而创建动态控件有很大不同，以下以按钮为例，看一下动态控件的创建过程：&nbsp;&nbsp;<br> 1.建立控件ID号：&nbsp;&nbsp;<br> ID号是控件的标识，创建控件前必须先为它设置一个ID号。&nbsp;&nbsp;<br> 打开资源中的“<strong>String Table</strong>”，在空白行上双击鼠标，这时会弹出一个ID属性对话框，在其中的ID编辑框中输入ID，如：IDC_MYBUTTON，在Caption中输入控件标题或注解（注：Caption框不能为空，为空会导致创建失败），这里我输入的是按钮上要显示的文字--动态按钮。&nbsp;&nbsp;<br> 2.建立控件对象：&nbsp;&nbsp;<br> 不同种类的控件应创建不同的类对象：&nbsp;&nbsp;<br> 按钮控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CButton&nbsp; （包括普通按钮、单选按钮和复选按钮）&nbsp;<br> 编辑控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CEdit&nbsp;<br> 静态文本控件&nbsp; CStatic&nbsp;<br> 标签控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CTabCtrl&nbsp;<br> 旋转控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CSpinButtonCtrl&nbsp;<br> 滑标控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CSliderCtrl&nbsp;<br> 多信息编辑控件 CRichEditCtrl&nbsp;<br> 进度条控件&nbsp;&nbsp;&nbsp; CProgressCtrl&nbsp;<br> 滚动条控件&nbsp;&nbsp;&nbsp; CSrcollBar&nbsp;<br> 组合框控件&nbsp;&nbsp;&nbsp; CComboBox&nbsp;<br> 列表框控件&nbsp;&nbsp;&nbsp; CListBox&nbsp;<br> 图像列表控件&nbsp; CImageCtrl&nbsp;<br> 树状控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CTreeCtrl&nbsp;<br> 动画控件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CAnimateCtrl&nbsp;&nbsp;<br> 本例中我们创建一个CButton类的普通按钮。<span style="color:rgb(255,0,0);"><strong>注意不能直接定义CButton对象，如：CButton m_MyBut;这种定义只能用来给静态控件定义控制变量，不能用于动态控件</strong></span>。&nbsp;&nbsp;<br> 正确做法是用new调用CButton构造函数生成一个实例：&nbsp;&nbsp;<br> CButton *p_MyBut = new CButton();&nbsp;&nbsp;<br> 然后用CButton类的Create()函数创建，该函数原型如下：&nbsp;&nbsp;<br> BOOL Create( LPCTSTR lpszCaption, DWORD dwStyle, const RECT&amp; rect, CWnd* pParentWnd, UINT nID );&nbsp;&nbsp;<br> lpszCaption是按钮上显示的文本；&nbsp;<br> dwStyle指定按钮风格，可以是按钮风格与窗口风格的组合，取值有：&nbsp;<br> 窗口风格：&nbsp;<br> WS_CHILD&nbsp; 子窗口，必须有&nbsp;<br> WS_VISIBLE&nbsp; 窗口可见，一般都有&nbsp;<br> WS_DISABLED&nbsp; 禁用窗口，创建初始状态为灰色不可用的按钮时使用&nbsp;<br> WS_TABSTOP&nbsp; 可用Tab键选择&nbsp;<br> WS_GROUP&nbsp; 成组，用于成组的单选按钮中的第一个按钮&nbsp;<br> 按钮风格：&nbsp;<br> BS_PUSHBUTTON 下压式按钮，也即普通按钮&nbsp;<br> BS_AUTORADIOBUTTON 含自动选中状态的单选按钮&nbsp;<br> BS_RADIOBUTTON 单选按钮，不常用&nbsp;<br> BS_AUTOCHECKBOX 含自动选中状态的复选按钮&nbsp;<br> BS_CHECKBOX 复选按钮，不常用&nbsp;<br> BS_AUTO3STATE 含自动选中状态的三态复选按钮&nbsp;<br> BS_3STATE 三态复选按钮，不常用&nbsp;<br> 以上风格指定了创建的按钮类型，不能同时使用，但必须有其一。&nbsp;<br> BS_BITMAP 按钮上将显示位图&nbsp;<br> BS_DEFPUSHBUTTON 设置为默认按钮，只用于下压式按钮，一个对话框中只能指定一个默认按钮&nbsp;<br> rect指定按钮的大小和位置；&nbsp;<br> pParentWnd指示拥有按钮的父窗口，不能为NULL；&nbsp;<br> nID指定与按钮关联的ID号，用上一步创建的ID号。&nbsp;&nbsp;<br> 不同控件类的Create()函数略有不同，可参考相关资料。&nbsp;&nbsp;<br> 例：p_MyBut-&gt;Create( "动态按钮", WS_CHILD | WS_VISIBLE | BS_PUSHBUTTON, CRect(20,10,80,40), this, IDC_MYBUTTON );&nbsp;&nbsp;<br> 这样，我们就在当前对话框中的(20,10)处创建了宽60，高30，按钮文字为“动态按钮”的下压式按钮。&nbsp;&nbsp;<br> 为了使创建过程更方便易用，我定义了如下函数：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>CButton* CTextEditorView::NewMyButton(<span style="color:rgb(0,0,255);line-height:1.5;">int</span> nID,CRect rect,<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> nStyle)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"> {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">  CString m_Caption;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  m_Caption.LoadString( nID ); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">取按钮标题  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span>  CButton *p_Button = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> CButton();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">6</span><span style="line-height:1.5;">  ASSERT_VALID(p_Button);  

</span><span style="color:rgb(128,0,128);line-height:1.5;">7</span>  p_Button-&gt;Create( m_Caption, WS_CHILD | WS_VISIBLE | BS_PUSHBUTTON | nStyle, rect, <span style="color:rgb(0,0,255);line-height:1.5;">this</span>, nID );  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">创建按钮  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">8</span>  <span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> p_Button;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">9</span><span style="line-height:1.5;"> }

 </span></pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　其中m_Caption.LoadString( nID )是<span style="color:rgb(255,0,0);">从字符串表中读取按钮文本</span>，这样在创建按钮ID时，应该把文本设置好，参数nStyle为除必须风格外的额外风格。&nbsp;&nbsp;<br> 以下，我调用该函数创建三个按钮，并指定第一个按钮为默认按钮，按钮的ID已预先设置好了：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;"><br><sup></sup></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> CButton *p_MyBut[<span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">];  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span> p_MyBut[<span style="color:rgb(128,0,128);line-height:1.5;">0</span>] = NewMyButton( ID_MYBUT1, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">10</span>,<span style="color:rgb(128,0,128);line-height:1.5;">20</span>,<span style="color:rgb(128,0,128);line-height:1.5;">50</span>,<span style="color:rgb(128,0,128);line-height:1.5;">35</span><span style="line-height:1.5;">), BS_DEFPUSHBUTTON );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">3</span> p_MyBut[<span style="color:rgb(128,0,128);line-height:1.5;">1</span>] = NewMyButton( ID_MYBUT2, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">55</span>,<span style="color:rgb(128,0,128);line-height:1.5;">20</span>,<span style="color:rgb(128,0,128);line-height:1.5;">95</span>,<span style="color:rgb(128,0,128);line-height:1.5;">35</span>), <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"> );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span> p_MyBut[<span style="color:rgb(128,0,128);line-height:1.5;">2</span>] = NewMyButton( ID_MYBUT3, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">100</span>,<span style="color:rgb(128,0,128);line-height:1.5;">20</span>,<span style="color:rgb(128,0,128);line-height:1.5;">140</span>,<span style="color:rgb(128,0,128);line-height:1.5;">35</span>), <span style="color:rgb(128,0,128);line-height:1.5;">0</span> );</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">二、动态控件的响应：&nbsp;&nbsp;<br> 动态控件的响应函数不能用ClassWizard添加，只能手动添加。仍以上面的按钮为例，我们制作按钮的单击响应函数。&nbsp;&nbsp;<br> 1.在MESSAGE_MAP中添加响应函数：&nbsp;&nbsp;<br> MESSAGE_MAP表中定义了消息响应函数，其格式为：消息名(ID,函数名)，当我们用ClassWizard添加函数时，会自动添加在AFX_MSG_MAP括起的区间内，如：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"> BEGIN_MESSAGE_MAP(CTextEditorView, CFormView)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">{{AFX_MSG_MAP(CTextEditorView)  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">  ON_BN_CLICKED(IDC_ICONBUT0, OnIconbut0)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">}}AFX_MSG_MAP  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span> END_MESSAGE_MAP()</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;"><br> 手工添加时不要添加到AFX_MSG_MAP区间内，以防ClassWizard不能正常工作，如：&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"> BEGIN_MESSAGE_MAP(CTextEditorView, CFormView)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">{{AFX_MSG_MAP(CTextEditorView)  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">  ON_BN_CLICKED(IDC_ICONBUT0, OnIconbut0)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">}}AFX_MSG_MAP  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span><span style="line-height:1.5;">  ON_BN_CLICKED(ID_MYBUT1, OnMybut1)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">6</span><span style="line-height:1.5;">  ON_BN_CLICKED(ID_MYBUT2, OnMybut2)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">7</span><span style="line-height:1.5;">  ON_BN_CLICKED(ID_MYBUT3, OnMybut3)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">8</span> END_MESSAGE_MAP()</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　其中ON_BN_CLICKED是按钮单击消息。&nbsp;&nbsp;<br> 2.在头文件中添加函数定义：&nbsp;&nbsp;<br> 用ClassWizard添加函数时，会在头文件的AFX_MSG区间内添加函数定义，如：&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> <span style="color:rgb(0,0,255);line-height:1.5;">protected</span><span style="line-height:1.5;">:  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">{{AFX_MSG(CTextEditorView)  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">3</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> OnIconbut0();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">}}AFX_MSG  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span>  DECLARE_MESSAGE_MAP()</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;"><br> 我们模仿这种形式，只是把函数定义添加到AFX_MSG区间外就行了：&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> <span style="color:rgb(0,0,255);line-height:1.5;">protected</span><span style="line-height:1.5;">:  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">{{AFX_MSG(CTextEditorView)  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">3</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> OnIconbut0();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">}}AFX_MSG  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> OnMybut1();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">6</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> OnMybut2();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">7</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> OnMybut3();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">8</span>  DECLARE_MESSAGE_MAP()</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;"><br> 3.编写消息响应函数：&nbsp;&nbsp;<br> 以上是把消息和函数关联起来了，具体在单击按钮后应做的工作在函数中完成：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">01 void CTextEditorView::OnMybut1()&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">02 {&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">03&nbsp; MessageBox( "哈！你单击了动态按钮。" );&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">04 }&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">05 void CTextEditorView::OnMybut2()&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">06 {&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">07&nbsp; ……&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">08 }&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">09 void CTextEditorView::OnMybut3()&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">10 {&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">11&nbsp; ……&nbsp;&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">12 }</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;"><br> 除了按钮的响应函数外，你还可以用上面获得的指针访问按钮，如：&nbsp;&nbsp;<br> 修改按钮的大小和位置：p_MyBut[0]-&gt;MoveWindow(……);&nbsp;<br> 修改按钮文本：p_MyBut[0]-&gt;SetWindowText(……);&nbsp;<br> 显示/隐藏按钮：p_MyBut[0]-&gt;ShowWindow(……);等等。&nbsp;&nbsp;<br> 三、回收资源：&nbsp;&nbsp;<br> 由于动态控件对象是由new生成的，它不会被程序自动释放，所以需手工释放。在控件不再使用时可以删除它：&nbsp;&nbsp;<br><strong>if( p_MyBut[0] )&nbsp;</strong><br><strong>&nbsp;delete p_MyBut[0];&nbsp;&nbsp;</strong><br> 以上就是按钮控件动态生成的方法。下面，再看一下单选按钮的动态生成问题。&nbsp;&nbsp;<br> 四、实例：单选按钮组的动态生成&nbsp;&nbsp;<br> 单选按钮也属于CButton类，但由于单选按钮总是成组使用的，所以它在制作和使用上与普通按钮有一定区别。&nbsp;&nbsp;<br> 假设有三个单选按钮组成一组，初始时，第一个单选按钮处于选中状态。&nbsp;&nbsp;<br> 我们先来看静态制作方法：在对话框中放置三个单选按钮，设置属性如下：&nbsp;&nbsp;<br> Radio1属性：Visible、Group、Tab stop、Auto&nbsp;<br> Radio2属性：Visible、Tab stop、Auto&nbsp;<br> Radio3属性：Visible、Tab stop、Auto&nbsp;&nbsp;<br> 这样的属性设置就把三个单选按钮分成了一组，它们一次只能有一个被选中，若对话框中还有其它成组的单选按钮，使用时也会互不干扰。但这时还没有使第一个按钮处于选中状态。&nbsp;&nbsp;<br> 接着就用ClassWizard为这组单选按钮添加变量，这里只需为第一个单选按钮添加变量即可。设变量名为m_Radio，类型选为int型。在构造函数中ClassWizard把m_Radio的值设置为-1，我们把它改为0，这样在运行程序时可以看到第一个单选按钮处于选中状态了。&nbsp;&nbsp;<br> 之后，还应该用ClassWizard为三个单选按钮添加单击响应函数，在里面修改m_Radio的值对应三个单选按钮就可以了。&nbsp;&nbsp;<br> 以上就是通常制作单选按钮组的办法，现我们欲改为动态生成，主要要解决按钮分组和单击控制问题。以下为制作步骤：&nbsp;&nbsp;<br> 1.定义三个单选按钮的ID：&nbsp;&nbsp;<br> 打开资源中的“String Table”，在其中添加三个ID值：&nbsp;&nbsp;<br> 第一个：ID为IDC_MYRADIO1，Caption为单选1&nbsp;<br> 第二个：ID为IDC_MYRADIO2，Caption为单选2&nbsp;<br> 第三个：ID为IDC_MYRADIO3，Caption为单选3&nbsp;&nbsp;<br> 其中Caption为按钮上要显示的文字，可根据需要设置。&nbsp;&nbsp;<br> 2.用CButton类的Create()函数生成三个单选按钮：&nbsp;&nbsp;<br> 为方便起见，先定义一个函数生成单选按钮：&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> CButton* CTextEditorView::NewMyRadio(<span style="color:rgb(0,0,255);line-height:1.5;">int</span> nID,CRect rect,<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> nStyle)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"> {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">  CString m_Caption;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  m_Caption.LoadString( nID ); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">取按钮标题  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span>  CButton *p_Radio = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> CButton();  

</span><span style="color:rgb(128,0,128);line-height:1.5;">6</span><span style="line-height:1.5;">  ASSERT_VALID(p_Radio);  

</span><span style="color:rgb(128,0,128);line-height:1.5;">7</span>  p_Radio-&gt;Create( m_Caption, WS_CHILD | WS_VISIBLE | nStyle | WS_TABSTOP | BS_AUTORADIOBUTTON, rect, <span style="color:rgb(0,0,255);line-height:1.5;">this</span>, nID ); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">创建按钮  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">8</span>  <span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> p_Radio;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">9</span> }</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　函数LoadString()用于从“String Table”中读取按钮文本，Create()函数中设定了单选按钮必须的属性，其中就包括了Visible、Tab stop、Auto属性。&nbsp;&nbsp;<br> 参数nID为单选按钮ID号，rect为单选按钮尺寸，nStyle为除必要属性外的其它属性。返回值为指向新建按钮的指针。&nbsp;&nbsp;<br> 有了这个函数后，创建单选按钮组时只要依次调用该函数即可，其中单选按钮组的第一个单选按钮必须指定WS_GROUP属性。&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> CButton *p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">];  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span> p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">0</span>] = NewMyRadio( IDC_MYRADIO1, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">15</span>,<span style="color:rgb(128,0,128);line-height:1.5;">90</span>,<span style="color:rgb(128,0,128);line-height:1.5;">60</span>,<span style="color:rgb(128,0,128);line-height:1.5;">105</span><span style="line-height:1.5;">), WS_GROUP );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">3</span> p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">1</span>] = NewMyRadio( IDC_MYRADIO2, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">15</span>,<span style="color:rgb(128,0,128);line-height:1.5;">108</span>,<span style="color:rgb(128,0,128);line-height:1.5;">60</span>,<span style="color:rgb(128,0,128);line-height:1.5;">123</span>), <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"> );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span> p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">2</span>] = NewMyRadio( IDC_MYRADIO3, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">15</span>,<span style="color:rgb(128,0,128);line-height:1.5;">126</span>,<span style="color:rgb(128,0,128);line-height:1.5;">60</span>,<span style="color:rgb(128,0,128);line-height:1.5;">141</span>), <span style="color:rgb(128,0,128);line-height:1.5;">0</span> );</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　3.定义单选按钮组的控制变量，设置第一个单选按钮为选中状态：&nbsp;&nbsp;<br> 这里不能用ClassWizard添加变量，也不要在DoDataExchange()中添加控制变量，因为动态控件一开始并不存在，在DoDataExchange()中添加控制变量会造成运行错误。这里我们只需在头文件中随意定义一个int型变量作为控制变量即可，如：&nbsp;&nbsp;<br> int m_SelRadio;&nbsp;&nbsp;<br> 在构造函数中设置其初值为0：m_SelRadio = 0;&nbsp;&nbsp;<br> 在上面的创建按钮的语句中，用SetCheck()函数设置初始选中的按钮：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> CButton *p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">];  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span> p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">0</span>] = NewMyRadio( IDC_MYRADIO1, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">15</span>,<span style="color:rgb(128,0,128);line-height:1.5;">90</span>,<span style="color:rgb(128,0,128);line-height:1.5;">60</span>,<span style="color:rgb(128,0,128);line-height:1.5;">105</span><span style="line-height:1.5;">), WS_GROUP );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">3</span> p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">1</span>] = NewMyRadio( IDC_MYRADIO2, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">15</span>,<span style="color:rgb(128,0,128);line-height:1.5;">108</span>,<span style="color:rgb(128,0,128);line-height:1.5;">60</span>,<span style="color:rgb(128,0,128);line-height:1.5;">123</span>), <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"> );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span> p_MyRadio[<span style="color:rgb(128,0,128);line-height:1.5;">2</span>] = NewMyRadio( IDC_MYRADIO3, CRect(<span style="color:rgb(128,0,128);line-height:1.5;">15</span>,<span style="color:rgb(128,0,128);line-height:1.5;">126</span>,<span style="color:rgb(128,0,128);line-height:1.5;">60</span>,<span style="color:rgb(128,0,128);line-height:1.5;">141</span>), <span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"> );  

</span><span style="color:rgb(128,0,128);line-height:1.5;">5</span> p_MyRadio[m_SelRadio]-&gt;SetCheck(<span style="color:rgb(128,0,128);line-height:1.5;">1</span>); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">设置第一个单选为选中状态</span>

</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　在SetCheck()函数中，参数为1表示设置为选中状态，为0表示未选中状态。&nbsp;&nbsp;<br> 4.添加鼠标单击响应函数：&nbsp;&nbsp;<br> 鼠标单击某单选按钮后，其状态已经能自动改变，这里我们还需修改控制变量m_SelRadio的值，以便跟踪选中的单选按钮。&nbsp;&nbsp;<br> 首先在MESSAGE_MAP中把鼠标单击消息与响应函数联系起来：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"> BEGIN_MESSAGE_MAP(CTextEditorView, CFormView)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">{{AFX_MSG_MAP(CTextEditorView)  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">3</span>  ON_BN_CLICKED(IDC_ICONBUT0, OnIconbut0) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">ClassWizard在此处添加  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">4</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">}}AFX_MSG_MAP  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">5</span>  ON_BN_CLICKED(IDC_MYRADIO1, OnMyRadio1) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单选按钮1  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">6</span>  ON_BN_CLICKED(IDC_MYRADIO2, OnMyRadio2) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单选按钮2  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">7</span>  ON_BN_CLICKED(IDC_MYRADIO3, OnMyRadio3) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单选按钮3  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">8</span><span style="line-height:1.5;"> END_MESSAGE_MAP()

 </span></pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　然后在头文件的MESSAGE_MAP中定义单击函数：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">01</span> <span style="color:rgb(0,0,255);line-height:1.5;">protected</span><span style="line-height:1.5;">:  

</span><span style="color:rgb(128,0,128);line-height:1.5;">02</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">{{AFX_MSG(CTextEditorView)  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">03</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span> OnIconbut0(); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">ClassWizard在此处添加  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">04</span>  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">}}AFX_MSG  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">05</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span> OnMyRadio1(); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单选按钮1  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">06</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span> OnMyRadio2(); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单选按钮2  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">07</span>  afx_msg <span style="color:rgb(0,0,255);line-height:1.5;">void</span> OnMyRadio3(); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单选按钮3  </span>

<span style="color:rgb(128,0,128);line-height:1.5;">08</span><span style="line-height:1.5;">  DECLARE_MESSAGE_MAP()   

</span><span style="color:rgb(128,0,128);line-height:1.5;">09</span><span style="line-height:1.5;"> 　　这里注意不要把函数加在AFX_MSG区间内，以防影响ClassWizard的使用。   

</span><span style="color:rgb(128,0,128);line-height:1.5;">10</span><span style="line-height:1.5;"> 　　定义具体的响应函数（这里是用手工加入的，不是用ClassWizard加入的）：   

</span><span style="color:rgb(128,0,128);line-height:1.5;">11</span> 　　<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单击单选按钮1 void CTextEditorView::OnMyRadio1()   </span>

<span style="color:rgb(128,0,128);line-height:1.5;">12</span><span style="line-height:1.5;"> {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">13</span>  m_SelRadio=<span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">14</span><span style="line-height:1.5;"> }   

</span><span style="color:rgb(128,0,128);line-height:1.5;">15</span> 　　<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单击单选按钮2 void CTextEditorView::OnMyRadio2()   </span>

<span style="color:rgb(128,0,128);line-height:1.5;">16</span><span style="line-height:1.5;"> {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">17</span>  m_SelRadio=<span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">18</span><span style="line-height:1.5;"> }   

</span><span style="color:rgb(128,0,128);line-height:1.5;">19</span> 　　<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">单击单选按钮3 void CTextEditorView::OnMyRadio3()   </span>

<span style="color:rgb(128,0,128);line-height:1.5;">20</span><span style="line-height:1.5;"> {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">21</span>  m_SelRadio=<span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;">;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">22</span><span style="line-height:1.5;"> }

 </span></pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">　　5.回收资源：&nbsp;&nbsp;<br> 在析构函数中，回收创建的单选按钮（也可以在不使用单选按钮时立即回收）：&nbsp;</p> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:12px;font-family:'Courier New';line-height:1.5;"> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(128,0,128);line-height:1.5;">1</span> CTextEditorView::~<span style="line-height:1.5;">CTextEditorView()  

</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"> {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">3</span>  <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> i;  

</span><span style="color:rgb(128,0,128);line-height:1.5;">4</span>  <span style="color:rgb(0,0,255);line-height:1.5;">for</span>( i=<span style="color:rgb(128,0,128);line-height:1.5;">0</span>; i&lt;<span style="color:rgb(128,0,128);line-height:1.5;">3</span>; i++<span style="line-height:1.5;">)  

</span><span style="color:rgb(128,0,128);line-height:1.5;">5</span><span style="line-height:1.5;">  {  

</span><span style="color:rgb(128,0,128);line-height:1.5;">6</span>   <span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;">(p_MyRadio[i])  

</span><span style="color:rgb(128,0,128);line-height:1.5;">7</span><span style="line-height:1.5;">    delete p_MyRadio[i];  

</span><span style="color:rgb(128,0,128);line-height:1.5;">8</span><span style="line-height:1.5;">  }  

</span><span style="color:rgb(128,0,128);line-height:1.5;">9</span> }</pre> 
    <div class="cnblogs_code_toolbar" style="line-height:1.5;">
     <span class="cnblogs_code_copy" style="font-size:18px;line-height:1.5;"><a title="复制代码" style="color:rgb(68,68,68);text-decoration:underline;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(68,68,68);font-family:tahoma, arial, sans-serif;font-size:12px;line-height:1.5;">&nbsp;本文转自编程小翁博客园博客，原文链接：http://www.cnblogs.com/wengzilin/archive/2013/05/08/3067477.html，如需转载请自行联系原作者</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
