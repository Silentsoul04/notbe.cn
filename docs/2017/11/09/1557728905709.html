<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>【物联网智能网关-11】流式驱动之用户驱动(MDK C++开发) « NotBeCN</title>
  <meta name="description" content="             微软体系的产品给人的感觉一直是易学易用，但是其执行性能却屡受诟病。所以一些对性能要求相对较高的硬件产品研发，一般都是采用linux体系的技术，或者是无操作系统开发，其开发语言也绝大数是C/C++（启动代码或中断部分的代码有时会用汇编代码实现）。但是对工控集成类的项目开发来说，由于项目开发...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/09/1557728905709.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">【物联网智能网关-11】流式驱动之用户驱动(MDK C++开发)</h1>
    <p class="post-meta">Nov 9, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;color:rgb(51,51,51);"><span style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;">微软体系的产品给人的感觉一直是易学易用，但是其执行性能却屡受诟病。所以一些对性能要求相对较高的</span><strong style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;">硬件产品研发</strong><span style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;">，一般都是采用linux体系的技术，或者是无操作系统开发，其开发语言也绝大数是C/C++（启动代码或中断部分的代码有时会用汇编代码实现）。但是对</span><strong style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;">工控集成类</strong><span style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;">的项目开发来说，由于项目开发周期比较短，对稳定性要求比较高，如果全部采用C/C++开发，不仅对开发人员的能力要求比较高，并且开发和调试的代价非常大。所以PC平台的，大都是用组态系统搭建，嵌入式系统则是采用嵌入式组态软件，其定制化的软件则采用WinCE等易用的嵌入式系统来开发了，但是对再小型的嵌入式系统，由于选择目前比较少，也只有选用传统的C/C++来开发了。</span></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;2001年.NET Micro Framework的开始研发，其实就是基于比尔盖茨所谓的.NET战略，上至服务器大型系统，下至嵌入式领域的芯片都希望是.NET系统，都可以用C#等.NET开发语言进行开发。所以最开始.NET Micro Framework系统就是开发硬件产品的，MSN Direct产品、SideShow，还有一些高端遥控器，键盘，都是采用.NET Micro Framework系统开发（相关介绍，请参见《<a href="http://blog.csdn.net/yefanqiu/article/details/4602886" rel="nofollow" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;text-decoration:none;color:rgb(66,133,244);font-size:16px;">MSN Direct项目简介</a>》），虽然用.NET Micro Framework系统开发比较容易，但是要达到同样的性能，必须要求系统的主频更快，RAM更大，这对批量生产的硬件产品来说，长远发展来看，不是一个好选择。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;我个人认为微软官方的.NET Micro Framework产品类开发的定位是错误的，这一点我可以看到微软在Windows领域的开发也是放弃了全用.NET托管代码实现的诉求，大部分底层或对性能要求很高的代码，依然采用原生C/C++实现（目前iOS和安卓系统的开发，基于性能的考虑，很多开发人员都开始用原生C/C++进行开发）。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;用.NET Micro Framework开发用户需求变化少，不需要二次开发接口的产品来说，是非常不适合的，特别是销售量数量非常大的产品，因为随着产品的销量不断增加，前期开发成本所占的成本比重将越来越小。但是对用户需求变化大，用户需要有二次开发，或者是销量比较少的产品来说，用.NET Micro Framework优势就比较明显了。特别是工控集成类的产品，.NET Micro Framework系统有天然的优势（这是我7年工控领域的工作经历深切感受到的）。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp; PC领域的组态化技术已经非常成熟了，目前已经在向组态软件的第二代或第三代进行发展。但是在嵌入式领域，特别是低端MCU方面，这方面做得远远不够，我工作的定位就是<strong style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">致力于嵌入式领域组态化</strong>，并且我认为.NET Micro Framework系统是实现这个愿景的最好的一种技术支撑。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp; .NET Micro Framework的平台的C#（或VB.NET）开发虽然开发比较简单，但是其执行性能却是一个必须面对的问题（2009年我在微软总部和MSN Direct开发人员交流的时候，他们对.NET Micro Framework的执行性能颇有微词）。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp; 我的解决方案就是：.NET Micro Framework必须尽可能的封装，C#语言执行的不是大段功能代码，而只是一些工艺流程代码即可，那些功能性的代码尽可能用C/C++实现。C#起到粘连串接的作用即可，这一点和网页开发中的脚本语言的角色非常类似。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp; 目前这类封装，必须是porting开发人员完成，是.NET Micro Framework TinyCLR的不可分的部分，普通用户是不能进行C/C++开发的。而我这篇文章所介绍的重点，就是为普通的开发用户，开启C/C++ 基于.NET Micro Framework编程之门。在《<a href="http://blog.csdn.net/yefanqiu/article/details/7825432" rel="nofollow" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;text-decoration:none;color:rgb(66,133,244);font-size:16px;">.NET Micro Framework动态调用C/C++底层代码</a>》文章中我介绍了这种技术的实现原理，本篇文章就是基于应用的角度，介绍如果用MDK进行.NET Micro Framework用户驱动开发。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;在进行用户流式驱动开发介绍之前，我先比较一下C#和C++开发的性能，让大家有一个直观的感受。&nbsp;</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><img src="http://pic002.cnblogs.com/images/2012/11611/2012101822320520.jpg" alt="" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;border:0px;font-size:16px;"></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; 上图C#代码如下：</p> 
   <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);color:rgb(75,75,75);"> 
    <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    <pre>    OutputPort io = <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">new</span> OutputPort((Cpu.Pin)GPIO_NAMES.PA6,<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">while</span> (<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)      {          io.Write(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);          io.Write(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);      }</span></pre> 
    <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
   </div> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">C++的代码如下（NativeSample下运行）</p> 
   <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);color:rgb(75,75,75);"> 
    <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    <pre><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(STM32F20x_GPIO_Driver::PA6,FALSE);  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">while</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">(TRUE)   {       CPU_GPIO_SetPinState(STM32F20x_GPIO_Driver::PA6,FALSE);             CPU_GPIO_SetPinState(STM32F20x_GPIO_Driver::PA6,TRUE);   }</span></pre> 
    <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
   </div> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;硬件平台采用<a href="http://item.taobao.com/item.htm?id=16984424817" rel="nofollow" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;text-decoration:none;color:rgb(66,133,244);font-size:16px;">紫藤207</a>（STM32F207 主频120M），通过示波器检查PA6管脚。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;从示波器的显示结果来看，二者相差近60倍，所以说在C#层很难实现微秒级别的控制。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;另外我也比较了一下C#和C++的for循环的执行效率。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;代码很简单，就是：for(x=0;x&lt;1000;x++);</p> 
   <table border="1" style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;border-collapse:collapse;border:1px solid rgb(192,192,192);color:rgb(75,75,75);line-height:19px;">
    <tbody style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>执行次数</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>C#</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>C++</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>倍数</strong></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>10</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">316us</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">-</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">-</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>100</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">2.5ms</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">3.5us</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">714</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>1000</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">24ms</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">33us</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">727</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>10000</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">-</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">333us</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">-</p> </td> 
     </tr>
    </tbody>
   </table>
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;C#层提供的Sleep延时也是毫秒级别的，我做了一个简单的测试，结果如下：</p> 
   <table border="1" style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;border-collapse:collapse;border:1px solid rgb(192,192,192);color:rgb(75,75,75);line-height:19px;">
    <tbody style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>Sleep</strong><strong>参数</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>0</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>1</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>10</strong></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;"><strong>执行时间</strong></p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">176-184 us</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">1.3ms</p> </td> 
      <td valign="top" style="font-size:12px;border:1px solid rgb(192,192,192);color:rgb(69,69,69);border-collapse:collapse;"> <p style="font-size:16px;line-height:18px;">10.4ms</p> </td> 
     </tr>
    </tbody>
   </table>
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;注：由于底层时钟中断不断触发，Sleep的时间是不确定的。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;相信以上的测试结果，对大家的印象是深刻的。所以说，不考虑C#的封装优点，而是非要用C#和C++实现同样的功能，只能是让大家越来越远离.NET Micro Framework。</p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">-------- 分割线 ---------</p> 
   <div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;"> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp;在《<a href="http://blog.csdn.net/yefanqiu/article/details/7825432" rel="nofollow" style="text-decoration:none;color:rgb(66,133,244);">.NET Micro Framework动态调用C/C++底层代码</a>》这篇文章中，我介绍g_GeneralStream_Function的时候，其支持的函数才15个，并且主要是GPIO和时钟类的函数，这次调整以后，已经扩展支持61个了，并且也可以传递初始化函数的字符串或整型变量参数了，新的g_GeneralStream_Function定义如下:</p> 
    <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
     <pre>IGeneralStream_Function g_GeneralStream_Function  =<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">  {               </span>-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">,             NULL,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">--</span>

      &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">Notice_GenerateEvent,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">lcd_printf,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">debug_printf,               </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">HAL_Time_Sleep_MicroSeconds_InterruptEnabled,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">Events_WaitForEvents,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">disable_interrupts,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">enable_interrupts,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">private_malloc,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">private_free,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">mem</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">hal_snprintf,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">hal_stricmp,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">hal_strncmp_s,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">hal_strlen_s,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">memcpy,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">memset,                 </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">Flash</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">YFSoft_Flash_Erase,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">YFSoft_Flash_Read,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">YFSoft_Flash_Write,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">GPIO</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_DisablePin,              </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableInputPin,              </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_GetPinState,              </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">TIMER</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_TIMER_Initialize,              </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_TIMER_Uninitialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_TIMER_Start,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_TIMER_Stop,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_TIMER_GetState,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_TIMER_SetState,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">USART</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_Initialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_Uninitialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_Write,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_Read,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_Flush,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_BytesInBuffer,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">USART_DiscardBuffer,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">DA/AD</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">DA_Initialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">DA_Write,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">AD_Initialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">AD_Read,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">PWM</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">PWM_Initialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">PWM_Uninitialize,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">PWM_ApplyConfiguration,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">PWM_Start,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">PWM_Stop,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">PWM_GetPinForChannel,             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">TinyGUI</span>

           &amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_ClearEx,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_SetPixel,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_GetPixel,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawLine,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawRectangle,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawEllipse,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawImage,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawImageEx,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawString,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_DrawStringEx,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_FillRectangle,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_FillEllipse,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_GetFrameBufferEx,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_SuspendLayout,             </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">LCD_ResumeLayout,  };</span></pre> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    </div> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp; 有了这些函数支持，就可以在MDK中独立编写 MF的用户流驱动了。当然，你也可以不用这些函数，也可以调用MDK相关的库或STM32提供的库，直接通过寄存器对硬件进行操作（前提是和已有的功能不要冲突就行）。</p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp;为了便于在MDK 4.x中开发用户流式驱动，我提供了yfmflib.h和grenralstream.h头文件，也提供了一个UserDriver.cpp模板，用户只要简单修改一下即可。&nbsp;</p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"><img src="http://pic002.cnblogs.com/images/2012/11611/2012101822323686.jpg" alt="" style="border:0px;"></p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp;UserDriver.cpp模板中的代码如下：</p> 
    <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
     <pre><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">说明：代码空间 0x08010000 -  0x08020000  64K  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">      内存空间 0x20002000 -  0x20004000   8K</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> #include </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">YFMFLib.h</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">  #include </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">GeneralStream.h</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span>

<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">#define</span> UserDriver_Flag            "UserDriver"

<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">#define</span> UserDriver_Hander          1

<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">const</span> IGeneralStream_Function *MF=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">NULL;  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Open1_UserDriver(LPCSTR config)  { <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span>;}      <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">Open1永远也不会被调用  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">int GeneralStream_Open2_UserDriver(int config)   { return 0;}</span>

<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Close_UserDriver()  { <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;}  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_IOControl1_UserDriver(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> code, BYTE *inBuffer, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> inCount, BYTE *outBuffer, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> outCount){<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> -<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;}  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_IOControl2_UserDriver(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> code, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> parameter){<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> -<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;}   </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Read_UserDriver(BYTE *buffer, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> offset, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> count){<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> -<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;}  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Write_UserDriver(BYTE *buffer, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> offset, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> count){<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> -<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;}     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Open2_UserDriver(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> config)  {     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">获取系统函数的指针</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">   MF </span>= (IGeneralStream_Function*<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)config;       </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">C#下传的参数</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">   MF</span>-&gt;lcd_printf(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">%d,%s\r\n</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span>,MF-&gt;iParam1,MF-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">sParam1);    MF</span>-&gt;debug_printf(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">%d,%s\r\n</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span>,MF-&gt;iParam1,MF-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">sParam1);  }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">extern</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">const</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> IGeneralStream g_GeneralStream_UserDriver;  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">const</span> IGeneralStream g_GeneralStream_UserDriver  =<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">  {           UserDriver_Flag,           </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_Open1_UserDriver,           </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_Open2_UserDriver,              </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_Close_UserDriver,                </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_IOControl1_UserDriver,            </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_IOControl2_UserDriver,            </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_Read_UserDriver,           </span>&amp;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">GeneralStream_Write_UserDriver,       };</span></pre> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    </div> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp;为了让大家印象深刻，我们以LCD1602的驱动为示例，进行用户驱动编写（我已经为其专门开发了一个流式驱动，以其为例只是便于说明，后续还将详细介绍LCD1602）。</p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp;其实LCD1602的显示就是IO操作，其实理论上在C#层也可以实现，但是通过我以上的性能测试，估计大家会鲜有尝试了。LCD1602的驱动，通过上网搜索，无论是C51、STM32还是Arduino都提供了相关的源码，我们只要把相关的IO操作的函数，转换为我们MF的IO操作函数即可。</p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; 主要代码如下：</p> 
    <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
     <pre><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602_Write_byte(BYTE data)          {      MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState(LCD1602_E_Pin,TRUE);              MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D7_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x80</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D6_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x40</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D5_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x20</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D4_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x10</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState(LCD1602_E_Pin,FALSE);                     MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState(LCD1602_E_Pin,TRUE);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D7_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x08</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D6_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x04</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D5_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x02</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_D4_Pin,(data &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x01</span>)&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState(LCD1602_E_Pin,FALSE);  }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602_Write_Command(BYTE cmd)          {      MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">100</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState(LCD1602_RS_Pin,FALSE);      LCD1602_Write_byte(cmd);  }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602_Write_Data(BYTE data)          {      MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">100</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_SetPinState(LCD1602_RS_Pin,TRUE);      LCD1602_Write_byte(data);  }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span> LCD1602_SetXY(BYTE x,BYTE y)<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">x:0~15,y:0~1</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> {      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">if</span>(y) LCD1602_Write_Command(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0xc0</span>+x);<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">第二行显示</span>

    <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">else</span>  LCD1602_Write_Command(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x80</span>+x);<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">第一行显示</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span> LCD1602_Write_Char(BYTE x,BYTE y,<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">char</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> data)  {      LCD1602_SetXY( x, y); </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">写地址</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">     LCD1602_Write_Data(data);  }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span> LCD1602_Print(BYTE x,BYTE y,<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">char</span> *<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">s)  {           </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">if</span>(x&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">15</span>)x=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">15</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;      LCD1602_SetXY( x, y ); </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">写地址  </span>

    <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> i=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">while</span> (*s &amp;&amp; (x+i++)&lt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span>)             <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">写显示字符</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">     {          LCD1602_Write_Data( </span>*s++<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> );      }         }     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602_Init()  {      MF</span>-&gt;CPU_GPIO_SetPinState(LCD1602_RW_Pin,FALSE);  <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">只写</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">          MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">100000</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           LCD1602_Write_Command(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x33</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">20000</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           LCD1602_Write_Command(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x32</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">20000</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);         LCD1602_Write_Command(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x28</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);           LCD1602_Write_Command(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x0C</span>); <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">显示开</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">          LCD1602_Write_Command(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0x01</span>); <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">清屏</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">          MF</span>-&gt;HAL_Time_Sleep_MicroSeconds_InterruptEnabled(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">20000</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);  }</span></pre> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    </div> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; &nbsp;以上就是LCD驱动相关的代码，下面我们填写接口代码</p> 
    <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
     <pre><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Open2_UserDriver(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> obj)  {       </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">获取系统函数的指针</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">     MF </span>= (IGeneralStream_Function*<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)obj;     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">--</span>
<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">   LPCSTR config </span>= MF-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">sParam1;      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">不能有空格      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">    012345678901234567890123456789012345678901234567890123      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">格式RS=PC08,RW=PC09,E=PB06,D4=PB07,D5=PC00,D6=PC02,D7=PC03</span>

    <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">if</span>(config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">3</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span> || config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">11</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span> || config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">18</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span> || config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">26</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span> || config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">34</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span> || config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">42</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span> || config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">50</span>]!=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">P</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)      {         </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> -<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;      }         LCD1602_RS_Pin  </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">4</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">5</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">6</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));    LCD1602_RW_Pin  </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">12</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">13</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">14</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));      LCD1602_E_Pin  </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">19</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">20</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">21</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));    LCD1602_D4_Pin  </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">27</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">28</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">29</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));      LCD1602_D5_Pin  </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">35</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">36</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">37</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));    LCD1602_D6_Pin   </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">43</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">44</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">45</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));    LCD1602_D7_Pin   </span>=(GPIO_PIN)((config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">51</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">A</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">16</span> + (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">52</span>]-<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span>) * <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">10</span>+ (config[<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">53</span>] - <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">'</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">));      MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_RS_Pin,FALSE);    MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_RW_Pin,FALSE);    MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_E_Pin,FALSE);   MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_D4_Pin,FALSE);    MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_D5_Pin,FALSE);    MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_D6_Pin,FALSE);   MF</span>-&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">CPU_GPIO_EnableOutputPin(LCD1602_D7_Pin,FALSE);       LCD1602_Init(); </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">初始化液晶 </span>

  <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;  }   </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> GeneralStream_Write_UserDriver(BYTE *buffer, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> offset, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> count)  {      UINT8 x </span>= (BYTE)((offset&gt;&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">8</span>) &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0xFF</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);     UINT8 y </span>= (BYTE)(offset &amp; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0xFF</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);      buffer[count]</span>=<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">if</span>(x&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">15</span> || y&gt;<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span> ) <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> -<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;      LCD1602_Print(x,y,(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">char</span> *<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)buffer);     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;  }</span></pre> 
     <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    </div> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; 以上代码在MDK中直接编译，编译后的bin文件，经过转换适当转换，变为MF部署工具所支持的Hex文件，用MFDeploy或YFAccessFlash工具直接部署即可，如下图所示：&nbsp;&nbsp;</p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"><img src="http://pic002.cnblogs.com/images/2012/11611/2012101822330348.jpg" alt="" style="border:0px;"></p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; 基于C++的代码我们已经完成，下一步我们开始写C#代码，以便调用我们写好的C++代码。</p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">&nbsp; &nbsp; 代码如下：</p> 
   </div> 
   <div class="cnblogs_code" style="font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);color:rgb(75,75,75);"> 
    <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
    <pre><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">using</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> System;  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">using</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> Microsoft.SPOT;  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">using</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> Microsoft.SPOT.Hardware;  </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">using</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> YFSoft.IO;     </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">namespace</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> UserDriverTest  {      </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">public</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">class</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> Program      {             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">public</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">static</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> Main()          {              Debug.Print(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">UserDriver Test ...</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);              LCD1602 lcd </span>= <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">new</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602();                 lcd.Print(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span>, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span>, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">Hello .NET MF!!!</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);              lcd.Print(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span>, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span>, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">YFSoft 20120920</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);                 </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">while</span> (<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)              {                  System.Threading.Thread.Sleep(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">500</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">);              }          }      }         </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,128,0);">Width = 16 Height = 2</span>

    <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">public</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">class</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602      {          GeneralStream gs </span>= <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">null</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;          </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">public</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> LCD1602()          {              gs </span>= <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">new</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> GeneralStream();              </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">int</span> ret = <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;              </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">if</span> ((ret = gs.Open(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">UserDriver</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span>, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">RS=PC08,RW=PC09,E=PB06,D4=PB07,D5=PC00,D6=PC02,D7=PC03</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span>)) &lt;= <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">)              {                  Debug.Print(</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">ERR=</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,0);">"</span> +<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> ret.ToString());                  gs </span>= <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">null</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;              }          }             </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">public</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">void</span> Print(<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">byte</span> x, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">byte</span> y, <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">string</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> s)          {              </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">if</span> (gs == <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">null</span>) <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;              </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">byte</span>[] temp =<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> System.Text.UTF8Encoding.UTF8.GetBytes(s);              </span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">byte</span>[] buff = <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">new</span> <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,255);">byte</span>[temp.Length + <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">];              Array.Copy(temp, buff, temp.Length);              buff[buff.Length </span>- <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">1</span>] = <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">0</span><span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);">;              gs.Write(buff, x </span>&lt;&lt; <span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(128,0,128);">8</span> |<span style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;line-height:1.5;color:rgb(0,0,0);"> y, temp.Length);          }      }  }</span></pre> 
    <div class="cnblogs_code_toolbar" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"></div> 
   </div> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">&nbsp; &nbsp; &nbsp;代码执行后，其运行效果如下图所示：&nbsp; &nbsp;</p> 
   <div style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;color:rgb(75,75,75);line-height:19px;"> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;"><img src="http://pic002.cnblogs.com/images/2012/11611/2012101822333011.jpg" alt="" style="border:0px;"></p> 
    <p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;font-size:16px;">-------------------------------------------------&nbsp;</p> 
   </div> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">MF简介：<a href="http://blog.csdn.net/yefanqiu/article/details/5711770" rel="nofollow" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;text-decoration:none;color:rgb(66,133,244);font-size:16px;">http://blog.csdn.net/yefanqiu/article/details/5711770</a></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);">MF资料：<a href="http://www.sky-walker.com.cn/News.asp?Id=25" rel="nofollow" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;text-decoration:none;color:rgb(66,133,244);font-size:16px;">http://www.sky-walker.com.cn/News.asp?Id=25</a></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><a href="http://weibo.com/1804832611?s=6uyXnP" rel="nofollow" style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;text-decoration:none;color:rgb(66,133,244);font-size:16px;"><img src="http://service.t.sina.com.cn/widget/qmd/1804832611/0cef0e67/1.png" alt="" style="border:0px;"></a></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;line-height:19px;color:rgb(75,75,75);"><br></p> 
   <p style="line-height:19px;"><font color="#4b4b4b"><span style="font-size:13px;">本文转自yefanqiu51CTO博客，原文链接：http://blog.51cto.com/yfsoft/1031101</span></font><span style="font-size:13px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者</span></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
