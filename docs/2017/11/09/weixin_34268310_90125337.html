<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Windows Phone 7 数字罗盘使用指南 « NotBeCN</title>
  <meta name="description" content="                  1. 什么是数字罗盘，和指南针有什么关系？     &nbsp;&nbsp;&nbsp; 指南针是我们外出旅游时，用来指示方向的一种工具。常见的机械式指南针，它是一种根据地球磁场的有极性制作的地磁指南针，但这种指南针指示的南北方向与真正的南北方向不同，存在一个磁偏角。电子器件的...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/09/weixin_34268310_90125337.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Windows Phone 7 数字罗盘使用指南</h1>
    <p class="post-meta">Nov 9, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="blogpost-body" style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;"> 
    <p style="line-height:1.5;"><strong><font>1. 什么是数字罗盘，和指南针有什么关系？</font></strong></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; 指南针是我们外出旅游时，用来指示方向的一种工具。常见的机械式指南针，它是一种根据地球磁场的有极性制作的地磁指南针，但这种指南针指示的南北方向与真正的南北方向不同，存在一个磁偏角。电子器件的飞速发展，为我们带来了电子指南针，也就是所谓的数字罗盘，它采用了磁场传感器的磁阻技术，可很好地修正磁偏角的问题。有人会问，为了实现指向，直接使用GPS不就可以了吗？但现实情况是，如果我们处于建筑物内、或者一些无法接收卫星信号的地方，那么GPS就无法获取地理位置和方向信息了。在这种情况下，数字罗盘就可以发挥作用了。</font></p> 
    <p style="line-height:1.5;"><font></font>&nbsp;</p> 
    <p style="line-height:1.5;"><strong><font>2. 数字罗盘的种类</font></strong></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp;&nbsp;<font>根据实现的原理，数字罗盘可以分为两种：</font><a href="http://en.wikipedia.org/wiki/Compass#Magnetic_compass" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>magnetic compass</font></a><font>和</font><a href="http://en.wikipedia.org/wiki/Gyrocompass" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>gyro compass</font></a></font><font>。前者指示的是地磁意义上的南北极，而后者指示的是地理意义上的南北极。注意，<strong>地磁南北极与地理南北极并不相同</strong>。地磁北极是地球表面地球磁场方向垂直向下的点，地磁北极点随时间不停的变化。另外，由于地球磁场并不是完全对称的，地磁北极与地磁南极并不是处在同一个轴上。地理北极（通常就简称为北极）是地球的自转轴与地球表面的两个交点之一（另一个点是南极，就在相对的另一面），地理上的北极是纬度为北纬90°的点，在方向上是真北，在这一点所指向的任何方向都是南方。</font></p> 
    <p style="line-height:1.5;"><font></font>&nbsp;</p> 
    <p style="line-height:1.5;"><strong><font>3. Windows Phone 7上的数字罗盘</font></strong></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp;&nbsp;</font><font>为了方便我们的日常生活，传感器可以说是手机中必备的功能器件。常用的传感器包括加速度传感器、数字罗盘、GPS等等。当然，手机厂商对其的支持程度也会随着手机型号及其面向的用户而改变。对于Windows Phone 7而言，微软给各个手机生产厂商指定了一个硬件规格，包括CPU、屏幕分辨率、内存容量和传感器等等。具体来说，Windows Phone OS 7.0（Windows Phone RTM）支持加速度传感器，但却并不支持数字罗盘（Compass）（确切的说，应该是没有向用户开放Compass的API）。但是，这一情况从Windows Phone OS 7.1（Mango）发布以后就得到了改观，<strong>Compass API是其引入的新特性之一</strong>。下图就显示了Windows Phone RTM和Mango这两个版本对各种传感器的支持情况。</font></p> 
    <div> 
     <table border="1" style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(0,0,0);">
      <tbody>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p align="left" style="line-height:1.5;"><b>Sensor</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Windows Phone RTM</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Windows Phone Mango</b></p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Accelerometer</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Microphone</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>A-GPS</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Camera</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Compass</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">不支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">可选</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Gyro</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">不支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">可选</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>Motion</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">不支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">可选</p> </td> 
       </tr>
       <tr>
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;"><b>FM Radio</b></p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
        <td valign="top" style="font-size:12px;color:rgb(69,69,69);border:1px solid #C0C0C0;border-collapse:collapse;"> <p style="line-height:1.5;">支持</p> </td> 
       </tr>
      </tbody>
     </table>
    </div> 
    <div>
     <strong>图1：WP7两个版本间传感器支持的差异</strong>
    </div> 
    <div> 
     <strong></strong>&nbsp;
    </div> 
    <div> 
     <font>&nbsp;&nbsp;&nbsp;&nbsp;</font>
     <font>需要注意的是，对于Windows Phone 7设备来说，Compass并不是必须的。换句话说，微软并没有对其进行强制规定，硬件厂商可以根据自己的意愿来选择是否对其生产的Windows Phone 7设备加入数字罗盘的支持。例如，对于我的三星Focus i917而言，它支持加速度传感器和Compass，但是却并不支持Gyro。</font> 
    </div> 
    <div> 
     <font></font>&nbsp;
    </div> 
    <div>
     <strong><font>4.&nbsp; 如何判断你的Windows Phone 7设备是否支持数字罗盘</font></strong>
    </div> 
    <div> 
     <font>&nbsp;&nbsp;&nbsp;&nbsp;</font>
     <font>如何判断Windows Phone 7设备是否支持某种传感器，我们可以通过Microsoft.Devices.Sensors命名空间下，各个传感器的IsSupported属性获得。例如，判断设备是否支持数字罗盘，我们可以使用下面的语句：</font> 
    </div> 
    <div class="csharpcode" style="font-size:small;color:#000000;font-family:consolas, 'Courier New', courier, monospace;"> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   1:  </span>Compass compass;</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   2:  </span><span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">if</span> (!Compass.IsSupported)</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   3:  </span>{</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   4:  </span>    statusTextBlock.Text = <span class="str" style="line-height:1.5;color:rgb(0,96,128);">"device does not support compass"</span>;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   5:  </span>    ApplicationBar.IsVisible = <span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">false</span>;</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   6:  </span>}</pre> 
     <pre>&nbsp;</pre> 
    </div> 
    <p style="line-height:1.5;"><strong><font>5. Compass提供的数据</font></strong></p> 
    <p style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;<font>Windows Phone 7的Compass，可以提供的数据及其含义如下：</font></p> 
    <ul style="list-style:none;font-size:12px;">
     <li style="list-style-type:disc;"><font>&nbsp;&nbsp;&nbsp; （1）HeadingAccuracy -- 数字罗盘方向指示的精度，该数值一般用来指示是否需要校准。</font></li> 
     <li style="list-style-type:disc;"><font>&nbsp;&nbsp;&nbsp; （2）MagneticHeading -- 与地磁北极的偏角，一般用角度来表示。&nbsp;<br> &nbsp;&nbsp;&nbsp; （3）TrueHeading -- 与地理北极的偏角，一般用角度来表示。&nbsp;<br> &nbsp;&nbsp;&nbsp; （4）MagnetometerReading -- 从磁力计得到的原始数据，以微特斯拉为单位，用XNA中的 Vector3 作为数据类型。</font></li> 
    </ul>
    <p style="line-height:1.5;"><font></font></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; 注：Windows Phone 7的Compass提供了TrueHeading，从数字罗盘的分类上看，它还实现了gyro的功能。但是，从MSDN的文档《</font><a href="http://msdn.microsoft.com/en-us/library/hh202968(v=vs.92).aspx" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>Sensors Overview for Windows Phone</font></a><font>》来看，其compass提供的应该是与地磁北极的偏角：</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; “<em><u>The&nbsp;</u></em></font><a href="http://msdn.microsoft.com/en-us/library/microsoft.devices.sensors.compass(v=vs.92).aspx" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><em><font><u>Compass</u></font></em></a><font><em><u>, or magnetometer, sensor can be used to determine the angle by which the device is rotated relative to the Earth’s magnetic north pole. An application can also use raw magnetometer readings to detect magnetic forces around the device</u></em>.”</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; 所以，对于这一点，我还是存在疑惑。</font></p> 
    <div>
     &nbsp;
    </div> 
    <p style="line-height:1.5;"><strong><font>6. 如何为Windows Phone 7应用程序加入Compass？</font></strong></p> 
    <p style="line-height:1.5;">&nbsp;&nbsp;&nbsp;<font>关于这一点，我们可以参考MSDN上的这篇文章：《</font><a href="http://msdn.microsoft.com/en-us/library/hh202974(v=vs.92).aspx" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>How to: Get Data from the Compass Sensor for Windows Phone</font></a><font>》。需要注意的有以下几点：</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; （1）我们需要添加对<strong>Microsoft.Devices.Sensors</strong>以及<strong>Microsoft.Xna.Framework</strong>的引用。</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; （2）我们需要在xaml对应的cs文件中，声明对命名空间的引入：</font></p> 
    <div class="csharpcode" style="font-size:small;color:#000000;font-family:consolas, 'Courier New', courier, monospace;"> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   1:  </span><span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">using</span> Microsoft.Devices.Sensors;</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   2:  </span><span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">using</span> Microsoft.Xna.Framework;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   3:  </span><span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">using</span> System.Windows.Threading;</pre> 
    </div> 
    <p style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p> 
    <p style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;<font>（3）<strong>手机竖屏模式与横屏模式对Compass的影响</strong>。应用程序从Compass类中获得的角度信息会根据手机的姿态有所调整，其中主要是横屏和竖屏模式的区别。判断手机处于哪种状态，可以通过加速度传感器中Z轴的值来实现。</font></p> 
    <div class="csharpcode" style="font-size:small;color:#000000;font-family:consolas, 'Courier New', courier, monospace;"> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   1:  </span><span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">void</span> accelerometer_CurrentValueChanged(<span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">object</span> sender, SensorReadingEventArgs&lt;AccelerometerReading&gt; e)</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   2:  </span>{</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   3:  </span>  Vector3 v = e.SensorReading.Acceleration;</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   4:  </span>&nbsp;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   5:  </span>  <span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">bool</span> isCompassUsingNegativeZAxis = <span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">false</span>;</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   6:  </span>&nbsp;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   7:  </span>  <span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">if</span> (Math.Abs(v.Z) &lt; Math.Cos(Math.PI / 4) &amp;&amp;</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   8:  </span>                (v.Y &lt; Math.Sin(7 * Math.PI / 4)))</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   9:  </span>  {</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">  10:  </span>    isCompassUsingNegativeZAxis = <span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">true</span>;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">  11:  </span>  }</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">  12:  </span>&nbsp;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">  13:  </span>  Dispatcher.BeginInvoke(() =&gt; { orientationTextBlock.Text = (isCompassUsingNegativeZAxis) ? <span class="str" style="line-height:1.5;color:rgb(0,96,128);">"portrait mode"</span> : <span class="str" style="line-height:1.5;color:rgb(0,96,128);">"flat mode"</span>; });</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">  14:  </span>}</pre> 
    </div> 
    <p style="line-height:1.5;"><font></font>&nbsp;</p> 
    <p style="line-height:1.5;"><strong><font>7. Compass的校准</font></strong></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; 由于受到外部电磁场的干扰，会使得手机的Compass数据精度降低，在这种情况下，我们必须提示用户远离磁场干扰，并且对Compass进行校准。在Windows Phone 7上，与CurrentValueChanged一样，OS为Compass提供了校准事件处理compass_Calibrate。在OS检测到heading accuracy的绝对值大于20度时，就会触发该事件。在对Compass进行校准时，一般显示一个图片，提示用户对手机进行绕“8”字移动。</font></p> 
    <div class="csharpcode" style="font-size:small;color:#000000;font-family:consolas, 'Courier New', courier, monospace;"> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   1:  </span><span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">void</span> compass_Calibrate(<span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">object</span> sender, CalibrationEventArgs e)</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   2:  </span>{</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   3:  </span>  Dispatcher.BeginInvoke(() =&gt; { calibrationStackPanel.Visibility = Visibility.Visible; });</pre> 
     <pre><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   4:  </span>  calibrating = <span class="kwrd" style="line-height:1.5;color:rgb(0,0,255);">true</span>;</pre> 
     <pre class="alt"><span class="lnum" style="line-height:1.5;color:rgb(96,96,96);">   5:  </span>}</pre> 
    </div> 
    <p style="line-height:1.5;"><font></font>&nbsp;</p> 
    <p style="line-height:1.5;"><font></font></p> 
    <p style="line-height:1.5;"><font><strong>8. 实际测试结果分析</strong></font></p> 
    <p style="line-height:1.5;">&nbsp;&nbsp;&nbsp;&nbsp;<font>对三星Focus i917（已升级到Mango，版本号为7720.68）进行Compass测试，获得的结果如下图2所示：</font></p> 
    <p align="center" style="line-height:1.5;"><a href="http://images.cnblogs.com/cnblogs_com/dearsj001/201110/201110292128104517.jpg" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><img title="Screen Capture" alt="Screen Capture" src="https://images.cnblogs.com/cnblogs_com/dearsj001/201110/201110292128227964.jpg" width="304" height="504" style="border:0px;background-image:none;margin-left:auto;"></a></p> 
    <p align="center" style="line-height:1.5;"><strong>图2：三星Focus i917设备的Compass测试结果</strong></p> 
    <p align="center" style="line-height:1.5;"><strong></strong>&nbsp;</p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; 进行测试时，手机处于竖屏模式（flat mode），而非横屏模式（portrait mode）。另外，从magnetic heading与true heading的结果来看，这两个数值相同，因此，我猜想：由于受设备的传感器的限制，OS并没有区分地磁南北极与地理南北极，而是把地磁的南北极等同于地理的南北极。</font></p> 
    <p style="line-height:1.5;"><font>&nbsp;&nbsp;&nbsp; 希望有HTC设备的朋友们可以测试一下，是否支持Gyro？如果支持的话，从Compass获得的magnetic heading与true heading值是否一致？</font></p> 
    <p style="line-height:1.5;"><font></font>&nbsp;</p> 
    <p style="line-height:1.5;"><font>参考链接：</font></p> 
    <p style="line-height:1.5;"><font>1. MSDN：<a href="http://msdn.microsoft.com/en-us/library/hh202974(v=vs.92).aspx" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>How to: Get Data from the Compass Sensor for Windows Phone</font></a></font></p> 
    <p style="line-height:1.5;"><font>2. Wiki：</font><a href="http://en.wikipedia.org/wiki/Compass#Magnetic_compass" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>magnetic compass</font></a><font>&nbsp;and&nbsp;</font><a href="http://en.wikipedia.org/wiki/Gyrocompass" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;"><font>gyro compass</font></a></p> 
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">
    本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">
    <br>
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:16px;">
    <br>
   </div> 
   <div> 
    <font color="#4b4b4b">本文转自施炯博客园博客，原文链接：http://www.cnblogs.com/dearsj001/archive/2011/10/29/CompassOnWP7.html</font>
    <span style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者</span> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
