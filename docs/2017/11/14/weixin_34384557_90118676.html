<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JS组件系列——自己动手扩展BootstrapTable的treegrid功能 « NotBeCN</title>
  <meta name="description" content="                  阅读目录          一、效果预览      二、代码示例      三、组件需要完善的地方      四、总结            &nbsp;    正文    前言：上篇 &nbsp;JS组件系列——自己动手封装bootstrap-treegrid组件&nbsp;...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/14/weixin_34384557_90118676.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">JS组件系列——自己动手扩展BootstrapTable的treegrid功能</h1>
    <p class="post-meta">Nov 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"> 
    <p style="font-size:18px;"><b>阅读目录</b></p> 
    <ul>
     <li><a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_label0" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">一、效果预览</a></li> 
     <li><a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_label1" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">二、代码示例</a></li> 
     <li><a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_label2" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">三、组件需要完善的地方</a></li> 
     <li><a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_label3" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">四、总结</a></li> 
    </ul>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">&nbsp;</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;line-height:24px;font-size:18px;"><b>正文</b></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">前言：上篇 &nbsp;<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/landeanfen/p/6776152.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">JS组件系列——自己动手封装bootstrap-treegrid组件</a>&nbsp;博主自己动手封装了下treegrid的功能，但毕竟那个组件只是一个单独针对树形表格做的，适用性还比较有限。关注博主的园友应该知道，博主的博客里面写了很多bootstrapTable的扩展，今天打算在直接在bootstrapTable的基础上扩展一个treegrid的功能，很多长期关注博主博客的园友一直在问我怎么在bootstrapTable里面直接使用treegrid的功能，所以今天还是带来点福利。有兴趣的可以捧个人场！</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">本文原创地址：<a href="http://www.cnblogs.com/landeanfen/p/6924895.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">http://www.cnblogs.com/landeanfen/p/6924895.html</a></p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label0" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">一、效果预览</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">全部折叠</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201705/459756-20170531171133571-1598041796.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">展开一级</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201705/459756-20170531171212399-620718464.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">全部展开</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201705/459756-20170531171226227-338386679.png" alt="" style="border:0px;"></p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label1" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">二、代码示例</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">怎么样？效果还行吧。给出js的源码供大家参考。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> ($) {
    </span>'use strict'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> sprintf = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (str) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> args =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> arguments,
            flag </span>= <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
            i </span>= 1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;

        str </span>= str.replace(/%s/g, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> arg = args[i++<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">];

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> arg === 'undefined'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                flag </span>= <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            }
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> arg;
        });
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> flag ? str : ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> getFieldIndex = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (columns, field) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> index = -1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;

        $.each(columns, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, column) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (column.field ===<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> field) {
                index </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> i;
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            }
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
        });
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> index;
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> calculateObjectValue = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (self, name, args, defaultValue) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> func =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> name;

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> name === 'string'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> names = name.split('.'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (names.length &gt; 1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                func </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> window;
                $.each(names, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, f) {
                    func </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> func[f];
                });
            } </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">else</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
                func </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> window[name];
            }
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> func === 'object'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> func;
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> func === 'function'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> func.apply(self, args);
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!func &amp;&amp; <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> name === 'string' &amp;&amp; sprintf.apply(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, [name].concat(args))) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> sprintf.apply(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, [name].concat(args));
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> defaultValue;
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> getItemField = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (item, field) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> value =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> item;

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> field !== 'string' ||<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> item.hasOwnProperty(field)) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> item[field];
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> props = field.split('.'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> p <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">in</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> props) {
            value </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> value[props[p]];
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> value;
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> getParent = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (node, source, field) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> data =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [];
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> items = $.grep(source, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (item, index) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> node.ParentId ==<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> item[field];
        });
        $.each(items, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (index, item) {
            data.splice(</span>0, 0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, item);
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> child =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> getParent(item, source, field);
            $.each(child, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, n) {
                data.splice(</span>0, 0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, n);
            });
        });
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> data;
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> getChild = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (node, source, field) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> data =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [];
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> items = $.grep(source, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (item, index) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> item.ParentId ==<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> node[field];
        });

        $.each(items, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (index, item) {
            data.push(item);
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> child =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> getChild(item, source, field);
            $.each(child, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, n) {
                data.push(n);
            });
        });
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> data;
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">调用bootstrapTable组件的构造器得到对象</span>
    <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> BootstrapTable =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> $.fn.bootstrapTable.Constructor,
        _initData </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> BootstrapTable.prototype.initData,
        _initPagination </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> BootstrapTable.prototype.initPagination,
        _initBody </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> BootstrapTable.prototype.initBody;

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">重写bootstrapTable的initData方法</span>
    BootstrapTable.prototype.initData = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
        _initData.apply(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, Array.prototype.slice.apply(arguments));
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> that = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (that.options.treeView &amp;&amp; <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.data.length &gt; 0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> rows =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [];
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> roots = $.grep(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.data, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (row, index) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> row.Level ==<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.options.treeRootLevel;
            });
            $.each(roots, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (index, item) {
                rows.push(item);
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> child =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> getChild(item, that.data, that.options.treeId);
                $.each(child, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, n) {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (that.options.treeCollapseAll) {
                        n.hidden </span>= <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                    }
                    rows.push(n);
                });
            });
            that.options.data </span>= that.data =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> rows;
        }
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">重写bootstrapTable的initPagination方法</span>
    BootstrapTable.prototype.initPagination = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">理论情况下，treegrid是不支持分页的，所以默认分页参数为false</span>
        <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.options.pagination = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
         </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">调用“父类”的“虚方法”</span>
        _initPagination.apply(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, Array.prototype.slice.apply(arguments));
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">重写bootstrapTable的initBody方法</span>
    BootstrapTable.prototype.initBody = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (fixedScroll) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> that = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
            html </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [],
            data </span>= <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.getData();

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.trigger('pre-body'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, data);

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$el.find('tbody'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.$body.length) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body = $('&lt;tbody&gt;&lt;/tbody&gt;').appendTo(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.$el);
        }

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.options.pagination || <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.options.sidePagination === 'server'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.pageFrom = 1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.pageTo =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> data.length;
        }

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> i = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.pageFrom - 1; i &lt; <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.pageTo; i++<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> key,
                item </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> data[i],
                style </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {},
                csses </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [],
                data_ </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                attributes </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {},
                htmlAttributes </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [];
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item.hidden) <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">continue</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;

            style </span>= calculateObjectValue(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.options, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.rowStyle, [item, i], style);

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (style &amp;&amp;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> style.css) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (key <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">in</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> style.css) {
                    csses.push(key </span>+ ': ' +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> style.css[key]);
                }
            }

            attributes </span>= calculateObjectValue(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options,
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.rowAttributes, [item, i], attributes);

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (attributes) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (key <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">in</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> attributes) {
                    htmlAttributes.push(sprintf(</span>'%s="%s"'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, key, escapeHTML(attributes[key])));
                }
            }

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item._data &amp;&amp; !<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">$.isEmptyObject(item._data)) {
                $.each(item._data, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (k, v) {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (k === 'index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                    }
                    data_ </span>+= sprintf(' data-%s="%s"'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, k, v);
                });
            }

            html.push(</span>'&lt;tr'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                sprintf(</span>' %s', htmlAttributes.join(' '<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)),
                sprintf(</span>' id="%s"', $.isArray(item) ?<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> undefined : item._id),
                sprintf(</span>' class="%s"', style.classes || ($.isArray(item) ?<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> undefined : item._class)),
                sprintf(</span>' data-index="%s"'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, i),
                sprintf(</span>' data-uniqueid="%s"', item[<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.uniqueId]),
                sprintf(</span>'%s'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, data_),
                </span>'&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
            );

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.cardView) {
                html.push(sprintf(</span>'&lt;td colspan="%s"&gt;', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.header.fields.length));
            }

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.options.cardView &amp;&amp; <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.detailView) {
                html.push(</span>'&lt;td&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    </span>'&lt;a class="detail-icon" href="javascript:"&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    sprintf(</span>'&lt;i class="%s %s"&gt;&lt;/i&gt;', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.options.iconsPrefix, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.icons.detailOpen),
                    </span>'&lt;/a&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    </span>'&lt;/td&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
            }

            $.each(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.header.fields, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (j, field) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> text = ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    value </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> getItemField(item, field),
                    type </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    cellStyle </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {},
                    id_ </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    class_ </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.header.classes[j],
                    data_ </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    rowspan_ </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    title_ </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    column </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.columns[getFieldIndex(that.columns, field)];

                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">column.visible) {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                }

                style </span>= sprintf('style="%s"', csses.concat(that.header.styles[j]).join('; '<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">));

                value </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> calculateObjectValue(column,
                    that.header.formatters[j], [value, item, i], value);

                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item['_' + field + '_id'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]) {
                    id_ </span>= sprintf(' id="%s"', item['_' + field + '_id'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]);
                }
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item['_' + field + '_class'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]) {
                    class_ </span>= sprintf(' class="%s"', item['_' + field + '_class'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]);
                }
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item['_' + field + '_rowspan'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]) {
                    rowspan_ </span>= sprintf(' rowspan="%s"', item['_' + field + '_rowspan'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]);
                }
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item['_' + field + '_title'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]) {
                    title_ </span>= sprintf(' title="%s"', item['_' + field + '_title'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">]);
                }
                cellStyle </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> calculateObjectValue(that.header,
                    that.header.cellStyles[j], [value, item, i], cellStyle);
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (cellStyle.classes) {
                    class_ </span>= sprintf(' class="%s"'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, cellStyle.classes);
                }
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (cellStyle.css) {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> csses_ =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> [];
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> key <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">in</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> cellStyle.css) {
                        csses_.push(key </span>+ ': ' +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> cellStyle.css[key]);
                    }
                    style </span>= sprintf('style="%s"', csses_.concat(that.header.styles[j]).join('; '<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">));
                }

                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item['_' + field + '_data'] &amp;&amp; !$.isEmptyObject(item['_' + field + '_data'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">])) {
                    $.each(item[</span>'_' + field + '_data'], <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (k, v) {
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (k === 'index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                        }
                        data_ </span>+= sprintf(' data-%s="%s"'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, k, v);
                    });
                }

                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (column.checkbox ||<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> column.radio) {
                    type </span>= column.checkbox ? 'checkbox'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> : type;
                    type </span>= column.radio ? 'radio'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> : type;

                    text </span>= [that.options.cardView ?
                        '&lt;div class="card-view"&gt;' : '&lt;td class="bs-checkbox"&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                        </span>'&lt;input' +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        sprintf(</span>' data-index="%s"', i) +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        sprintf(</span>' name="%s"', that.options.selectItemName) +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        sprintf(</span>' type="%s"', type) +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        sprintf(</span>' value="%s"', item[that.options.idField]) +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        sprintf(</span>' checked="%s"', value === <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span> ||<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        (value </span>&amp;&amp; value.checked) ? 'checked' : undefined) +<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        sprintf(</span>' disabled="%s"', !column.checkboxEnabled ||<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        (value </span>&amp;&amp; value.disabled) ? 'disabled' : undefined) +
                        ' /&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                        that.header.formatters[j] </span>&amp;&amp; <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> value === 'string' ? value : ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                        that.options.cardView </span>? '&lt;/div&gt;' : '&lt;/td&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                    ].join(</span>''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);

                    item[that.header.stateField] </span>= value === <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span> || (value &amp;&amp;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> value.checked);
                } </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">else</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
                    
                    value </span>= <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> value === 'undefined' || value === <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span> ?<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                        that.options.undefinedText : value;
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> indent, icon;
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (that.options.treeView &amp;&amp; column.field ==<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.options.treeField) {
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> indent = item.Level == that.options.Level ? '' : sprintf('&lt;span style="margin-left: %spx;"&gt;&lt;/span&gt;', (item.Level - that.options.treeRootLevel) * 15<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> child = $.grep(data, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (d, i) {
                            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> d.ParentId == item[that.options.treeId] &amp;&amp; !<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">d.hidden;
                        });
                        icon </span>= sprintf('&lt;span class="tree-icon %s" style="cursor: pointer; margin: 0px 5px;"&gt;&lt;/span&gt;', child.length &gt; 0 ?<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.options.expandIcon : that.options.collapseIcon);
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">icon = sprintf('&lt;span class="tree-icon %s" style="cursor: pointer; margin: 0px 5px;"&gt;&lt;/span&gt;', child.length &gt; 0 ? that.options.expandIcon : "");</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">                    }
                    text </span>= that.options.cardView ? ['&lt;div class="card-view"&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                        that.options.showHeader </span>? sprintf('&lt;span class="title" %s&gt;%s&lt;/span&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, style,
                            getPropertyFromOther(that.columns, </span>'field', 'title', field)) : ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                        sprintf(</span>'&lt;span class="value"&gt;%s&lt;/span&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, value),
                        </span>'&lt;/div&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                    ].join(</span>'') : [sprintf('&lt;td%s %s %s %s %s %s&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, id_, class_, style, data_, rowspan_, title_),
                        indent,
                        icon,
                        value,
                        </span>'&lt;/td&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                    ].join(</span>''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);

                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (that.options.cardView &amp;&amp; that.options.smartDisplay &amp;&amp; value === ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                        text </span>= ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                    }
                }

                html.push(text);
            });

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.cardView) {
                html.push(</span>'&lt;/td&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
            }

            html.push(</span>'&lt;/tr&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        }

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">html.length) {
            html.push(</span>'&lt;tr class="no-records-found"&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                sprintf(</span>'&lt;td colspan="%s"&gt;%s&lt;/td&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$header.find('th').length, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.formatNoMatches()),
                </span>'&lt;/tr&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        }

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body.html(html.join(''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">));

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">fixedScroll) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.scrollTo(0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        }

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body.find('&gt; tr[data-index] &gt; td').off('click dblclick').on('click dblclick', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (e) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $td = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                $tr </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> $td.parent(),
                item </span>= that.data[$tr.data('index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)],
                index </span>= $td[0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">].cellIndex,
                field </span>= that.header.fields[that.options.detailView &amp;&amp; !that.options.cardView ? index - 1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> : index],
                column </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.columns[getFieldIndex(that.columns, field)],
                value </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> getItemField(item, field);

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> ($td.find('.detail-icon'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">).length) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            }

            that.trigger(e.type </span>=== 'click' ? 'click-cell' : 'dbl-click-cell'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, field, value, item, $td);
            that.trigger(e.type </span>=== 'click' ? 'click-row' : 'dbl-click-row'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, item, $tr);

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (e.type === 'click' &amp;&amp; that.options.clickToSelect &amp;&amp;<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> column.clickToSelect) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $selectItem = $tr.find(sprintf('[name="%s"]'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, that.options.selectItemName));
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> ($selectItem.length) {
                    $selectItem[</span>0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">].click();
                }
            }
        });

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body.find('&gt; tr[data-index] &gt; td &gt; .detail-icon').off('click').on('click', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">debugger</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span> = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                $tr </span>= $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.parent().parent(),
                index </span>= $tr.data('index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                row </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> data[index]; 

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> ($tr.next().is('tr.detail-view'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)) {
                $</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.find('i').attr('class', sprintf('%s %s'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, that.options.iconsPrefix, that.options.icons.detailOpen));
                $tr.next().remove();
                that.trigger(</span>'collapse-row'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, index, row);
            } </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">else</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
                $</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.find('i').attr('class', sprintf('%s %s'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, that.options.iconsPrefix, that.options.icons.detailClose));
                $tr.after(sprintf(</span>'&lt;tr class="detail-view"&gt;&lt;td colspan="%s"&gt;%s&lt;/td&gt;&lt;/tr&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    $tr.find(</span>'td'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">).length, calculateObjectValue(that.options,
                        that.options.detailFormatter, [index, row], </span>''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)));
                that.trigger(</span>'expand-row', index, row, $tr.next().find('td'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">));
            }
            that.resetView();
        });

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body.find('&gt; tr[data-index] &gt; td &gt; .tree-icon').off('click').on('click', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (e) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">debugger</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            e.stopPropagation();
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span> = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                $tr </span>= $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.parent().parent(),
                index </span>= $tr.data('index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                row </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> data[index];
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> icon = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> child =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> getChild(data[index], data, that.options.treeId);
            $.each(child, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, c) {
                $.each(that.data, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (index, item) {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (item[that.options.treeId] ==<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> c[that.options.treeId]) {
                        item.hidden </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> icon.hasClass(that.options.expandIcon);
                        that.uncheck(index);
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                    }
                });
            });
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (icon.hasClass(that.options.expandIcon)) {
                icon.removeClass(that.options.expandIcon).addClass(that.options.collapseIcon);
            } </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">else</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
                icon.removeClass(that.options.collapseIcon).addClass(that.options.expandIcon);
            }
            that.options.data </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.data;
            that.initBody(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        });

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$selectItem = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$body.find(sprintf('[name="%s"]', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.options.selectItemName));
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.$selectItem.off('click').on('click', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (event) {
            event.stopImmediatePropagation();

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span> = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                checked </span>= $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.prop('checked'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                row </span>= that.data[$<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.data('index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)];

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (that.options.maintainSelected &amp;&amp; $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>).is(':radio'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)) {
                $.each(that.options.data, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, row) {
                    row[that.header.stateField] </span>= <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                });
            }

            row[that.header.stateField] </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> checked;

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (that.options.singleSelect) {
                that.$selectItem.not(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>).each(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
                    that.data[$(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>).data('index')][that.header.stateField] = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                });
                that.$selectItem.filter(</span>':checked').not(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>).prop('checked', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
            }

            that.updateSelected();
            that.trigger(checked </span>? 'check' : 'uncheck', row, $<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        });

        $.each(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.header.events, <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, events) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">events) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            }
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> events === 'string'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                events </span>= calculateObjectValue(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, events);
            }

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> field =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.header.fields[i],
                fieldIndex </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> $.inArray(field, that.getVisibleFields());

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (that.options.detailView &amp;&amp; !<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">that.options.cardView) {
                fieldIndex </span>+= 1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            }

            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> key <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">in</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> events) {
                that.$body.find(</span>'tr').each(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $tr = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                        $td </span>= $tr.find(that.options.cardView ? '.card-view' : 'td'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">).eq(fieldIndex),
                        index </span>= key.indexOf(' '<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                        name </span>= key.substring(0<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, index),
                        el </span>= key.substring(index + 1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                        func </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> events[key];

                    $td.find(el).off(name).on(name, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (e) {
                        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> index = $tr.data('index'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">),
                            row </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> that.data[index],
                            value </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> row[field];

                        func.apply(</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, [e, value, row, index]);
                    });
                });
            }
        });

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.updateSelected();
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">.resetView();

        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span>.trigger('post-body'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
    };


    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">给组件增加默认参数列表</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">    $.extend($.fn.bootstrapTable.defaults, {
        treeView: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span>,<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">treeView视图</span>
        treeField: "id",<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">treeView视图字段</span>
        treeId: "id"<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        treeRootLevel: </span>0,<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">根节点序号</span>
        treeCollapseAll: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span>,<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">是否全部展开</span>
        collapseIcon: "glyphicon glyphicon-chevron-right",<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">折叠样式</span>
        expandIcon: "glyphicon glyphicon-chevron-down"<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">展开样式</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">    });
})(jQuery);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">组件的使用如下：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">1、首先引用这个js文件。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">2、然后初始化组件</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre> 　　　　　　　　$('#tb').bootstrapTable<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">({
                    url: ActionUrl </span>+ 'GetMenuList'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    toolbar: </span>'#toolbar'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    sidePagination: </span>'client'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    pagination: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    treeView: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    treeId: </span>"Id"<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    treeField: </span>"Name"<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    treeRootLevel: </span>1<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
                    clickToSelect: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">true</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">collapseIcon: "glyphicon glyphicon-triangle-right",//折叠样式</span>
                    <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">expandIcon: "glyphicon glyphicon-triangle-bottom"//展开样式</span>
                })；</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">treeView:true表示启用树表格模式；</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">treeId:'Id'表示每一行tree的id；</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">treeField:'Name'表示要对那一列进行展开；</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">treeRootLevel:1表示树根的级别。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><strong>还有一个地方需要注意，要建立记录之间的父子级关系，必然后有一个ParentId的概念，所以在从后端返回的结果集里面，每条记录势必有一个ParentId的属性，如果是根节点，ParentId为null。比如我们后台得到的结果集的json格式如下：</strong></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre>[{Id: 1, Name: "系统设置", Url: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, ParentId: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, Level: 1, CreateTime: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, Status: 1, SortOrder: 1,…},<br>
{Id: 2, Name: "菜单管理", Url: "/Systems/Menu/Index", ParentId: 1, Level: 2, CreateTime: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, Status: 1,…},<br>
{Id: 3, Name: "订单管理", Url: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, ParentId: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, Level: 1, CreateTime: "2017-05-31 17:05:27",…},<br>
{Id: 4, Name: "基础数据", Url: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, ParentId: <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span>, Level: 1, CreateTime: "2017-05-31 17:05:55",…},<br>
{Id: 5, Name: "新增订单", Url: "/order/add", ParentId: 3, Level: 2, CreateTime: "2017-05-31 17:07:03",…}]</pre>
   </div> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label2" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">三、组件需要完善的地方</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">上述封装给大家提供一个扩展bootstrapTable组件treeview功能，还有很多地方需要完善，比如：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">1、我们的叶子节点前面的图标可以去掉；</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">2、增加展开所有、折叠所有的功能；</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">3、Level字段可以去掉，通过ParentId为null来确定根节点。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">有兴趣的园友可以自己试试。</p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/6924895.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label3" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">四、总结</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">至此本文就结束了，这篇针对上篇做了一个补充，使得我们可以根据项目的需求自己选择用哪种方式，如果我们项目使用的是bootstrapTable作为数据展示的组件，可以考虑上述扩展；如果没有使用bootstrapTable，可以试试上篇的组件。如果你觉得本文能够帮助你，可以右边随意&nbsp;<strong>打赏&nbsp;</strong>博主，打赏后可以获得博主永久免费的技术支持。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p><font><span style="line-height:24px;">本文转自懒得安分博客园博客，原文链接：http://www.cnblogs.com/landeanfen/p/6924895.html，如需转载请自行联系原作者</span></font></p> 
   <div>
    <br>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
