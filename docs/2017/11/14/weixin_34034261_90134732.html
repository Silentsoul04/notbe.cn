<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>NodeJS的代码调试和性能调优 « NotBeCN</title>
  <meta name="description" content="             本文转自我的个人博客。    NodeJS 自 2009 年显露人间，到现在已经六个年头了，由于各种原因，中间派生出了个兄弟，叫做 iojs，最近兄弟继续合体，衍生出了 nodejs4.0 版本，这东西算是&nbsp;nodejs new 1.0&nbsp;版本，原班人马都统一到一个战线...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/14/weixin_34034261_90134732.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">NodeJS的代码调试和性能调优</h1>
    <p class="post-meta">Nov 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">本文转自我的<a href="http://www.barretlee.com/entry/" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">个人博客</a>。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">NodeJS 自 2009 年显露人间，到现在已经六个年头了，由于各种原因，中间派生出了个兄弟，叫做 iojs，最近兄弟继续合体，衍生出了 nodejs4.0 版本，这东西算是&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">nodejs new 1.0</code>&nbsp;版本，原班人马都统一到一个战线上。我没有太关注 nodejs 背后的开发，但一直是它的忠实使用者，通读了 v4.1.2 的&nbsp;<a href="https://nodejs.org/api/" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">文档</a>，感觉从开发者角度去看，也没啥大的变化，所以这两个兄弟分开这么久，主要是在底层内建模块上做改造，上层建筑尚未有大的变更，具体可以看&nbsp;<a href="https://medium.com/node-js-javascript/4-0-is-the-new-1-0-386597a3436d" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">这篇文章</a>。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">如果你一直用着 nodejs，然而一直都在写最基本的小 demo，很少深入的去剖析 nodejs 的性能问题，甚至连如何 debug 代码、如何发现性能问题都不知从哪里下手，那么赶紧往下读吧！</p> 
   <h3 style="font-size:22px;line-height:1.5;color:rgb(255,255,255);text-indent:10px;font-family:Georgia, 'Times New Roman', Times, sans-serif;background:rgb(128,128,128);"> <a class="headeranchor-link" name="user-content-_1" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#_1" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>命令行调试</h3> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">命令行中调试 nodejs 代码，这是最基础的调试技能，如同我们在 Chrome 控制中调试 JS 代码一般，然而却用的很少，因为他太原始，显得比较麻烦。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">回顾下，我们平时的调试方式：</p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">在某个需要输入的地方输入&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">console.log()</code>，打印调试结果</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">引入&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">asserts</code>&nbsp;模块，对调试区域进行 debug</li> 
   </ul>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这两种调试方式，都需要我们显式将各种 debug 信息嵌入到我们的业务逻辑代码中，而熟悉了命令行调试之后，我们可以更好地开启自己的调试之旅。NodeJS 给我们提供了 Debugger 模块，内建客户端，通过 TCP 将命令行的输入传送到内建模块以达到调试的目的。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在启动文件时，添加第二个参数&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">debug</code>：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="line-height:1.5;background:none;">  $ node debug proxy2.js
</span>&lt; Debugger listening on port <span style="color:rgb(128,0,128);line-height:1.5;background:none;">5858</span><span style="line-height:1.5;background:none;">
debug</span>&gt;<span style="line-height:1.5;background:none;"> . ok
break </span><span style="color:rgb(0,0,255);line-height:1.5;background:none;">in</span> proxy2.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">1</span>
&gt; <span style="color:rgb(128,0,128);line-height:1.5;background:none;">1</span> var http = require(<span style="color:rgb(128,0,0);line-height:1.5;background:none;">'</span><span style="color:rgb(128,0,0);line-height:1.5;background:none;">http</span><span style="color:rgb(128,0,0);line-height:1.5;background:none;">'</span><span style="line-height:1.5;background:none;">);
  </span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">2</span> var net = require(<span style="color:rgb(128,0,0);line-height:1.5;background:none;">'</span><span style="color:rgb(128,0,0);line-height:1.5;background:none;">net</span><span style="color:rgb(128,0,0);line-height:1.5;background:none;">'</span><span style="line-height:1.5;background:none;">);
  </span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">3</span> var url = require(<span style="color:rgb(128,0,0);line-height:1.5;background:none;">'</span><span style="color:rgb(128,0,0);line-height:1.5;background:none;">url</span><span style="color:rgb(128,0,0);line-height:1.5;background:none;">'</span><span style="line-height:1.5;background:none;">);
debug</span>&gt;</pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">调试代码的时候存在两个状态，一个是操作调试的位置，比如下一步，进入函数，跳出函数等，此时为 debug 模式；另一个是查看变量的值，比如进入循环中，想查看循环计数器 i 的值，此时为 repl（read-eval-per-line） 状态，在 debug 模式下输入&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">repl</code>&nbsp;即可进入 repl 状态：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>debug&gt;<span style="line-height:1.5;background:none;"> repl
Press Ctrl </span>+<span style="line-height:1.5;background:none;"> C to leave debug repl
</span>&gt;<span style="line-height:1.5;background:none;"> http
print something about http
</span>&gt;</pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">按下&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">Ctrl+C</code>&nbsp;可以从 repl 状态回到 debug 状态下，我们也不需要记忆 debug 状态下有多少调试命令，执行 help 即可：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>debug&gt;<span style="line-height:1.5;background:none;"> help
Commands: run (r), cont (c), next (n), step (s), out (o), backtrace (bt), setBreakpoint (sb), clearBreakpoint (cb),
watch, unwatch, watchers, repl, restart, </span><span style="color:rgb(0,0,255);line-height:1.5;background:none;">kill</span>, list, scripts, breakOnException, breakpoints, version</pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">相关的命令不算很多：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;margin-left:15px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <thead style="background:rgb(238,238,238);">
     <tr>
      <th style="border:1px solid #C0C0C0;border-collapse:collapse;">命令</th> 
      <th style="border:1px solid #C0C0C0;border-collapse:collapse;">解释</th> 
     </tr>
    </thead>
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">cont, c</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">进入下一个断点</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">next, n</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">下一步</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">step, s</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">进入函数</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">out, o</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">跳出函数</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">setBreakpoint(), sb()</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">在当前行设置断点</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">setBreakpoint(line), sb(line)</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">在 line 行设置断点</td> 
     </tr>
    </tbody>
   </table>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上面几个是常用的，更多命令可以<a href="https://nodejs.org/api/debugger.html#debugger_commands_reference" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">戳这里</a>。</p> 
   <h3 style="font-size:22px;line-height:1.5;color:rgb(255,255,255);text-indent:10px;font-family:Georgia, 'Times New Roman', Times, sans-serif;background:rgb(128,128,128);"> <a class="headeranchor-link" name="user-content-nodejs" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#nodejs" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>NodeJS的调试原理</h3> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们平时开发都使用 IDE 工具，实际上很多 IDE 工具已经集成了 NodeJS 的调试工具，比如 Eclipse、webStorm 等等，他们的原理依然是利用 Nodejs 的 Debugger 内建模块，在这个基础上进行了封装。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">细心的同学会发现，当我们使用 debug 参数打开一个 node 文件时，会输出这样一行文案：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>Debugger listening on port <span style="color:rgb(128,0,128);line-height:1.5;background:none;">5858</span></pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可以访问下&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">http://localhost:5858</code>，会看到：&nbsp;</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/387325/201510/387325-20151023094219130-1983729675.jpg" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">它告诉我们 nodejs 在打开文件的时候启动了内建调试功能，并且监听端口 5858 过来的调试命令。除了在命令行中直接调试之外，我们还可以通过另外两种方式去调试这个代码：</p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;"> <code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">node debug &lt;URI&gt;</code>， 通过 URI 连接调试，如&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">node debug localhost:5858</code> </li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;"> <code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">node debug -p &lt;pid&gt;</code>&nbsp;通过 PID 链接调试</li> 
   </ul>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">如果我们使用&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug</code>&nbsp;参数打开文件：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  $ node --debug proxy2.js</pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">此时，nodejs 不会进入到命令行模式，而是直接执行代码，但是依然会开启内建调试功能，这就意味着我们具备了远程调试 NodeJS 代码的能力，使用&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug</code>&nbsp;参数打开服务器的 nodejs 文件，然后通过：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  $ node debug &lt;服务器IP&gt;:&lt;调试端口，默认5858&gt;</pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可以在本地远程调试 nodejs 代码。不过这里需要区分下&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug</code>&nbsp;和&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug-brk</code>，前者会执行完所有的代码，一般是在监听事件的时候使用，而后者，不会执行代码，需要等到外部调试接入后，进入代码区。语言表述不会那么生动，读者可以自行测试下。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">默认端口号是 5858，如果这个端口被占用，程序会递增端口号，我们也可以指定端口：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  node  node --debug-brk=<span style="color:rgb(128,0,128);line-height:1.5;background:none;">8787</span><span style="line-height:1.5;background:none;"> proxy2.js
Debugger listening on port </span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">8787</span></pre>
   </div> 
   <h3 style="font-size:22px;line-height:1.5;color:rgb(255,255,255);text-indent:10px;font-family:Georgia, 'Times New Roman', Times, sans-serif;background:rgb(128,128,128);"> <a class="headeranchor-link" name="user-content-_2" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#_2" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>更多的调试方式</h3> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;line-height:25.2px;"> <a class="headeranchor-link" name="user-content-node-inspector" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#node-inspector" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>node-inspector</h4> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">NodeJS 提供的内建调试十分强大，它告诉 V8，在执行代码的时候中断程度，等待开发者操控代码的执行进度。我们熟知的 node-inspector 也是用的这个原理。</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  $ node-inspector --web-port <span style="color:rgb(128,0,128);line-height:1.5;background:none;">8080</span> --debug-port <span style="color:rgb(128,0,128);line-height:1.5;background:none;">5858</span> </pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这里的&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--web-port</code>&nbsp;是 Chrome Devtools 的调试页面地址端口，<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug-port</code>&nbsp;为 NodeJS 启动的内建 debug 端口，我们可以在&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">http://localhost:8080/debug?port=5858</code>&nbsp;打开页面，调试使用&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug(-brk)</code>&nbsp;参数打开的程序。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">更多设置可以查阅<a href="https://www.npmjs.com/package/node-inspector" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">官方文档</a>。</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;line-height:25.2px;"> <a class="headeranchor-link" name="user-content-ide" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#ide" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>IDE调试</h4> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">Eclipse 和 webstorm 的工具栏中都有一个叫做 Run 的选择栏，在这里可以配置该文件的执行方式，比如在 webstorm 中（Navigation&gt;Run&gt;Edit Configurations）：</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>第一步，为程序添加一个启动程序</strong></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/387325/201510/387325-20151023094230286-959221177.jpg" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">如果没有 Nodejs 的选项（如在 phpstorm 中），可以手动配置下。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>第二步，配置执行项</strong></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/387325/201510/387325-20151023094238474-144649065.jpg" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;"> <code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">Node interpreter</code>&nbsp;是你 node 程序的位置</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;"> <code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">Node parameters</code>&nbsp;是开启 nodejs 程序的选项，如果使用了 ES6 特性，需要开始<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--harmony</code>&nbsp;模式，如果需要远程调试程序，可以使用&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug</code>&nbsp;命令，我们采用控制台调试，显然是不需要添加&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--debug</code>&nbsp;参数的。</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;"> <code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">Working directory</code>&nbsp;是文件的目录</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;"> <code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">Javascript file</code>&nbsp;是需要调试的文件</li> 
   </ul>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>第三步，断点，调试</strong></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/387325/201510/387325-20151023094305286-1845762073.jpg" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">其他 IDE 工具的调试大同小异，其原理也是通过 TCP 连接到 Nodejs 开启的内建调试端口。</p> 
   <h3 style="font-size:22px;line-height:1.5;color:rgb(255,255,255);text-indent:10px;font-family:Georgia, 'Times New Roman', Times, sans-serif;background:rgb(128,128,128);"> <a class="headeranchor-link" name="user-content-_3" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#_3" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>发现程序的问题</h3> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上面介绍了 NodeJS 调试需要掌握的几个基本技能，掌握起来还是很轻松的，但是要自己去尝试下。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">Nodejs 相比 Java、PHP 这些老牌语言，其周边设施还是有所欠缺的，如性能分析和监控工具等，加上它的单线程运行特性，在大型应用中，很容易让系统的 CPU 或者内存达到瓶颈，从而导致程序崩溃。一旦发现程序警报 CPU 负载过高，或者内存飙高时，我们该如何深入排查 NodeJS 代码存在的问题呢？</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">首先来分析下问题，内存飙高存在哪些方面的因素呢：</p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">缓存，很多人在敲程序的时候把缓存当内存用，比如使用一个对象储存用户的 session 信息</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">闭包，作用域没有被释放掉</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">生产者和消费者存在速度差，比如数据库忙不过来，Query 队列堆积</li> 
   </ul>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">CPU 负载过高预警可能因素：</p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">垃圾回收频率过高、量太大，这一般是因为内存或者缓存暴涨导致的</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">密集型的长循环计算，比如大量遍历文件夹、大量计算等</li> 
   </ul>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这些问题是最让人头疼的，一个项目几十上百个文件，收到这些警报如果没有经验，根本无从下手排查。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">最直接的手段就是分析 GC 日志，因为程序的一举一动都会反馈到 GC 上，而上述问题也会一一指向 GC，如：</p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">内存暴涨，尤其是 Old Space 内存的暴涨，会直接导致 GC 的次数和时间增长</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">缓存增加，导致 GC 的时间增加，无用遍历过多</li> 
    <li style="list-style-type:disc;background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;">密集型计算，导致 GC Now Space次数增加</li> 
   </ul>
   <hr style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这里需要稍微插一段，NodeJS 的内存管理和垃圾回收机制。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">V8 的内存分为 New Space 和 Old Space，New Space 的大小默认为 8M，Old Space 的大小默认为 0.7G，64位系统这两个数值翻倍。</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">对象的生命周期是：首先进入 New Space，在这里，New Space 被平均分为两份，每次 GC 都会将一份中的活着的对象复制到另一份，所以它的空间使用率是 50%，这个算法叫做 Cheney 算法，这个操作叫做 Scavenge。过一段时间，如果 New Space 中的对象还活着，会被挪到 Old Space 中去，GC 会每隔一段时间遍历 Old Space 中死掉的对象，然后整理碎片（这里有两种模式 mark-sweep 和 mark-compact，不祥述）。上面提到的”死掉“，指的是对象已经没有被引用了，活着说被引用的次数为零了。</p> 
   <hr style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">知道这些之后，我们就好分析问题了，如果缓存增加（比如使用对象缓存了很多用户信息），GC 是不知道这些缓存死了还是活着的，他们会不停地查看这个对象，以及这个对象中的子对象是否还存活，如果这个对象数特别大，那么 GC 遍历的时间也会特别长。当我们进行密集型计算的时候，会产生很多中间变量，这些变量往往在 New Space 中就死掉了，那么 GC 也会在这里多次地进行 New Space 区域的垃圾回收。</p> 
   <h3 style="font-size:22px;line-height:1.5;color:rgb(255,255,255);text-indent:10px;font-family:Georgia, 'Times New Roman', Times, sans-serif;background:rgb(128,128,128);"> <a class="headeranchor-link" name="user-content-gc" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#gc" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>分析 GC 日志</h3> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">说了这么多，如何去分析 GC 的日志？</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在启动程序的时候添加&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">--trace_gc</code>&nbsp;参数，V8 在进行垃圾回收的时候，会将垃圾回收的信息打印出来：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  $ node --<span style="line-height:1.5;background:none;">trace_gc aa.js
...
[</span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">94036</span>]       <span style="color:rgb(128,0,128);line-height:1.5;background:none;">68</span> ms: Scavenge <span style="color:rgb(128,0,128);line-height:1.5;background:none;">8.4</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">42.5</span>) -&gt; <span style="color:rgb(128,0,128);line-height:1.5;background:none;">8.2</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">43.5</span>) MB, <span style="color:rgb(128,0,128);line-height:1.5;background:none;">2.4</span><span style="line-height:1.5;background:none;"> ms [allocation failure].
[</span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">94036</span>]       <span style="color:rgb(128,0,128);line-height:1.5;background:none;">74</span> ms: Scavenge <span style="color:rgb(128,0,128);line-height:1.5;background:none;">8.9</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">43.5</span>) -&gt; <span style="color:rgb(128,0,128);line-height:1.5;background:none;">8.9</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">46.5</span>) MB, <span style="color:rgb(128,0,128);line-height:1.5;background:none;">5.1</span><span style="line-height:1.5;background:none;"> ms [allocation failure].
[</span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">94036</span>] Increasing marking speed to <span style="color:rgb(128,0,128);line-height:1.5;background:none;">3</span><span style="line-height:1.5;background:none;"> due to high promotion rate
[</span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">94036</span>]       <span style="color:rgb(128,0,128);line-height:1.5;background:none;">85</span> ms: Scavenge <span style="color:rgb(128,0,128);line-height:1.5;background:none;">16.1</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">46.5</span>) -&gt; <span style="color:rgb(128,0,128);line-height:1.5;background:none;">15.7</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">47.5</span>) MB, <span style="color:rgb(128,0,128);line-height:1.5;background:none;">3.8</span> ms (+ <span style="color:rgb(128,0,128);line-height:1.5;background:none;">5.0</span> ms <span style="color:rgb(0,0,255);line-height:1.5;background:none;">in</span> <span style="color:rgb(128,0,128);line-height:1.5;background:none;">106</span> steps since <span style="color:rgb(0,0,255);line-height:1.5;background:none;">last</span><span style="line-height:1.5;background:none;"> GC) [allocation failure].
[</span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">94036</span>]       <span style="color:rgb(128,0,128);line-height:1.5;background:none;">95</span> ms: Scavenge <span style="color:rgb(128,0,128);line-height:1.5;background:none;">16.7</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">47.5</span>) -&gt; <span style="color:rgb(128,0,128);line-height:1.5;background:none;">16.6</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">54.5</span>) MB, <span style="color:rgb(128,0,128);line-height:1.5;background:none;">7.2</span> ms (+ <span style="color:rgb(128,0,128);line-height:1.5;background:none;">1.3</span> ms <span style="color:rgb(0,0,255);line-height:1.5;background:none;">in</span> <span style="color:rgb(128,0,128);line-height:1.5;background:none;">14</span> steps since <span style="color:rgb(0,0,255);line-height:1.5;background:none;">last</span><span style="line-height:1.5;background:none;"> GC) [allocation failure].
[</span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">94036</span>]      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">111</span> ms: Mark-sweep <span style="color:rgb(128,0,128);line-height:1.5;background:none;">23.6</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">54.5</span>) -&gt; <span style="color:rgb(128,0,128);line-height:1.5;background:none;">23.2</span> (<span style="color:rgb(128,0,128);line-height:1.5;background:none;">54.5</span>) MB, <span style="color:rgb(128,0,128);line-height:1.5;background:none;">6.2</span> ms (+ <span style="color:rgb(128,0,128);line-height:1.5;background:none;">15.3</span> ms <span style="color:rgb(0,0,255);line-height:1.5;background:none;">in</span> <span style="color:rgb(128,0,128);line-height:1.5;background:none;">222</span> steps since start of marking, biggest step <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.3</span> ms) [GC interrupt] [GC <span style="color:rgb(0,0,255);line-height:1.5;background:none;">in</span><span style="line-height:1.5;background:none;"> old space requested].
...</span></pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">V8 提供了很多程序启动选项：</p> 
   <table style="border:1px solid #C0C0C0;border-collapse:collapse;margin-left:15px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;line-height:25.2px;">
    <thead style="background:rgb(238,238,238);">
     <tr>
      <th style="border:1px solid #C0C0C0;border-collapse:collapse;">启动项</th> 
      <th style="border:1px solid #C0C0C0;border-collapse:collapse;">含义</th> 
     </tr>
    </thead>
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">–max-stack-size</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">设置栈大小</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">–v8-options</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">打印 V8 相关命令</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">–trace-bailout</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">查找不能被优化的函数，重写</td> 
     </tr>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;">–trace-deopt</td> 
      <td align="center" style="border:1px solid #C0C0C0;border-collapse:collapse;">查找不能优化的函数</td> 
     </tr>
    </tbody>
   </table>
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这些启动项都可以让我们查看 V8 在执行时的各种 log 日志，对于排查隐晦问题比较有用。然而这堆日志并不太好看，我们可以将日志输出来之后交给专业的工具帮我们分析，相比很多人都用过 Chrome DevTools 的 JavaScript CPU Profile，它在这里：</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/387325/201510/387325-20151023094315536-1565130258.jpg" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">通过 Profile 可以找到具体函数在整个程序中的执行时间和执行时间占比，从而分析到具体的代码问题，V8 也提供了 Profile 日志导出：</p> 
   <div class="cnblogs_code" style="border:1px dashed rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  $ node --prof test.js</pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">执行命令之后，会在该目录下产生一个&nbsp;<code style="border:none;font-family:Courier;line-height:14px;background:rgb(245,245,245);">*-v8.log</code>&nbsp;的日志文件，我们可以安装一个日志分析工具 tick:</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>  $ <span style="color:rgb(0,0,255);line-height:1.5;background:none;">sudo</span> npm <span style="color:rgb(0,0,255);line-height:1.5;background:none;">install</span> tick -<span style="line-height:1.5;background:none;">g
  $ node</span>-tick-processor *-<span style="line-height:1.5;background:none;">v8.log
[Top down (heavy) profile]:
  Note: callees occupying </span><span style="color:rgb(0,0,255);line-height:1.5;background:none;">less</span> than <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.1</span>%<span style="line-height:1.5;background:none;"> are not shown.

  inclusive      self           name
  ticks   total  ticks   total
    </span><span style="color:rgb(128,0,128);line-height:1.5;background:none;">426</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">36.7</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%  Function: ~&lt;anonymous&gt; node.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">27</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">10</span>
    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">426</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">36.7</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%    LazyCompile: ~startup node.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">30</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">19</span>
    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">410</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">35.3</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%      LazyCompile: ~Module.runMain module.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">499</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">26</span>
    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">409</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">35.2</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%        LazyCompile: Module._load module.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">273</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">24</span>
    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">407</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">35.1</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%          LazyCompile: ~Module.load module.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">345</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">33</span>
    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">406</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">35.0</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%            LazyCompile: ~Module._extensions..js module.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">476</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">37</span>
    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">405</span>   <span style="color:rgb(128,0,128);line-height:1.5;background:none;">34.9</span>%      <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0</span>    <span style="color:rgb(128,0,128);line-height:1.5;background:none;">0.0</span>%              LazyCompile: ~Module._compile module.js:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">378</span>:<span style="color:rgb(128,0,128);line-height:1.5;background:none;">37</span><span style="line-height:1.5;background:none;">
...</span></pre>
   </div> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们也可以使用 headdump 之类的工具将日志导出，然后放到 Chrome 的 Profile 中去分析。</p> 
   <h3 style="font-size:22px;line-height:1.5;color:rgb(255,255,255);text-indent:10px;font-family:Georgia, 'Times New Roman', Times, sans-serif;background:rgb(128,128,128);"> <a class="headeranchor-link" name="user-content-_4" href="http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html#_4" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);"></a>小结</h3> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">本文主要从 NodeJS 程序的调试手段上，以及调试性能的入口上做了简要的介绍，希望对你有所启发，不到之处还请斧正！</p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:25.2px;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p><font color="#333333"><span style="font-size:14px;line-height:25.2px;">本文转自Barret Lee博客园博客，原文链接：http://www.cnblogs.com/hustskyking/p/how-to-build-a-https-server.html，如需转载请自行联系原作者</span></font></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
