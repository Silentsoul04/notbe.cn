<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C#进阶系列——一步一步封装自己的HtmlHelper组件：BootstrapHelper（三：附源码）... « NotBeCN</title>
  <meta name="description" content="                  阅读目录          一、NumberBoxExtensions       二、DateTimeBoxExtensions              1、初始方案        2、改进方案             三、TextareExtensions      四、...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/14/weixin_33910137_90131574.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">C#进阶系列——一步一步封装自己的HtmlHelper组件：BootstrapHelper（三：附源码）...</h1>
    <p class="post-meta">Nov 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"> 
    <p style="font-size:18px;"><b>阅读目录</b></p> 
    <ul>
     <li><a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label0" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">一、NumberBoxExtensions</a></li> 
     <li> <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label1" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">二、DateTimeBoxExtensions</a> 
      <ul>
       <li><a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label1_0" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">1、初始方案</a></li> 
       <li><a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label1_1" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">2、改进方案</a></li> 
      </ul></li> 
     <li><a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label2" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">三、TextareExtensions</a></li> 
     <li><a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label3" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">四、SelectExtensions</a></li> 
     <li><a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_label4" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">五、总结</a></li> 
    </ul>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">&nbsp;</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;line-height:24px;font-size:18px;"><b>正文</b></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">前言：之前的两篇封装了一些基础的表单组件，这篇继续来封装几个基于bootstrap的其他组件。和上篇不同的是，这篇的有几个组件需要某些js文件的支持。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">&nbsp;本文原创地址：<a href="http://www.cnblogs.com/landeanfen/p/5842030.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">http://www.cnblogs.com/landeanfen/p/5842030.html</a></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">BootstrapHelper系列文章目录</p> 
   <ul style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">
    <li><a id="homepage1_HomePageDays_DaysList_ctl01_DayList_TitleUrl_0" class="postTitle2" href="http://www.cnblogs.com/landeanfen/p/5729551.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">C#进阶系列——一步一步封装自己的HtmlHelper组件：BootstrapHelper</a></li> 
    <li><a id="post_title_link_5746166" href="http://www.cnblogs.com/landeanfen/p/5746166.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">C#进阶系列——一步一步封装自己的HtmlHelper组件：BootstrapHelper（二）</a></li> 
    <li><a id="post_title_link_5842030" href="http://www.cnblogs.com/landeanfen/p/5842030.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">C#进阶系列——一步一步封装自己的HtmlHelper组件：BootstrapHelper（三：附源码）</a></li> 
   </ul>
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label0" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">一、NumberBoxExtensions</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">NumberBoxExtensions是一个基于bootstrap风格的数字文本框，基于之前博主介绍的自增器数字组件spinner去做的封装，不了解spinner组件的园友可以看看<a href="http://www.cnblogs.com/landeanfen/p/5461849.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">http://www.cnblogs.com/landeanfen/p/5461849.html</a>里面介绍的第二个组件。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><strong>通过之前的介绍我们知道，自增组件spinner的初始化不需要写任何的js代码，直接通过配置html里面的data属性即可实现它的初始化，这样给我们的封装就带来了很大的方便，我们只需要将常用的初始化参数作为扩展方法的参数传进来，然后在后台变成相应的data属性返回到前端。</strong></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">废话不多说，先将封装的源码摆上来。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border:1px solid #808080;line-height:1.5;">NumberBoxExtensions.cs</span> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">除去id、value，我们自增组件初始化需要的参数主要有min、max、step、rule等，分别对应组件的data-min、data-max、data-step、data-rule等参数。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">使用相当简单，首先在对应的页面引用相关的js和css文件，然后在cshtml里面这样调用即可：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre>@Bootstrap.NumberTextBox(null, "1", 1, 10, 2, null)</pre>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">得到结果：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201609/459756-20160905142135051-1178452975.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">这样比我们每次都去copy一大段html代码要方便多了吧，你有没有一丝心动呢~~</p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label1" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">二、DateTimeBoxExtensions</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">有了上面的数字组件作为基础，接下来就是封装时间组件了。博主同样打算使用data属性去做初始化，可是找了半天文档，datatimepicker里面没有自带data属性初始化的方式，没办法，只有博主自己去做data属性的初始化了。</p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label1_0" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h2 style="font-size:15px;line-height:23px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,149);">1、初始方案</h2> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">我们新建一个文件：bootstrap-datetimepicker-helper.js。里面的代码如下</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> datetimedefault =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
        locale: </span>'zh-CN',      <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">中文化</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">    };

    $.each($(</span>".date"), <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (index, item) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> data =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> $(item).data();
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> param = $.extend({}, datetimedefault, data ||<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {});

        $(item).datetimepicker(param);
    });
});</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">然后html代码这样写</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">='input-group </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">date' data-format</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="YYYY-MM-DD"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);"> data-maxDate</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="2017-01-10"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);"> data-minDate</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="2010-01-10"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">input </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">type</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">='text' </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="form-control"</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">/&gt;</span>
    <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">span </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="input-group-addon"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
          <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">span </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="glyphicon glyphicon-calendar"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">span</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
    <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">span</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">貌似都没有问题，起初博主也以为没有任何问题。可是事与愿违！这里有一点博主没有考虑到，那就是Jquery里面的data()方法取到的属性名会全部转小写，也就是说，我们html里面写的data-maxDate，可是通过data()方法得到的结果却变成了maxdate，如下图：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201609/459756-20160905144738926-772063381.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">然后在初始化datetimepicker的时候就报了js异常。此法行不通。</p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label1_1" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h2 style="font-size:15px;line-height:23px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,149);">2、改进方案</h2> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">既然上面的方法行不通，那我们就要改进啊，data()方法是否存在什么参数可以让它不转小写的？找了一圈，没找到啥答案。最后没办法，博主打算自行改造，于是js代码变成了这样：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> datetimedefault =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
        format: </span>'YYYY-MM-DD',<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">日期格式化，只显示日期</span>
        locale: 'zh-CN',      <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">中文化</span>
        maxDate: '2017-01-01',<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">最大日期</span>
        minDate: '2010-01-01', <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">最小日期</span>
        viewMode: 'days'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        defaultDate: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        disabledDates: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        enabledDates: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">false</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
    };

    $.each($(</span>".date"), <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (index, item) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> data =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> $(item).data();
        $.each(data, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (key, value) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">for</span> (i <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">in</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> datetimedefault) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (key ==<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> i.toLowerCase()) {
                    datetimedefault[i] </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> value;
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">break</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
                }
            }
        });
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">var param = $.extend({}, datetimedefault, data || {});</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
        $(item).datetimepicker(datetimedefault);
    });
});</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">原理就是比较data()方法得到的结果和datetimedefault的属性名转小写后进行对比，如果相同，则将html里面的data属性覆盖默认的属性。调试了几遍，基本没发现什么问题。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">代码写成这样，确实可以解决我们上面的问题，但是需要我们的&nbsp;<span class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">datetimedefault</span>&nbsp;变量里面包含足够多的默认参数，这样才能达到覆盖的目的，当然项目中一般修改的就那么几个参数，这里只需要加上一些我们经常需要变化的默认属性即可。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">好了，有上面的作为理论基础，我们的DataTimeBox也就好封装了。直接上代码吧。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border:1px solid #808080;line-height:1.5;">DateTimeBoxExtensions.cs</span> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">然后我们的cshtml页面只需要引用我们的js和css</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">link </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">href</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="~/Content/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);"> rel</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="stylesheet"</span> <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">/&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">script </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">src</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="~/Content/bootstrap-datetimepicker/js/moment-with-locales.js"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">script</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">script </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">src</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="~/Content/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">script</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">script </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">src</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="~/Content/bootstrap-datetimepicker/js/bootstrap-datetimepicker-helper.js"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">script</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">然后直接使用</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre>            <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="col-xs-3"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                @Bootstrap.DateTimeBox("starttime", null, null, null, null, null, null)
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span>
            <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="col-xs-3"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
                @Bootstrap.DateTimeBox("endtime", null, null, null, null, null, null)
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">得到结果</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201609/459756-20160905150415551-2042003928.png" alt="" style="border:0px;"></p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label2" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">三、TextareExtensions</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">关于textarea文本域的封装相对来说是比较简单的，因为本身它的结构和TextBox就差不多，我们直接给出封装的源码吧。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border:1px solid #808080;line-height:1.5;">TextAreaExtensions.cs</span> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">只支持几个最简单的参数rows和cols，如果你的项目有一些特殊的需求，比如需要初始化成富文本编辑框，你也可以自己去改进。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">使用方法</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre>        <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
            @Bootstrap.TextAreaBox("id", "", "", 3, 5)
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">这里有一个问题要提一下，就是我们直接这样写，得到的结果却是：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201609/459756-20160905151018035-1488430103.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">貌似我们的cols属性没有起作用，原来，只要你的标签加了class='form-control'样式，那它就会在满撑整个div，解决的方法也很简单，比如我们可以在div上面做些处理：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre>        <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="col-xs-3"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
            @Bootstrap.TextAreaBox("", "", "", 3, 5)
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201609/459756-20160905151301785-871229057.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">既然cols属性没有起作用，其实参数里面的cols可以考虑去掉。</p> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label3" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">四、SelectExtensions</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">又到了纠结的select下拉框。为什么说它纠结呢，因为封装它的时候要考虑很多问题，比如：</p> 
   <ul style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">
    <li>&lt;optgroup&gt;和&lt;option&gt;如何处理</li> 
    <li>静态的option值如何传到后台</li> 
    <li>是封装原始的select还是封装成基于某些组件（比如select2）的select</li> 
    <li>方法和事件该如何处理等等</li> 
   </ul>
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">后来转念一想，封装的目的是为了什么？不就是为了使用起来更加方便吗，如果封得太死，使用起来能够方便吗？后来所幸直接封装成最简单的select算了。博主打算这样做：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">如果是静态的option，直接写原生的select标签；如果是动态的option，则传递对应的url到后台，取到数据后生成option。封装的代码如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <img class="code_img_closed" src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" style="border:0px;vertical-align:middle;">&nbsp;
    <span class="cnblogs_code_collapse" style="border:1px solid #808080;line-height:1.5;">SelectExtensions.cs</span> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">然后前端使用js去初始化，需要有一个js文件utility.combobox.js：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> ($) {
    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">1.定义jquery的扩展方法combobox</span>
    $.fn.combobox = <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (options, param) {
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> options == 'string'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span> $.fn.combobox.methods[options](<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, param);
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">2.将调用时候传过来的参数和default参数合并</span>
        options = $.extend({}, $.fn.combobox.defaults, options ||<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {});
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">3.添加默认值</span>
        <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> target = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        target.attr(</span>'valuefield'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, options.valueField);
        target.attr(</span>'textfield'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, options.textField);
        target.empty();
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> option = $('&lt;option&gt;&lt;/option&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        option.attr(</span>'value', ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        option.text(options.placeholder);
        target.append(option);
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">4.判断用户传过来的参数列表里面是否包含数据data数据集，如果包含，不用发ajax从后台取，否则否送ajax从后台取数据</span>
        <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (options.data) {
            init(target, options.data);
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">else</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">var param = {};</span>
<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">            options.onBeforeLoad.call(target, options.param);
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (!options.url) <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">;
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span> (<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">typeof</span> options.param == "string"<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">) {
                options.param </span>=<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> JSON.parse(options.param);
            }
            $.getJSON(options.url, options.param, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (data) {
                init(target, data);
            });
        }
        </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> init(target, data) {
            $.each(data, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, item) {
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> option = $('&lt;option&gt;&lt;/option&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
                option.attr(</span>'value'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">, item[options.valueField]);
                option.text(item[options.textField]);
                target.append(option);
            });
            options.onLoadSuccess.call(target);
        }
        target.unbind(</span>"change"<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
        target.on(</span>"change", <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (e) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">if</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (options.onChange)
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> options.onChange(target.val());
        });
    }

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">5.如果传过来的是字符串，代表调用方法。</span>
    $.fn.combobox.methods =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
        getValue: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (jq) {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">return</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> jq.val();
        },
        setValue: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (jq, param) {
            jq.val(param);
        },
        load: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (jq, url) {
            $.getJSON(url, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (data) {
                jq.empty();
                </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> option = $('&lt;option&gt;&lt;/option&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
                option.attr(</span>'value', ''<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
                option.text(</span>'请选择'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
                jq.append(option);
                $.each(data, </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (i, item) {
                    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> option = $('&lt;option&gt;&lt;/option&gt;'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
                    option.attr(</span>'value', item[jq.attr('valuefield'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)]);
                    option.text(item[jq.attr(</span>'textfield'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">)]);
                    jq.append(option);
                });
            });
        }
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">6.默认参数列表</span>
    $.fn.combobox.defaults =<span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> {
        url: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        param: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        data: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">null</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        valueField: </span>'value'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        textField: </span>'text'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        placeholder: </span>'请选择'<span style="font-family:'Courier New';font-size:12px;line-height:1.5;">,
        onBeforeLoad: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (param) { },
        onLoadSuccess: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () { },
        onChange: </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> (value) { }
    };

    </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">//</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,128,0);">这一段是新加的，在页面初始化完成之后调用初始化方法</span>
    $(document).ready(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
        $(</span>'select').each(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">function</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;"> () {
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">var</span> $combobox = $(<span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">this</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">);
            $.fn.combobox.call($combobox, $combobox.data());
        })
    });

})(jQuery);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(39,105,192);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">这个js文件来源于博主之前的一篇文章<a href="http://www.cnblogs.com/landeanfen/p/5159911.html" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">http://www.cnblogs.com/landeanfen/p/5159911.html</a></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">然后前端调用</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);line-height:24px;font-family:'Courier New';font-size:12px;">
    <pre>            <span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(255,0,0);">class</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">="col-xs-2"</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">
               @Bootstrap.SelectBox("sel", null, null, "/Home/GetDept", null, "Name", "Id")
            </span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&lt;/</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(128,0,0);">div</span><span style="font-family:'Courier New';font-size:12px;line-height:1.5;color:rgb(0,0,255);">&gt;</span></pre>
   </div> 
   <div style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;text-align:right;"> 
    <a href="http://www.cnblogs.com/landeanfen/p/5842030.html#_labelTop" rel="nofollow" style="color:rgb(39,105,192);text-decoration:none;">回到顶部</a>
    <a name="_label4" style="color:rgb(39,105,192);"></a> 
   </div> 
   <h1 style="font-size:25px;line-height:31px;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(43,102,0);">五、总结</h1> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">至此，我们BootstrapHelper第一个版本的封装基本算是完成了，主要封装的组件有如下几个：</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><img src="https://images2015.cnblogs.com/blog/459756/201609/459756-20160905153206863-40177740.png" alt="" style="border:0px;"></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;">当然还有大家最喜欢源码分享了。</p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p style="font-family:'微软雅黑', PTSans, Arial, sans-serif;font-size:16px;line-height:24px;"><br></p> 
   <p><font><span style="line-height:24px;">本文转自懒得安分博客园博客，原文链接：http://www.cnblogs.com/landeanfen/p/5842030.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
