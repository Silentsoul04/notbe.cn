<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>poj2096--Collecting Bugs(可能性dp第二弹，需求预期) « NotBeCN</title>
  <meta name="description" content="                                            Collecting Bugs                                                       Time Limit:&nbsp;10000MS            &nbsp; ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/14/weixin_33713350_90129949.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">poj2096--Collecting Bugs(可能性dp第二弹，需求预期)</h1>
    <p class="post-meta">Nov 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <table border="0" style="background-image:url(&quot;http://poj.org/images/table_back.jpg&quot;);border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> 
       <div class="ptt" style="text-align:center;font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">
        Collecting Bugs
       </div> 
       <div class="plm" style="text-align:center;font-family:Arial, Helvetica, sans-serif;font-size:12pt;"> 
        <table style="border:1px solid #C0C0C0;border-collapse:collapse;">
         <tbody>
          <tr>
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Time Limit:</strong><span style="line-height:1.8;">&nbsp;</span>10000MS</td> 
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Memory Limit:</strong><span style="line-height:1.8;">&nbsp;</span>64000K</td> 
          </tr>
          <tr>
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Total Submissions:</strong><span style="line-height:1.8;">&nbsp;</span>2678</td> 
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;"> <strong>Accepted:</strong><span style="line-height:1.8;">&nbsp;</span>1302</td> 
          </tr>
          <tr>
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(14,173,0);"> <strong>Case Time Limit:</strong><span style="line-height:1.8;">&nbsp;</span>2000MS</td> 
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;">&nbsp;</td> 
           <td style="border:1px solid #C0C0C0;border-collapse:collapse;color:#FF0000;font-weight:bold;">Special Judge</td> 
          </tr>
         </tbody>
        </table>
       </div> <p style="font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">Description</p> 
       <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
        Ivan is fond of collecting. Unlike other people who collect post stamps, coins or other material stuff, he collects software bugs. When Ivan gets a new program, he classifies all possible bugs into n categories. Each day he discovers exactly one bug in the program and adds information about it and its category into a spreadsheet. When he finds bugs in all bug categories, he calls the program disgusting, publishes this spreadsheet on his home page, and forgets completely about the program.
        <span style="line-height:1.8;">&nbsp;</span>
        <br> Two companies, Macrosoft and Microhard are in tight competition. Microhard wants to decrease sales of one Macrosoft program. They hire Ivan to prove that the program in question is disgusting. However, Ivan has a complicated problem. This new program has s subcomponents, and finding bugs of all types in each subcomponent would take too long before the target could be reached. So Ivan and Microhard agreed to use a simpler criteria --- Ivan should find at least one bug in each subsystem and at least one bug of each category.
        <span style="line-height:1.8;">&nbsp;</span>
        <br> Macrosoft knows about these plans and it wants to estimate the time that is required for Ivan to call its program disgusting. It's important because the company releases a new version soon, so it can correct its plans and release it quicker. Nobody would be interested in Ivan's opinion about the reliability of the obsolete version.
        <span style="line-height:1.8;">&nbsp;</span>
        <br> A bug found in the program can be of any category with equal probability. Similarly, the bug can be found in any given subsystem with equal probability. Any particular bug cannot belong to two different categories or happen simultaneously in two different subsystems. The number of bugs in the program is almost infinite, so the probability of finding a new bug of some category in some subsystem does not reduce after finding any number of bugs of that category in that subsystem.
        <span style="line-height:1.8;">&nbsp;</span>
        <br> Find an average time (in days of Ivan's work) required to name the program disgusting.
       </div> <p style="font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">Input</p> 
       <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
        Input file contains two integer numbers, n and s (0 &lt; n, s &lt;= 1 000).
       </div> <p style="font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">Output</p> 
       <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;">
        Output the expectation of the Ivan's working days needed to call the program disgusting, accurate to 4 digits after the decimal point.
       </div> <p style="font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">Sample Input</p> <pre class="sio">1 2</pre> <p style="font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">Sample Output</p> <pre class="sio">3.0000</pre> <p style="font-family:Arial, Helvetica, sans-serif;color:#0000FF;font-size:18pt;font-weight:bold;">Source</p> 
       <div class="ptx" style="font-family:'Times New Roman', Times, serif;font-size:12pt;"> 
        <a href="http://poj.org/searchproblem?field=source&amp;key=Northeastern+Europe+2004" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">Northeastern Europe 2004</a>, Northern Subregion
       </div> </td>
     </tr>
    </tbody>
   </table>
   <span style="line-height:1.8;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span>
   <span style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></span> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">给出s个子程序。n种bug。每天能够找出一个bug，该bug是随机的一种bug，在随机的一个程序里，问当找到n种bug，而且在每一个程序中都找到过bug的期望。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:18px;">dp[i][j]，代表由已经在i个子程序中找到过j种bug到最后的期望，求得的dp[0][0]就是结果。</span></p> 
   <pre><code class="language-cpp">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
using namespace std;
double dp[1200][1200] ;
int main()
{
    int i , j , s , n ;
    scanf("%d %d", &amp;s, &amp;n);
    memset(dp,0,sizeof(dp));
    for(i = s ; i &gt;= 0 ; i--)
    {
        for(j = n ; j &gt;= 0 ; j--)
        {
            if( i == s &amp;&amp; j == n ) continue ;
            else if( i == s )
                dp[i][j] = ( (n-j)*1.0/n*dp[i][j+1] + 1.0 ) * n / (n-j) ;
            else if( j == n )
                dp[i][j] = ( (s-i)*1.0/s*dp[i+1][j] + 1.0 ) * s / (s-i) ;
            else
                dp[i][j] = ( (s-i)*1.0*j/(s*n)*dp[i+1][j] + i*(n-j)*1.0/(s*n)*dp[i][j+1] + (s-i)*(n-j)*1.0/(s*n)*dp[i+1][j+1] + 1.0 )*s*n/(s*n-i*j);
        }
    }
    printf("%.4lf\n", dp[0][0]);
    return 0;
}
</code></pre> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> &nbsp;</p> 
   <div> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;">版权声明：本文博客原创文章，博客，未经同意，不得转载。</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
    <p><font color="#333333"><span style="font-size:12px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/4721863.html，如需转载请自行联系原作者</span></font></p> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
