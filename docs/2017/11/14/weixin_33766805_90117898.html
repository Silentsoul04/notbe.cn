<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JavaScript面向对象 « NotBeCN</title>
  <meta name="description" content="             理解对象    对象这个词如雷贯耳，同样出名的一句话：XXX语言中一切皆为对象！    对象究竟是什么？什么叫面向对象编程？         对象（object），台湾译作物件，是面向对象（Object Oriented）中的术语，既表示客观世界问题空间（Namespace）中的某个具体...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/11/14/weixin_33766805_90117898.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">JavaScript面向对象</h1>
    <p class="post-meta">Nov 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="list-style-type:none;list-style-image:none;font-size:28px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">理解对象</h1> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">对象这个词如雷贯耳，同样出名的一句话：XXX语言中一切皆为对象！</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">对象究竟是什么？什么叫面向对象编程？</p> 
   <blockquote style="background:rgb(255,255,255) none;border-top:none;border-right:none;border-bottom:none;border-left:2px solid rgb(153,153,153);list-style-type:none;list-style-image:none;color:rgb(153,153,153);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <p style="list-style-type:none;list-style-image:none;">对象（object），台湾译作物件，是面向对象（Object Oriented）中的术语，既表示客观世界问题空间（Namespace）中的某个具体的事物，又表示软件系统解空间中的基本元素。</p> 
   </blockquote> 
   <blockquote style="background:rgb(255,255,255) none;border-top:none;border-right:none;border-bottom:none;border-left:2px solid rgb(153,153,153);list-style-type:none;list-style-image:none;color:rgb(153,153,153);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <p style="list-style-type:none;list-style-image:none;">在软件系统中，对象具有唯一的标识符，对象包括属性（Properties）和方法（Methods），属性就是需要记忆的信息，方法就是对象能够提供的服务。在面向对象（Object Oriented）的软件中，对象（Object）是某一个类（Class）的实例（Instance）。 —— 维基百科</p> 
   </blockquote> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">对象是从我们现实生活中抽象出来的一个概念，俗话说物以类聚，人以群分，我们也经常说有一类人，他们专业给隔壁家制造惊喜，也就是我们说的老王</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这里面就有两个重要概念</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">类：无论是物以类聚，还是有一类人，这里说的类并不是实际存在的事物，是一些特征、是一些规则等</li> 
    <li style="list-style-type:decimal;list-style-image:none;">老王：这是个实物，是现实存在，和类的关系就是符合类的描述</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">对应到计算机术语，类就是class，定义了一些特点（属性 property）和行为（方法 method），比如说给隔壁制造惊喜的这类人有几个特征</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">长相文质彬彬，为人和善</li> 
    <li style="list-style-type:decimal;list-style-image:none;">姓王</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">同时这些人还有技能（行为）</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">帮隔壁修下水道</li> 
    <li style="list-style-type:decimal;list-style-image:none;">亲切问候对方儿子</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们刚才就描述了一个类，用代码表示就是</p> 
   <pre><code class="hljs cs" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">class</span> <span class="hljs-title" style="color:rgb(163,21,21);">LaoWang</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> name;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> familyNmae = <span class="hljs-string" style="color:rgb(163,21,21);">"wang"</span>;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">bool</span> isKind = <span class="hljs-keyword" style="color:rgb(0,0,255);">true</span>;

    LaoWang(<span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> name){
        <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name = name;
    }

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">void</span> <span class="hljs-title" style="color:rgb(163,21,21);">fixPipe</span>(<span class="hljs-params"></span>)</span>{
        statement
    }

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">void</span> <span class="hljs-title" style="color:rgb(163,21,21);">greetSon</span>(<span class="hljs-params"></span>)</span>{
        statement
    }
}</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">符合这些特点并且有上述行为能力的，我们称之为老王，从描述我们就可以看出来<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">LaoWang</code>不是指某个人，而是指一类人，符合上述描述的都可能是老王！用计算机术语说就是没个活蹦乱跳的老王都是类<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">LaoWang</code>的<strong>实例</strong>。用代码描述就是</p> 
   <pre><code class="hljs cpp" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">LaoWang lw1 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> LaoWang(<span class="hljs-string" style="color:rgb(163,21,21);">"yi"</span>);
LaoWang lw2 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> LaoWang(<span class="hljs-string" style="color:rgb(163,21,21);">"er"</span>);
...
LaoWang lw1000000 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> LaoWang(<span class="hljs-string" style="color:rgb(163,21,21);">"baiwan"</span>);</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">可以看出我们能够根据类<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">LaoWang</code>实例化出成千百万个老王来，老王不是一个人在战斗！</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">封装</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">刚才我们说的已经涉及到了对象的一个重要特性——封装</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">以前我们可能会有这样的描述</p> 
   <pre><code class="hljs r" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">王一长相文质彬彬，为人和善，姓王，有技能帮隔壁修下水道、亲切问候对方儿子
王二长相文质彬彬，为人和善，姓王，有技能帮隔壁修下水道、亲切问候对方儿子
王三长相文质彬彬，为人和善，姓王，有技能帮隔壁修下水道、亲切问候对方儿子
王四长相文质彬彬，为人和善，姓王，有技能帮隔壁修下水道、亲切问候对方儿子
<span class="hljs-keyword" style="color:rgb(0,0,255);">...</span>
王百万长相文质彬彬，为人和善，姓王，有技能帮隔壁修下水道、亲切问候对方儿子</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">有了对象的思想我们可以这样说了，首先定义一类人</p> 
   <pre><code class="hljs markdown" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">有那么一类人

<span class="hljs-bullet" style="color:rgb(0,176,232);">1. </span>长相文质彬彬，为人和善
<span class="hljs-bullet" style="color:rgb(0,176,232);">2. </span>姓王

同时这些人还有技能（行为）

<span class="hljs-bullet" style="color:rgb(0,176,232);">1. </span>帮隔壁修下水道
<span class="hljs-bullet" style="color:rgb(0,176,232);">2. </span>亲切问候对方儿子</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">然后是实例化，也就是对号入座</p> 
   <pre><code class="hljs r" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">王一是老王
王二是老王
<span class="hljs-keyword" style="color:rgb(0,0,255);">...</span>
王百万是老王</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">也就是我们通过类来描述一套规则，其中包括</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">属性</li> 
    <li style="list-style-type:decimal;list-style-image:none;">行为</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">对于这个类实例化出的对象，也就是副歌这个类描述的对象，不用去关心对象细节，我们认为符合类的描述，就会有类规定的属性和方法，至于每个方法具体实现细节不去关注，比如老王怎么给人修水管，我知道他有修水管的技能，然后用的时候让他去修就好了（只要不修我家的）</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们称这种隐藏细节的特征叫做封装</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">JavaScript 对象</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">因为JavaScript是基于原型（prototype）的，没有类的概念（ES6有了，这个暂且不谈），我们能接触到的都是对象，真正做到了一切皆为对象</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">所以我们再说对象就有些模糊了，很多同学会搞混类型的对象和对象本身这个概念，我们在接下来的术语中不提对象，我们使用和Java类似的方式，方便理解</p> 
   <pre><code class="hljs fortran" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span></span> People(<span class="hljs-keyword" style="color:rgb(0,0,255);">name</span>){
    this.<span class="hljs-keyword" style="color:rgb(0,0,255);">name</span> = <span class="hljs-keyword" style="color:rgb(0,0,255);">name</span>;

    this.printName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span><span class="hljs-params">()</span></span>{
        console.<span class="hljs-built_in" style="color:rgb(0,0,255);">log</span>(<span class="hljs-keyword" style="color:rgb(0,0,255);">name</span>);
    };
}</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这是一个函数，也是对象，我们称之为<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">类</code></p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p1 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> People(<span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>);</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">p1是People类new出来的对象，我们称之为<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">实例</code></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">类和实例的关系用我们码农的专业眼光看起来是这样的</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/20150401QQ20150401-2.png" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">类就是搬砖的模具，实例就是根据模具印出来的砖块，一个模具可以印出（实例化）多个实例，每个实例都符合类的特征，这个例子和我们JavaScript中概念很像</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在Java中<strong>类</strong>不能称之为对象，如同<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">老王</code>是一个概念、规则的集合，但是在JavaScript中，本身没有类的概念，我们需要用对象模拟出类，然后用类去创建对象</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们的例子中模具虽然是<strong>“类”</strong>，但同时也是个存在的实物，是个对象，我们为了方便理解，称之为<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">类</code></p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">Object</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们知道JavaScript有<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">null</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">undefined</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">number</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">boolean</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">string</code>五种简单类型，<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">null</code>和<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">undefined</code>分别表示没有声明和声明后没有初始化的变量、对象，是两个简单的值，其余三个有对应的包装对象<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Number</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Boolean</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">String</code></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">其它的就都是<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">object</code>类型了，比如常用的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Array</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Date</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">RegExp</code>等，我们最常用的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Function</code>也是个对象，虽然</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">typeof</span> <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{}; <span class="hljs-comment" style="color:#008000;">// "function"</span></code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">但是Function实例和其它类型的实例没有什么区别，都是对象，只不过<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">typeof</code>操作符对其做了特殊处理</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在JavaScript中使用对象很简单，使用new操作符执行<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Obejct</code>函数就可以构建一个最基本的对象</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> <span class="hljs-built_in" style="color:rgb(0,0,255);">Object</span>();</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们称new 调用的函数为构造函数，构造函数和普通函数区别仅仅在于是否使用了<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">new</code>来调用，它们的返回值也会不同</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">所谓“构造函数”，就是专门用来生成“对象”的函数。它提供模板，作为对象的基本结构。一个构造函数，可以生成多个对象，这些对象都有相同的结构</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们可以通过<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">.</code>来位对象添加属性和方法</p> 
   <pre><code class="hljs fortran" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">obj.<span class="hljs-keyword" style="color:rgb(0,0,255);">name</span> = <span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>;
obj.printName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span><span class="hljs-params">()</span></span>{
    console.<span class="hljs-built_in" style="color:rgb(0,0,255);">log</span>(obj.<span class="hljs-keyword" style="color:rgb(0,0,255);">name</span>);
};</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这么写比较麻烦，我们可以使用字面量来创建一个对象，下面的写法和上面等价</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj = {
    name: <span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>,
    printNmae: <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(obj.name);
    }
}</code></pre> 
   <h1 style="list-style-type:none;list-style-image:none;font-size:28px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">构造对象</h1> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们可以抛开类，使用字面量来构造一个对象</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj1 = {
    nick: <span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>,
    age: <span class="hljs-number">20</span>,
    printName: <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(obj1.nick);
    }
}
<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj2 = {
    nick: <span class="hljs-string" style="color:rgb(163,21,21);">'Casper'</span>,
    age: <span class="hljs-number">25</span>,
    printName: <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(obj2.nick);
    }
}</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">问题</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这样构造有两个明显问题</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">太麻烦了，每次构建一个对象都是复制一遍代码</li> 
    <li style="list-style-type:decimal;list-style-image:none;">如果想个性化，只能通过手工赋值，使用者必需了解对象详细</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这两个问题其实也是我们不能抛开类的重要原因，也是类的作用</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">使用函数做自动化</h2> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">createObj</span>(<span class="hljs-params">nick, age</span>)</span>{
  <span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj = {
    nick: nick,
    age: age,
    printName: <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick);
        }
  };
  <span class="hljs-keyword" style="color:rgb(0,0,255);">return</span> obj;
}

<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj3 = createObj(<span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>, <span class="hljs-number">30</span>);
obj3.printName();</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们通过创建一个函数来实现自动创建对象的过程，至于个性化通过参数实现，开发者不必关注细节，只需要传入指定参数即可</p> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">问题</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这种方法解决了构造过程复杂，需要了解细节的问题，但是构造出来的对象类型都是Object，没有识别度</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">有型一些</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">要想让我们构造出的函数有型一些，我们需要了解一些额外知识</p> 
   <ul style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">function作为构造函数（通过new操作符调用）的时候会返回一个类型为function的name的对象</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">function可以接受参数，可以根据参数来创建相同类型不同值的对象</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">function实例作用域内有一个constructor属性，这个属性就可以指示其构造器</p> </li> 
   </ul>
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">new</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">new 运算符接受一个函数 F 及其参数：new F(arguments...)。这一过程分为三步：</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">创建类的实例。这步是把一个空的对象的&nbsp;<strong>proto</strong>&nbsp;属性设置为 F.prototype 。</li> 
    <li style="list-style-type:decimal;list-style-image:none;">初始化实例。函数 F 被传入参数并调用，关键字 this 被设定为该实例。</li> 
    <li style="list-style-type:decimal;list-style-image:none;">返回实例。</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">根据这几个特性，我们可以改造一下创建对象的方式</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Person</span>(<span class="hljs-params">nick, age</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick = nick;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.sayName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick);
    }
}
<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p1 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Person();</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">instanceof</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">instanceof是一个操作符，可以判断<strong>对象</strong>是否为某个类型的实例</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">p1 <span class="hljs-keyword" style="color:rgb(0,0,255);">instanceof</span> Person; <span class="hljs-comment" style="color:#008000;">// true</span>
p1 <span class="hljs-keyword" style="color:rgb(0,0,255);">instanceof</span> <span class="hljs-built_in" style="color:rgb(0,0,255);">Object</span>;<span class="hljs-comment" style="color:#008000;">// true</span></code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">instanceof判断的是对象</p> 
   <pre><code class="hljs basic" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-symbol" style="color:rgb(0,176,232);">1 </span>instanceof Number; // false</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">问题</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">构造函数在解决了上面所有问题，同时为实例带来了类型，但可以注意到每个实例<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">printName</code>方法实际上作用一样，但是每个实例要重复一遍，大量对象存在的时候是浪费内存</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">构造函数</h2> 
   <ul style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">任何函数使用new表达式就是构造函数</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">每个<strong>函数</strong>都自动添加一个名称为<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>属性，这是一个对象</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">每个<strong>对象</strong>都有一个内部属性&nbsp;<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__proto__</code>(规范中没有指定这个名称，但是浏览器都这么实现的) 指向其类型的prototype属性，类的实例也是对象，其<strong>proto</strong>属性指向“类”的prototype</p> </li> 
   </ul>
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">prototype</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/201504012QQ20150401-4.png" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">通过图示我们可以看出一些端倪，实例可以通过<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__prop__</code>访问到其类型的prototype属性，这就意味着类的prototype对象可以作为一个公共容器，供所有实例访问。</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">抽象重复</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们刚才的问题可以通过这个手段解决</p> 
   <ul style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">所有实例都会通过原型链引用到类型的prototype</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">prototype相当于特定类型所有实例都可以访问到的一个公共容器</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">重复的东西移动到公共容器里放一份就可以了</p> </li> 
   </ul>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">看下代码</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Person</span>(<span class="hljs-params">nick, age</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick = nick;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
}
Person.prototype.sayName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick);
}

<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p1 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Person();
p1.sayName();</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这时候我们对应的关系是这样的</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/201504012QQ20150401-3.png" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">终于有个靠谱的构建对象的方式了</p> 
   <h1 style="list-style-type:none;list-style-image:none;font-size:28px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">What's this?</h1> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">由于运行期绑定的特性，JavaScript 中的&nbsp;<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>&nbsp;含义非常多，它可以是全局对象、当前对象或者任意对象，这完全取决于函数的调用方式</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">随着函数使用场合的不同，this的值会发生变化。但是有一个总的原则，那就是this指的是，调用函数的那个对象</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">作为函数调用</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在函数被直接调用时<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>绑定到全局对象。在浏览器中，<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">window</code>&nbsp;就是该全局对象</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);

<span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">fn1</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
}

fn1();</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">内部函数</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">函数嵌套产生的内部函数的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>不是其父函数，仍然是全局变量</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">fn0</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">fn</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
    }
    fn();
}

fn0();</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">setTimeout、setInterval</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这两个方法执行的函数this也是全局对象</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-built_in" style="color:rgb(0,0,255);">document</span>.addEventListener(<span class="hljs-string" style="color:rgb(163,21,21);">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
    }, <span class="hljs-number">200</span>);
}, <span class="hljs-literal" style="color:rgb(163,21,21);">false</span>);</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">作为构造函数调用</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">所谓构造函数，就是通过这个函数生成一个新对象（object）。这时，this就指这个新对象</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">new 运算符接受一个函数 F 及其参数：new F(arguments...)。这一过程分为三步：</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">创建类的实例。这步是把一个空的对象的&nbsp;<strong>proto</strong>&nbsp;属性设置为 F.prototype 。</li> 
    <li style="list-style-type:decimal;list-style-image:none;">初始化实例。函数 F 被传入参数并调用，关键字 this 被设定为该实例。</li> 
    <li style="list-style-type:decimal;list-style-image:none;">返回实例。</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">看例子</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Person</span>(<span class="hljs-params">name</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name = name;
}
Person.prototype.printName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name);
};

<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p1 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Person(<span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>);
<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p2 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Person(<span class="hljs-string" style="color:rgb(163,21,21);">'Casper'</span>);
<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p3 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Person(<span class="hljs-string" style="color:rgb(163,21,21);">'Vincent'</span>);

p1.printName();
p2.printName();
p3.printName();</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">作为对象方法调用</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在 JavaScript 中，函数也是对象，因此函数可以作为一个对象的属性，此时该函数被称为该对象的方法，在使用这种调用方式时，this 被自然绑定到该对象</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> obj1 = {
    name: <span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>,
    fn : <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
    }
};

obj1.fn();</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">小陷阱</h3> 
   <pre><code class="hljs swift" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> fn2 = obj1.fn;

fn2();</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">DOM对象绑定事件</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在事件处理程序中<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>代表事件源DOM对象（低版本IE有bug，指向了window）</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-built_in" style="color:rgb(0,0,255);">document</span>.addEventListener(<span class="hljs-string" style="color:rgb(163,21,21);">'click'</span>, <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
    <span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> _document = <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>;
    setTimeout(<span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>);
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(_document);
    }, <span class="hljs-number">200</span>);
}, <span class="hljs-literal" style="color:rgb(163,21,21);">false</span>);</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">Function.prototype.bind</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">bind，返回一个新函数，并且使函数内部的this为传入的第一个参数</p> 
   <pre><code class="hljs swift" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> fn3 = obj1.fn.bind(obj1);
fn3();</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">使用call和apply设置this</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">call apply，调用一个函数，传入函数执行上下文及参数</p> 
   <pre><code class="hljs css" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-selector-tag" style="color:rgb(0,0,255);">fn</span><span class="hljs-selector-class">.call</span>(<span class="hljs-selector-tag" style="color:rgb(0,0,255);">context</span>, <span class="hljs-selector-tag" style="color:rgb(0,0,255);">param1</span>, <span class="hljs-selector-tag" style="color:rgb(0,0,255);">param2</span>...)

<span class="hljs-selector-tag" style="color:rgb(0,0,255);">fn</span><span class="hljs-selector-class">.apply</span>(<span class="hljs-selector-tag" style="color:rgb(0,0,255);">context</span>, <span class="hljs-selector-tag" style="color:rgb(0,0,255);">paramArray</span>)</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">语法很简单，第一个参数都是希望设置的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>对象，不同之处在于<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">call</code>方法接收参数列表，而<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">apply</code>接收参数数组</p> 
   <pre><code class="hljs css" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-selector-tag" style="color:rgb(0,0,255);">fn2</span><span class="hljs-selector-class">.call</span>(<span class="hljs-selector-tag" style="color:rgb(0,0,255);">obj1</span>);
<span class="hljs-selector-tag" style="color:rgb(0,0,255);">fn2</span><span class="hljs-selector-class">.apply</span>(<span class="hljs-selector-tag" style="color:rgb(0,0,255);">obj1</span>);</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">caller</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在函数<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">A</code>调用函数<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">B</code>时，被调用函数<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">B</code>会自动生成一个<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">caller</code>属性，指向调用它的函数对象，如果函数当前未被调用，或并非被其他函数调用，则caller为null</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">fn4</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(fn4.caller);
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">fn</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(fn.caller);
    }
    fn();
}

fn4();</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">arguments</h2> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;"> <p style="list-style-type:none;list-style-image:none;">在函数调用时，会自动在该函数内部生成一个名为 arguments的隐藏对象</p> </li> 
    <li style="list-style-type:decimal;list-style-image:none;"> <p style="list-style-type:none;list-style-image:none;">该对象类似于数组，可以使用[]运算符获取函数调用时传递的实参</p> </li> 
    <li style="list-style-type:decimal;list-style-image:none;"> <p style="list-style-type:none;list-style-image:none;">只有函数被调用时，arguments对象才会创建，未调用时其值为null</p> <p style="list-style-type:none;list-style-image:none;">function fn5(name, age){<br> console.log(arguments);<br> name = 'XXX';<br> console.log(arguments);<br> arguments[1] = 30;<br> console.log(arguments);<br> }</p> <p style="list-style-type:none;list-style-image:none;">fn5('Byron', 20);</p> </li> 
   </ol>
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">callee</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">当函数被调用时，它的arguments.callee对象就会指向自身，也就是一个对自己的引用</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">由于arguments在函数被调用时才有效，因此arguments.callee在函数未调用时是不存在的（即null.callee），且解引用它会产生异常</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">fn6</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-built_in" style="color:rgb(0,0,255);">arguments</span>.callee);
}
fn6();</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">匿名函数特好用</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> i =<span class="hljs-number">0</span>;
<span class="hljs-built_in" style="color:rgb(0,0,255);">window</span>.onclick = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(i);
    <span class="hljs-keyword" style="color:rgb(0,0,255);">if</span>(i&lt;<span class="hljs-number">5</span>){
        i++;
        setTimeout(<span class="hljs-built_in" style="color:rgb(0,0,255);">arguments</span>.callee, <span class="hljs-number">200</span>);
    }
}</code></pre> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">函数的执行环境</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">JavaScript中的函数既可以被当作普通函数执行，也可以作为对象的方法执行，这是导致 this 含义如此丰富的主要原因</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">一个函数被执行时，会创建一个执行环境（ExecutionContext），函数的所有的行为均发生在此执行环境中，构建该执行环境时，JavaScript 首先会创建&nbsp;<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">arguments</code>变量，其中包含调用函数时传入的参数</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">接下来创建作用域链，然后初始化变量。首先初始化函数的形参表，值为 arguments变量中对应的值，如果 arguments变量中没有对应值，则该形参初始化为 undefined。</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">如果该函数中含有内部函数，则初始化这些内部函数。如果没有，继续初始化该函数内定义的局部变量，需要注意的是此时这些变量初始化为&nbsp;<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">undefined</code>，其赋值操作在执行环境（ExecutionContext）创建成功后，函数执行时才会执行，这点对于我们理解JavaScript中的变量作用域非常重要，最后为<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>变量赋值，会根据函数调用方式的不同，赋给<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">this</code>全局对象，当前对象等</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">至此函数的执行环境（ExecutionContext）创建成功，函数开始逐行执行，所需变量均从之前构建好的执行环境（ExecutionContext）中读取</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">三种变量</h2> 
   <ul style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">实例变量：（this）类的实例才能访问到的变量</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">静态变量：（属性）直接类型对象能访问到的变量</p> </li> 
    <li style="list-style:disc inside;"> <p style="list-style-type:none;list-style-image:none;">私有变量：（局部变量）当前作用域内有效的变量</p> </li> 
   </ul>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">看个例子</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">ClassA</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> a = <span class="hljs-number">1</span>; <span class="hljs-comment" style="color:#008000;">//私有变量，只有函数内部可以访问</span>
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.b = <span class="hljs-number">2</span>; <span class="hljs-comment" style="color:#008000;">//实例变量，只有实例可以访问</span>
}

ClassA.c = <span class="hljs-number">3</span>; <span class="hljs-comment" style="color:#008000;">// 静态变量，也就是属性，类型访问</span>

<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(a); <span class="hljs-comment" style="color:#008000;">// error</span>
<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(ClassA.b) <span class="hljs-comment" style="color:#008000;">// undefined</span>
<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(ClassA.c) <span class="hljs-comment" style="color:#008000;">//3</span>

<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> classa = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> ClassA();
<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(classa.a);<span class="hljs-comment" style="color:#008000;">//undefined</span>
<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(classa.b);<span class="hljs-comment" style="color:#008000;">// 2</span>
<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(classa.c);<span class="hljs-comment" style="color:#008000;">//undefined</span></code></pre> 
   <h1 style="list-style-type:none;list-style-image:none;font-size:28px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">原型链和继承</h1> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">在一切开始之前回顾一下<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">类</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">实例</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>、<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__proto__</code>的关系</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Person</span>(<span class="hljs-params">nick, age</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick = nick;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
}
Person.prototype.sayName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.nick);
}

<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> p1 = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Person();
p1.sayName();</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/201504012QQ20150401-3.png" alt="image" style="border:none;"></p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">我们通过函数定义了类<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Person</code>，类（函数）自动获得属性<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code> </li> 
    <li style="list-style-type:decimal;list-style-image:none;">每个类的实例都会有一个内部属性<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__proto__</code>，指向类的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>属性</li> 
   </ol>
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">有趣的现象</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们定义一个数组，调用其<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">valueOf</code>方法</p> 
   <pre><code class="hljs prolog" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].valueOf(); // [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">很奇怪的是我们在数组的类型Array中并不能找到<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">valueOf</code>的定义，根据之前的理论那么极有可能定义在了Array的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>中用于实例共享方法，查看一下</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/201504013QQ20150401-1.png" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们发现<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Array</code>的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>里面并未包含<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">valueOf</code>等定义，那么valueOf是哪里来的呢？</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">一个有趣的现象是我们在Object实例的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__proto__</code>属性（也就是Object的prototype属性）中找到了找到了这个方法</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/201504013QQ20150401-2.png" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">那么Array的实例为什么同样可以查找到Object的prototype里面定义的方法呢？</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">查找valueOf过程</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">因为任何类的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>属性本质上都是个类<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Object</code>的实例，所以<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>也和其它实例一样也有个<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__proto__</code>内部属性，指向其类型<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Object</code>的prototype</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们大概可以知道为什么了，自己的类的prototype找不到的话，还会找prototypr的类型的prototype属性，这样层层向上查找</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">大概过程是这样的</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;"> <p style="list-style-type:none;list-style-image:none;">记当前对象位obj，查找obj属性、方法，找到后返回</p> </li> 
    <li style="list-style-type:decimal;list-style-image:none;"> <p style="list-style-type:none;list-style-image:none;">没有找到，通过obj的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">__proto__</code>属性，找到其类型<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Array</code>的<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">prototype</code>属性（记为prop）继续查找，找到后返回</p> </li> 
    <li style="list-style-type:decimal;list-style-image:none;"> <p style="list-style-type:none;list-style-image:none;">没有找到，把prop记为obj做递归重复步骤一，通过类似方法找到prop的类型<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Object</code>的 prototype进行查找，找到返回</p> </li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://lsly1989.qiniudn.com/201504013QQ20150401-3.png" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">画的比较丑，看个大师的手笔</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><img src="http://www.benben.cc/uploads/2010/10/07_1286435107.jpg" alt="image" style="border:none;"></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><a href="http://mollypages.org/" rel="nofollow" style="text-decoration:none;color:rgb(51,153,255);">图片来源</a></p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这就是传说中的原型链，层层向上查找，最后还没有就返回<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">undefined</code></p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">类型</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们之前介绍过<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">instanceof</code>操作符，判断一个对象是不是某个类型的实例</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword" style="color:rgb(0,0,255);">instanceof</span> <span class="hljs-built_in" style="color:rgb(0,0,255);">Array</span>; <span class="hljs-comment" style="color:#008000;">//true</span></code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">可以看到<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">[1, 2, 3]</code>是类型<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Array</code>的实例</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword" style="color:rgb(0,0,255);">instanceof</span> <span class="hljs-built_in" style="color:rgb(0,0,255);">Object</span>; <span class="hljs-comment" style="color:#008000;">//true</span></code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这个结果有些非议所思，怎么又是Array的实例，又是Object的实例，这不是乱套了</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">其实这个现象在日常生活中很常见其实，比如我们有两种类型</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">类人猿</li> 
    <li style="list-style-type:decimal;list-style-image:none;">动物</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们发现黑猩猩即是类人猿这个类的物种（实例），也是动物的实例</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">是不是悟出其中的门道了，类人猿是动物的一种，也就是说我们的两个类型之间有一种父子关系</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这就是传说中的继承，JavaScript正是通过原型链实现继承机制的</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">继承</h2> 
   <blockquote style="background:rgb(255,255,255) none;border-top:none;border-right:none;border-bottom:none;border-left:2px solid rgb(153,153,153);list-style-type:none;list-style-image:none;color:rgb(153,153,153);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"> 
    <p style="list-style-type:none;list-style-image:none;">继承是指一个对象直接使用另一对象的属性和方法。</p> 
   </blockquote> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">JavaScript并不提供原生的继承机制，我们自己实现的方式很多，介绍一种最为通用的</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">通过上面定义我们可以看出我们如果实现了两点的话就可以说我们实现了继承</p> 
   <ol style="list-style:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">
    <li style="list-style-type:decimal;list-style-image:none;">得到一个类的属性</li> 
    <li style="list-style-type:decimal;list-style-image:none;">得到一个类的方法</li> 
   </ol>
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们分开讨论一下，先定义两个个类</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Person</span>(<span class="hljs-params">name, sex</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name = name;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.sex = sex;
}

Person.prototype.printName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name);
};

<span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Male</span>(<span class="hljs-params">age</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
}

Male.prototype.printAge = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age);
};</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">属性获取</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">对象属性的获取是通过构造函数的执行，我们在一个类中执行另外一个类的构造函数，就可以把属性赋值到自己内部，但是我们需要把环境改到自己的作用域内，这就要借助我们讲过的函数<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">call</code>了</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">改造一些<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Male</code></p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Male</span>(<span class="hljs-params">name, sex, age</span>)</span>{
    Person.call(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>, name, sex);
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
}

Male.prototype.printAge = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age);
};</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">实例化看看结果</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> m = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Male(<span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>, <span class="hljs-string" style="color:rgb(163,21,21);">'male'</span>, <span class="hljs-number">26</span>);
<span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(m.sex); <span class="hljs-comment" style="color:#008000;">// "male"</span></code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">方法获取</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们知道类的方法都定义在了prototype里面，所以只要我们把子类的prototype改为父类的prototype的备份就好了</p> 
   <pre><code class="hljs perl" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">Male.<span class="hljs-keyword" style="color:rgb(0,0,255);">prototype</span> = Object.create(Person.<span class="hljs-keyword" style="color:rgb(0,0,255);">prototype</span>);</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这里我们通过<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Object.create</code>clone了一个新的prototype而不是直接把Person.prtotype直接赋值，因为引用关系，这样会导致后续修改子类的prototype也修改了父类的prototype，因为修改的是一个值</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">另外<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">Object.create</code>是ES5方法，之前版本通过遍历属性也可以实现浅拷贝</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这样做需要注意一点就是对子类添加方法，必须在修改其prototype之后，如果在之前会被覆盖掉</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">Male.prototype.printAge = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age);
};

Male.prototype = <span class="hljs-built_in" style="color:rgb(0,0,255);">Object</span>.create(Person.prototype);</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这样的话，<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">printAge</code>方法在赋值后就没了，因此得这么写</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Male</span>(<span class="hljs-params">name, sex, age</span>)</span>{
    Person.call(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>, name, sex);
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
}

Male.prototype = <span class="hljs-built_in" style="color:rgb(0,0,255);">Object</span>.create(Person.prototype);

Male.prototype.printAge = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age);
};</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这样写貌似没问题了，但是有个问题就是我们知道prototype对象有一个属性<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">constructor</code>指向其类型，因为我们复制的父元素的prototype，这时候<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">constructor</code>属性指向是不对的，导致我们判断类型出错</p> 
   <pre><code class="hljs delphi" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);">Male.prototype.<span class="hljs-keyword" style="color:rgb(0,0,255);">constructor</span>; <span class="hljs-comment" style="color:#008000;">//Person</span></code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">因此我们需要再重新指定一下constructor属性到自己的类型</p> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">最终方案</h3> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">我们可以通过一个函数实现刚才说的内容</p> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">inherit</span>(<span class="hljs-params">superType, subType</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> _prototype  = <span class="hljs-built_in" style="color:rgb(0,0,255);">Object</span>.create(superType.prototype);
    _prototype.constructor = subType;
    subType.prototype = _prototype;
}</code></pre> 
   <h3 style="list-style-type:none;list-style-image:none;font-size:16px;line-height:1.5;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">使用方式</h3> 
   <pre><code class="hljs javascript" style="vertical-align:middle;color:rgb(0,0,0);font-family:'Courier New', sans-serif;line-height:1.5;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Person</span>(<span class="hljs-params">name, sex</span>)</span>{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name = name;
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.sex = sex;
}

Person.prototype.printName = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.name);
};  

<span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span> <span class="hljs-title" style="color:rgb(163,21,21);">Male</span>(<span class="hljs-params">name, sex, age</span>)</span>{
    Person.call(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>, name, sex);
    <span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age = age;
}
inherit(Person, Male);

<span class="hljs-comment" style="color:#008000;">// 在继承函数之后写自己的方法，否则会被覆盖</span>
Male.prototype.printAge = <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-built_in" style="color:rgb(0,0,255);">console</span>.log(<span class="hljs-keyword" style="color:rgb(0,0,255);">this</span>.age);
};

<span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> m = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> Male(<span class="hljs-string" style="color:rgb(163,21,21);">'Byron'</span>, <span class="hljs-string" style="color:rgb(163,21,21);">'m'</span>, <span class="hljs-number">26</span>);
m.printName();</code></pre> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">这样我们就在JavaScript中实现了继承</p> 
   <h2 style="list-style-type:none;list-style-image:none;font-size:21px;line-height:1.5;border-bottom:1px solid rgb(221,221,221);color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;">hasOwnProperty</h2> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;">有同学可能会问一个问题，继承之后Male的实例也有了Person的方法，那么怎么判断某个是自己的还是父类的？</p> 
   <p style="list-style-type:none;list-style-image:none;color:rgb(68,68,68);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:15px;"><code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">hasOwnPerperty</code>是Object.prototype的一个方法，可以判断一个对象是否包含自定义属性而不是原型链上的属性，<code style="font-family:'Courier New', sans-serif;line-height:1.8;vertical-align:middle;font-size:12px;border:1px solid rgb(204,204,204);">hasOwnProperty</code>是JavaScript中唯一一个处理属性但是不查找原型链的函数</p> 
   <pre><code class="hljs ruby" style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;vertical-align:middle;line-height:1.5;border:1px solid rgb(204,204,204);">m.hasOwnProperty(<span class="hljs-string" style="color:rgb(163,21,21);">'name'</span>); <span class="hljs-regexp">//</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">true</span>
m.hasOwnProperty(<span class="hljs-string" style="color:rgb(163,21,21);">'printName'</span>); <span class="hljs-regexp">//</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">false</span>
</code>
</pre> 
   <p><code class="hljs ruby" style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;vertical-align:middle;line-height:1.5;border:1px solid rgb(204,204,204);">Male.prototype.hasOwnProperty(<span class="hljs-string" style="color:rgb(163,21,21);">'printAge'</span>); <span class="hljs-regexp">//</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">true</span></code><code class="hljs ruby" style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;vertical-align:middle;line-height:1.5;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);"><br></span></code><code class="hljs ruby" style="vertical-align:middle;line-height:1.5;border:1px solid rgb(204,204,204);"><span class="hljs-keyword"><font color="#0000ff"><span> 本文转自魏琼东博客园博客，原文链接：</span></font></span><font color="#0000ff"><span>http://www.cnblogs.com/dolphinX/p/4385862.html</span></font><span style="color:rgb(0,0,255);font-family:'Courier New', sans-serif;">，如需转载请自行联系原作者</span></code><code class="hljs ruby" style="color:rgb(0,0,0);font-family:'Courier New', sans-serif;font-size:12px;vertical-align:middle;line-height:1.5;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);"><br></span></code></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
