<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Python3之正则表达式详解 « NotBeCN</title>
  <meta name="description" content="              正则表达式     本节我们看一下正则表达式的相关用法，正则表达式是处理字符串的强大的工具，它有自己特定的语法结构，有了它，实现字符串的检索、替换、匹配验证都不在话下。     当然对于爬虫来说，有了它，我们从HTML里面提取我们想要的信息就非常方便了。     实例引入     说了...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/06/06/weixin_34054866_90126399.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Python3之正则表达式详解</h1>
    <p class="post-meta">Jun 6, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h1 style="font-size:24px;color:rgb(62,62,62);font-family:'微软雅黑';line-height:1.7;"> 正则表达式</h1> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 本节我们看一下正则表达式的相关用法，正则表达式是处理字符串的强大的工具，它有自己特定的语法结构，有了它，实现字符串的检索、替换、匹配验证都不在话下。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 当然对于爬虫来说，有了它，我们从HTML里面提取我们想要的信息就非常方便了。</p> 
   <h2 style="font-size:20px;font-family:'微软雅黑';line-height:1.2;color:rgb(51,51,51);border-bottom:1px dotted rgb(204,204,204);"> 实例引入</h2> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 说了这么多，可能我们对它到底是个什么还是比较模糊，下面我们就用几个实例来感受一下正则表达式的用法。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们打开开源中国提供的正则表达式测试工具http://tool.oschina.net/regex/，打开之后我们可以输入待匹配的文本，然后选择常用的正则表达式，就可以从我们输入的文本中得出相应的匹配结果了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 例如我们在这里输入待匹配的文本如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">Hello, my phone number <span style="color:rgb(0,0,0);">is</span> <span style="color:rgb(0,153,153);">010</span>-<span style="color:rgb(0,153,153);">86432100</span> <span style="color:rgb(0,0,0);">and</span> email <span style="color:rgb(0,0,0);">is</span> cqc<span>@cuiqingcai</span>.com, <span style="color:rgb(0,0,0);">and</span> my website <span style="color:rgb(0,0,0);">is</span> <span style="color:rgb(0,119,0);">http</span>:<span style="color:rgb(136,0,136);">//</span>cuiqingcai.com.</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 这段字符串中包含了一个电话号码和一个电子邮件，接下来我们就尝试用正则表达式提取出来。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们在网页中选择匹配Email地址，就可以看到在下方出现了文本中的Email。如果我们选择了匹配网址URL，就可以看到在下方出现了文本中的URL。是不是非常神奇？</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 其实，在这里就是用了正则表达式匹配，也就是用了一定的规则将特定的文本提取出来。比如电子邮件它开头是一段字符串，然后是一个@符号，然后就是某个域名，这是有特定的组成格式的。另外对于URL，开头是协议类型，然后是冒号加双斜线，然后是域名加路径。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 对于URL来说，我们就可以用下面的正则表达式匹配：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">[a-zA-z]+<span style="color:rgb(153,0,115);">://</span>[^\s]*</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 如果我们用这个正则表达式去匹配一个字符串，如果这个字符串中包含类似URL的文本，那就会被提取出来。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 这个正则表达式看上去是乱糟糟的一团，其实不然，这里面都是有特定的语法规则的。比如<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">a-z</code>代表匹配任意的小写字母，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\s</code>表示匹配任意的空白字符，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">*</code>就代表匹配前面的字符任意多个，这一长串的正则表达式就是这么多匹配规则的组合，最后实现特定的匹配功能。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 写好正则表达式后，我们就可以拿它去一个长字符串里匹配查找了，不论这个字符串里面有什么，只要符合我们写的规则，统统可以找出来。那么对于网页来说，如果我们想找出网页源代码里有多少URL，就可以用匹配URL的正则表达式去匹配，就可以得到源码中的URL了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在上面我们说了几个匹配规则，那么正则表达式的规则到底有多少？那么在这里把常用的匹配规则总结一下：</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 模式描述<br> \w匹配字母数字及下划线<br> \W匹配非字母数字及下划线<br> \s匹配任意空白字符，等价于 [\t\n\r\f].<br> \S匹配任意非空字符<br> \d匹配任意数字，等价于 [0-9]<br> \D匹配任意非数字<br> \A匹配字符串开始<br> \Z匹配字符串结束，如果是存在换行，只匹配到换行前的结束字符串<br> \z匹配字符串结束<br> \G匹配最后匹配完成的位置<br> \n匹配一个换行符<br> \t匹配一个制表符<br> ^匹配字符串的开头<br> $匹配字符串的末尾。<br> .匹配任意字符，除了换行符，当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符。<br> [...]用来表示一组字符,单独列出：[amk] 匹配 'a'，'m'或'k'<br> [^...]不在[]中的字符：[^abc] 匹配除了a,b,c之外的字符。<br> *匹配0个或多个的表达式。<br> +匹配1个或多个的表达式。<br> ?匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式<br> {n}精确匹配n个前面表达式。<br> {n, m}匹配 n 到 m 次由前面的正则表达式定义的片段，贪婪方式<br> a|b匹配a或b<br> ( )匹配括号内的表达式，也表示一个组<br></p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可能完了之后就有点晕晕的了把，不用担心，下面我们会详细讲解下一些常见的规则的用法。怎么用它来从网页中提取我们想要的信息。</p> 
   <h2 style="font-size:20px;font-family:'微软雅黑';line-height:1.2;color:rgb(51,51,51);border-bottom:1px dotted rgb(204,204,204);"> Python中使用</h2> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 其实正则表达式不是Python独有的，它在其他编程语言中也可以使用，但是Python的re库提供了整个正则表达式的实现，利用re库我们就可以在Python中使用正则表达式来，在Python中写正则表达式几乎都是用的这个库。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 下面我们就来了解下它的用法。</p> 
   <h3 style="font-size:16px;font-family:'微软雅黑';line-height:1.7;color:rgb(51,51,51);"> match()</h3> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里首先介绍第一个常用的匹配方法，match()方法，我们向这个方法传入要匹配的字符串以及正则表达式，就可以来检测这个正则表达式是否匹配字符串了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> match()方法会尝试从字符串的起始位置匹配正则表达式，如果匹配，就返回匹配成功的结果，如果不匹配，那就返回None。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们用一个实例来感受一下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'Hello 123 4567 World_This is a Regex Demo'</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(101,139,0);">len</span><span style="color:rgb(85,85,85);">(content))</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^Hello\s\d\d\d\s\d{4}\s\w{10}'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group())</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.span())</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(180,82,205);">41</span><br><span style="color:rgb(0,119,0);">&lt;_sre.SRE_Match object; span=</span><span style="color:rgb(221,17,68);">(0,</span><span style="color:rgb(0,119,0);"> 25), match=</span><span style="color:rgb(221,17,68);">'Hello 123 4567 World_This'</span><span style="color:rgb(0,119,0);">&gt;</span><br><span style="color:rgb(85,85,85);">Hello</span> <span style="color:rgb(180,82,205);">123</span> <span style="color:rgb(180,82,205);">4567</span> <span style="color:rgb(85,85,85);">World_This</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(180,82,205);">0</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(180,82,205);">25</span><span style="color:rgb(85,85,85);">)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里我们首先声明了一个字符串，包含英文字母、空白字符、数字等等内容，接下来我们写了一个正则表达式<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">^Hello\s\d\d\d\s\d{4}\s\w{10}</code>来匹配这个长字符串。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 开头的<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">^</code>是匹配字符串的开头，也就是以<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">Hello</code>开头，然后<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\s</code>匹配空白字符，用来匹配目标字符串的空格，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d</code>匹配数字，三个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d</code>匹配<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">123</code>，然后再写一个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\s</code>匹配空格，后面还有<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">4567</code>，我们其实可以依然用四个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d</code>来匹配，但是这么写起来比较繁琐，所以在后面可以跟<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">{4}</code>代表匹配前面的字符四次，也就是匹配四个数字，这样也可以完成匹配，然后后面再紧接一个空白字符，然后<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\w{10}</code>匹配10个字母及下划线，正则表达式到此为止就结束了，我们注意到其实并没有把目标字符串匹配完，不过这样依然可以进行匹配，只不过匹配结果短一点而已。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们调用match()方法，第一个参数传入了正则表达式，第二个参数传入了要匹配的字符串。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 打印输出一下结果，可以看到结果是SRE_Match对象，证明成功匹配，它有两个方法，group()方法可以输出匹配到的内容，结果是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">Hello 123 4567 World_This</code>，这恰好是我们正则表达式规则所匹配的内容，span()方法可以输出匹配的范围，结果是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">(0, 25)</code>，这个就是匹配到的结果字符串在原字符串中的位置范围。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 通过上面的例子我们可以基本了解怎样在Python中怎样使用正则表达式来匹配一段文字。</p> 
   <h4 style="font-size:18px;color:rgb(62,62,62);font-family:'微软雅黑';line-height:1.7;"> 匹配目标</h4> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 刚才我们用了match()方法可以得到匹配到的字符串内容，但是如果我们想从字符串中提取一部分内容怎么办呢？就像最前面的实例一样，从一段文本中提取出邮件或电话号等内容。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里可以使用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">()</code>括号来将我们想提取的子字符串括起来，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">()</code>实际上就是标记了一个子表达式的开始和结束位置，被标记的每个子表达式会依次对应每一个分组，我们可以调用group()方法传入分组的索引即可获取提取的结果。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 下面我们用一个实例感受一下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'Hello 1234567 World_This is a Regex Demo'</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^Hello\s(\d+)\sWorld'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group())</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">))</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.span())</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 依然是前面的字符串，在这里我们想匹配这个字符串并且把其中的<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">1234567</code>提取出来，在这里我们将数字部分的正则表达式用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">()</code>括起来，然后接下来调用了group(1)获取匹配结果。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;<span>_sre.SRE_Match</span> <span>object</span>; <span>span</span>=<span style="color:rgb(221,17,68);">(0,</span> <span>19</span>), <span>match</span>=<span style="color:rgb(221,17,68);">'Hello 1234567 World'</span>&gt;</span><br>Hello 1234567 World<br>1234567<br>(0, 19)</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以看到在结果中成功得到了<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">1234567</code>，我们获取用的是group(1)，与group()有所不同，group()会输出完整的匹配结果，而group(1)会输出第一个被<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">()</code>包围的匹配结果，假如正则表达式后面还有<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">()</code>包括的内容，那么我们可以依次用group(2)、group(3)等来依次获取。</p> 
   <h4 style="font-size:18px;color:rgb(62,62,62);font-family:'微软雅黑';line-height:1.7;"> 通用匹配</h4> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 刚才我们写的正则表达式其实比较复杂，出现空白字符我们就写<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\s</code>匹配空白字符，出现数字我们就写<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d</code>匹配数字，工作量非常大，其实完全没必要这么做，还有一个万能匹配可以用，也就是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.</code>可以匹配任意字符(除换行符)，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">*</code>又代表匹配前面的字符无限次，所以它们组合在一起就可以匹配任意的字符了，有了它我们就不用挨个字符地匹配了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以接着上面的例子，我们可以改写一下正则表达式。</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'Hello 123 4567 World_This is a Regex Demo'</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^Hello.*Demo$'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group())</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.span())</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里我们将中间的部分直接省略，全部用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>来代替，最后加一个结尾字符串就好了，运行结果如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;_sre.SRE_Match object; span=</span><span style="color:rgb(221,17,68);">(0,</span><span style="color:rgb(0,119,0);"> 41), match=</span><span style="color:rgb(221,17,68);">'Hello 123 4567 World_This is a Regex Demo'</span><span style="color:rgb(0,119,0);">&gt;</span><br><span style="color:rgb(85,85,85);">Hello</span> <span style="color:rgb(180,82,205);">123</span> <span style="color:rgb(180,82,205);">4567</span> <span style="color:rgb(85,85,85);">World_This</span> <span style="color:rgb(139,0,139);">is</span> <span style="color:rgb(85,85,85);">a</span> <span style="color:rgb(85,85,85);">Regex</span> <span style="color:rgb(85,85,85);">Demo</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(180,82,205);">0</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(180,82,205);">41</span><span style="color:rgb(85,85,85);">)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以看到group()方法输出了匹配的全部字符串，也就是说我们写的正则表达式匹配到了目标字符串的全部内容，span()方法输出<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">(0, 41)</code>，是整个字符串的长度。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 因此，我们可以在使用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>来简化正则表达式的书写。</p> 
   <h4 style="font-size:18px;color:rgb(62,62,62);font-family:'微软雅黑';line-height:1.7;"> 贪婪匹配与非贪婪匹配</h4> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在使用上面的通用匹配<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>的时候可能我们有时候匹配到的并不是想要的结果，我们看下面的例子：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'Hello 1234567 World_This is a Regex Demo'</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^He.*(\d+).*Demo$'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里我们依然是想获取中间的数字，所以中间我们依然写的是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">(\d+)</code>，数字两侧由于内容比较杂乱，所以两侧我们想省略来写，都写<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>，最后组成<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">^He.*(\d+).*Demo$</code>，看样子并没有什么问题，我们看下运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;_sre.SRE_Match object; span=</span><span style="color:rgb(221,17,68);">(0,</span><span style="color:rgb(0,119,0);"> 40), match=</span><span style="color:rgb(221,17,68);">'Hello 1234567 World_This is a Regex Demo'</span><span style="color:rgb(0,119,0);">&gt;</span><br><span style="color:rgb(180,82,205);">7</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 奇怪的事情发生了，我们只得到了7这个数字，这是怎么回事？</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 这里就涉及一个贪婪匹配与非贪婪匹配的原因了，贪婪匹配下，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>会匹配尽可能多的字符，我们的正则表达式中<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>后面是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>，也就是至少一个数字，并没有指定具体多少个数字，所以<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>就尽可能匹配多的字符，所以它把<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">123456</code>也匹配了，给<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>留下一个可满足条件的数字<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">7</code>，所以<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>得到的内容就只有数字7了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 但这样很明显会给我们的匹配带来很大的不便，有时候匹配结果会莫名其妙少了一部分内容。其实这里我们只需要使用非贪婪匹配匹配就好了，非贪婪匹配的写法是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>，多了一个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">?</code>，那么它可以达到怎样的效果？我们再用一个实例感受一下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'Hello 1234567 World_This is a Regex Demo'</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^He.*?(\d+).*Demo$'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里我们只是将第一个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>改成了<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>，转变为非贪婪匹配匹配。结果如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;_sre.SRE_Match object; span=</span><span style="color:rgb(221,17,68);">(0,</span><span style="color:rgb(0,119,0);"> 40), match=</span><span style="color:rgb(221,17,68);">'Hello 1234567 World_This is a Regex Demo'</span><span style="color:rgb(0,119,0);">&gt;</span><br><span style="color:rgb(180,82,205);">1234567</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 很好，这下我们就可以成功获取<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">1234567</code>了。原因可想而知，贪婪匹配是尽可能匹配多的字符，非贪婪匹配就是尽可能匹配少的字符，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>之后是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>用来匹配数字，当<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>匹配到<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">Hello</code>后面的空白字符的时候，再往后的字符就是数字了，而<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>恰好可以匹配，那么这里<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>就不再进行匹配，交给<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>去匹配后面的数字。所以这样，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>匹配了尽可能少的字符，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>的结果就是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">1234567</code>了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以说，在做匹配的时候，字符串中间我们可以尽量使用非贪婪匹配来匹配，也就是用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>来代替<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>，以免出现匹配结果缺失的情况。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 但这里注意，如果匹配的结果在字符串结尾，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>就有可能匹配不到任何内容了，因为它会匹配尽可能少的字符，例如：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'http://weibo.com/comment/kEraCN'</span><br><span style="color:rgb(85,85,85);">result1</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'http.*?comment/(.*?)'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(85,85,85);">result2</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'http.*?comment/(.*)'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'result1'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">result1.group(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">))</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'result2'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">result2.group(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">result1 <br>result2 kEraCN</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 观察到<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>没有匹配到任何结果，而<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*</code>则尽量匹配多的内容，成功得到了匹配结果。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以在这里好好体会一下贪婪匹配和非贪婪匹配的原理，对后面写正则表达式非常有帮助。</p> 
   <h4 style="font-size:18px;color:rgb(62,62,62);font-family:'微软雅黑';line-height:1.7;"> 修饰符</h4> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 正则表达式可以包含一些可选标志修饰符来控制匹配的模式。修饰符被指定为一个可选的标志。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们用一个实例先来感受一下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'''Hello 1234567 World_This<br>is a Regex Demo<br>'''</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^He.*?(\d+).*?Demo$'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.group(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 和上面的例子相仿，我们在字符串中加了个换行符，正则表达式也是一样的来匹配其中的数字，看一下运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,139,69);font-weight:bold;">AttributeError</span> <span style="color:rgb(85,85,85);">Traceback</span> <span style="color:rgb(85,85,85);">(most</span> <span style="color:rgb(85,85,85);">recent</span> <span style="color:rgb(0,0,0);">call</span><span> </span><span style="color:rgb(0,0,0);">last</span><span style="color:rgb(85,85,85);">)</span><span><br></span><span style="color:rgb(85,85,85);">&lt;ipython-</span><span style="color:rgb(0,0,0);">input</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">18</span><span style="color:rgb(85,85,85);">-c7d232b39645&gt;</span><span> </span><span style="color:rgb(0,0,0);">in</span><span> </span><span style="color:rgb(85,85,85);">&lt;</span><span style="color:rgb(0,0,0);">module</span><span style="color:rgb(85,85,85);">&gt;()</span><span><br> &nbsp; &nbsp; &nbsp;</span><span style="color:rgb(0,153,153);">5</span><span> </span><span style="color:rgb(221,17,68);">'''<br></span><span style="color:rgb(205,85,85);"><span style="color:rgb(221,17,68);"> &nbsp; &nbsp; &nbsp;6 result = re.match('</span>^He.*?(\<span style="color:rgb(0,0,0);">d</span>+).*?Demo$<span style="color:rgb(221,17,68);">', content)</span></span><span style="color:rgb(221,17,68);"><br>----&gt; 7 print(result.group(1))<br><br></span><span style="color:rgb(205,85,85);"><span style="color:rgb(221,17,68);">AttributeError: '</span>NoneType<span style="color:rgb(221,17,68);">' object has no attribute '</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(221,17,68);">'</span></span><span style="color:rgb(221,17,68);"><br></span></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行直接报错，也就是说正则表达式没有匹配到这个字符串，返回结果为None，而我们又调用了group()方法所以导致AttributeError。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 那我们加了一个换行符为什么就匹配不到了呢？是因为<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.</code>匹配的是除换行符之外的任意字符，当遇到换行符时，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>就不能匹配了，所以导致匹配失败。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 那么在这里我们只需要加一个修饰符<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>，即可修正这个错误。</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'^He.*?(\d+).*?Demo$'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content,</span> <span style="color:rgb(85,85,85);">re.S)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在match()方法的第三个参数传入<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>，它的作用是使<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.</code>匹配包括换行符在内的所有字符。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,153,153);">1234567</span></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 这个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>在网页匹配中会经常用到，因为HTML节点经常会有换行，加上它我们就可以匹配节点与节点之间的换行了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 另外还有一些修饰符，在必要的情况下也可以使用：</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 修饰符描述<br> re.I使匹配对大小写不敏感<br> re.L做本地化识别（locale-aware）匹配<br> re.M多行匹配，影响 ^ 和 $<br> re.S使 . 匹配包括换行在内的所有字符<br> re.U根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.<br> re.X该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。<br></p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在网页匹配中较为常用的为re.S、re.I。</p> 
   <h4 style="font-size:18px;color:rgb(62,62,62);font-family:'微软雅黑';line-height:1.7;"> 转义匹配</h4> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们知道正则表达式定义了许多匹配模式，如<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.</code>匹配除换行符以外的任意字符，但是如果目标字符串里面它就包含<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.</code>我们改怎么匹配？</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 那么这里就需要用到转义匹配了，我们用一个实例来感受一下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'(百度)www.baidu.com'</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'\(百度\)www\.baidu\.com'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 当遇到用于正则匹配模式的特殊字符时，我们在前面加反斜线来转义一下就可以匹配了。例如<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.</code>我们就可以用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\.</code>来匹配，运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;_sre.SRE_Match object; span=</span><span style="color:rgb(221,17,68);">(0,</span><span style="color:rgb(0,119,0);"> 17), match=</span><span style="color:rgb(221,17,68);">'(百度)www.baidu.com'</span><span style="color:rgb(0,119,0);">&gt;</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以看到成功匹配到了原字符串。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 以上是写正则表达式常用的几个知识点，熟练掌握上面的知识点对后面我们写正则表达式匹配非常有帮助。</p> 
   <h3 style="font-size:16px;font-family:'微软雅黑';line-height:1.7;color:rgb(51,51,51);"> search()</h3> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们在前面提到过match()方法是从字符串的开头开始匹配，一旦开头不匹配，那么整个匹配就失败了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们看下面的例子：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span><br><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.match(</span><span style="color:rgb(221,17,68);">'Hello.*?(\d+).*?Demo'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里我们有一个字符串，它是以<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">Extra</code>开头的，但是正则表达式我们是以<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">Hello</code>开头的，整个正则表达式是字符串的一部分，但是这样匹配是失败的，也就是说只要第一个字符不匹配整个匹配就不能成功，运行结果如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,0,0);">None</span></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以match()方法在我们在使用的时候需要考虑到开头的内容，所以在做匹配的时候并不那么方便，它适合来检测某个字符串是否符合某个正则表达式的规则。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以在这里就有另外一个方法search()，它在匹配时会扫描整个字符串，然后返回第一个成功匹配的结果，也就是说，正则表达式可以是字符串的一部分，在匹配时，search()方法会依次扫描字符串，直到找到第一个符合规则的字符串，然后返回匹配内容，如果搜索完了还没有找到，那就返回None。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们把上面的代码中的match()方法修改成search()，再看下运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;_sre.SRE_Match object; span=</span><span style="color:rgb(221,17,68);">(13,</span><span style="color:rgb(0,119,0);"> 53), match=</span><span style="color:rgb(221,17,68);">'Hello 1234567 World_This is a Regex Demo'</span><span style="color:rgb(0,119,0);">&gt;</span><br><span style="color:rgb(180,82,205);">1234567</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 这样就得到了匹配结果。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以说，为了匹配方便，我们可以尽量使用search()方法。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 下面我们再用几个实例来感受一下search()方法的用法。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 首先这里有一段待匹配的HTML文本，我们接下来写几个正则表达式实例来实现相应信息的提取。</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">html = '''<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">div</span><span style="color:rgb(0,119,0);"> id=</span><span style="color:rgb(221,17,68);">"songs-list"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">h2</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"title"</span><span style="color:rgb(0,119,0);">&gt;</span>经典老歌<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">h2</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">p</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"introduction"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;经典老歌列表<br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">p</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">ul</span><span style="color:rgb(0,119,0);"> id=</span><span style="color:rgb(221,17,68);">"list"</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"list-group"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);"> data-view=</span><span style="color:rgb(221,17,68);">"2"</span><span style="color:rgb(0,119,0);">&gt;</span>一路上有你<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);"> data-view=</span><span style="color:rgb(221,17,68);">"7"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);"> href=</span><span style="color:rgb(221,17,68);">"/2.mp3"</span><span style="color:rgb(0,119,0);"> singer=</span><span style="color:rgb(221,17,68);">"任贤齐"</span><span style="color:rgb(0,119,0);">&gt;</span>沧海一声笑<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);"> data-view=</span><span style="color:rgb(221,17,68);">"4"</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"active"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);"> href=</span><span style="color:rgb(221,17,68);">"/3.mp3"</span><span style="color:rgb(0,119,0);"> singer=</span><span style="color:rgb(221,17,68);">"齐秦"</span><span style="color:rgb(0,119,0);">&gt;</span>往事随风<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);"> data-view=</span><span style="color:rgb(221,17,68);">"6"</span><span style="color:rgb(0,119,0);">&gt;&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);"> href=</span><span style="color:rgb(221,17,68);">"/4.mp3"</span><span style="color:rgb(0,119,0);"> singer=</span><span style="color:rgb(221,17,68);">"beyond"</span><span style="color:rgb(0,119,0);">&gt;</span>光辉岁月<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);">&gt;&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);"> data-view=</span><span style="color:rgb(221,17,68);">"5"</span><span style="color:rgb(0,119,0);">&gt;&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);"> href=</span><span style="color:rgb(221,17,68);">"/5.mp3"</span><span style="color:rgb(0,119,0);"> singer=</span><span style="color:rgb(221,17,68);">"陈慧琳"</span><span style="color:rgb(0,119,0);">&gt;</span>记事本<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);">&gt;&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);"> data-view=</span><span style="color:rgb(221,17,68);">"5"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);"> href=</span><span style="color:rgb(221,17,68);">"/6.mp3"</span><span style="color:rgb(0,119,0);"> singer=</span><span style="color:rgb(221,17,68);">"邓丽君"</span><span style="color:rgb(0,119,0);">&gt;&lt;</span><span style="font-weight:bold;color:rgb(0,119,0);">i</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"fa fa-user"</span><span style="color:rgb(0,119,0);">&gt;&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">i</span><span style="color:rgb(0,119,0);">&gt;</span>但愿人长久<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">a</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">li</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">ul</span><span style="color:rgb(0,119,0);">&gt;</span><br><span style="color:rgb(0,119,0);">&lt;/</span><span style="font-weight:bold;color:rgb(0,119,0);">div</span><span style="color:rgb(0,119,0);">&gt;</span>'''<br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 观察到<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;ul&gt;</code>节点里面有许多<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点，其中<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点有的包含<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点，有的不包含<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点还有一些相应的属性，超链接和歌手名。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 首先我们尝试提取class为active的<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点内部的超链接包含的歌手名和歌名。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以我们需要提取第三个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点下的<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点的singer属性和文本。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以正则表达式可以以<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>开头，然后接下来寻找一个标志符<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">active</code>，中间的部分可以用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>来匹配，然后接下来我们要提取singer这个属性值，所以还需要写入<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">singer="(.*?)"</code>，我们需要提取的部分用小括号括起来，以便于用group()方法提取出来，它的两侧边界是双引号，然后接下来还需要匹配<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点的文本，那么它的左边界是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&gt;</code>，右边界是<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;/a&gt;</code>，所以我们指定一下左右边界，然后目标内容依然用<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">(.*?)</code>来匹配，所以最后的正则表达式就变成了<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li.*?active.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</code>，然后我们再调用search()方法，它便会搜索整个HTML文本，找到符合正则表达式的第一个内容返回。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 另外由于代码有换行，所以这里第三个参数需要传入<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code></p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以整个匹配代码如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.search(</span><span style="color:rgb(221,17,68);">'&lt;li.*?active.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html,</span> <span style="color:rgb(85,85,85);">re.S)</span><br><span style="font-weight:bold;color:rgb(0,0,0);">if</span> <span style="color:rgb(85,85,85);">result:</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">result.</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(0,153,153);">2</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 由于我们需要获取的歌手和歌名都已经用了小括号包围，所以可以用group()方法获取，序号依次对应group()的参数。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">齐秦 往事随风</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以看到这个正是我们想提取的class为active的<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点内部的超链接包含的歌手名和歌名。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 那么正则表达式不加active会怎样呢？也就是匹配不带class为active的节点内容，我们将正则表达式中的active去掉，代码改写如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.search(</span><span style="color:rgb(221,17,68);">'&lt;li.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html,</span> <span style="color:rgb(85,85,85);">re.S)</span><br><span style="font-weight:bold;color:rgb(0,0,0);">if</span> <span style="color:rgb(85,85,85);">result:</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">result.</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(0,153,153);">2</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 由于search()方法会返回第一个符合条件的匹配目标，那在这里结果就变了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果如下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">任贤齐 沧海一声笑</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 因为我们把active标签去掉之后，从字符串开头开始搜索，符合条件的节点就变成了第二个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点，后面的就不再进行匹配，所以运行结果自然就变成了第二个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点中的内容。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 注意在上面两次匹配中，search()方法的第三个参数我们都加了<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>，使得<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>可以匹配换行，所以含有换行的<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点被匹配到了，如果我们将其去掉，结果会是什么？</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.search(</span><span style="color:rgb(221,17,68);">'&lt;li.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html)</span><br><span style="font-weight:bold;color:rgb(0,0,0);">if</span> <span style="color:rgb(85,85,85);">result:</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">result.</span><span style="color:rgb(0,0,0);">group</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(0,153,153);">2</span><span style="color:rgb(85,85,85);">))</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;">beyond 光辉岁月</code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以看到结果就变成了第四个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点的内容，这是因为第二个和第三个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>标签都包含了换行符，去掉<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>之后，<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">.*?</code>已经不能匹配换行符，所以正则表达式不会匹配到第二个和第三个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点，而第四个<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点中不包含换行符，所以成功匹配。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 由于绝大部分的HTML文本都包含了换行符，所以通过上面的例子，我们尽量都需要加上<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>修饰符，以免出现匹配不到的问题。</p> 
   <h3 style="font-size:16px;font-family:'微软雅黑';line-height:1.7;color:rgb(51,51,51);"> findall()</h3> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在前面我们说了search()方法的用法，它可以返回匹配正则表达式的第一个内容，但是如果我们想要获取匹配正则表达式的所有内容的话怎么办？这时就需要借助于findall()方法了。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> findall()方法会搜索整个字符串然后返回匹配正则表达式的所有内容。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 还是上面的HTML文本，如果我们想获取所有<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点的超链接、歌手和歌名，就可以将search()方法换成findall()方法。如果有返回结果的话就是list类型，所以我们需要遍历一下list来获依次获取每组内容。</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">results</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.findall(</span><span style="color:rgb(221,17,68);">'&lt;li.*?href="https://ask.hellobi.com/(.*?)".*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html,</span> <span style="color:rgb(85,85,85);">re.S)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(results)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(101,139,0);">type</span><span style="color:rgb(85,85,85);">(results))</span><br><span style="font-weight:bold;color:rgb(0,0,0);">for</span> <span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(0,0,0);">in</span> <span style="color:rgb(85,85,85);">results:</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result)</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result[</span><span style="color:rgb(0,153,153);">0</span><span style="color:rgb(85,85,85);">],</span> <span style="color:rgb(85,85,85);">result[</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">],</span> <span style="color:rgb(85,85,85);">result[</span><span style="color:rgb(0,153,153);">2</span><span style="color:rgb(85,85,85);">])</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">[(</span><span style="color:rgb(221,17,68);">'/2.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'任贤齐'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'沧海一声笑'</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/3.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'齐秦'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'往事随风'</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/4.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'beyond'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'光辉岁月'</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/5.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'陈慧琳'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'记事本'</span><span style="color:rgb(85,85,85);">),</span> <span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/6.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'邓丽君'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'但愿人长久'</span><span style="color:rgb(85,85,85);">)]</span><br><span style="color:rgb(85,85,85);">&lt;</span><span style="font-weight:bold;color:rgb(0,0,0);">class</span><span style="color:rgb(68,85,136);"> </span><span style="color:rgb(68,85,136);">'</span><span style="font-weight:bold;color:rgb(68,85,136);">list</span><span style="color:rgb(68,85,136);">'&gt;</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/2.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'任贤齐'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'沧海一声笑'</span><span style="color:rgb(85,85,85);">)</span><br><span style="color:rgb(85,85,85);">/</span><span style="color:rgb(180,82,205);"><span style="color:rgb(0,153,153);">2</span>.</span><span style="color:rgb(85,85,85);">mp3</span> <span style="color:rgb(166,23,23);">任贤齐</span> <span style="color:rgb(166,23,23);">沧海一声笑</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/3.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'齐秦'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'往事随风'</span><span style="color:rgb(85,85,85);">)</span><br><span style="color:rgb(85,85,85);">/</span><span style="color:rgb(180,82,205);"><span style="color:rgb(0,153,153);">3</span>.</span><span style="color:rgb(85,85,85);">mp3</span> <span style="color:rgb(166,23,23);">齐秦</span> <span style="color:rgb(166,23,23);">往事随风</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/4.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'beyond'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'光辉岁月'</span><span style="color:rgb(85,85,85);">)</span><br><span style="color:rgb(85,85,85);">/</span><span style="color:rgb(180,82,205);"><span style="color:rgb(0,153,153);">4</span>.</span><span style="color:rgb(85,85,85);">mp3</span> <span style="color:rgb(85,85,85);">beyond</span> <span style="color:rgb(166,23,23);">光辉岁月</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/5.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'陈慧琳'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'记事本'</span><span style="color:rgb(85,85,85);">)</span><br><span style="color:rgb(85,85,85);">/</span><span style="color:rgb(180,82,205);"><span style="color:rgb(0,153,153);">5</span>.</span><span style="color:rgb(85,85,85);">mp3</span> <span style="color:rgb(166,23,23);">陈慧琳</span> <span style="color:rgb(166,23,23);">记事本</span><br><span style="color:rgb(85,85,85);">(</span><span style="color:rgb(221,17,68);">'/6.mp3'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'邓丽君'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">'但愿人长久'</span><span style="color:rgb(85,85,85);">)</span><br><span style="color:rgb(85,85,85);">/</span><span style="color:rgb(180,82,205);"><span style="color:rgb(0,153,153);">6</span>.</span><span style="color:rgb(85,85,85);">mp3</span> <span style="color:rgb(166,23,23);">邓丽君</span> <span style="color:rgb(166,23,23);">但愿人长久</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以看到，返回的list的每个元素都是tuple类型，我们用对应的索引依次取出即可。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 所以，如果只是获取第一个内容，可以用search()方法，当需要提取多个内容时，就可以用findall()方法。</p> 
   <h3 style="font-size:16px;font-family:'微软雅黑';line-height:1.7;color:rgb(51,51,51);"> sub()</h3> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 正则表达式除了提取信息，我们有时候还需要借助于它来修改文本，比如我们想要把一串文本中的所有数字都去掉，如果我们只用字符串的replace()方法那就太繁琐了，在这里我们就可以借助于sub()方法。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 我们用一个实例来感受一下：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'54aK54yr5oiR54ix5L2g'</span><br><span style="color:rgb(85,85,85);">content</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.sub(</span><span style="color:rgb(221,17,68);">'\d+'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">''</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(content)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">aKyroiRixLg</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 在这里我们只需要在第一个参数传入<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">\d+</code>来匹配所有的数字，然后第二个参数是替换成的字符串，要去掉的话就可以赋值为空，第三个参数就是原字符串。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 得到的结果就是替换修改之后的内容。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 那么在上面的HTML文本中，如果我们想正则获取所有<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;li&gt;</code>节点的歌名，如果直接用正则表达式来提取可能比较繁琐，比如可以写成这样子：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">results</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.findall(</span><span style="color:rgb(221,17,68);">'&lt;li.*?&gt;\s*?(&lt;a.*?&gt;)?(\w+)(&lt;/a&gt;)?\s*?&lt;/li&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html,</span> <span style="color:rgb(85,85,85);">re.S)</span><br><span style="font-weight:bold;color:rgb(0,0,0);">for</span> <span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(0,0,0);">in</span> <span style="color:rgb(85,85,85);">results:</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result[</span><span style="color:rgb(0,153,153);">1</span><span style="color:rgb(85,85,85);">])</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(166,23,23);">一路上有你</span><br><span style="color:rgb(166,23,23);">沧海一声笑</span><br><span style="color:rgb(166,23,23);">往事随风</span><br><span style="color:rgb(166,23,23);">光辉岁月</span><br><span style="color:rgb(166,23,23);">记事本</span><br><span style="color:rgb(166,23,23);">但愿人长久</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 但如果我们借助于sub()函数就比较简单了，我们可以先用sub()函数将<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>节点去掉，只留下文本，然后再利用findall()提取就好了。</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(85,85,85);">html</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.sub(</span><span style="color:rgb(221,17,68);">'&lt;a.*?&gt;|&lt;/a&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(221,17,68);">''</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(html)</span><br><span style="color:rgb(85,85,85);">results</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.findall(</span><span style="color:rgb(221,17,68);">'&lt;li.*?&gt;(.*?)&lt;/li&gt;'</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">html,</span> <span style="color:rgb(85,85,85);">re.S)</span><br><span style="font-weight:bold;color:rgb(0,0,0);">for</span> <span style="color:rgb(85,85,85);">result</span> <span style="color:rgb(0,0,0);">in</span> <span style="color:rgb(85,85,85);">results:</span><br> &nbsp; &nbsp;<span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result.strip())</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,119,0);">&lt;div id=</span><span style="color:rgb(221,17,68);">"songs-list"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;h2 class=</span><span style="color:rgb(221,17,68);">"title"</span><span style="color:rgb(0,119,0);">&gt;</span><span style="color:rgb(166,23,23);">经典老歌</span><span style="color:rgb(0,119,0);">&lt;/h2&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;p class=</span><span style="color:rgb(221,17,68);">"introduction"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(166,23,23);">经典老歌列表</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/p&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;ul id=</span><span style="color:rgb(221,17,68);">"list"</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"list-group"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;li data-view=</span><span style="color:rgb(221,17,68);">"2"</span><span style="color:rgb(0,119,0);">&gt;</span><span style="color:rgb(166,23,23);">一路上有你</span><span style="color:rgb(0,119,0);">&lt;/li&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;li data-view=</span><span style="color:rgb(221,17,68);">"7"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(166,23,23);">沧海一声笑</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/li&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;li data-view=</span><span style="color:rgb(221,17,68);">"4"</span><span style="color:rgb(0,119,0);"> class=</span><span style="color:rgb(221,17,68);">"active"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(166,23,23);">往事随风</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/li&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;li data-view=</span><span style="color:rgb(221,17,68);">"6"</span><span style="color:rgb(0,119,0);">&gt;</span><span style="color:rgb(166,23,23);">光辉岁月</span><span style="color:rgb(0,119,0);">&lt;/li&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;li data-view=</span><span style="color:rgb(221,17,68);">"5"</span><span style="color:rgb(0,119,0);">&gt;</span><span style="color:rgb(166,23,23);">记事本</span><span style="color:rgb(0,119,0);">&lt;/li&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;li data-view=</span><span style="color:rgb(221,17,68);">"5"</span><span style="color:rgb(0,119,0);">&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(166,23,23);">但愿人长久</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/li&gt;</span><br> &nbsp; &nbsp;<span style="color:rgb(0,119,0);">&lt;/ul&gt;</span><br><span style="color:rgb(0,119,0);">&lt;/div&gt;</span><br><span style="color:rgb(166,23,23);">一路上有你</span><br><span style="color:rgb(166,23,23);">沧海一声笑</span><br><span style="color:rgb(166,23,23);">往事随风</span><br><span style="color:rgb(166,23,23);">光辉岁月</span><br><span style="color:rgb(166,23,23);">记事本</span><br><span style="color:rgb(166,23,23);">但愿人长久</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 可以到<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">&lt;a&gt;</code>标签在经过sub()函数处理后都没有了，然后再findall()直接提取即可。所以在适当的时候我们可以借助于sub()方法做一些相应处理可以事半功倍。</p> 
   <h3 style="font-size:16px;font-family:'微软雅黑';line-height:1.7;color:rgb(51,51,51);"> compile()</h3> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 前面我们所讲的方法都是用来处理字符串的方法，最后再介绍一个compile()方法，这个方法可以讲正则字符串编译成正则表达式对象，以便于在后面的匹配中复用。</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="font-weight:bold;color:rgb(0,0,0);">import</span> <span style="color:rgb(0,139,69);">re</span><br><br><span style="color:rgb(85,85,85);">content1</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'2016-12-15 12:00'</span><br><span style="color:rgb(85,85,85);">content2</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'2016-12-17 12:55'</span><br><span style="color:rgb(85,85,85);">content3</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(221,17,68);">'2016-12-22 13:21'</span><br><span style="color:rgb(85,85,85);">pattern</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.compile(</span><span style="color:rgb(221,17,68);">'\d{2}:\d{2}'</span><span style="color:rgb(85,85,85);">)</span><br><span style="color:rgb(85,85,85);">result1</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.sub(pattern,</span> <span style="color:rgb(221,17,68);">''</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content1)</span><br><span style="color:rgb(85,85,85);">result2</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.sub(pattern,</span> <span style="color:rgb(221,17,68);">''</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content2)</span><br><span style="color:rgb(85,85,85);">result3</span> <span style="color:rgb(85,85,85);">=</span> <span style="color:rgb(85,85,85);">re.sub(pattern,</span> <span style="color:rgb(221,17,68);">''</span><span style="color:rgb(85,85,85);">,</span> <span style="color:rgb(85,85,85);">content3)</span><br><span style="color:rgb(139,0,139);font-weight:bold;">print</span><span style="color:rgb(85,85,85);">(result1,</span> <span style="color:rgb(85,85,85);">result2,</span> <span style="color:rgb(85,85,85);">result3)</span><br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 例如这里有三个日期，我们想分别将三个日期中的时间去掉，所以在这里我们可以借助于sub()方法，sub()方法的第一个参数是正则表达式，但是这里我们没有必要重复写三个同样的正则表达式，所以可以借助于compile()函数将正则表达式编译成一个正则表达式对象，以便复用。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 运行结果：</p> 
   <pre><code style="font-size:13px;color:inherit;background:none;"><span style="color:rgb(0,153,153);">2016</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">12</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">15</span> &nbsp;<span style="color:rgb(0,153,153);">2016</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">12</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">17</span> &nbsp;<span style="color:rgb(0,153,153);">2016</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">12</span><span style="color:rgb(85,85,85);">-</span><span style="color:rgb(0,153,153);">22</span> <br></code></pre> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 另外compile()还可以传入修饰符，例如<code style="font-size:13px;color:rgb(199,37,78);background:rgb(238,238,238);">re.S</code>等修饰符，这样在search()、findall()等方法中就不需要额外传了。所以compile()方法可以说是给正则表达式做了一层封装，以便于我们更好地复用。</p> 
   <p style="clear:both;font-family:'微软雅黑';font-size:14px;color:rgb(51,51,51);line-height:22.4px;"> 到此为止，正则表达式的基本用法就介绍完毕了，后面我们会有实战来讲解正则表达式的使用。</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
