<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>数据库单元测试 What is database unit testing? « NotBeCN</title>
  <meta name="description" content="             Unit Testing, while a well understood technique in the application development world, is not nearly as prevalent in the data community. Therefor...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/06/30/weixin_34128501_90124118.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">数据库单元测试 What is database unit testing?</h1>
    <p class="post-meta">Jun 30, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">Unit Testing, while a well understood technique in the application development world, is not nearly as prevalent in the data community. Therefore, before jumping into how exactly you would utilize this technique and our toolset around it, you must understand the overall fundamentals of the unit testing methodology. And that's exactly what I'm about to help you do :)</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;"></span>&nbsp;</p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">Unit testing provides a structured and automated way for testing individual components of a system. Unit tests are most often authored by the developer of the component under test. As a methodology, it has many advantages over manual ad hoc testing and debugging. By coding test methods, the developer can create a battery of tests that can be run during development to ensure features work as expected. Since unit tests focus specifically on an individual method under test, it is much easier to determine the source of a failure for a failing unit test. Such a battery of tests is very useful for regression testing, since as new features are implemented, existing tests can be re-run to ensure existing functionality has not been broken. Unit tests, in addition, serve as documentation for users of the methods under test. Developers can quickly review unit tests to determine how exactly they are expected to consume particular components.</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"></p> 
   <p><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">&nbsp;</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">How does this all relate to database development? The direct analog of application unit tests in the database world are tests of a database’s programmability objects. These include, for example, a database’s stored procedures, functions, and triggers.</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"></p> 
   <p><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">&nbsp;</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">What might a database unit test for a stored procedure look like? Let’s say you are attempting to test the CustOrderHist stored procedure in the Northwind database. The stored procedure should give you back the order history for a given customer ID. To test this, you can imagine writing a SQL script that executed the stored procedure and checked whether the expected number of rows were returned. Such a script might look like the following:</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"></p> 
   <p><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">&nbsp;</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;"><span style="line-height:1.8;color:#0000FF;font-family:'Courier New';">DECLARE</span><span style="line-height:1.8;font-family:'Courier New';">&nbsp;@CustomerId&nbsp;<span style="line-height:1.8;color:#0000FF;">nchar</span><span style="line-height:1.8;color:#808080;">(</span>5<span style="line-height:1.8;color:#808080;">)</span></span></span></p> 
   <p></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;"><span style="line-height:1.8;color:#0000FF;font-family:'Courier New';">SELECT</span><span style="line-height:1.8;font-family:'Courier New';">&nbsp;@CustomerId&nbsp;<span style="line-height:1.8;color:#808080;">=</span>&nbsp;<span style="line-height:1.8;color:#FF0000;">'EASTC'</span></span></span></p> 
   <p></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;"><span style="line-height:1.8;color:#0000FF;font-family:'Courier New';">EXEC</span><span style="line-height:1.8;font-family:'Courier New';">&nbsp;dbo<span style="line-height:1.8;color:#808080;">.</span>CustOrderHist @CustomerId</span></span></p> 
   <p></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-family:'Courier New';"></span></p> 
   <p><span style="line-height:1.8;font-size:x-small;">&nbsp;</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;"><span style="line-height:1.8;color:#0000FF;font-family:'Courier New';">IF</span><span style="line-height:1.8;font-family:'Courier New';">&nbsp;<span style="line-height:1.8;color:#808080;">(</span><span style="line-height:1.8;color:#FF00FF;">@@ROWCOUNT</span>&nbsp;<span style="line-height:1.8;color:#808080;">&lt;&gt;</span>&nbsp;19<span style="line-height:1.8;color:#808080;">)</span></span></span></p> 
   <p></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;"><span style="line-height:1.8;color:#0000FF;font-family:'Courier New';">RAISERROR</span><span style="line-height:1.8;color:#808080;font-family:'Courier New';">(</span><span style="line-height:1.8;color:#FF0000;font-family:'Courier New';">'Actual Rowcount not equal to expected 19'</span><span style="line-height:1.8;color:#808080;font-family:'Courier New';">,</span><span style="line-height:1.8;font-family:'Courier New';">1<span style="line-height:1.8;color:#808080;">,</span>1<span style="line-height:1.8;color:#808080;">)</span></span></span></p> 
   <p></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"></p> 
   <p><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">&nbsp;</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">So what you are looking at above is a very simple unit test for a stored procedure.</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;"></span>&nbsp;</p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;">Unit testing is not, however, limited to testing the database’s programmability objects. There are many other sorts of database unit tests that one may wish to write. I'll save the specifics about the different kinds of tests you may want to create in another post.</span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;"><br></span></p> 
   <p style="font-size:13px;line-height:19.5px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-size:x-small;font-family:Verdana;"></span></p> 
   <p style="line-height:19.5px;"><font color="#333333">&nbsp; &nbsp; 本文转自灵动生活博客园博客，原文链接：http://www.cnblogs.com/ywqu/archive/2009/03/03/1402345.html</font><span style="color:rgb(51,51,51);font-family:Verdana;font-size:x-small;">，如需转载请自行联系原作者</span></p> 
   <div>
    <br>
   </div> 
   <p style="line-height:19.5px;color:rgb(51,51,51);"><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
