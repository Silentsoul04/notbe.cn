<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ArcGIS Server 开发系列（五）--自定义 Toolbar 工具 « NotBeCN</title>
  <meta name="description" content="             &nbsp;前面的开发系列均是使用server开发模板程序Web Mapping Application，工具条上的基本工具是已经在模板中定制好的，在实际项目应用中，我们需要的工具远远不仅如此，如何在工具条中增加新的自定义工具是开发系列（五）所要描述的，其中使用ASP.Net 2.0 C...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/06/28/weixin_33769125_90125128.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">ArcGIS Server 开发系列（五）--自定义 Toolbar 工具</h1>
    <p class="post-meta">Jun 28, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <span style="font-size:10pt;font-family:Verdana;">&nbsp;前面的开发系列均是使用server开发模板程序Web Mapping Application，工具条上的基本工具是已经在模板中定制好的，在实际项目应用中，我们需要的工具远远不仅如此，如何在工具条中增加新的自定义工具是开发系列（五）所要描述的，其中使用ASP.Net 2.0 Callback framework进行异步刷新地图是重点。<br><br> &nbsp;&nbsp;&nbsp; 目标：<br> &nbsp;&nbsp;&nbsp; 自定义工具按钮进行矩选查询，高亮显示所选择的地图要素，页面下方的Gridview显示所选择要素的属性信息。<br><br> &nbsp;&nbsp;&nbsp; 准备工作：<br> &nbsp;&nbsp;&nbsp; 1.了解ESRI.ArcGIS.Server.WebControls.IMapServerToolAction接口<br> &nbsp;&nbsp;&nbsp; 2.了解ASP.Net 2.0 Callback framework<br> &nbsp;&nbsp;&nbsp; 3.新建一个网站，在ArcGIS Web Controls控件中拖动如下控件：Toolbar、Map、Toc、MapResourceManager，以及常用控件Label、DropDownList、Gridview。<br> &nbsp;&nbsp;&nbsp; 4.设置控件属性，Toolbar、Toc的BuddyControls均为Map1，Toolbar的BuddyControlType为Map，Map控件的MapResourceManager为MapResourceManager1。<br> &nbsp;&nbsp;&nbsp; 5.更改MapResourceManager属性，添加两个Resource：Selection和NorthAmerica，类型分别是Graphics Layer和ArcGIS Server Internet。<br> &nbsp;&nbsp;&nbsp; 最后视图效果：<br><img alt="" src="https://images.cnblogs.com/cnblogs_com/flyingis/server701.gif" style="border:0px;"><br><br> &nbsp;&nbsp;&nbsp; 思路：<br><br> &nbsp;&nbsp;&nbsp; 现在重新想想我们要做什么，首先要自定义一个工具按钮，使用该工具后在地图上进行矩形选择，对选择的要素高亮显示，同时gridview显示出这些要素的属性信息。整个过程看似容易，实际上需要在客户端和服务器端之间来回切换，异步调用，这里用到了ASP.Net Callback framework，其实Server中很多地图操作都基于asp.net callback，或是实现了ICallbackEventHandler接口，理解了这一段程序开发有利于深入了解Server地图刷新、Task等组件的工作机制。<br><br> &nbsp;&nbsp;&nbsp; 首先在Toolbar上新增一个按钮Select Features，上图其实已经加入了，加入的方法是，选择Toolbar控件属性ToobarItems，添加一个Tool，设置以下值：<br><br> &nbsp;&nbsp;&nbsp; Text:Select Feature<br> &nbsp;&nbsp;&nbsp; CientAction:DragRectangle<br> &nbsp;&nbsp;&nbsp; Name:SelectTool<br> &nbsp;&nbsp;&nbsp; ServerActionAssembly:App_Code<br> &nbsp;&nbsp;&nbsp; ServerActionClass:SelectFeatures<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp; OK，搞定！<br><br> &nbsp;&nbsp;&nbsp; 除了上述属性外，还可以设置该按钮各种状态下的图片显示、ToolTip等等，这里就省了，纵观这些属性，可以看出既有js脚本的交互（已经封装了，通过 ToolEventArgs传入），也有服务器端功能的实现，这时我们需新建一个类SelectFeatures，并实现 IMapServerToolAction接口，类中实现IMapServerToolAction的方法ServerAction。<br></span>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">public</span>&nbsp;
    <span style="color:rgb(0,0,255);">class</span>&nbsp;SelectFeatures&nbsp;:&nbsp;IMapServerToolAction&nbsp;
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">public</span>&nbsp;<span style="color:rgb(0,0,255);">void</span>&nbsp;ServerAction(ToolEventArgs&nbsp;args)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span> 
   </div> 
   <br> &nbsp;&nbsp;&nbsp; 代码实现：
   <br>
   <br> &nbsp;&nbsp;&nbsp; 1.获取矩形框的屏幕坐标
   <br>
   <br> &nbsp;&nbsp;&nbsp; 要查询矩选的地图信息，首先应知道矩形的坐标，在服务器端如何获取呢？
   <br>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">Map&nbsp;mapctrl&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">null</span>;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">mapctrl&nbsp;=&nbsp;(Map)args.Control;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;获取下拉框中的数据，在后面实现</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>
    <span style="color:rgb(0,0,255);">string</span>&nbsp;targetlayername&nbsp;=&nbsp;(
    <span style="color:rgb(0,0,255);">string</span>)mapctrl.Page.Session["TargetLayer"];
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">RectangleEventArgs&nbsp;rectargs&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">null</span>;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;强制类型转换为RectangleEventArgs</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>rectargs&nbsp;=&nbsp;(RectangleEventArgs)args;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;获取矩形选择框的屏幕坐标</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>System.Drawing.Rectangle&nbsp;rect&nbsp;=&nbsp;rectargs.ScreenExtent;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">ESRI.ArcGIS.ADF.Web.Geometry.Point&nbsp;minpnt&nbsp;=&nbsp;ESRI.ArcGIS.ADF.Web.Geometry.Point.ToMapPoint(rect.Left,&nbsp;rect.Bottom,&nbsp;mapctrl.Extent,&nbsp;(
    <span style="color:rgb(0,0,255);">int</span>)mapctrl.Width.Value,&nbsp;(
    <span style="color:rgb(0,0,255);">int</span>)mapctrl.Height.Value);
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">ESRI.ArcGIS.ADF.Web.Geometry.Point&nbsp;maxpnt&nbsp;=&nbsp;ESRI.ArcGIS.ADF.Web.Geometry.Point.ToMapPoint(rect.Right,&nbsp;rect.Top,&nbsp;mapctrl.Extent,&nbsp;(
    <span style="color:rgb(0,0,255);">int</span>)mapctrl.Width.Value,&nbsp;(
    <span style="color:rgb(0,0,255);">int</span>)mapctrl.Height.Value);
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">ESRI.ArcGIS.ADF.Web.Geometry.Envelope&nbsp;mappoly&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">null</span>;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;minpnt、maxpnt分别是左下、右上坐标点</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>mappoly&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">new</span>&nbsp;ESRI.ArcGIS.ADF.Web.Geometry.Envelope(minpnt,&nbsp;maxpnt);
   </div> 
   <br> &nbsp;&nbsp;&nbsp; 所有的信息都是通过args获取，它是一个ESRI.ArcGIS.ADF.Web.UI.WebControls.ToolEventArgs对象，包含了客户端Map控件和当前客户端工具的信息，RectangleEventArgs是它的子类，强制性转换后得到矩选的矩形坐标，最后得到一个 Envelope，用于spatialfilter.Geometry属性。
   <br>
   <br> &nbsp;&nbsp;&nbsp; 2.查询所选择的要素并对Graphics Layer进行渲染实现高亮
   <br>
   <br> &nbsp;&nbsp;&nbsp; 这部分内容完全可以参考《
   <a href="http://www.cnblogs.com/flyingis/archive/2007/08/17/860128.html" rel="nofollow" style="color:rgb(0,51,102);text-decoration:none;">ArcGIS Server 开发系列（三）--漫游 Graphics data sources</a>》，只需要注释掉WhereClause属性赋值，再增加一行代码：
   <br>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">ESRI.ArcGIS.ADF.Web.SpatialFilter&nbsp;spatialfilter&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">new</span>&nbsp;ESRI.ArcGIS.ADF.Web.SpatialFilter();
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">spatialfilter.ReturnADFGeometries&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">false</span>;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">spatialfilter.MaxRecords&nbsp;=&nbsp;1000;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">spatialfilter.WhereClause&nbsp;=&nbsp;txtQuery.Text;</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>spatialfilter.Geometry&nbsp;=&nbsp;mappoly;
   </div> 
   <br> &nbsp;&nbsp;&nbsp; 3.异步刷新Gridview显示地图要素的属性
   <br>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">GridView&nbsp;gdview&nbsp;=&nbsp;(GridView)mapctrl.Page.FindControl("GridView1");
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">object</span>[]&nbsp;oa&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">new</span>&nbsp;
    <span style="color:rgb(0,0,255);">object</span>[1];
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">string</span>&nbsp;showtable&nbsp;=&nbsp;"'visible'";
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;datatable为矩选时所选择的地图要素，绑定到gridview</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>gdview.DataSource&nbsp;=&nbsp;datatable;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">gdview.DataBind();
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">string</span>&nbsp;returnstring&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">null</span>;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">using</span>&nbsp;(System.IO.StringWriter&nbsp;sw&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">new</span>&nbsp;System.IO.StringWriter())
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">HtmlTextWriter&nbsp;htw&nbsp;=&nbsp;<span style="color:rgb(0,0,255);">new</span>&nbsp;HtmlTextWriter(sw);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">gdview.RenderControl(htw);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">htw.Flush();<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">returnstring&nbsp;=&nbsp;sw.ToString();<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;innercontent相当于innerhtml</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>CallbackResult&nbsp;cr&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">new</span>&nbsp;CallbackResult("div",&nbsp;"griddiv",&nbsp;"innercontent",&nbsp;returnstring);
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;通过回调将信息从服务器端传输到客户端</span>
    <span style="color:rgb(0,128,0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;"></span>mapctrl.CallbackResults.Add(cr);
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">if</span>&nbsp;(datatable.Rows.Count&nbsp;&gt;&nbsp;1)
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">showtable&nbsp;=&nbsp;"'visible'";<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">else</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">showtable&nbsp;=&nbsp;"'hidden'";<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">string</span>&nbsp;sa&nbsp;=&nbsp;"var&nbsp;griddiv&nbsp;=&nbsp;document.getElementById('griddiv');";
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">sa&nbsp;+=&nbsp;"griddiv.style.visibility&nbsp;=&nbsp;"&nbsp;+&nbsp;showtable&nbsp;+&nbsp;";";
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">oa[0]&nbsp;=&nbsp;sa;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">CallbackResult&nbsp;cr1&nbsp;=&nbsp;
    <span style="color:rgb(0,0,255);">new</span>&nbsp;CallbackResult(
    <span style="color:rgb(0,0,255);">null</span>,&nbsp;
    <span style="color:rgb(0,0,255);">null</span>,&nbsp;"javascript",&nbsp;oa);
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">mapctrl.CallbackResults.Add(cr1);
   </div> 
   <br> &nbsp;&nbsp;&nbsp; 这段代码最关键的类是CallbackResult，它简化了web adf framework中客户端回调的处理，不用再创建自己的客户端和服务器端逻辑，使用CallbackResult就可以将信息传回客户端，更新客户端页面的内容、图片或执行js脚本。关于CallbackResult构造方法第三个参数，下面js代码写的很详细：
   <br>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">if</span>&nbsp;(action=="content")&nbsp;
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">o&nbsp;=&nbsp;document.getElementById(actions[1]);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><span style="color:rgb(0,0,255);">if</span>&nbsp;(o&nbsp;!=&nbsp;<span style="color:rgb(0,0,255);">null</span>)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;"><span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">o.outerHTML=actions[3];<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" style="border:0px;">}</span><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">else</span>&nbsp;
    <span style="color:rgb(0,0,255);">if</span>&nbsp;(action=="innercontent")&nbsp;
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">o&nbsp;=&nbsp;document.getElementById(actions[1]);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><span style="color:rgb(0,0,255);">if</span>&nbsp;(o&nbsp;!=&nbsp;<span style="color:rgb(0,0,255);">null</span>)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;"><span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">o.innerHTML=actions[3];<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" style="border:0px;">}</span><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">else</span>&nbsp;
    <span style="color:rgb(0,0,255);">if</span>&nbsp;(action=="image")
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{&nbsp;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">o&nbsp;=&nbsp;document.images[actions[1]];<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><span style="color:rgb(0,0,255);">if</span>&nbsp;(o&nbsp;!=&nbsp;<span style="color:rgb(0,0,255);">null</span>)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;"><span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">o.src&nbsp;=&nbsp;actions[3];<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" style="border:0px;">}</span><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><span style="color:rgb(0,0,255);">else</span>&nbsp;alert&nbsp;(actions[1]&nbsp;+&nbsp;"&nbsp;was&nbsp;null");<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>&nbsp;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">else</span>&nbsp;
    <span style="color:rgb(0,0,255);">if</span>&nbsp;(action=="javascript")&nbsp;
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">eval(actions[3]);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span> 
   </div> 
   <br> &nbsp;&nbsp;&nbsp; 4.填充DropDownList
   <br>
   <br> &nbsp;&nbsp;&nbsp; DropDownList显示的是ArcGIS Server Internet地图数据源所包含的图层名称，选择哪个图层，矩选时就对哪个图层进行查询，DropDownList的填充在Page_PreRender过程中。
   <br>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">if</span>&nbsp;(!IsPostBack)
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;ESRI.ArcGIS.ADF.Web.DataSources.IMapFunctionality&nbsp;mf&nbsp;=&nbsp;(ESRI.ArcGIS.ADF.Web.DataSources.IMapFunctionality)Map1.GetFunctionality(1);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;ESRI.ArcGIS.ADF.Web.DataSources.IGISResource&nbsp;gisresource&nbsp;=&nbsp;mf.Resource;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">bool</span>&nbsp;supported&nbsp;=&nbsp;gisresource.SupportsFunctionality(<span style="color:rgb(0,0,255);">typeof</span>(ESRI.ArcGIS.ADF.Web.DataSources.IQueryFunctionality));<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">if</span>&nbsp;(supported)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ESRI.ArcGIS.ADF.Web.DataSources.IQueryFunctionality&nbsp;qfunc&nbsp;=&nbsp;(ESRI.ArcGIS.ADF.Web.DataSources.IQueryFunctionality)gisresource.CreateFunctionality(<span style="color:rgb(0,0,255);">typeof</span>(ESRI.ArcGIS.ADF.Web.DataSources.IQueryFunctionality),&nbsp;<span style="color:rgb(0,0,255);">null</span>);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">string</span>[]&nbsp;lids;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">string</span>[]&nbsp;lnames;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qfunc.GetQueryableLayers(<span style="color:rgb(0,0,255);">null</span>,&nbsp;<span style="color:rgb(0,0,255);">out</span>&nbsp;lids,&nbsp;<span style="color:rgb(0,0,255);">out</span>&nbsp;lnames);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">for</span>&nbsp;(<span style="color:rgb(0,0,255);">int</span>&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;lnames.Length;&nbsp;i++)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LayerDropDownList1.Items.Add(lnames[i]);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Session["TargetLayer"]&nbsp;=&nbsp;LayerDropDownList1.Items[0].Value;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span> 
   </div> 
   <br> &nbsp;&nbsp;&nbsp; 5.实现ICallbackEventHandler接口
   <br>
   <br> &nbsp;&nbsp;&nbsp; Default.aspx.cs的_Default实现ICallbackEventHandler接口，在类中实现RaiseCallbackEvent和GetCallbackResult两个方法，做ASP.Net 2.0的对ICallbackEventHandler应该是再熟悉不过了:)但下来框显示图层为什么要用到callback？
   <br>
   <div style="border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">protected</span>&nbsp;
    <span style="color:rgb(0,0,255);">void</span>&nbsp;Page_Load(
    <span style="color:rgb(0,0,255);">object</span>&nbsp;sender,&nbsp;EventArgs&nbsp;e)
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">if</span>&nbsp;(!IsPostBack)<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Session["TargetLayer"]&nbsp;=&nbsp;"";<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;LayerDropDownList1.Attributes.Add("onchange",&nbsp;"ChangeLayer()");<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;sADFCallBackFunctionInvocation&nbsp;=&nbsp;Page.ClientScript.GetCallbackEventReference(<span style="color:rgb(0,0,255);">this</span>,&nbsp;"message",&nbsp;"processCallbackResult",&nbsp;"context",&nbsp;"postBackError",&nbsp;<span style="color:rgb(0,0,255);">true</span>);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">public</span>&nbsp;
    <span style="color:rgb(0,0,255);">void</span>&nbsp;ChangeDropDownListServer(
    <span style="color:rgb(0,0,255);">string</span>&nbsp;ea)
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">char</span>[]&nbsp;parser_char&nbsp;=&nbsp;<span>{&nbsp;','&nbsp;}</span>;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">string</span>[]&nbsp;messages&nbsp;=&nbsp;ea.Split(parser_char);<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">string</span>&nbsp;dll1&nbsp;=&nbsp;messages[1];<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;Session["TargetLayer"]&nbsp;=&nbsp;dll1;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" alt="" align="top" style="border:0px;">
    <span style="border:1px solid rgb(128,128,128);">ICallbackEventHandler&nbsp;成员</span> 
   </div> 
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 原因就在这里，改变Session ["TargetLayer"]的值，SelectFeatures需要知道是对哪个图层进行查询的，从而对在那个图层选择要素进行高亮及属性显示，这里 callback仅仅是在做了变量值的处理。最后在页面之间加入js脚本ChangeLayer()。</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <div style="font-family:palatino, georgia, verdana, arial, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">&lt;script&nbsp;type="text/javascript"&nbsp;language="javascript"&gt;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">var</span>&nbsp;context;
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">
    <span style="color:rgb(0,0,255);">function</span>&nbsp;ChangeLayer()
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" style="border:0px;">
    <span>{<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">var</span>&nbsp;message;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:rgb(0,0,255);">var</span>&nbsp;ddl1value&nbsp;=&nbsp;document.getElementById('LayerDropDownList1').value;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;=&nbsp;'ddl1';<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;+=&nbsp;','&nbsp;+&nbsp;ddl1value;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" style="border:0px;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;%=sADFCallBackFunctionInvocation%&gt;<br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" style="border:0px;">}</span>
    <br>
    <img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" style="border:0px;">&lt;/script&gt;
   </div> 
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 运行程序：</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <img alt="" src="https://images.cnblogs.com/cnblogs_com/flyingis/server702.gif" style="border:0px;font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 其中黄色区域就是Select Features按钮矩选的要素，下方gridview显示了查询到的属性结果。</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 程序中有两个地方用到了异步刷新，一个是ASP.Net 2.0原有接口ICallbackEventHandler，另一个是Web ADF framework的CallbackResult类，最初认为简单异步刷新用自己写的XMLHttpRequest请求更为简单，如上例中对 session存储值的改变，不用ICallbackEventHandler，但是在server地图互操作的过程中， ICallbackEventHandler给我们提供了更多的便利。</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 继续思考：</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 1.本例实现了根据地图查询属性，反过来根据属性查询几何图形怎么实现呢？其实前面《</span>
   <a href="http://www.cnblogs.com/flyingis/archive/2007/08/17/860128.html" rel="nofollow" style="color:rgb(0,51,102);text-decoration:none;font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">ArcGIS Server 开发系列（三）--漫游 Graphics data sources</a>
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">》已经讲到了，只不过需要将条件查询的信息，更改为在gridview或其他地方选择的属性信息，然后高亮显示相应的几何要素。</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 2.这种几何要素图形和属性信息的关联可以应用于各种不同的业务需求中，如图形和属性的同步删除、位置定位、类似结果查询等等。</span>
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <br style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">
   <p><span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;">&nbsp;&nbsp;&nbsp; 3.如何改进或提升这种图形和属性的异步刷新带来的用户体验？</span></p> 
   <p><span style="font-family:palatino, georgia, verdana, arial, sans-serif;font-size:13.5px;"><br></span></p> 
   <p><font><span><span style="font-size:13.5px;">本文转自Flyingis博客园博客，原文链接：http://www.cnblogs.com/flyingis/archive/2007/09/06/884609.html，如需转载请自行联系原作者</span></span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
