<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>JS验证集合 « NotBeCN</title>
  <meta name="description" content="                  在b/s开发中经常用到的javaScript技术 一、验证类 1、数字验证内 1.1 整数 1.2 大于0的整数 （用于传来的ID的验证) 1.3 负整数的验证 1.4 整数不能大于iMax 1.5 整数不能小于iMin 2、时间类 2.1 短时间，形如 (13:04:06) ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/05/28/weixin_33964094_90119393.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">JS验证集合</h1>
    <p class="post-meta">May 28, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="blogpost-body" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <p style="line-height:1.5;">在b/s开发中经常用到的javaScript技术<br> 一、验证类<br> 1、数字验证内<br> 1.1 整数<br> 1.2 大于0的整数 （用于传来的ID的验证)<br> 1.3 负整数的验证<br> 1.4 整数不能大于iMax<br> 1.5 整数不能小于iMin<br> 2、时间类<br> 2.1 短时间，形如 (13:04:06)<br> 2.2 短日期，形如 (2003-12-05)<br> 2.3 长时间，形如 (2003-12-05 13:04:06)<br> 2.4 只有年和月。形如(2003-05,或者2003-5)<br> 2.5 只有小时和分钟,形如(12:03)<br> 3、表单类<br> 3.1 所有的表单的值都不能为空<br> 3.2 多行文本框的值不能为空。<br> 3.3 多行文本框的值不能超过sMaxStrleng<br> 3.4 多行文本框的值不能少于sMixStrleng<br> 3.5 判断单选框是否选择。<br> 3.6 判断复选框是否选择.<br> 3.7 复选框的全选，多选，全不选，反选<br> 3.8 文件上传过程中判断文件类型<br> 4、字符类<br> 4.1 判断字符全部由a-Z或者是A-Z的字字母组成<br> 4.2 判断字符由字母和数字组成。<br> 4.3 判断字符由字母和数字，下划线,点号组成.且开头的只能是下划线和字母<br> 4.4 字符串替换函数.Replace();<br> 5、浏览器类<br> 5.1 判断浏览器的类型<br> 5.2 判断ie的版本<br> 5.3 判断客户端的分辨率<br><br> 6、结合类<br> 6.1 email的判断。<br> 6.2 手机号码的验证<br> 6.3 身份证的验证<br><br> 二、功能类<br><br> 1、时间与相关控件类<br> 1.1 日历<br> 1.2 时间控件<br> 1.3 万年历<br> 1.4 显示动态显示时钟效果（文本，如OA中时间）<br> 1.5 显示动态显示时钟效果 (图像，像手表)<br> 2、表单类<br> 2.1 自动生成表单<br> 2.2 动态添加，修改，删除下拉框中的元素<br> 2.3 可以输入内容的下拉框<br> 2.4 多行文本框中只能输入iMax文字。如果多输入了，自动减少到iMax个文字（多用于短信发送)<br><br> 3、打印类<br> 3.1 打印控件<br> 4、事件类<br> 4.1 屏蔽右键<br> 4.2 屏蔽所有功能键<br> 4.3 --&gt; 和&lt;-- F5 F11,F9,F1<br> 4.4 屏蔽组合键ctrl+N<br> 5、网页设计类<br> 5.1 连续滚动的文字，图片（注意是连续的，两段文字和图片中没有空白出现）<br> 5.2 html编辑控件类<br> 5.3 颜色选取框控件<br> 5.4 下拉菜单<br> 5.5 两层或多层次的下拉菜单<br> 5.6 仿IE菜单的按钮。（效果如rongshuxa.com的导航栏目)<br> 5.7 状态栏，title栏的动态效果（例子很多，可以研究一下）<br> 5.8 双击后，网页自动滚屏<br> 6、树型结构。<br> 6.1 asp+SQL版<br> 6.2 asp+xml+sql版<br> 6.3 java+sql或者java+sql+xml<br> 7、无边框效果的制作<br> 8、连动下拉框技术<br> 9、文本排序<br><br> 一、验证类<br> 1、数字验证内<br> 1.1 整数<br> /^(-|\+)?\d+$/.test(str)<br> 1.2 大于0的整数 （用于传来的ID的验证)<br> /^\d+$/.test(str)<br> 1.3 负整数的验证<br> /^-\d+$/.test(str)<br> 2、时间类<br> 2.1 短时间，形如 (13:04:06)<br> function isTime(str)<br> {<br> var a = str.match(/^(\d{1,2})(:)?(\d{1,2})\2(\d{1,2})$/);<br> if (a == null) {alert('输入的参数不是时间格式'); return false;}<br> if (a[1]&gt;24 || a[3]&gt;60 || a[4]&gt;60)<br> {<br> alert("时间格式不对");<br> return false<br> }<br> return true;<br> }<br> 2.2 短日期，形如 (2003-12-05)<br> function strDateTime(str)<br> {<br> var r = str.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);<br> if(r==null)return false;<br> var d= new Date(r[1], r[3]-1, r[4]);<br> return (d.getFullYear()==r[1]&amp;&amp;(d.getMonth()+1)==r[3]&amp;&amp;d.getDate()==r[4]);<br> }<br> 2.3 长时间，形如 (2003-12-05 13:04:06)<br> function strDateTime(str)<br> {<br> var reg = /^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;<br> var r = str.match(reg);<br> if(r==null)return false;<br> var d= new Date(r[1], r[3]-1,r[4],r[5],r[6],r[7]);<br> return (d.getFullYear()==r[1]&amp;&amp;(d.getMonth()+1)==r[3]&amp;&amp;d.getDate()==r[4]&amp;&amp;d.getHours()==r[5]&amp;&amp;d.getMinutes()==r[6]&amp;&amp;d.getSeconds()==r[7]);<br> }<br> 2.4 只有年和月。形如(2003-05,或者2003-5)<br> 2.5 只有小时和分钟,形如(12:03)<br> 3、表单类<br> 3.1 所有的表单的值都不能为空<br> &lt;input onblur="if(this.value.replace(/^\s+|\s+$/g,'')=='')alert('不能为空!')"&gt;<br> 3.2 多行文本框的值不能为空。<br> 3.3 多行文本框的值不能超过sMaxStrleng<br> 3.4 多行文本框的值不能少于sMixStrleng<br> 3.5 判断单选框是否选择。<br> 3.6 判断复选框是否选择.<br> 3.7 复选框的全选，多选，全不选，反选<br> 3.8 文件上传过程中判断文件类型<br> 4、字符类<br> 4.1 判断字符全部由a-Z或者是A-Z的字字母组成<br> &lt;input onblur="if(/[^a-zA-Z]/g.test(this.value))alert('有错')"&gt;<br> 4.2 判断字符由字母和数字组成。<br> &lt;input onblur="if(/[^0-9a-zA-Z]/g.test(this.value))alert('有错')"&gt;<br> 4.3 判断字符由字母和数字，下划线,点号组成.且开头的只能是下划线和字母<br> /^([a-zA-z_]{1})([\w]*)$/g.test(str)<br> 4.4 字符串替换函数.Replace();<br> 5、浏览器类<br> 5.1 判断浏览器的类型<br> window.navigator.appName<br> 5.2 判断ie的版本<br> window.navigator.appVersion<br> 5.3 判断客户端的分辨率<br> window.screen.height; window.screen.width;<br><br> 6、结合类<br> 6.1 email的判断。<br> function ismail(mail)<br> {<br> return(new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(mail));<br> }<br> 6.2 手机号码的验证<br> 6.3 身份证的验证<br> function isIdCardNo(num)<br> {<br> if (isNaN(num)) {alert("输入的不是数字！"); return false;}<br> var len = num.length, re;<br> if (len == 15)<br> re = new RegExp(/^(\d{6})()?(\d{2})(\d{2})(\d{2})(\d{3})$/);<br> else if (len == 18)<br> re = new RegExp(/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\d)$/);<br> else {alert("输入的数字位数不对！"); return false;}<br> var a = num.match(re);<br> if (a != null)<br> {<br> if (len==15)<br> {<br> var D = new Date("19"+a[3]+"/"+a[4]+"/"+a[5]);<br> var B = D.getYear()==a[3]&amp;&amp;(D.getMonth()+1)==a[4]&amp;&amp;D.getDate()==a[5];<br> }<br> else<br> {<br> var D = new Date(a[3]+"/"+a[4]+"/"+a[5]);<br> var B = D.getFullYear()==a[3]&amp;&amp;(D.getMonth()+1)==a[4]&amp;&amp;D.getDate()==a[5];<br> }<br> if (!B) {alert("输入的身份证号 "+ a[0] +" 里出生日期不对！"); return false;}<br> }<br> return true;<br> }<br><br> 3.7 复选框的全选，多选，全不选，反选<br> &lt;form name=hrong&gt;<br> &lt;input type=checkbox name=All onclick="checkAll('mm')"&gt;全选&lt;br/&gt;<br> &lt;input type=checkbox name=mm onclick="checkItem('All')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm onclick="checkItem('All')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm onclick="checkItem('All')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm onclick="checkItem('All')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm onclick="checkItem('All')"&gt;&lt;br/&gt;&lt;br/&gt;<br><br> &lt;input type=checkbox name=All2 onclick="checkAll('mm2')"&gt;全选&lt;br/&gt;<br> &lt;input type=checkbox name=mm2 onclick="checkItem('All2')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm2 onclick="checkItem('All2')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm2 onclick="checkItem('All2')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm2 onclick="checkItem('All2')"&gt;&lt;br/&gt;<br> &lt;input type=checkbox name=mm2 onclick="checkItem('All2')"&gt;&lt;br/&gt;<br><br> &lt;/form&gt;<br><br> &lt;SCRIPT LANGUAGE="java script"&gt;<br> function checkAll(str)<br> {<br> var a = document.getElementsByName(str);<br> var n = a.length;<br> for (var i=0; i&lt;n; i++)<br> a[i].checked = window.event.srcElement.checked;<br> }<br> function checkItem(str)<br> {<br> var e = window.event.srcElement;<br> var all = eval("document.hrong."+ str);<br> if (e.checked)<br> {<br> var a = document.getElementsByName(e.name);<br> all.checked = true;<br> for (var i=0; i&lt;a.length; i++)<br> {<br> if (!a[i].checked){ all.checked = false; break;}<br> }<br> }<br> else all.checked = false;<br> }<br> &lt;/SCRIPT&gt;<br><br> 3.8 文件上传过程中判断文件类型<br> &lt;input type=file onchange="alert(this.value.match(/^(.*)(\.)(.{1,8})$/)[3])"&gt;<br><br> 画图:<br> &lt;OBJECT<br> id=S<br> style="LEFT: 0px; WIDTH: 392px; TOP: 0px; HEIGHT: 240px"<br> height=240<br> width=392<br> classid="clsid:369303C2-D7AC-11D0-89D5-00A0C90833E6"&gt;<br> &lt;/OBJECT&gt;<br> &lt;SCRIPT&gt;<br> S.DrawingSurface.ArcDegrees(0,0,0,30,50,60);<br> S.DrawingSurface.ArcRadians(30,0,0,30,50,60);<br> S.DrawingSurface.Line(10,10,100,100);<br> &lt;/SCRIPT&gt;<br><br> 写注册表：<br> &lt;SCRIPT&gt;<br> var WshShell = WScript.CreateObject("WScript.Shell");<br> WshShell.RegWrite ("HKCU\\Software\\ACME\\FortuneTeller\\", 1, "REG_BINARY");<br> WshShell.RegWrite ("HKCU\\Software\\ACME\\FortuneTeller\\MindReader", "Goocher!", "REG_SZ");<br> var bKey = WshShell.RegRead ("HKCU\\Software\\ACME\\FortuneTeller\\");<br> WScript.Echo (WshShell.RegRead ("HKCU\\Software\\ACME\\FortuneTeller\\MindReader"));<br> WshShell.RegDelete ("HKCU\\Software\\ACME\\FortuneTeller\\MindReader");<br> WshShell.RegDelete ("HKCU\\Software\\ACME\\FortuneTeller\\");<br> WshShell.RegDelete ("HKCU\\Software\\ACME\\");<br> &lt;/SCRIPT&gt;<br><br> TABLAE相关(客户端动态增加行列）<br> &lt;HTML&gt;<br> &lt;SCRIPT LANGUAGE="JScript"&gt;<br> function numberCells() {<br> var count=0;<br> for (i=0; i &lt; document.all.mytable.rows.length; i++) {<br> for (j=0; j &lt; document.all.mytable.rows(i).cells.length; j++) {<br> document.all.mytable.rows(i).cells(j).innerText = count;<br> count++;<br> }<br> }<br> }<br> &lt;/SCRIPT&gt;<br> &lt;BODY onload="numberCells()"&gt;<br> &lt;TABLE id=mytable border=1&gt;<br> &lt;TR&gt;&lt;TH&gt; &lt;/TH&gt;&lt;TH&gt; &lt;/TH&gt;&lt;TH&gt; &lt;/TH&gt;&lt;TH&gt; &lt;/TH&gt;&lt;/TR&gt;<br> &lt;TR&gt;&lt;TD&gt; &lt;/TD&gt;&lt;TD&gt; &lt;/TD&gt;&lt;TD&gt; &lt;/TD&gt;&lt;TD&gt; &lt;/TD&gt;&lt;/TR&gt;<br> &lt;TR&gt;&lt;TD&gt; &lt;/TD&gt;&lt;TD&gt; &lt;/TD&gt;&lt;TD&gt; &lt;/TD&gt;&lt;TD&gt; &lt;/TD&gt;&lt;/TR&gt;<br> &lt;/TABLE&gt;<br> &lt;/BODY&gt;<br> &lt;/HTML&gt;<br><br> １．身份证严格验证：<br><br> &lt;script&gt;<br> var aCity={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "}<br><br> function cidInfo(sId){<br> var iSum=0<br> var info=""<br> if(!/^\d{17}(\d|x)$/i.test(sId))return false;<br> sId=sId.replace(/x$/i,"a");<br> if(aCity[parseInt(sId.substr(0,2))]==null)return "Error:非法地区";<br> sBirthday=sId.substr(6,4)+"-"+Number(sId.substr(10,2))+"-"+Number(sId.substr(12,2));<br> var d=new Date(sBirthday.replace(/-/g,"/"))<br> if(sBirthday!=(d.getFullYear()+"-"+ (d.getMonth()+1) + "-" + d.getDate()))return "Error:非法生日";<br> for(var i = 17;i&gt;=0;i --) iSum += (Math.pow(2,i) % 11) * parseInt(sId.charAt(17 - i),11)<br> if(iSum%11!=1)return "Error:非法证号";<br> return aCity[parseInt(sId.substr(0,2))]+","+sBirthday+","+(sId.substr(16,1)%2?"男":"女")<br> }<br><br> document.write(cidInfo("380524198002300016"),"&lt;br/&gt;");<br> document.write(cidInfo("340524198002300019"),"&lt;br/&gt;")<br> document.write(cidInfo("340524197711111111"),"&lt;br/&gt;")<br> document.write(cidInfo("34052419800101001x"),"&lt;br/&gt;");<br> &lt;/script&gt;<br><br> ２．验证ＩＰ地址<br> &lt;SCRIPT LANGUAGE="java script"&gt;<br> function isip(s){<br> var check=function(v){try{return (v&lt;=255 &amp;&amp; v&gt;=0)}catch(x){return false}};<br> var re=s.split(".")<br> return (re.length==4)?(check(re[0]) &amp;&amp; check(re[1]) &amp;&amp; check(re[2]) &amp;&amp; check(re[3])):false<br> }<br><br> var s="202.197.78.129";<br> alert(isip(s))<br> &lt;/SCRIPT&gt;<br><br> ３．加sp1后还能用的无边框窗口！！<br> &lt;HTML XMLNS:IE&gt;<br> &lt;meta http-equiv="Content-Type" content="text/html; charset=gb2312"&gt;<br> &lt;IE:Download ID="include" STYLE="behavior:url(#default#download)" /&gt;<br> &lt;title&gt;Chromeless Window&lt;/title&gt;<br><br> &lt;SCRIPT LANGUAGE="JScript"&gt;<br> /*--- Special Thanks For andot ---*/<br><br> /*<br> This following code are designed and writen by Windy_sk &lt;seasonx@163.net&gt;<br> You can use it freely, but u must held all the copyright items!<br> */<br><br> /*--- Thanks For andot Again ---*/<br><br> var CW_width = 400;<br> var CW_height = 300;<br> var CW_top = 100;<br> var CW_left = 100;<br> var CW_url = "/";<br> var New_CW = window.createPopup();<br> var CW_Body = New_CW.document.body;<br> var content = "";<br> var CSStext = "margin:1px;color:black; border:2px outset;border-style:expression(onmouseout=onmouseup=function(){this.style.borderStyle='outset'}, onmousedown=function(){if(event.button!=2)this.style.borderStyle='inset'});background-color:buttonface;width:16px;height:14px;font-size:12px;line-height:11px;cursor:Default;";<br><br> //Build Window<br> include.startDownload(CW_url, function(source){content=source});<br><br> function insert_content(){<br> var temp = "";<br> CW_Body.style.overflow = "hidden";<br> CW_Body.style.backgroundColor = "white";<br> CW_Body.style.border = "solid black 1px";<br> content = content.replace(/&lt;a ([^&gt;]*)&gt;/g,"&lt;a onclick='parent.open(this.href);return false' $1&gt;");<br> temp += "&lt;table width=100% height=100% cellpadding=0 cellspacing=0 border=0&gt;";<br> temp += "&lt;tr style=';font-size:12px;background:#0099CC;height:20;cursor:default' ondblclick=\"Max.innerText=Max.innerText=='1'?'2':'1';parent.if_max=!parent.if_max;parent.show_CW();\" onmouseup='parent.drag_up(event)' onmousemove='parent.drag_move(event)' onmousedown='parent.drag_down(event)' onselectstart='return false' oncontextmenu='return false'&gt;";<br> temp += "&lt;td style='color:#ffffff;padding-left:5px'&gt;Chromeless Window For IE6 SP1&lt;/td&gt;";<br> temp += "&lt;td style='color:#ffffff;padding-right:5px;' align=right&gt;";<br> temp += "&lt;span id=Help onclick=\"alert('Chromeless Window For IE6 SP1 - Ver 1.0\\n\\nCode By Windy_sk\\n\\nSpecial Thanks For andot')\" style=\""+CSStext+"font-family:System;padding-right:2px;\"&gt;?&lt;/span&gt;";<br> temp += "&lt;span id=Min onclick='parent.New_CW.hide();parent.blur()' style=\""+CSStext+"font-family:Webdings;\" title='Minimum'&gt;0&lt;/span&gt;";<br> temp += "&lt;span id=Max onclick=\"this.innerText=this.innerText=='1'?'2':'1';parent.if_max=!parent.if_max;parent.show_CW();\" style=\""+CSStext+"font-family:Webdings;\" title='Maximum'&gt;1&lt;/span&gt;";<br> temp += "&lt;span id=Close onclick='parent.opener=null;parent.close()' style=\""+CSStext+"font-family:System;padding-right:2px;\" title='Close'&gt;x&lt;/span&gt;";<br> temp += "&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=2&gt;";<br> temp += "&lt;div id=include style='overflow:scroll;overflow-x:hidden;overflow-y:auto; HEIGHT: 100%; width:"+CW_width+"'&gt;";<br> temp += content;<br> temp += "&lt;/div&gt;";<br> temp += "&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;";<br> CW_Body.innerHTML = temp;<br> }<br><br> setTimeout("insert_content()",1000);<br><br> var if_max = true;<br> function show_CW(){<br> window.moveTo(10000, 10000);<br> if(if_max){<br> New_CW.show(CW_top, CW_left, CW_width, CW_height);<br> if(typeof(New_CW.document.all.include)!="undefined"){<br> New_CW.document.all.include.style.width = CW_width;<br> New_CW.document.all.Max.innerText = "1";<br> }<br><br> }else{<br> New_CW.show(0, 0, screen.width, screen.height);<br> New_CW.document.all.include.style.width = screen.width;<br> }<br> }<br><br> window.onfocus = show_CW;<br> window.onresize = show_CW;<br><br> // Move Window<br> var drag_x,drag_y,draging=false<br><br> function drag_move(e){<br> if (draging){<br> New_CW.show(e.screenX-drag_x, e.screenY-drag_y, CW_width, CW_height);<br> return false;<br> }<br> }<br><br> function drag_down(e){<br> if(e.button==2)return;<br> if(New_CW.document.body.offsetWidth==screen.width &amp;&amp; New_CW.document.body.offsetHeight==screen.height)return;<br> drag_x=e.clientX;<br> drag_y=e.clientY;<br> draging=true;<br> e.srcElement.setCapture();<br> }<br><br> function drag_up(e){<br> draging=false;<br> e.srcElement.releaseCapture();<br> if(New_CW.document.body.offsetWidth==screen.width &amp;&amp; New_CW.document.body.offsetHeight==screen.height) return;<br> CW_top = e.screenX-drag_x;<br> CW_left = e.screenY-drag_y;<br> }<br><br> &lt;/SCRIPT&gt;<br> &lt;/HTML&gt;<br><br> 电话号码的验证<br><br> 要求：<br> (1)电话号码由数字、"("、")"和"-"构成<br> (2)电话号码为3到8位<br> (3)如果电话号码中包含有区号，那么区号为三位或四位<br> (4)区号用"("、")"或"-"和其他部分隔开<br> (5)移动电话号码为11或12位，如果为12位,那么第一位为0<br> (6)11位移动电话号码的第一位和第二位为"13"<br> (7)12位移动电话号码的第二位和第三位为"13"<br> 根据这几条规则，可以与出以下正则表达式：<br> (^[0-9]{3,4}\-[0-9]{3,8}$)|(^[0-9]{3,8}$)|(^\([0-9]{3,4}\)[0-9]{3,8}$)|(^0{0,1}13[0-9]{9}$)<br><br> &lt;script language="java script"&gt;<br> function PhoneCheck(s) {<br> var str=s;<br> var reg=/(^[0-9]{3,4}\-[0-9]{3,8}$)|(^[0-9]{3,8}$)|(^\([0-9]{3,4}\)[0-9]{3,8}$)|(^0{0,1}13[0-9]{9}$)/<br> alert(reg.test(str));<br> }<br> &lt;/script&gt;<br> &lt;input type=text name="iphone"&gt;<br> &lt;input type=button onclick="PhoneCheck(document.all.iphone.value)" value="Check"&gt;<br><br> 具有在输入非数字字符不回显的效果，即对非数字字符的输入不作反应。<br> function numbersonly(field,event){<br> var key,keychar;<br> if(window.event){<br> key = window.event.keyCode;<br> }<br> else if (event){<br> key = event.which;<br> }<br> else{<br> return true<br> }<br> keychar = String.fromCharCode(key);<br> if((key == null)||(key == 0)||(key == 8)||(key == 9)||(key == 13)||(key == 27)){<br> return true;<br> }<br> else if(("0123456789.").indexOf(keychar)&gt;-1){<br> window.status = "";<br> return true;<br> }<br> else {<br> window.status = "Field excepts numbers only";<br> return false;<br> }<br> }<br><br> 验证ip<br><br> str=document.RegExpDemo.txtIP.value;<br> if(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/.test(str)==false)<br> {<br> window.alert('错误的IP地址格式');<br> document.RegExpDemo.txtIP.select();<br> document.RegExpDemo.txtIP.focus();<br> return;<br> }<br> if(RegExp.$1&lt;1 || RegExp.$1&gt;254||RegExp.$2&lt;0||RegExp.$2&gt;254||RegExp.$3&lt;0||RegExp.$3&gt;254||RegExp.$4&lt;1||RegExp.$4&gt;254)<br> {<br> window.alert('错误的IP地址');<br> document.RegExpDemo.txtIP.select();<br> document.RegExpDemo.txtIP.focus();<br> return;<br> }<br> //剔除 如 010.020.020.03 前面 的0<br> var str=str.replace(/0(\d)/g,"$1");<br> str=str.replace(/0(\d)/g,"$1");<br> window.alert(str);<br><br> //一下是取数据的类<br> //Obj参数指定数据的来源(限定Table),默认第一行为字段名称行<br> //GetTableData类提供MoveNext方法,参数是表的行向上或向下移动的位数,正数向下移动,负数向上.<br> //GetFieldData方法获得指定的列名的数据<br> //Sort_desc方法对指定的列按降序排列<br> //Sort_asc方法对指定的列按升序排列<br> //GetData方法返回字段值为特定值的数据数组,提供数据,可以在外部进行其他处理<br> //Delete方法删除当前记录,数组减少一行<br> //初始化,Obj:table的名字,Leftlen:左面多余数据长度,Rightlen:右面多余数据长度,<br> function GetTableData(Obj,LeftLen,RightLen){<br> var MyObj=document.all(Obj);<br> var iRow=MyObj.rows.length;<br> var iLen=MyObj.rows[0].cells.length;<br> var i,j;<br><br> TableData=new Array();<br> for (i=0;i&lt; iRow;i++){<br> TableData[i]=new Array();<br> for (j=0;j&lt;iLen;j++){<br> TableStr=MyObj.rows(i).cells(j).innerText;<br> TableStr=TableStr.substring(LeftLen, TableStr.length-RightLen).Trim();<br> TableStr=TableStr.replace(/ /gi,"").replace(/\r\n/ig,"");<br> TableData[i][j]=TableStr;<br> }<br> }<br><br> this.TableData=TableData;<br> this.cols=this.TableData[0].length;<br> this.rows=this.TableData.length;<br> this.rowindex=0;<br> }<br><br> function movenext(Step){<br> if (this.rowindex&gt;=this.rows){<br> return<br> }<br><br> if (Step=="" || typeof(Step)=="undefined") {<br> if (this.rowindex&lt;this.rows-1)<br> this.rowindex++;<br> return;<br><br> }<br> else{<br> if (this.rowindex + Step&lt;=this.rows-1 &amp;&amp; this.rowindex + Step&gt;=0 ){<br> this.rowindex=this.rowindex + Step;<br> }<br> else<br> {<br> if (this.rowindex + Step&lt;0){<br> this.rowindex= 0;<br> return;<br> }<br> if (this.rowindex + Step&gt;this.rows-1){<br> this.rowindex= this.rows-1;<br> return;<br> }<br> }<br> }<br> }<br><br> function getfielddata(Field){<br> var colindex=-1;<br> var i=0;<br> if (typeof(Field) == "number"){<br> colindex=Field;<br> }<br> else<br> {<br> for (i=0;i&lt;this.cols &amp;&amp; this.rowindex&lt;this.rows ;i++){<br> if (this.TableData[0][i]==Field){<br> colindex=i;<br> break;<br> }<br> }<br> }<br> if (colindex!=-1) {<br> return this.TableData[this.rowindex][colindex];<br> }<br><br> }<br><br> function sort_desc(){//降序<br> var colindex=-1;<br> var highindex=-1;<br> desc_array=new Array();<br> var i,j;<br> for (n=0; n&lt;arguments.length; n++){<br> Field=arguments[arguments.length-1-n];<br> for (i=0;i&lt;this.cols;i++){<br> if (this.TableData[0][i]==Field){<br> colindex=i;<br> break;<br> }<br> }<br> if ( colindex==-1 )<br> return;<br> else<br> {<br> desc_array[0]=this.TableData[0];<br> for(i=1;i&lt;this.rows;i++){<br> desc_array[i]=this.TableData[1];<br> highindex=1;<br> for(j=1;j&lt;this.TableData.length;j++){<br> if (desc_array[i][colindex]&lt;this.TableData[j][colindex]){<br> desc_array[i]=this.TableData[j];<br> highindex=j;<br> }<br><br> }<br> if (highindex!=-1)<br> this.TableData=this.TableData.slice(0,highindex).concat(this.TableData.slice(highindex+1,this.TableData.length));<br> }<br> }<br><br> this.TableData=desc_array;<br> }<br> return;<br> }<br><br> function sort_asc(){//升序<br> var colindex=-1;<br> var highindex=-1;<br> var i,j;<br> for (n=0; n&lt;arguments.length; n++){<br> asc_array=new Array();<br> Field=arguments[arguments.length-1-n];<br> for (i=0;i&lt;this.cols;i++){<br> if (this.TableData[0][i]==Field){<br> colindex=i;<br> break;<br> }<br> }<br> if ( colindex==-1 )<br> return;<br> else<br> {<br> asc_array[0]=this.TableData[0];<br> for(i=1;i&lt;this.rows;i++){<br> asc_array[i]=this.TableData[1];<br> highindex=1;<br> for(j=1;j&lt;this.TableData.length;j++){//找出最小的列值<br> if (asc_array[i][colindex]&gt;this.TableData[j][colindex]){<br> asc_array[i]=this.TableData[j];<br> highindex=j;<br><br> }<br><br> }<br> if (highindex!=-1)<br> this.TableData=this.TableData.slice(0,highindex).concat(this.TableData.slice(highindex+1,this.TableData.length));<br><br> }<br> }<br><br> this.TableData=asc_array;<br> }<br> return;<br> }<br><br> function getData(Field,FieldValue){<br> var colindex=-1;<br> var i,j;<br><br> GetData=new Array();<br> if (typeof(Field)=="undefined" || typeof(FieldValue)=="undefined" ){<br> return this.TableData;<br> }<br><br> for(j=0;j&lt;this.cols;j++){<br> if (this.TableData[0][j]==Field){<br> colindex=j;<br> }<br> }<br> if (colindex!=-1){<br><br> for(i=1;i&lt;this.rows;i++){<br> if (this.TableData[i][colindex]==FieldValue){<br> GetData[i]=new Array();<br> GetData[i]=this.TableData[i];<br> }<br> }<br> }<br> return GetData;<br> }<br> function DeletE(){<br> this.TableData=this.TableData.slice(0,this.rowindex).concat(this.TableData.slice(this.rowindex+1,this.TableData.length));<br> this.rows=this.TableData.length;<br> return;<br> }<br> function updateField(Field,FieldValue){<br> var colindex=-1;<br> var i=0;<br> if (typeof(Field) == "number"){<br> colindex=Field;<br> }<br> else<br> {<br> for (i=0;i&lt;this.cols &amp;&amp; this.rowindex&lt;this.rows ;i++){<br> if (this.TableData[0][i]==Field){<br> colindex=i;<br> break;<br> }<br> }<br> }<br> if (colindex!=-1) {<br> this.TableData[this.rowindex][colindex]=FieldValue;<br> }<br><br> }<br> function movefirst(){<br> this.rowindex=0;<br> }<br> function movelast(){<br> this.rowindex=this.rows-1;<br> }<br> function String.prototype.Trim() {return this.replace(/(^\s*)|(\s*$)/g,"");}<br> GetTableData.prototype.MoveNext = movenext;<br> GetTableData.prototype.GetFieldData = getfielddata;<br> GetTableData.prototype.Sort_asc = sort_asc;<br> GetTableData.prototype.Sort_desc = sort_desc;<br> GetTableData.prototype.GetData = getData;<br> GetTableData.prototype.Delete = DeletE;<br> GetTableData.prototype.UpdateField = updateField;<br> GetTableData.prototype.MoveFirst = movefirst;<br><br> 具体的例子：http://202.119.73.208/NetEAn/com/test/jsprint.htm<br><br> 在每个文本框的onblur事件中调用校验代码,并且每个文本框中onKeyDown事件中写一个enter转tab函数<br><br> //回车键换为tab<br> function enterToTab()<br> {<br> if(event.srcElement.type != 'button' &amp;&amp; event.srcElement.type != 'textarea'<br> &amp;&amp; event.keyCode == 13)<br> {<br> event.keyCode = 9;<br> }<br> }<br><br> 有时候还需要自由编辑表格---<br> 给大家一个自由编辑表格的小例子,写的有点乱,呵呵:）<br><br> //===============================start================================<br><br> &lt;HTML&gt;<br> &lt;HEAD&gt;<br> &lt;META http-equiv="Content-Type" content="text/html; charset=gb2312"&gt;<br> &lt;TITLE&gt;测试修改表格&lt;/TITLE&gt;<br> &lt;STYLE&gt;<br> /*提示层的样式*/<br> div<br> {<br> BORDER-RIGHT: #80c144 1px solid;<br> BORDER-TOP: #80c144 1px solid;<br> VISIBILITY: hidden;<br> BORDER-LEFT: #80c144 1px solid;<br> CURSOR: default;<br> LINE-HEIGHT: 20px;<br> BORDER-BOTTOM: #80c144 1px solid;<br> FONT-FAMILY: 宋体;<br> font-size:12px;<br> POSITION: absolute;<br> BACKGROUND-COLOR: #f6f6f6;<br> TOP:30px;<br> LEFT:30px;<br> }<br> /*tr的样式*/<br> tr<br> {<br> font-family: "宋体";<br> color: #000000;<br> background-color: #C1DBF5;<br> font-size: 12px<br> }<br> /*table脚注样式*/<br> .TrFoot<br> {<br> FONT-SIZE: 12px;<br> font-family:"宋体", "Verdana", "Arial";<br> BACKGROUND-COLOR: #6699CC;<br> COLOR:#FFFFFF;<br> height: 25;<br> }<br> /*trhead属性*/<br> .TrHead<br> {<br> FONT-SIZE: 13px;<br> font-family:"宋体", "Verdana", "Arial";<br> BACKGROUND-COLOR: #77AADD;<br> COLOR:#FFFFFF;<br> height: 25;<br> }<br> /*文本框样式*/<br> INPUT<br> {<br> BORDER-COLOR: #AACEF7 #AACEF7 #AACEF7 #AACEF7;<br> BORDER-RIGHT: 1px solid;<br> BORDER-TOP: 1px solid;<br> BORDER-LEFT: 1px solid;<br> BORDER-BOTTOM: 1px solid;<br> FONT-SIZE: 12px;<br> FONT-FAMILY: "宋体","Verdana";<br> color: #000000;<br> BACKGROUND-COLOR: #E9EFF5;<br> }<br> /*button样式*/<br> button<br> {<br> BORDER-COLOR: #AACEF7 #AACEF7 #AACEF7 #AACEF7;<br> BACKGROUND-COLOR: #D5E4F3;<br> CURSOR: hand;<br> FONT-SIZE:12px;<br> BORDER-RIGHT: 1px solid;<br> BORDER-TOP: 1px solid;<br> BORDER-LEFT: 1px solid;<br> BORDER-BOTTOM: 1px solid;<br> COLOR: #000000;<br> }<br> &lt;/STYLE&gt;<br> &lt;/HEAD&gt;<br> &lt;BODY&gt;<br> &lt;SCRIPT language = "java script"&gt;<br> &lt;!--全局变量<br> //标志位,值为false代表未打开一个编辑框,值为true为已经打开一个编辑框开始编辑<br> var editer_table_cell_tag = false;<br> //开启编辑功能标志,值为true时为允许编辑<br> var run_edit_flag = false;<br> //--&gt;<br> &lt;/SCRIPT&gt;<br><br> &lt;SCRIPT language = "java script"&gt;<br> &lt;!--<br> /**<br> * 编辑表格函数<br> * 单击某个单元格可以对里面的内容进行自由编辑<br> * @para tableID 为要编辑的table的id<br> * @para noEdiID 为不要编辑的td的ID,比如说table的标题<br> * 可以写为&lt;TD id="no_editer"&gt;自由编辑表格&lt;/TD&gt;<br> * 此时该td不可编辑<br> */<br> function editerTableCell(tableId,noEdiId)<br> {<br> var tdObject = event.srcElement;<br> var tObject = ((tdObject.parentNode).parentNode).parentNode;<br> if(tObject.id == tableId &amp;&amp;tdObject.id != noEdiId&amp;&amp;editer_table_cell_tag == false &amp;&amp; run_edit_flag == true)<br> {<br> tdObject.innerHTML = "&lt;input type=text id=edit_table_txt name=edit_table_txt value="+tdObject.innerText+" size='15' onKeyDown='enterToTab()'&gt; &lt;input type=button value=' 确定 ' onclick='certainEdit()'&gt;";<br> edit_table_txt.focus();<br> edit_table_txt.select();<br> editer_table_cell_tag = true;<br> //修改按钮提示信息<br> editTip.innerText = "请先点确定按钮确认修改!";<br> }<br> else<br> {<br> return false;<br> }<br> }<br><br> /**<br> * 确定修改<br> */<br> function certainEdit()<br> {<br> var bObject = event.srcElement;<br> var tdObject = bObject.parentNode;<br> var txtObject = tdObject.firstChild;<br> tdObject.innerHTML = txtObject.value;<br> //代表编辑框已经关闭<br> editer_table_cell_tag = false;<br> //修改按钮提示信息<br> editTip.innerText = "请单击某个单元格进行编辑!";<br> }<br><br> function enterToTab()<br> {<br> if(event.srcElement.type != 'button' &amp;&amp; event.srcElement.type != 'textarea'<br> &amp;&amp; event.keyCode == 13)<br> {<br> event.keyCode = 9;<br> }<br> }<br><br> /**<br> * 控制是否编辑<br> */<br> function editStart()<br> {<br> if(event.srcElement.value == "开始编辑")<br> {<br> event.srcElement.value = "编辑完成";<br> run_edit_flag = true;<br> }<br> else<br> {<br> //如果当前没有编辑框,则编辑成功,否则,无法提交<br> //必须按确定按钮后才能正常提交<br> if(editer_table_cell_tag == false)<br> {<br> alert("编辑成功结束!");<br> event.srcElement.value = "开始编辑";<br> run_edit_flag = false;<br> }<br> }<br> }<br><br> /**<br> * 根据不同的按钮提供不同的提示信息<br> */<br> function showTip()<br> {<br> if(event.srcElement.value == "编辑完成")<br> {<br> editTip.style.top = event.y + 15;<br> editTip.style.left = event.x + 12;<br> editTip.style.visibility = "visible";<br> }<br> else<br> {<br> editTip.style.visibility = "hidden";<br> }<br> }<br> --&gt;<br> &lt;/SCRIPT&gt;<br> &lt;TABLE id="editer_table" width="100%" align="center"<br> onclick="editerTableCell('editer_table','no_editer')"&gt;<br> &lt;TR class="TrHead"&gt;<br> &lt;TD colspan="3" align="center" id="no_editer"&gt;自由编辑表格&lt;/TD&gt;<br> &lt;/TR&gt;<br> &lt;TR&gt;<br> &lt;TD width="33%"&gt;单击开始编辑按钮,然后点击各单元格编辑&lt;/TD&gt;<br> &lt;TD width="33%"&gt;2&lt;/TD&gt;<br> &lt;TD width="33%"&gt;3&lt;/TD&gt;<br> &lt;/TR&gt;<br> &lt;TR&gt;<br> &lt;TD width="33%"&gt;4&lt;/TD&gt;<br> &lt;TD width="33%"&gt;5&lt;/TD&gt;<br> &lt;TD width="33%"&gt;6&lt;/TD&gt;<br> &lt;/TR&gt;<br> &lt;TR&gt;<br> &lt;TD width="33%"&gt;one&lt;/TD&gt;<br> &lt;TD width="33%"&gt;two&lt;/TD&gt;<br> &lt;TD width="33%"&gt;three&lt;/TD&gt;<br> &lt;/TR&gt;<br> &lt;TR&gt;<br> &lt;TD width="33%"&gt;four&lt;/TD&gt;<br> &lt;TD width="33%"&gt;five&lt;/TD&gt;<br> &lt;TD width="33%"&gt;six&lt;/TD&gt;<br> &lt;/TR&gt;<br> &lt;TR class="TrFoot"&gt;<br> &lt;TD colspan="3" align="center" id="no_editer"&gt;<br> &lt;INPUT type="button" class="bt" value="开始编辑" onClick="editStart()" onMouseOver="showTip()" onMouseMove="showTip()" onMouseOut="editTip.style.visibility = 'hidden';"&gt;<br> &lt;/TD&gt;<br> &lt;/TR&gt;<br> &lt;/TABLE&gt;<br> &lt;/BODY&gt;<br> &lt;DIV id="editTip"&gt;请单击某个单元格进行编辑!&lt;/DIV&gt;<br> &lt;/HTML&gt;</p> 
   </div> 
   <div class="clear" style="clear:both;font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"></div> 
   <div> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
     分类:&nbsp;
     <a href="http://www.cnblogs.com/happyday56/category/93642.html" rel="nofollow" style="color:rgb(170,122,83);">Javascript</a> 
    </div> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
     <br>
    </div> 
    <div> 
     <font><span style="font-size:13px;">本文转自快乐就好博客园博客，原文链接：http://www.cnblogs.com/happyday56/archive/2007/11/29/976410.html，如需转载请自行联系原作者</span></font>
     <br>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
