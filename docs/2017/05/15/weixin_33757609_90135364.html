<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>上传一份个人学习struts2的历程笔记 « NotBeCN</title>
  <meta name="description" content="             1、02_尚学堂马士兵_Struts2_Struts2_HelloWorld_2.avi    指定Tomcat的目录，指定JDK搭建开发环境（拷贝jar包，复制struts.xml文件 此文件不要放在WEB-INF下面，应该放到src下面    ），在web.xml文件中：    &l...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/05/15/weixin_33757609_90135364.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">上传一份个人学习struts2的历程笔记</h1>
    <p class="post-meta">May 15, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">1、02_尚学堂马士兵_Struts2_Struts2_HelloWorld_2.avi<br></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">指定Tomcat的目录，指定JDK搭建开发环境（拷贝jar包，复制struts.xml文件 此文件不要放在WEB-INF下面，应该放到src下面</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">），在web.xml文件中：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-name&gt;struts2&lt;/filter-name&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/filter&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-mapping&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-name&gt;struts2&lt;/filter-name&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/filter-mapping&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">其中&lt;url-pattern&gt;/*&lt;/url-pattern&gt; 不要写/*.do 或者 /*.action约定俗成用/*</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">2、04_尚学堂马士兵_Struts2_Struts2_HelloWorld_3.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(1)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--&lt;constant &gt;:常量的配置 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--name="struts.devMode" value="true":当前是开发模式，改动配置文件会自动装载 默认是false--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--命名空间 ---&gt; action --&gt;相应的处理类或页面 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;constant name="struts.devMode" value="true" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="default" namespace="/" extends="struts-default"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="hell" class="package + class xxxx"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">/Hello.jsp</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(2)struts.xml不自动提示的解决办法: window--perferences-XML catalog---add---key Type="URI" key="*.dtd"</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">3、09_尚学堂马士兵_Struts2_Struts2_HelloWorld_7_2.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">struts2的执行流程:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">当用户在浏览器中敲入要访问的地址的时候，浏览器会将这个请求发送给tomcat然后tomcat判断应该交给那个WebApplication</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">来处理，然后会读取它下面的web.xml配置发现有配置：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-name&gt;struts2&lt;/filter-name&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/filter&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-mapping&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-name&gt;struts2&lt;/filter-name&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/filter-mapping&gt;因为&lt;url-pattern&gt; 为/* 它会过滤所有的请求然后就交给filter类</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter处理执行调用doFilter()方法，然后再方法中会读</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">取struts.xml文件，根据用户请求的地址找到相应的package、 action、 result、然后将相应的页面返回给浏览器</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">4、10_尚学堂马士兵_Struts2_Struts2_Namespace_命名空间.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（1）namespace决定了action的访问路径，默认为""，可以接收所有路径的action</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">namespace可以写为/，或者/xxx，或者/xxx/yyy，对应的action访问路径为/index.action，</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">/xxx/index.action，或者/xxx/yyy/index.action</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">namespace最好也用模块来进行命名</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">5、11_尚学堂马士兵_Struts2_Struts2_Action.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（1）struts1 与struts2的一个重要区别：在struts1中进行多次访问的时候用到的是同一个Action对象。而struts2则是每一次访</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">问都会创建一个Action对象，所以struts2不会有线程安全问题的发生</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（2）&lt;result&gt;标签如果没有指定name属性默认返回值为success</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(3)&lt;action&gt;标签中的class值如果没有配置相应的类，它会调用struts默认的一个处理类的execute()方法.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(4)实现struts的处理类的时候不要自己随便写类然后定义execute()方法，也不要实现Action类而要从ActionSupport类继承，可</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">以直接使用它为我们定义好的方法.</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">6、12_尚学堂马士兵_Struts2_Struts2_Path_路径问题.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（1）struts2中的路径问题是根据action的路径而不是jsp路径来确定，所以尽量不要使用相对路径。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">虽然可以用redirect方式解决，但redirect方式并非必要。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">解决办法非常简单，统一使用绝对路径。（在jsp中用request.getContextRoot方式来拿到webapp的路径）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">或者使用myeclipse经常用的，指定basePath</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（2）request.getContextPath()得到项目的名字,一般用来解决路径问题 如果项目为根目录,则得到一个"",即空的字条串。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.getscheme()返回的协议名称.默认是http</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.getServerName()就是获取你的网站的域名，如果是在本地的话就是localhost</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.getServerPort()获取服务的端口号</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">7、13_尚学堂马士兵_Struts2_Struts2_ActionMethod_DMI_动态方法调用.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Action执行的时候并不一定要执行execute方法&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">可以在配置文件中配置Action的时候用method=来指定执行哪个方法</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">也可以在url地址中动态指定（动态方法调用DMI）（推荐）&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;a href="&lt;%=context %&gt;/user/userAdd"&gt;添加用户&lt;/a&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;a href="&lt;%=context %&gt;/user/user!add"&gt;添加用户&lt;/a&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">前者会产生太多的action，所以不推荐使用</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">配置文件：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="user" extends="struts-default" namespace="/user"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="userAdd" class="com.bjsxt.struts2.user.action.UserAction" method="add"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/user_add_success.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="user" class="com.bjsxt.struts2.user.action.UserAction"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/user_add_success.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">8、14_尚学堂马士兵_Struts2_Struts2_ActionWildcard_通配符配置.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">主要学习通配符的使用 通配符可以将配置量降到最低，不过一定要遵守"约定优于配置"的原则</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="actions" extends="struts-default" namespace="/actions"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="Student_add"&gt;&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="Student_*" class="com.bjsxt.struts2.action.StudentAction" method="{1}"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/Student_{1}_success.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 更简便的配置法 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="*_*" class="com.bjsxt.struts2.action.{1}Action" method="{2}"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/{1}_{2}_success.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">说明：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（1）{1}代表name="Student*"后面第一个'*',同理{2}代表第二个'*'</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（2）.如果action之间有重复配置,struts2会匹配最精确的action。如果通配符配置之间有重复，则看前后配置顺序</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">9、 15_尚学堂马士兵_Struts2_Struts2_用Action的属性接收参数.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">在继承ActionSupport的类中定义要接受的参数，参数的名称与Action所传的名称无关在struts2内部调用的是属性的set方法</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">，所以setxxx()的名字一定要与Action后面所传的值是一样的。</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">10、16_尚学堂马士兵_Struts2_Struts2_用DomainModel接收参数.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">如果要接受的参数的个数很多，我们可以不用定义属性而是直接定义一个对象例如：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private User user （set get 方法）在调用Action传值的时候使用user!add?user.name=x&amp;user.age=x的方式进行值得传递</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">。(最常用的方式)</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">11、17_尚学堂马士兵_Struts2_Struts2_用ModelDriven接收参数.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">继承ActionSupport类的处理类必须同时实现ModelDriven&lt;Object&gt;(实现getModel())在传值的时候使用user/user!add?</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">name=bbb进入处理类的时候会调用getModel（）方法返回User对象并且把传过来的值set到里面，注意：此时private User user =</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">new User() 不能只定义，要同时实现这样getModel()才能拿到user对象。</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">12、18_尚学堂马士兵_Struts2_Struts2_2.1.6版本的中文问题.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">在配置文件中加入：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;constant name="struts.i18n.encoding" value="GBK"/&gt; 按照文档说明加入此句可解决中文乱码但是不行这是2.1.6的一个bug,</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">会在下一个版本中修复 如何解决呢：在web.xml中：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-name&gt;struts2&lt;/filter-name&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--&lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">把过滤器的版本改成老版本的即可解决该问题！</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">13、19_尚学堂马士兵_Struts2_简单数据验证_1.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">使用addFieldError方法和s:fieldError标签简单处理数据校验</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String add() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">if(name == null || !name.equals("admin")) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.addFieldError("name", "name is error");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.addFieldError("name", "name is too long");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return ERROR;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return SUCCESS;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">在页面中显示错误信息：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 以固定的css样式取出错误信息，不方便我们进行相应的处理--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:fielderrorfieldName="name" theme="simple"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 从存储错误信息的Map中拿数据 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="errors.name[1]"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 显示详细的栈信息--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:debug&gt;&lt;/s:debug&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Value stack的使用</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">14、21_尚学堂马士兵_Struts2_访问Web元素_1.avi</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Request ,session,application context,httprequest</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">通过js控制一个form可以多个提交action</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Context可以理解为环境，运行时候的所有环境的集合</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Actioncontext的上下文环境的记录，记录了action的所有的环境东西；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">不同的JSP页面元素的访问；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">不同JSP页面的参数的访问；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">注意：web.xml中关于struts的配置一定要采用2.1的，2.0的会取不到这是一个bug</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(1)通过ActionContext对象取得Map类型的request, session, application HttpServletRequest,</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">HttpSerletSessionServletContetext:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class LoginAction1 extends ActionSupport {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Map request;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Map session;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Map application;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">//访问此方法，取得相应的对象但是是Map类型</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public LoginAction1() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request = (Map)ActionContext.getContext().get("request");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">session = ActionContext.getContext().getSession();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">application = ActionContext.getContext().getApplication();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">//在Map类型的对象中存入相应的值</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String execute() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.put("r1", "r1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">session.put("s1", "s1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">application.put("a1", "a1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return SUCCESS;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">//在页面中通过标签取得存入的数据二种方法（通过标签， 通过原始方式）：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="#request.r1"/&gt; | &lt;%=request.getAttribute("r1") %&gt;&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="#session.s1"/&gt; | &lt;%=session.getAttribute("s1") %&gt;&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="#application.a1"/&gt; | &lt;%=application.getAttribute("a1") %&gt;&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="#attr.a1"/&gt;&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="#attr.s1"/&gt;&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="#attr.r1"/&gt;&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:debug&gt;&lt;/s:debug&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;br /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">我们存入Map中的数据居然可以在request，等对象中得到，那么在struts内部他是将Map中的数据全部复制到了request，session</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">等对象中的 #attr ,可以取得所有的属性，但是不推荐使用，为了防止同名的情况，造成无法区别。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（2）通过实现RequestAware,SessionAware, ApplicationAware 接口获取（最常用 和重要的一种）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Map&lt;String, Object&gt; request;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Map&lt;String, Object&gt; session;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Map&lt;String, Object&gt; application;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">//DI dependency injection</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">//IoC inverse of control，自己不初始化对象，交给spring进行处理new的方式</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String execute() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.put("r1", "r1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">session.put("s1", "s1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">application.put("a1", "a1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return SUCCESS;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">@Override</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setRequest(Map&lt;String, Object&gt; request) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.request = request;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">@Override</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setSession(Map&lt;String, Object&gt; session) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.session = session;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">@Override</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setApplication(Map&lt;String, Object&gt; application) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.application = application;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">（3）通过ServletActionContext()取得真实的相应的对象</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateHttpServletRequest request;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateHttpSession session;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateServletContext application;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public LoginAction3() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request = ServletActionContext.getRequest();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">session = request.getSession();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">application = session.getServletContext();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String execute() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.setAttribute("r1", "r1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">session.setAttribute("s1", "s1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">application.setAttribute("a1", "a1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return SUCCESS;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(4)通过实现ServletRequestAware接口获得相应的对象</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateHttpServletRequest request;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateHttpSession session;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateServletContext application;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String execute() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">request.setAttribute("r1", "r1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">session.setAttribute("s1", "s1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">application.setAttribute("a1", "a1");</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return SUCCESS;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">@Override</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setServletRequest(HttpServletRequest request) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.request = request;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.session = request.getSession();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.application = session.getServletContext();</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Request在value stack中使用，而application直接存放在数据库中访问，而对于session最常用</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">修改了action后需要重新部署，其他的jsp和struts配置文件不需要重启</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">15、23_尚学堂马士兵_Struts2_模块包含</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;struts&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;constant name="struts.devMode" value="true" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;include file="login.xml" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/struts&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">可以将别的写好的配置文件直接包含到struts得配置文件中，方便多人开发避免不必要的配置文件冲突.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">login.xml</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!DOCTYPE struts PUBLIC</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;struts&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="login" extends="struts-default" namespace="/login"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="login*" class="com.bjsxt.struts2.user.action.LoginAction{1}"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/user_login_success.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/struts&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">16、24_尚学堂马士兵_Struts2_默认Action</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="default" namespace="/" extends="struts-default"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 当配置文件中没有用户要访问的Aciton的时候，会调用&lt;default-action-ref 所定义的Action --处理错误页面 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;default-action-ref name="index"&gt;&lt;/default-action-ref&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="index"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/default.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">17、27_尚学堂马士兵_Struts2_结果类型_result_type_1</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">ResultType的最常用的几种配置：(四种配置分别代表了四种不同的跳转方式)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="resultTypes" namespace="/r" extends="struts-default"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="r1"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--type不写默认的为dispatcher:用服务器跳转跳转到结果页面--只能跳转到页面，不能跳转到Action --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result type="dispatcher"&gt;/r1.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="r2"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--客户端跳转的方式跳转到结果页面 只能跳转到页面，不能跳转到Action --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result type="redirect"&gt;/r2.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="r3"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--服务器跳转的方式跳转到Action --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result type="chain"&gt;r1&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="r4"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--客户端跳转的方式跳转到Action --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result type="redirectAction"&gt;r2&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--当要跳转的Action在别的包下的时候 应该这样写--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="r5"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result type="china"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;parma name="actionName"&gt;dashboard&lt;/param&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;parma name="namespace"&gt;/sesure&lt;/param&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">18、30_尚学堂马士兵_Struts2_Global_Results_全局结果集</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="user" namespace="/user" extends="struts-default"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 配置全局的结果集:当返回的result没有配置的时候会执行全局结果集的配置--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;global-results&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result name="mainpage"&gt;/main.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/global-results&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="index"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/index.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--关键字extends的使用：我想在下面的这个配置包中使用上面那个包中的结果集，那么可以使用extends关键字继承上一个包</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="admin" namespace="/admin" extends="user"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="admin" class="com.bjsxt.struts2.user.action.AdminAction"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;/admin.jsp&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">17、31_尚学堂马士兵_Struts2_动态结果集_dynamic_result</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">可以在strtus.xml文件中动态的指定返回的结果集。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class UserAction extends ActionSupport {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateint type;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String r;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String getR() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return r;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setR(String r) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.r = r;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">publicintgetType() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return type;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setType(int type) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.type = type;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">@Override</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String execute() throws Exception {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">if(type == 1) r="/user_success.jsp";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">else if (type == 2) r="/user_error.jsp";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return "success";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">struts.xml文件中的配置：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="user" namespace="/user" extends="struts-default"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="user" class="com.bjsxt.struts2.user.action.UserAction"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--可以用${属性名}的方式取得Action中的属性，在服务器端判断好相应的跳转路径然后存到变量里 然后再struts.xml文件中用</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">这种方式取出来，可以极大的增加配置文件的灵活性 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result&gt;${r}&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">18、32_尚学堂马士兵_Struts2_带参数的结果集</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">访问链接格式：&lt;a href="user/user?type=1"&gt;传参数&lt;/a&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class UserAction extends ActionSupport {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">privateint type;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">publicintgetType() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return type;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public void setType(int type) {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">this.type = type;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">@Override</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String execute() throws Exception {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return "success";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">当从一个Action跳转到另一个Action的时候，如果需要传值并且是服务器端的跳转，没有必要再struts.xml文件result的跳</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">转路径中进行传值操作，因为多个服务器端的跳转，共享的是同一个值栈，可以直接取到，但是如果是客户端的跳转(redirect)的</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">方式进行跳转则需要进行如下的配置：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;package name="user" namespace="/user" extends="struts-default"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;action name="user" class="com.bjsxt.struts2.user.action.UserAction"&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- 用${}的方式是从值栈取值，注意：不是El表达式 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;result type="redirect"&gt;/user_success.jsp?t=${type}&lt;/result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/action&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/package&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">但是如果在jsp页面取出传输的值用&lt;s:property value="t"/&gt;是取不到的，因为这种方式是在值栈里取值而我们跳转道德是一个</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">jsp页面不是一个Action所以值栈为空，但是我们可以在ActionContext中进行取值：&lt;s:property value="#parameters.t"/&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">19、36_尚学堂马士兵_Struts2_OGNL_1</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">在访问Actoin向Action进行传值的时候</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">http：www.xxxxx/ognl.action?username=u&amp;password=p;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String username(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String password(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">如果用这种方式进行传值，那么在jsp页面中可以用&lt;s:property value="username"/&gt;进行访问值栈中的内容，没有任何问题但是</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">如果：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">http:www.xxxxx/ognl.action?username=u&amp;password=p;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private User user;(set get)方法，使用&lt;s:property value="user"/&gt;依然访问不到，因为如果采用dominModel的方式进行传值</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">，必须：http:www.xxxxx/ognl.action?user.username=u&amp;user.password=p;这样 Struts会在Action中帮助我们new一个User对象</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">，然后把值放进去，但是必须要有User空的构造方法。如果依然使用http:www.xxxxx/ognl.action?username=u&amp;password=p;的方</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">式进行传值，那么在Action中必须手动的初始化User对象，Private User user = new User();这样同样可以访问的到。</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">20、37_尚学堂马士兵_Struts2_OGNL_2</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Ognl:Object graph Navigation Language（对象图导航语言）:首先看一下下面三个类之间的关系：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class OgnlAsction extends ActionSupport {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Cat cat;(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public String m() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return "你好";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class Cat {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Dog friend;（set get 方法）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public Dog {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String name;(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">在OgnlAction中包含Cat，而在Cat中包含Dog的对象friend,那么现在我想访问OgnlAction的时候，给friend肤质，我们应该这么写</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">http:www.xxxx/ognl.action?cat.friend.name=aaa; 用点进行导航，所以叫做"对象图导航语言"。</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">21、39_尚学堂马士兵_Struts2_OGNL_4</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">已知以下三个类中的属性和方法：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class OgnlAsction extends ActionSupport {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Cat cat;(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String password;(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">List&lt;User&gt; users = new ArrayList&lt;User&gt;();(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class Cat {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private Dog friend;（set get 方法）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String miaomiao() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return "miaomiao";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public Dog {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">private String name;(set get 方法)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public class S {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public static String STR = "STATIC STRING";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">public static String s() {</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">return "static method";</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">}</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(1)访问值栈中对象的普通方法：&lt;s:property value="password.length()"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(2)访问值栈中对象的普通方法：&lt;s:property value="cat.miaomiao()" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(3)访问值栈中的Action的普通属性&lt;s:property value="username"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(4)访问值栈中对象的普通属性&lt;s:property value="user.age" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(5)访问值栈中对象的普通属性&lt;s:property value="cat.friend.name" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(6)访问值栈中Action的普通方法&lt;s:property value="m()" /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--要想访问静态方法，必须在struts.xml文件中加入如下配置才可以 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;constant name="struts.ognl.allowStaticMethodAccess"value="true"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(7)访问静态方法&lt;s:property value="@com.bjsxt.struts2.ognl.S@s()"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(8)访问静态属性：&lt;s:property value="@com.bjsxt.struts2.ognl.S@STR"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(9)访问Math类的静态方法：&lt;s:property value="@@max(2,3)" /&gt;(不常用)</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(10)访问普通类的构造方法：&lt;s:property value="new com.bjsxt.struts2.ognl.User()"</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(11)访问List:&lt;s:property value="users"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(12)访问List中某个元素:&lt;s:property value="users[1]"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--把users中的每一个元素User取出来，然后取他们的age属性连接成的字符串--&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(13)访问List中元素某个属性的集合:&lt;s:property value="users.{age}"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(14)访问List中元素某个属性的集合中的特定值:&lt;s:property value="users.{age}[0]"/&gt; | &lt;s:property value="users</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">[0].age"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(15)访问Set:&lt;s:property value="dogs"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--下面这样访问set中的某个元素是访问不到的，因为set是没有顺序的 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(16)访问Set中某个元素:&lt;s:property value="dogs[1]"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(17)访问Map:&lt;s:property value="dogMap"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(18)访问Map中某个元素:&lt;s:property value="dogMap.dog101"/&gt; | &lt;s:property value="dogMap['dog101']"/&gt; |</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property value="dogMap[\"dog101\"]"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(19)访问Map中所有的key:&lt;s:property value="dogMap.keys"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(20)访问Map中所有的value:&lt;s:property value="dogMap.values"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--在ognl中他会把size方法看成属性，所以可以不加括号，直接访问 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(21)访问容器的大小：&lt;s:property value="dogMap.size()"/&gt; | &lt;s:property value="users.size"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- ?#指的是过滤：取出users中的每个age==1的元素 [0]是取第一个，不加会全部取出来</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(22)投影(过滤)：&lt;s:property value="users.{?#this.age==1}[0]"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- ^#:开头取出满足条件的开头的那一个 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(23)投影：&lt;s:property value="users.{^#this.age&gt;1}.{age}"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- $#:开头取出满足条件的结尾的那一个 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(24)投影：&lt;s:property value="users.{$#this.age&gt;1}.{age}"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--判断 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(25)投影：&lt;s:property value="users.{$#this.age&gt;1}.{age} == null"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(24)投影：&lt;s:property value="users.{$#this.age&gt;1}.{age}"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- value="[1]访问值栈中从上到下的第几个元素，而[0]指的是值栈中从开始到结尾的所有的对象，得到的是一个集合"</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">[0].username:访问值栈中所有元素的username属性，如果没有此属性会依次往下找其他的Action(从一个action跳转到另一个</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">action的时候值栈中会有两个action) --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(25)[]:&lt;s:property value="[0].username"/&gt;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">22、44_尚学堂马士兵_Struts2_Struts标签_1</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(1)property: &lt;s:property value="username"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(2)property 取值为字符串: &lt;s:property value="'username'"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!--如果取到admin的值，就是admin的值否则就是default所定义的默认值 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(3)property 设定默认值: &lt;s:property value="admin" default="管理员"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;!-- value可以直接写html标签，escape默认为true,会原样不变显示出来，false将把html标签转化为浏览器可以识别的标签，显</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">示相应的效果 --&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">(4)property 设定HTML: &lt;s:property value="'&lt;hr/&gt;'" escape="false"/&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:property&gt;</strong><strong>有三个属性，value ,escapeHtml,default,其中的value是ognl表达式</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:set&gt;</strong><strong>设置变量，value ,var ,scope三个属性，其中的value是ognl表达式</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:bean&gt;</strong><strong>两个属性，name,var; 都是字符串 ，执行开始new一个bean当为&lt;/s:bean&gt;时，从栈顶移除，将不能使用；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:param&gt;</strong><strong>两个属性，name,value;其中的value是ognl表达式；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:include&gt;</strong><strong>包含文件，最好不用，一个属性value字符串；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Ognl</strong><strong>表达式：$用于struts2中的传参和i18n配置文件中；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>#</strong><strong>用于action context中取值；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>%{}</strong><strong>用于将原来的字符串属性转变成ognl，如果是ognl表达式属性就将该表达式转变成字符串</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:fielderror&gt;</strong><strong>取得的值是不规则的值，如果取到正确的值？</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>控制标签---两个（&lt;s:if&gt;&lt;s:elseif&gt;&lt;s:else&gt; 和&lt;s:iterator&gt;</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:if&gt;</strong><strong>这个标签就是使用了上面所说的%{}其中括号中可以使ognl表达式，也可以是字符串</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:iterator&gt;</strong><strong>标签，其中的value是ognl表达式，其中的status是个boolean，其中可以设置var属性是个字符串，是每次循环的那个变量相当于；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>遍历集合：其中value直接可以访问，不用使用#</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Status</strong><strong>中count个数；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Status&nbsp;</strong><strong>中的index表示索引；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Status</strong><strong>中的even表示是否是偶数；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Staus</strong><strong>中的odd表示是否是奇数；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Status</strong><strong>中的first表示是否是第一个元素；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>Status</strong><strong>中的last表示是否是最后一个元素；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>定义map对象的时候，必须要将加上#，这个是一个疑惑，不必纠结；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>获得map中的对象，.key ,.value获取相关的值；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:subset&gt;</strong><strong>表示获取其中的子集合；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>其中的source表示其中的list或者是map对象，其中的count表示获取的子集合的大小，start表示开始的元素大小；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>标签总结：</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>&lt;s:property&gt;&lt;s:set&gt;&lt;s:bean&gt;&lt;s:param&gt;&lt;s:include&gt;</strong><strong>主要是三个标签；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>其中只有一个&lt;s:bean&gt;使用到了name属性</strong></p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">23、45_BBS项目相关介绍分析—系统数据库及其文件命名规则</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Model层和service层的含义</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Model:代表数据库访问层</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">访问action中的普通</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">数据表命名：大小写；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">文件的命名对应了action的使用，所以要注意；</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">24、46_BBS项目相关介绍分析—后台系统模板，前台程序模板的来源方式</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">前台：直接从网站另存为方式；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">后台：采用一些快捷的jquery ui模板，例如extjs，easyui ，jquery ui，推荐使用easyui，方便快捷；</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">25、47_BBS项目相关介绍分析—项目框架</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">配置相关的页面跳转使用；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">数据库的建立-----</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">26、48_BBS项目相关介绍分析—model层和service层的使用</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Model层，与数据库表对应的一层；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Service层，业务处理数据层，增删改查业务需要处理逻辑；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">数据库连接层；建立数据库连接的方式；</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">27、49_声明式异常处理</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">各个方法调用的时候不晓得异常情况。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Struts2处理异常</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">各个类中进行处理异常后，加上一句throw(e);</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">请不要进行try catch</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;Exception-mapping</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Result页面</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">一个action的异常处理让所有的action都可以使用处理。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;global-result&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">从该包中找到对应的exception处理，如果没有就找到父类的包中是否有</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">拦截器的处理的使用，</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">28、50_默认的action</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">主要是查看帮助文档，默认的action中class属性不起作用。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">如果要使用class属性处理，可以采用result type=”redirectaction”</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">或者是采用web.xml中使用处理，设置其中的welcome中的action名称</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">29、51_i18n程序的处理</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">资源文件插件才能使用中文转化为ascii；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;s:property 直接条用gettext方法，我们以前的ognl表达式中说了只能在action直接调用action中的方法。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">--action级别的国际化</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">--package级别和application级别的国际化；用的比较少；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">一般采用application级别的，</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">在struts2中配置i18n</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">---处理资源文件中的中文参数。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">--动态语言切换</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">设置一个action中传入一个参数，则会在value stack中传入一个locale为对应的语言。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">对应session中也将引入该locale参数；</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">30、52_拦截器的运用</h4> 
   <div>
    <br>
   </div> 
   <div>
    <br>
   </div> 
   <div>
    <br>
   </div> 
   <div> 
    <div>
     本文转自hcy's workbench博客园博客，原文链接：http://www.cnblogs.com/alterhu/archive/2012/05/14/2498812.html，如需转载请自行联系原作者。
    </div> 
    <div>
     <span class="Apple-tab-span"> </span>
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
