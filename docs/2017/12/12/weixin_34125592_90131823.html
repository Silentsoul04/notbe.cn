<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>F#探险之旅（二）：函数式编程（下） « NotBeCN</title>
  <meta name="description" content="             模式匹配（Pattern Matching） &nbsp; 模式匹配允许你根据标识符值的不同进行不同的运算。有点像一连串的if...else结构，也像C++和C#中的switch，但是它更为强大和灵活。 看下面Lucas序列的例子，Lucas序列定义跟Fibonacci序列一样，只不过起...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/12/weixin_34125592_90131823.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">F#探险之旅（二）：函数式编程（下）</h1>
    <p class="post-meta">Dec 12, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>模式匹配（Pattern Matching）</strong><br> &nbsp;<strong><br> 模式匹配允许你根据标识符值的不同进行不同的运算</strong>。有点像一连串的if...else结构，也像C++和C#中的switch，但是它更为强大和灵活。<br> 看下面Lucas序列的例子，Lucas序列定义跟Fibonacci序列一样，只不过起始值不同：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">rec</span><span style="line-height:1.5;"> luc x =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> x </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> x </span><span style="color:rgb(0,0,255);line-height:1.5;">when</span><span style="line-height:1.5;"> x &lt;= </span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> failwith </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">value must be greater than zero</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> x </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> luc(x - </span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">) + luc(x - </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;">)<br><br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">(luc 2) = %i</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> (luc </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;">)<br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">(luc 6) = %i</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> (luc </span><span style="color:rgb(128,0,128);line-height:1.5;">6</span><span style="line-height:1.5;">)</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这里可以看到模式匹配的简单应用，使用关键字match和with，不同的模式规则间用“|”隔开，而“-&gt;”表示如果该模式匹配，运算结果是什么。<br> 这个例子的打印结果为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Output</span><span style="line-height:1.5;"><br><span style="line-height:1.5;">(luc </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;">) = </span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;"><br> (luc </span><span style="color:rgb(128,0,128);line-height:1.5;">6</span><span style="line-height:1.5;">) = </span><span style="color:rgb(128,0,128);line-height:1.5;">18</span><span style="line-height:1.5;"> </span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>匹配规则时按照它们定义的顺序，而且模式匹配必须完整定义，也就是说，对于任意一个可能的输入值，都有至少一个模式能够满足它</strong>（即能处理它）；否则编译器会报告一个错误信息。另外，排在前面的规则不应比后面的更为“一般”，否则后面的规则永远不会得到匹配，编译器会报告一个警告信息，这种方式很像C#中的异常处理方式，在捕获异常时，我们不能先不会“一般”的Exception异常，然后再捕获“更具体”的NullReferenceException异常。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可以为某个模式规则添加一个when卫语句（guard），可将when语句理解为对当前规则的更强的约束，只有when语句的值为true时，该模式规则才算匹配。在上例的第一个规则中，如果没有when语句，那么任意整数都能够匹配模式，加了when语句后，就只能匹配非正整数了。对于最简单的情况，我们可以省略第一个“|”：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> boolToString x =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> x </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">False</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> _ </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">True</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这个例子中包含两个模式规则，“_”可以匹配任意值，因此当x值为false时匹配第一个规则，否则就匹配第二个规则。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">另一个有用的特性是，我们可以合并两个模式规则，对它们采取相同的处理方式，这个就像C#中的switch…case结构中可以合并两个case一样。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> stringToBool x =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> x </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">T</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">True</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">true</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">F</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">False</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">false</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> _ </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> failwith </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Invalid input.</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 在本例中，我们把三种模式规则合并在了一起，将字符串值转换为相应的布尔值。<br> 可以对大多数F#中定义的类型进行模式匹配，下面的例子就展示了对元组进行匹配。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> myOr b1 b2 =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> b1, b2 </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">, _ </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> _, </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> _ </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;"><br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> myAnd p =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> p </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">, </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> _ </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">false</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这两个函数说明了如何对元组应用模式匹配，它们的功能是求两个布尔值“或”和“且”运算的结果。在myOr中，从第一、二两个模式规则可以知道b1、b2只要有一个为true，计算结果就是true，否则为false。myOr true false的结果为true，myAnd(true, false)结果为false。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>模式匹配的常见用法是对列表进行匹配</strong>，事实上，对列表来说，较之if…then…else结构，模式匹配的方式更好。看下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> listOfList = [[</span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">5</span><span style="line-height:1.5;">]; [</span><span style="color:rgb(128,0,128);line-height:1.5;">7</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">11</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">13</span><span style="line-height:1.5;">]; [</span><span style="color:rgb(128,0,128);line-height:1.5;">17</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">19</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">23</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">29</span><span style="line-height:1.5;">]]<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">rec</span><span style="line-height:1.5;"> concatenateList list =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> list </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> head :: tail </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> head @ (concatenateList tail)<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> [] </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> []<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">rec</span><span style="line-height:1.5;"> concatenateList2 list =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> List.nonempty list </span><span style="color:rgb(0,0,255);line-height:1.5;">then</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> head = List.hd list </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> tail = List.tl list </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"><br> head @ (concatenateList2 tail)<br></span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;"><br> []<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> primes = concatenateList listOfList<br> print_any primes</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> listOfList是一个列表的列表，两个函数concatenateList和concatenateList2的功能都是将listOfList的元素连接为一个大的列表，只不过一个用模式匹配方式实现，一个使用if…then…else结构实现。可以看到<strong>使用模式匹配的代码更为简洁明了</strong>。观察concatenateList函数，它处理列表的方式是<strong>先取出列表的头元素（head），处理它，然后递归地处理剩余元素</strong>，这其实是通过模式匹配方式处理列表的最常见的方式（但不是唯一的方式）。<br><br> 在F#中，模式匹配还可用在其它地方，在后面的文章中将陆续介绍。<br><br><strong>定义类型（Defining Types）&nbsp;</strong><br><br> F#的类型系统提供了若干特性，可用来创建自定义类型。所有的类型可分为两类，一是<strong>元组</strong>（Tuple）或<strong>记录</strong>（Record），它们类似于C#中的类；二是<strong>Union类型</strong>，有时称为<strong>Sum类型</strong>。下面分别来看一下它们的特点。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br><strong>元组是任意对象的有序集合</strong>，通过它我们可以快速、方便地将一组值组合在一起。创建之后，就可以引用元组中的值。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> pair = </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">, </span><span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> b1, b2 = pair<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> _, b3 = pair<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> b4, _ = pair</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 第一行代码创建了一个元组，其类型为bool * bool, 说明pair元组包含两个值，它们的类型都是bool。通过第二、三、四行这样的代码，可以访问元组的值，“_”告诉编译器，我们对该值不感兴趣，将其忽略。这里b1的值为true，b3的值为false。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">进一步分析，元组是一种类型，但是我们并没有显式地使用type关键字来声明类型，pair本质上是F#中Tuple类的一个实例，而不是自定义类型。<strong>如果需要声明自定义类型，就要使用type关键字</strong>了，最简单的情况是给已有类型起个别名：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> Name = </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> FirstName, LastName</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> FullName = </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> * </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 对于Name类型来说，它仅仅是string类型的别名，FullName则是元组类型的别名。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">记录（Record）类型与元组有相似之处，它也是将多个类型的值组合为同一类型，不同之处在于<strong>记录类型中的字段都是有名称的</strong>。看下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> Organization = { Boss : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">; Lackeys : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> list }<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> family =<br> { Boss = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Children</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;<br> Lackeys = [</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Wife</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Husband</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">] }</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 第一行是创建Organization类型，第二行则是创建它的实例，令人惊奇的是不需要声明实例的类型，F#编译器能够根据字段名推导出它的类型。这个功能是很强大，但是F#不强求每个类型的字段都是不同的，如果两个类型的各个字段名都一样怎么办呢？这时可以显式地声明类型：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> Company = { Boss : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">; Lackeys : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> list }<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> myCom =<br> { </span><span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Company<br></span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"> Boss = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Bill</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">and</span><span style="line-height:1.5;"> Lackeys = [</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Emp1</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Emp2</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">] }</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br><strong>一般情况下，类型的作用域从声明处至所在源文件的结束</strong>。如果一个类型要使用在它后面声明的类型，可将这两个类型声明在同一个代码块中。类型间用and分隔，看下面食谱的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> recipe =<br> { recipeName : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">;<br> ingredients : ingredient list;<br> instructions : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> }<br></span><span style="color:rgb(0,0,255);line-height:1.5;">and</span><span style="line-height:1.5;"> ingredient =<br> { ingredientName : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">;<br> quantity : </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> }<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> greenBeansPineNuts =<br> { recipeName = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Green Beans &amp; Pine Nuts</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;<br> ingredients =<br> [{ingredientName = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Green beans</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; quantity = </span><span style="color:rgb(128,0,128);line-height:1.5;">200</span><span style="line-height:1.5;">};<br> {ingredientName = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Pine nuts</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; quantity = </span><span style="color:rgb(128,0,128);line-height:1.5;">200</span><span style="line-height:1.5;">}];<br> instructions = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Parboil the green beans for about 7 minutes.</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> }<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> name = greenBeansPineNuts.recipeName<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> toBuy =<br> List.fold_left<br> (</span><span style="color:rgb(0,0,255);line-height:1.5;">fun</span><span style="line-height:1.5;"> acc x </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"><br> acc + (Printf.sprintf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">\t%s - %i\r\n</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x.ingredientName x.quantity))<br></span><span style="color:rgb(128,0,0);line-height:1.5;">""</span><span style="line-height:1.5;"> greenBeansPineNuts.ingredients<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> instructions = greenBeansPineNuts.instructions<br><br> printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%s\r\n%s\r\n\r\n\t%s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> name toBuy instructions</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 本例不仅展示了如何将两个类型声明在“一块”，还显示了如何访问记录的字段值。可以看到<strong>访问记录的字段要比访问元组的值更为方便</strong>。<br><br> 也可以对记录类型应用模式匹配：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> couple = { him : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">; her : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> }<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> couples =<br> [ { him = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Brad</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; her = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Angelina</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };<br> { him = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Becks</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; her = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Posh</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> };<br> { him = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Chris</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; her = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Gwyneth</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> } ]<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">rec</span><span style="line-height:1.5;"> findDavid list =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> list </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> { him = x; her = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Posh</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> } :: tail </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> x<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> _ :: tail </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> findDavid tail<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> [] </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> failwith </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Couldn't find David</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br><br> print_string(findDavid couples)</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 首先创建了couple类型的列表，findDavid函数将对该列表进行模式匹配，可以将字段与常量值比较，如her = “Posh”；将字段值赋给标识符，如him = x；还可以使用“_”忽略某个字段的值。最后上面例子的打印结果：Becks。<br><br><strong>字段值也可以是函数</strong>，这种技术将在本系列文章的第三部分介绍。<br><br><strong>Union类型</strong>，有时称为sum类型或discriminated union，可将一组具有不同含义或结构的数据组合在一起。可与C语言中的联合或C#中的枚举类比。先来看个例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> Volume =<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> Liter </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">float</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> UsPint </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">float</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> ImperialPint </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">float</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> Volume类型属于Union类型，包含3个<strong>数据构造器</strong>（Data Constructor），每个构造器都包含单一的float值。声明其实例非常简单：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> vol1 = Liter </span><span style="color:rgb(128,0,128);line-height:1.5;">2.5</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> vol2 = UsPint </span><span style="color:rgb(128,0,128);line-height:1.5;">2.5</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> vol3 = ImperialPint </span><span style="color:rgb(128,0,128);line-height:1.5;">2.5</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 事实上，通过Reflector可以看到，Liter、UsPint和ImperialPint是Volume类型的派生类。在将Union类型解析为其基本类型时，我们需要模式匹配。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> convertVolumeToLiter x =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">match</span><span style="line-height:1.5;"> x </span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> Liter x </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> x<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> UsPint x </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> x * </span><span style="color:rgb(128,0,128);line-height:1.5;">0.473</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> ImperialPint x </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> x * </span><span style="color:rgb(128,0,128);line-height:1.5;">0.568</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br><strong>记录类型和Union类型都可以被参数化</strong>（Parameterized）。参数化的意思是在一个类型的定义中，它使用了一个或多个其它类型，这些类型不是在定义中确定的，而是在该代码的客户代码中确定。这与前面提及的<strong>可变类型</strong>是类似的概念。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">对于类型参数化，F#中有两种语法予以支持。来看第一种：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">OCaml-Style</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">a BinaryTree =</span><span style="color:rgb(128,0,0);line-height:1.5;"><br></span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> BinaryNode </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">a BinaryTree * </span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="line-height:1.5;">a BinaryTree<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> BinaryValue </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">a</span><span style="color:rgb(128,0,0);line-height:1.5;"><br></span><span style="line-height:1.5;"> <br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> tree1 =<br> BinaryNode(<br> BinaryNode(BinaryValue </span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">, BinaryValue </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;">),<br> BinaryNode(BinaryValue </span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;">, BinaryValue </span><span style="color:rgb(128,0,128);line-height:1.5;">4</span><span style="line-height:1.5;">))</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 在type关键字和类型名称BinaryTree之家添加了’a，而’a就是可变的类型，它的确切类型将在使用它的代码中确定，这是OCaml风格的语法。在标识符tree1中，定义BinaryValue时用的值是1，编译器将’a解析为int类型。再看看第二种语法：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">.NET-Style</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> Tree&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">a&gt; =</span><span style="color:rgb(128,0,0);line-height:1.5;"><br></span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> Node </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> Tree&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">a&gt; list</span><span style="color:rgb(128,0,0);line-height:1.5;"><br></span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> Value </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">a</span><span style="color:rgb(128,0,0);line-height:1.5;"><br></span><span style="line-height:1.5;"> <br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> tree2 =<br> Node( [Node([Value </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">One</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; Value </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Two</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">]);<br> Node([Value </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Three</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; Value </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Four</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">])])</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这种语法更接近于C#中的泛型定义，是.NET风格的语法。在tree2中，’a被解析为string类型。不管哪种语法，都是单引号后跟着字母，我们一般只使用单个字母。<br><br> 创建和使用参数化类型的实例跟非参数化类型的过程是一样的，因为编译器会自动推导参数化的类型。<br><br> 在本节中，我们逐一讨论了元组、记录和Union类型。通过Reflector可以看到，元组值是Tuple类型的实例，而Tuple实现了Microsoft.FSharp.Core.IStructuralHash和System.IComparable接口；记录和Union则直接实现了这两个接口。要了解IStructualHash接口的更多内容，请参考<a href="http://blogs.msdn.com/jomo_fisher/archive/2007/09/17/adventures-in-f-discriminated-unions.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">Jome Fisher的文章</a>。<br><br> 到这里，我们讨论完了如何定义类型、创建和使用它们的实例，却未提及对它们的修改。那是因为我们没法修改这些类型的值，这是函数式编程的特性之一。但F#提供了多种编程范式，对某些类型来说，它们是可修改的，这将在下一部分（命令式编程）进行介绍。<br><br><strong>异常处理（Exception Handling）&nbsp;</strong><br><br><strong>在F#中，异常的定义类似于Union类型的定义，而异常处理的语法则类似于模式匹配</strong>。使用exception关键字来定义异常，可选地，如果异常包含了数据我们应当声明数据的类型，注意是可以包含多种类型数据的：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">exception</span><span style="line-height:1.5;"> SimpleException<br></span><span style="color:rgb(0,0,255);line-height:1.5;">exception</span><span style="line-height:1.5;"> WrongSecond </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Hour, MInute, Second</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">exception</span><span style="line-height:1.5;"> WrongTime </span><span style="color:rgb(0,0,255);line-height:1.5;">of</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> * </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> * </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 要抛出一个异常，可使用raise关键字。F#还提供了另一种方法，如果仅仅想抛出一个包含文本信息的异常，可以使用failwith函数，该函数抛出一个FailureException类型的异常。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> testTime() =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> now = System.DateTime.Now </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> now.Second &lt; </span><span style="color:rgb(128,0,128);line-height:1.5;">10</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">then</span><span style="line-height:1.5;"><br> raise SimpleException<br> elif now.Second &lt; </span><span style="color:rgb(128,0,128);line-height:1.5;">30</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">then</span><span style="line-height:1.5;"><br> raise (WrongSecond now.Second)<br> elif now.Second &lt; </span><span style="color:rgb(128,0,128);line-height:1.5;">50</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">then</span><span style="line-height:1.5;"><br> raise (WrongTime (now.Hour, now.Minute, now.Second))<br></span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;"><br> failwith </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Invalid Second</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">with</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> SimpleException </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"><br> printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Simple exception</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> WrongSecond s </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"><br> printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Wrong second: %i</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> s<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> WrongTime(h, m, s) </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"><br> printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Wrong time: %i:%i:%i</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> h m s<br></span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> Failure str </span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"><br> printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Error msg: %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> str<br><br> testTime()</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这个例子展示了如何抛出和捕获各种异常，如果你熟悉C#中的异常处理，对此应该不会感到陌生。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">与C#类似，F#也支持finally关键字，它当然要与try关键字一起使用。不管是否有异常抛出，finally块中的代码都会执行，在下面的例子中使用finally块来保证文件得以正确地关闭和释放：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> writeToFile() =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> file = System.IO.File.CreateText(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">test.txt</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">) </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;"><br> file.WriteLine(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Hello F# Fans</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">)<br></span><span style="color:rgb(0,0,255);line-height:1.5;">finally</span><span style="line-height:1.5;"><br> file.Dispose()<br><br> writeToFile()</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 需要注意的是，由于CLR架构的原因，<strong>抛出异常的代价是很昂贵的，因此要谨慎使用</strong>。<br><br><strong>延迟求值（或惰性求值，Lazy Evaluation）&nbsp;</strong><br><br> 第一次接触Lazy的东西是iBATIS中的LazyLoad，也就是延迟加载，它并不是在开始时加载所有数据，而是在必要时才进行读取。延迟求值与此类似，除了性能的提升外，还可用于创建无限的数据结构。<br><br> 延迟求值与函数式编程语言关系密切，其原理是如果一种语言没有副作用，编译器或运行时可随意选择表达式的求值顺序。F#允许函数具有副作用，因此编译器或运行时不能够按随意地顺序对函数求值，可以说<strong>F#具有严格的求值顺序或 F#是一种严格的语言</strong>。<br><br> 如果要利用延迟求值的特性，必须要显式地声明哪些表达式的求值需要延迟，这个要使用lazy关键字。如果需要对该表达式求值，则要调用Lazy模块的force函数。<strong>在调用force函数的时候，它会计算表达式的值，而所求得的值会被缓存起来，再次对表达式应用force函数时，所得的值其实是缓存中的值</strong>。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> sixtyWithSideEffect = </span><span style="color:rgb(0,0,255);line-height:1.5;">lazy</span><span style="line-height:1.5;">(printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Hello, sixty!</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,128);line-height:1.5;">30</span><span style="line-height:1.5;"> + </span><span style="color:rgb(128,0,128);line-height:1.5;">30</span><span style="line-height:1.5;">)<br><br> print_endline </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Force value the first time:</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> actualValue1 = Lazy.force sixtyWithSideEffect<br><br> print_endline </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Force value the second time:</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> actualValue2 = Lazy.force sixtyWithSideEffect</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 打印结果为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Code</span><span style="line-height:1.5;"><br><span style="line-height:1.5;">Force value the first time:<br> Hello, sixty!<br> Force value the second time:</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong><br> 小节</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">本文继续讨论F#函数式编程范式的核心内容，主要是模式匹配、自定义类型、异常处理和延迟求值等内容，至此，F#的函数式编程的相关内容就介绍完了。模式匹配可以很大程度上简化我们的程序；自定义类型则可以帮助我们更好地组织程序；延迟求值不仅能够提升性能，还可用于创建无限的数据结构，比如自然数序列。另外，在开发F#程序时，建议常用Reflector来看看编译后代码的样子，来了解它优雅的函数式编程背后到底是什么。在下一站，我们将看看命令式编程的风景。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">参考：<br> 《Foundations of F#》 by Robert Pickering<br> 《Expert F#》 by Don Syme , Adam Granicz , Antonio Cisternino<br> 《<a href="http://research.microsoft.com/fsharp/manual/spec2.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">F# Specs</a>》</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:1.8;"><font color="#333333"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：http://www.cnblogs.com/anderslly/archive/2008/09/06/fs-adventure-fp-part-three.html，如需转载请自行联系原作者。</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
