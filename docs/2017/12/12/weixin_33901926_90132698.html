<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>F#探险之旅（三）：命令式编程（上） « NotBeCN</title>
  <meta name="description" content="             F#系列随笔索引页面    在本系列的第二部分（函数式编程上、中、下）中，我们了解了如何使用F#进行纯粹的函数式编程。但是在一些情况下，比如I/O，几乎不能避免改变状态，也就是说会带来side effect。F#并不强求你以无状态的方式编写程序，它提供了可修改（mutable）的标识符来...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/12/weixin_33901926_90132698.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">F#探险之旅（三）：命令式编程（上）</h1>
    <p class="post-meta">Dec 12, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/anderslly/archive/2008/10/08/fs-posts-indices.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">F#系列随笔索引页面</a><strong><br></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在本系列的第二部分（函数式编程<a href="http://www.cnblogs.com/anderslly/archive/2008/08/27/fs-adventure-fp-part-one.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">上</a>、<a href="http://www.cnblogs.com/anderslly/archive/2008/08/31/fs-adventure-fp-part-two.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">中</a>、<a href="http://www.cnblogs.com/anderslly/archive/2008/09/06/fs-adventure-fp-part-three.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">下</a>）中，我们了解了如何使用F#进行纯粹的函数式编程。但是在一些情况下，比如I/O，几乎不能避免改变状态，也就是说会带来side effect。F#并不强求你以无状态的方式编写程序，它提供了可修改（mutable）的标识符来解决这类问题，同时它还提供了其它的程序结构以支持命令式编程。现在就来对这些特性探个究竟。<br><br> 首先是unit类型，这种类型表示“没有值”。然后是F#如何处理可修改的值。最后来看看如何在F#中使用.NET类库，包括如何调用静态方法、创建对象并使用其成员、使用类的索引器和事件以及F#中的|&gt;操作符。<br><br><strong>unit类型</strong>&nbsp;<br><br> 没有参数和返回值的函数的类型为unit，它类似于C#中的void，或者说CLR中的<strong>System.Void</strong>。对于使用函数式编程语言的开发人员来说，不接受参数、无返回值的函数没多大意义。而在命令式编程中，由于side effect的存在，这样的函数仍有意义。unit类型表示为一对括号“()”。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> main() =<br> ()</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 在这个例子中，main函数的类型为unit -&gt; unit，也就是说它既不接受参数，也无返回值。第一对括号使得main成为一个函数而不是一个简单的值。第二对括号告诉编译器，main函数什么值也不返回。<br><br><strong>注意</strong>：仅仅将函数命名为main不表示它就是程序的入口，它不会自动执行（像C#的Main方法那样），要执行它，需要在源文件的结尾处调用：main()，在后面的文章中将介绍如何指定F#程序的入口。<br><br> 再来看看如何调用unit类型的函数，有两种方式：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> () = main()<br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> -- or -- </span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="line-height:1.5;">main()</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 我们还可以在函数内部连续多次调用unit类型的函数——只要保证它们的缩进是一样的即可：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> poem() =<br> print_endline </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">I sent thee late a rosy wreath</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> print_endline </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Not so much honouring thee</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> print_endline </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">As giving it a hope that there</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> print_endline </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">It could not withered be</span><span style="color:rgb(128,0,0);line-height:1.5;">"<br><br></span><span style="line-height:1.5;">poem()</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这是《Song to Celia》中的四句诗词，print_endline函数的类型为string -&gt; unit，我们知道函数的返回值为其函数体内最后一步运算的值，所以poem的类型为unit -&gt; unit。<br><br> 并不是说只有unit类型的函数可以这么用，但是调用非unit类型的函数时编译器会报告一个警告，因为它可能会有副作用（side effect），比如：warning FS0020: This expression should have type 'unit', but has type 'string'，我们看到警告总会感觉不舒服。F#提供了一些机制可将这些警告消除，即将函数转换为unit类型的函数。事实上，这种需求在使用F#库时不多，在使用由其它语言编写的.NET类库时会更多些。看下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="line-height:1.5;">#</span><span style="line-height:1.5;">light<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> getString() = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">foo bar</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> _ = getString()<br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> -- or --</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="line-height:1.5;">ignore(getString())<br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> -- or --</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="line-height:1.5;">getString() </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">&gt; ignore</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 首先是函数getString的定义，下面的三行则是将其转换为unit类型函数的三种方式。第一种是使用下划线“_”，它在前面已经出现过几次，它一般表示我们对某些值不感兴趣；既然不感兴趣，那就可以忽略（ignore）了，这就是第二种方式：ignore函数；第三种方式使用了“|&gt;”操作符，它本质上同第二种一样。“|&gt;”操作符会在稍后介绍。<br><br><strong>mutable关键字&nbsp;</strong><br><br> 在探险之旅（二）中我们知道可以使用let关键字将值绑定至标识符，在某些情况下，我们还可以<strong>重定义（redefine）</strong>标识符或者<strong>绑定（rebind）</strong>新的值，但是不能直接修改它的值。显然，对于我们这些用惯了命令式编程语言的人来说，这实在有些不爽，因为<strong>这些语言以修改变量的值作为最基本的运算方式</strong>。既然F#也支持命令式编程范式，它当然也能让你修改标识符的值。这就是mutable关键字和“&lt;-”操作符，“&lt;-”的类型为unit（操作符也是函数），下面的例子对此作了演示：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">mutable</span><span style="line-height:1.5;"> phrase = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Good good study, </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> print_endline phrase<br> phrase </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">day day up.</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> print_endline phrase</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 运行结果为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Output</span><span style="line-height:1.5;"><br><span style="line-height:1.5;">Good good study,<br> day day up.</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 这看起来像是重定义标识符，其实不然。修改标识符时，只能修改它的值而不能修改类型；重定义时可同时改变类型和值（这本质上是定义了一个新的标识符）。事实上，如果你尝试修改标识符的类型，编译器会给你一个错误。另外，它们还有一个重要的差别，即它们的可见性（或者说修改行为的作用域）。在重定义标识符的时候，修改仅仅在新标识符的作用域内有效，一旦出了这个作用域，它就会回复到旧有的值；对于可修改的标识符来说，任何修改都是永久性，与作用域无关。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> redefineX() =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> x = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">One</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Redefining: \r\nx = %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x<br></span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">then</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> x = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Two</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">x = %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x<br></span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;"> ()<br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">x = %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> mutableX() =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">mutable</span><span style="line-height:1.5;"> x = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">One</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Mutating: \r\nx = %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x<br></span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">then</span><span style="line-height:1.5;"><br> x </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Two</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">x = %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x<br></span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;"> ()<br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">x = %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> x<br><br> redefineX()<br> mutableX()</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 运行结果为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">Output</span><span style="line-height:1.5;"><br><span style="line-height:1.5;">Redefining:<br> X = One<br> X = Two<br> X = One<br> Mutating:<br> X = One<br> X = Two<br> X = Two</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 可修改的标识符也有其局限性，在子函数内不能修改它的值。而这也是ref类型的来由，稍后你会看到。<br><br><strong>定义可修改的记录（Record）类型&nbsp;</strong><br><br> 默认情况下，记录类型是不可变的。不过F#提供了一种特殊的语法，使得我们可以修改记录类型的字段值，即在字段前使用<strong>mutable关键字</strong>。需要注意的是，<strong>这种操作改变的是记录字段的内容而不是记录本身</strong>。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">type</span><span style="line-height:1.5;"> Couple = <br> {her : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">; </span><span style="color:rgb(0,0,255);line-height:1.5;">mutable</span><span style="line-height:1.5;"> him : </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">}<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> couple = {her = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Elizabeth Taylor</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; him = </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Nicky Hilton</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">}<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> print o = printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%A \r\n</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> o<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> changeCouple() =<br> print couple;<br> couple.him </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Michael Wilding</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;<br> print couple;<br> couple.him </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Michael Todd</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">;<br> print couple;<br><br> changeCouple()</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 通过Couple类型的定义可知，him字段是可修改的，就像changeCouple中的代码，但如果尝试修改her的值就会遭遇编译错误。<br><br><strong>ref类型</strong>&nbsp;<br><br><strong>ref类型是一种状态进行修改的简单方式</strong>。ref类型其实是<strong>包含一个可修改字段的record类型</strong>，它定义在F#库中，伴随它的还有两个操作符，它们使得操作ref类型更为方便：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> ref x = { contents = x }<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> (:=) x y = x.contents </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> y<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> (!) x = x.contents</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> ref“函数”将输入的值“装入”一个记录类型，同时用“:=”操作符来进行赋值，“!”来取值。进一步分析，ref“函数”的类型为a’ -&gt; Ref&lt;a’&gt;，可以了解到“装入”的记录类型为Ref&lt;a’&gt;，由此可知使用了<strong>类型参数化（type parameterization）</strong>，这个概念前面部分已经介绍过了。这意味着ref可以接受任意类型的值，但是一经赋值，其类型也就固定了。Ref&lt;a’&gt;类型暴露了Value属性，我们也可以通过它来获取或设置ref类型的值。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> phrase = ref </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Inconsistency</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span></span></pre>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 考虑一个简单的问题，求一个整型数组所有元素的和。先看C#怎么做：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">C# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">static</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> TotalArray(</span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">[] array)<br> {<br></span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> total </span><span style="line-height:1.5;">=</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">;<br></span><span style="color:rgb(0,0,255);line-height:1.5;">foreach</span><span style="line-height:1.5;"> (</span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> element </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> array)<br> {<br> total </span><span style="line-height:1.5;">+=</span><span style="line-height:1.5;"> element;<br> }<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> total;<br> }</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 再看看F#的版本：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> totalArray (intArray : </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> array) =<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> x = ref </span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">for</span><span style="line-height:1.5;"> n </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> intArray </span><span style="color:rgb(0,0,255);line-height:1.5;">do</span><span style="line-height:1.5;"><br> x := !x + n<br> !x</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 可以看到F#的命令式编程范式下与C#何其相似！<br><br><strong>数组（Array）&nbsp;</strong><br><br> 数组算得上是我们最熟悉的数据结构了。<strong>F#中的数组基于BCL中的System.Array类型，是一种可修改的集合类型</strong>。数组与列表相对，数组中的值是可修改的，而列表中的值则不能；列表的容量（长度）可以动态增大，数组则不能。一维数组又时被称为向量（Vector），多维数组有时被称为矩阵（Matrix）。定义数组时，将各项置于“[|”和“|]”中，各项间用“;”隔开。<br><br> 下面的例子演示了如何对数组进行读取和写入操作。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 定义</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> rhymeArray = [</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Hello</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">F#</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">]<br><br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 读取 </span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> firstPiggy = rhymeArray.[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">]<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> secondPiggy = rhymeArray.[</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">]<br><br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 写入</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="line-height:1.5;">rhymeArray.[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Byebye</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br> rhymeArray.[</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">my friend</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"><br><br></span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 输出</span><span style="color:rgb(0,128,0);line-height:1.5;"><br></span><span style="line-height:1.5;">print_endline firstPiggy<br> print_endline secondPiggy<br> print_any rhymeArray</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> 数组跟列表一样，也采用了类型参数化，数组的类型为其元素的类型，因此rhymeArray的类型为string array，也可写作string[]。<br><br> F#中的多维数组可分为两类：<strong>交错数组（jagged array</strong>）和<strong>规则数组</strong>。交错数组，表示数组的数组，就是说最外部数组的元素也是数组（称为内部数组），内部数组的长度不必相同。而规则数组，事实上整个数组作为一个对象，其内部数组的长度是相同的。<br><br> 先来看看交错数组的用法：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> jaggedArray = [</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> [</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">one</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">]; [</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">two</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">; </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">three</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">]<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> singleDimension = jaggedArray.[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">]<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> itemOne = singleDimension.[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">]<br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> itemTwo = jaggedArray.[</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">].[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">]<br><br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%s %s</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> itemOne itemTwo </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> one two</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> jaggedArray的类型为string array array，这也是为什么说它是数组的数组，操作规则数组的语法有所不同：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> square = Array2.create </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;"><br> square.[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">,</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"><br> square.[</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">,</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">2</span><span style="line-height:1.5;"><br> square.[</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">,</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">3</span><span style="line-height:1.5;"><br> square.[</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">,</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;">] </span><span style="line-height:1.5;">&lt;-</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">4</span><span style="line-height:1.5;"><br> printf </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%A \r\n</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> square </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> [| [|1; 2|]; [|3; 4|] |]</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> square的类型为int[,]。<br><br><strong>注意</strong>：要编写.NET 1.1 和.NET 2.0兼容的代码，需要使用Microsoft.FSharp.Compatibility命名空间的CompatArray和CompatMatrix类。<br><br><strong>数组推导（Array Comprehension）&nbsp;</strong><br><br> 前面介绍过了关于列表和序列的推导语法。我们也可以使用类似的语法进行数组推导。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <pre><span class="cnblogs_code_Collapse" style="border-width:1px;border-style:solid;border-color:#808080;line-height:1.5;">F# Code</span><span style="line-height:1.5;"><br><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> chars = [</span><span style="line-height:1.5;">|</span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">1</span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="line-height:1.5;"> .. </span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">9</span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">]<br><br></span><span style="color:rgb(0,0,255);line-height:1.5;">let</span><span style="line-height:1.5;"> squares =<br> [</span><span style="line-height:1.5;">|</span><span style="line-height:1.5;"> </span><span style="color:rgb(0,0,255);line-height:1.5;">for</span><span style="line-height:1.5;"> x </span><span style="color:rgb(0,0,255);line-height:1.5;">in</span><span style="line-height:1.5;"> </span><span style="color:rgb(128,0,128);line-height:1.5;">1</span><span style="line-height:1.5;"> .. </span><span style="color:rgb(128,0,128);line-height:1.5;">9</span><span style="line-height:1.5;"><br></span><span style="line-height:1.5;">-&gt;</span><span style="line-height:1.5;"> x, x * x </span><span style="line-height:1.5;">|</span><span style="line-height:1.5;">]<br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%A</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> chars<br> printfn </span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">%A</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;"> squares</span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br><strong>注意</strong>：本文中的代码均在F# 1.9.4.17版本下编写，在F# CTP 1.9.6.0版本下可能不能通过编译。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="http://www.cnblogs.com/anderslly/archive/2008/10/08/fs-posts-indices.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">F#系列随笔索引页面</a><strong><br></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">参考：<br> 《Foundations of F#》 by Robert Pickering<br> 《Expert F#》 by Don Syme , Adam Granicz , Antonio Cisternino<br> 《<a href="http://research.microsoft.com/fsharp/manual/spec2.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">F# Specs</a>》</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:1.8;"><font color="#333333"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：http://www.cnblogs.com/anderslly/archive/2008/09/25/fs-adventure-ip-part-one.html，如需转载请自行联系原作者。</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
