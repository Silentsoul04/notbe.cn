<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>F#探险之旅（二）：函数式编程（中） « NotBeCN</title>
  <meta name="description" content="             操作符（Operator）&nbsp;         F#中，可把操作符看作一种函数调用的更为优雅的方式。操作符有两种：前缀（prefix）和中缀（infix），前者接受一个操作数（operand），出现在操作数之前；后者接受两个或多个操作数，出现在头两个操作数之间。&nbsp;   ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/14/weixin_34217711_90131021.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">F#探险之旅（二）：函数式编程（中）</h1>
    <p class="post-meta">Dec 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">操作符（Operator）&nbsp;</strong>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#中，可把操作符看作一种函数调用的更为优雅的方式。操作符有两种：前缀（prefix）和中缀（infix），前者接受一个操作数（operand），出现在操作数之前；后者接受两个或多个操作数，出现在头两个操作数之间。&nbsp;<br></p> 
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#提供了丰富的操作符集，可用于数字、布尔值、字符串和集合类型。这些操作符数量甚众，限于篇幅，在此不再一一详解。本文将着重介绍如何使用和定义操作符。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">类似于C#，F#的操作符也可以重载，也就是说，我们可以将不同的类型用于同一操作符，如“+”；但是与C#不同的是，各个操作数必须为相同的类型。F#的操作符重载规则与C#类似，因此任何BCL或者使用C#编写的.NET类库中的支持操作符重载的类在F#中一样支持重载。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;words&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">To&nbsp;live&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;+&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">is&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;+&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">&nbsp;to&nbsp;function.</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;<br><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">open</span>
    <span style="line-height:1.5;">&nbsp;System<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;oneYearLater&nbsp;=&nbsp;DateTime.Now&nbsp;+&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">new</span>
    <span style="line-height:1.5;">&nbsp;TimeSpan(</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">365</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">)&nbsp;<br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们可以定义自己的操作符，也可以重定义已有的任何操作符（不建议这样做）。看看下面这种不好的做法：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;(+)&nbsp;a&nbsp;b&nbsp;=&nbsp;a&nbsp;–&nbsp;b<br> print_int&nbsp;(</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;+&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">)</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">看到这里，你想到了什么？是不是：这分明是在定义一个函数嘛！所以我们前面说“可把操作符看作一种函数调用的更为优雅的方式”。我们重定义了“+”操作符，所以“1 + 2”的结果为-1，这当然没什么好处，在VS中使用FSI时，怎样把“+”改回它原本的含义呢？我一般在任务管理器中把fsi进程关掉，再按回车，“+”就回来了。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">自定义的操作符不能包含字母和数字，可以使用的字符如下：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">!$%&amp;+-./&lt;=&gt;?@^|~</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">:</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">操作符的第一个字符可以是上面第一行的任意字符，其后的字符则可以是上面的任意字符了。定义语法与函数类似，除了要将操作括起来。看下面的例子：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;(+^*)&nbsp;a&nbsp;b&nbsp;=&nbsp;(a&nbsp;+&nbsp;b)&nbsp;*&nbsp;(a&nbsp;*&nbsp;b)&nbsp;<br></span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">结果为30。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>列表（Lists）</strong><br></p> 
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">列表是内置于F#的简单集合类型。可以是一个空表（empty list），使用方括号表示（[]）。我们可以将一个值与列表连接，此时要使用“::”操作符，注意要将值作为第一个操作数：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;emptyList&nbsp;=&nbsp;[]<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;oneItem&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">one</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;::&nbsp;[]<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;twoItem&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">two</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;::&nbsp;oneItem</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在VS中可以看到oneItem的类型为string list。如果列表包含多个项，用上面的方法显得麻烦了，我们可以使用下面的语法：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;shortHand&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">hello&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">world!</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">另外我们还可使用“@”操作符来连接两个列表：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;concatenateLists&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">one,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">two,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">]&nbsp;@&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">three,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">four</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#要求列表中的元素类型必须是相同的，如果你确实需要列表包含不同类型的元素，那只好创建一个obj（即System.Object）类型的列表了：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;objList&nbsp;=&nbsp;[box&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">;&nbsp;box&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2.0</span>
    <span style="line-height:1.5;">;&nbsp;box&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">three</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">其中第三个box是可选的，这个让我想起了C#中的装箱。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#中的列表是不可修改的，一旦创建就不能修改了。作用于列表的函数和操作符也不能修改列表，而是创建了列表的一个副本。这个特性很像C#中的string类型。看下面的例子：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">#</span>
    <span style="line-height:1.5;">light<br><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;printList&nbsp;list&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;List.iter&nbsp;print_string&nbsp;list<br> &nbsp;&nbsp;&nbsp;&nbsp;print_newline()<br><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;threeItems&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">one&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">two&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">three&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">]<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;reversedList&nbsp;=&nbsp;List.rev&nbsp;threeItems<br><br> printList&nbsp;threeItems<br> printList&nbsp;reversedList</span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上面的iter方法接受两个参数，第一个是函数，第二个是列表，其作用是将函数依次应用于列表的每个元素，有点像C#中的foreach循环。而rev方法则返回列表的逆序列表。<br></p> 
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">打印结果为：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">one tow three</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">three two one</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上述两个方法都没有改变原来的列表。要了解关于F#列表的更多信息，建议阅读这篇文章：</span>
   <a href="http://blogs.msdn.com/chrsmith/archive/2008/07/10/mastering-f-lists.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">Mastering F# Lists</a>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">列表推导（List Comprehensions）</strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">列表推导的概念源于数学，它使得创建和转换集合的操作变得简单。在F#中可以使用这样的推导语法直接创建列表，序列（sequence）和数组（序列和数组将在后面介绍）。要了解这个概念的更多内容可以查看：</span>
   <a href="http://en.wikipedia.org/wiki/List_comprehension" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">List_comprehension</a>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">最简单的情况是指定列表的范围，如：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;numericList&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">9</span>
    <span style="line-height:1.5;">]<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;charList&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">A</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Z</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这两个列表的类型分别是int list和char list，范围分别是从0到9和从’A’到’Z’。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">更复杂的情况是指定一个步长：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;multipleOfThree&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">30</span>
    <span style="line-height:1.5;">]<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;revNumericList&nbsp;=&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">9</span>
    <span style="line-height:1.5;">..&nbsp;-</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">第一个列表的值是0到30间所有3的倍数，第二个列表的元素则包含了从9递减至0。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们还可以通过对一个列表进行循环操作得到另一个列表。例如：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;squares&nbsp;=&nbsp;[</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">for</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">in</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;*&nbsp;x]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">通过for进行循环，squares列表的元素是1到10间的整数的平方。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">此外还可以为循环添加when子句对元素进行过滤，只有when子句的值为true时才对其进行运算：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;evens&nbsp;=&nbsp;[</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">for</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">in</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">when</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;%&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;x]</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">evens的元素为[2; 4; 6; 8; 10]。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">控制流程（Control Flow）</strong>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#拥有强的控制流程概念，这与很多纯函数式编程语言不同，在这些语言中表达式可以以任何顺序进行求值。看下面的例子：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;absoluteValue&nbsp;x&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">if</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;&lt;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">then</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-x<br> &nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;x&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">then</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">else</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">if, elif, then, else组成的结构我们应当很熟悉，在F#中该结构是一个表达式，也就是说它需要返回一个值。而且每个分支返回的值应当具有相同的类型，否则就会有编译错误。如果确实要返回多个类型的值，在值前加box关键字，就像前面创建列表时那样，这样表达式的返回类型为obj。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">类型与类型推导（Types and Type Inference）</strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#是一种</span>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">强类型</strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">的语言，传给函数的值必须是指定的类型。如果函数接受string类型的参数，就不能传给它int类型的值。一种语言处理其中值的类型的方式称为语言的类型系统。F#的类型系统与一般语言不同，包括函数在内，所有的值都具有自己的类型。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">通常情况下，我们不需要显式地声明类型，编译器会尝试从值的文字值或调用的函数返回类型来判断其类型，这个过程称为</span>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">类型推导</strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">。可在编译时使用-i开关来显示所有的推导类型，在VS中我们则可以使用工具提示来查看标识符的类型。先看下面值的类型推导情况：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;strValue&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">String&nbsp;Value</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;intValue&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">12</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在fsi中可看到它们的信息是：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;strValue&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;intValue&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可以理解，编译器跟据赋给标识符的文字值来推导其类型。再看看下面函数的情况：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;makeMessage&nbsp;x&nbsp;=&nbsp;(string_of_bool&nbsp;x)&nbsp;+&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">&nbsp;is&nbsp;a&nbsp;boolean&nbsp;value</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;half&nbsp;x&nbsp;=&nbsp;x&nbsp;/&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在fsi中可看到它们的信息是：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;makeMessage&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">bool</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;half&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">有意思的是，函数名前面也有个val，这表明函数也是值，后面的bool -&gt; string是什么意思呢？它表明函数接受bool类型参数，返回string类型的值，注意x作为string_of_bool的参数，所以x必须为bool类型，返回值是两个字符串相加的值，故返回值也是string类型。对于half函数，单从定义不能确定x类型，此时编译器采用默认的类型int。再看看稍微复杂点的情况：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;div1&nbsp;x&nbsp;y&nbsp;=&nbsp;x&nbsp;/&nbsp;y<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;div2&nbsp;(x,&nbsp;y)&nbsp;=&nbsp;x&nbsp;/&nbsp;y</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这两个函数的信息是：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;div1&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;div2&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">div1函数可接受部分参数（可柯里化），而div2则必须同时传入两个int类型的值。考虑下面的函数：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;doNothing&nbsp;x&nbsp;=&nbsp;x</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">其信息为：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;doNothing&nbsp;:&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">a&nbsp;-&gt;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">a</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">a’ -&gt; a’表示函数接受任意类型，并返回与其相同类型的值。以’打头的类型表示</span>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可变类型</strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">（variable type），编译器虽然不能确定类型的参数，却能确定返回值类型必须与参数类型相同，类型系统的这种特性称为</span>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">类型参数化</strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">，通过它编译器也能发现更多的类型错误。可变类型或类型参数化的概念，类似于.NET 2.0的泛型，如果F#基于支持泛型的CLI，那么它会充分利用泛型的优势。另外，F#的创建者Don Syme，正是CLR中泛型的设计者和实现者。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#的类型推导固然强大，但它显然不能揣测出开发人员所有的心思来，如果有特殊需求该怎么办呢？看下面的例子：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;doNothingToFloat&nbsp;(x&nbsp;:&nbsp;float32)&nbsp;=&nbsp;x</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">float32即System.Single，这里我们手动指定了x的类型，这个有时称为类型标注（type annotation）。如果要在F#中使用其它.NET语言编写的类库，或者与非托管的类库进行互操作，它会很有用。&nbsp;<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>小结</strong>&nbsp;<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">接<a href="http://www.cnblogs.com/anderslly/archive/2008/08/27/fs-adventure-fp-part-one.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">上一篇</a>，本文继续介绍F#中的函数式编程范式，主要包含了操作符、列表、列表推导、类型推导、类型标注等概念。类型推导又称隐式类型，通常是——但不限于——函数式编程语言的特性，比如C# 3.0和VB.NET 9.0都提供了一定的支持，它使很多编程任务变得更为简单。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">参考：<br> 《Foundations of F#》 by Robert Pickering<br> 《<a href="http://research.microsoft.com/fsharp/manual/spec2.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">F# Specs</a>》</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:1.8;"><font color="#333333"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：http://www.cnblogs.com/anderslly/archive/2008/08/31/fs-adventure-fp-part-two.html，如需转载请自行联系原作者。</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
