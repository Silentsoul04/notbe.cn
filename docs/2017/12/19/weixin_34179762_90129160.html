<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ABP理论学习之通知系统 « NotBeCN</title>
  <meta name="description" content="             本篇目录        介绍     订阅通知     发布通知     用户通知管理者     实时通知     通知存储     通知定义       介绍     通知（Notification）用于告知用户系统中的特定事件。ABP提供了基于实时通知基础设施的发布订阅模型（pub/...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/19/weixin_34179762_90129160.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">ABP理论学习之通知系统</h1>
    <p class="post-meta">Dec 19, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(255,255,255);font-family:'微软雅黑', '宋体', '黑体', Arial;background:rgb(111,168,51);">本篇目录</h2> 
   <ul style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#intro" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">介绍</a></strong></li> 
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#subscribe" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">订阅通知</a></strong></li> 
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#publish" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">发布通知</a></strong></li> 
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#manager" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">用户通知管理者</a></strong></li> 
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#realtime" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">实时通知</a></strong></li> 
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#store" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">通知存储</a></strong></li> 
    <li style="list-style:disc;"><strong><a href="http://www.cnblogs.com/farb/p/ABPNotificationSystem.html#definition" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">通知定义</a></strong></li> 
   </ul>
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">介绍<a name="intro" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">通知（Notification）用于告知用户系统中的特定事件。ABP提供了基于<strong>实时</strong>通知基础设施的发布订阅模型（pub/sub）。</p> 
   <h4 style="font-size:14px;color:rgb(205,73,0);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(205,73,0);font-family:'Microsoft Yahei', Simsun, Arial;line-height:25px;">发送模型</h4> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">给用户发送通知有两种方式：</p> 
   <ul style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <li style="list-style:disc;">首先用户订阅特定的通知类型，然后我们发布这种类型的通知，这种类型的通知会传递给所有<strong>已经订阅</strong>的用户。这就是发布订阅（pub/sub）模型。</li> 
    <li style="list-style:disc;">直接给目标用户发送通知。</li> 
   </ul>
   <h4 style="font-size:14px;color:rgb(205,73,0);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(205,73,0);font-family:'Microsoft Yahei', Simsun, Arial;line-height:25px;">通知类型</h4> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">通知类型也有两种：</p> 
   <ul style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <li style="list-style:disc;"> <strong>一般通知</strong>：是任意类型的通知。“如果一个用户给我发送了添加好友的请求就通知我”是这种通知类型的一个例子。</li> 
    <li style="list-style:disc;"> <strong>实体通知</strong>：和特定的实体相关联。“如果一个用户在&nbsp;<strong>这张</strong>图片上评论那么通知我”是基于实体的通知，因为它和特定的实体相关联。用户可能想获得某些图片的通知而不是所有的图片通知。</li> 
   </ul>
   <h4 style="font-size:14px;color:rgb(205,73,0);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(205,73,0);font-family:'Microsoft Yahei', Simsun, Arial;line-height:25px;">通知数据</h4> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">一个通知一般都会包括一个<strong>通知数据</strong>。比如，“如果一个用户给我发送了添加好友的请求就通知我”，这个通知可能有两个数据属性：发送者用户名（那哪一个用户发送的这个添加好友的请求）和请求内容（该用户在这个请求中写的东西）。很明显，该通知数据类型紧耦合于通知类型。不同的通知类型有不同的数据类型。</p> 
   <ul style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <li style="list-style:disc;">通知数据是<strong>可选的</strong>。某些通知可能不需要数据。一些预定义的通知数据类型可能对于大多数情况够用了。&nbsp;<strong>MessageNotificationData</strong>可以用于简单的信息，&nbsp;<strong>LocalizableMessageNotificationData</strong>可以用于本地化的，带参数的通知信息。</li>
   </ul>
   <h4 style="font-size:14px;color:rgb(205,73,0);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(205,73,0);font-family:'Microsoft Yahei', Simsun, Arial;line-height:25px;">通知安全</h4> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">通知的安全性有5个级别，它们定义在NotificationSeverity枚举类中，分别是 Info,Success,Warn,Error和Fatal。默认值是Info。</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">订阅通知<a name="subscribe" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><strong>INotificationSubscriptionManager</strong>&nbsp;提供了订阅通知的API。例如：</p> 
   <pre class="c#"><code class="hljs cs" style="vertical-align:middle;color:rgb(0,0,0);line-height:1.5;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">class</span> <span class="hljs-title" style="color:rgb(163,21,21);">MyService</span> : <span class="hljs-title" style="color:rgb(163,21,21);">ITransientDependency</span>
{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">private</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">readonly</span> INotificationSubscriptionManager _notificationSubscriptionManager;

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-title" style="color:rgb(163,21,21);">MyService</span>(<span class="hljs-params">INotificationSubscriptionManager notificationSubscriptionManager</span>) </span>{
        _notificationSubscriptionManager = notificationSubscriptionManager;
    }

    <span class="hljs-comment" style="color:#008000;">//订阅一个一般通知</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">async</span> Task <span class="hljs-title" style="color:rgb(163,21,21);">Subscribe_SentFrendshipRequest</span>(<span class="hljs-params"><span class="hljs-keyword" style="color:rgb(0,0,255);">int</span>? tenantId, <span class="hljs-keyword" style="color:rgb(0,0,255);">long</span> userId</span>) </span>{
        <span class="hljs-keyword" style="color:rgb(0,0,255);">await</span> _notificationSubscriptionManager.SubscribeAsync(tenantId, userId, <span class="hljs-string" style="color:rgb(163,21,21);">"SentFrendshipRequest"</span>);    
    }

    <span class="hljs-comment" style="color:#008000;">//订阅一个实体通知</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">async</span> Task <span class="hljs-title" style="color:rgb(163,21,21);">Subscribe_CommentPhoto</span>(<span class="hljs-params"><span class="hljs-keyword" style="color:rgb(0,0,255);">int</span>? tenantId, <span class="hljs-keyword" style="color:rgb(0,0,255);">long</span> userId, Guid photoId</span>) </span>{
        <span class="hljs-keyword" style="color:rgb(0,0,255);">await</span> _notificationSubscriptionManager.SubscribeAsync(tenantId, userId, <span class="hljs-string" style="color:rgb(163,21,21);">"CommentPhoto"</span>, <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> EntityIdentifier(<span class="hljs-keyword" style="color:rgb(0,0,255);">typeof</span>(Photo), photoId));   
    }
}
</code></pre> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">首先，我们注入了<strong>INotificationSubscriptionManager</strong>。第一个方法订阅了一个一般通知。当某人发送了一个添加好友的请求时，用户想得到通知。第二个方法订阅了一个和特定实体（Photo）相关的通知。如果任何人对这个特定的图片进行了评论，那么用户就会收到通知。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">每一个通知应该有<strong>唯一的名字</strong>（比如例子中的SentFrendshipRequest和 CommentPhoto）。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><strong>INotificationSubscriptionManager</strong>还有很多方法来管理通知，比如<strong>UnsubscribeAsync, IsSubscribedAsync, GetSubscriptionsAsync</strong>等方法。</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">发布通知<a name="publish" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><strong>INotificationPublisher</strong>用于发布通知，例如：</p> 
   <pre class="c#"><code class="hljs cs" style="vertical-align:middle;color:rgb(0,0,0);line-height:1.5;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">class</span> <span class="hljs-title" style="color:rgb(163,21,21);">MyService</span> : <span class="hljs-title" style="color:rgb(163,21,21);">ITransientDependency</span>
{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">private</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">readonly</span> INotificationPublisher _notiticationPublisher;

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-title" style="color:rgb(163,21,21);">MyService</span>(<span class="hljs-params">INotificationPublisher notiticationPublisher</span>) </span>{
        _notiticationPublisher = notiticationPublisher;
    }

    <span class="hljs-comment" style="color:#008000;">//给特定的用户发送一个一般通知</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">async</span> Task <span class="hljs-title" style="color:rgb(163,21,21);">Publish_SentFrendshipRequest</span>(<span class="hljs-params"><span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> senderUserName, <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> friendshipMessage, <span class="hljs-keyword" style="color:rgb(0,0,255);">long</span> targetUserId</span>) </span>{
        <span class="hljs-keyword" style="color:rgb(0,0,255);">await</span> _notiticationPublisher.PublishAsync(<span class="hljs-string" style="color:rgb(163,21,21);">"SentFrendshipRequest"</span>, <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> SentFrendshipRequestNotificationData(senderUserName, friendshipMessage), userIds: <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span>[] { targetUserId });
    }

    <span class="hljs-comment" style="color:#008000;">//给特定的用户发送一个实体通知</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">async</span> Task <span class="hljs-title" style="color:rgb(163,21,21);">Publish_CommentPhoto</span>(<span class="hljs-params"><span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> commenterUserName, <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> comment, Guid photoId, <span class="hljs-keyword" style="color:rgb(0,0,255);">long</span> photoOwnerUserId</span>) </span>{
        <span class="hljs-keyword" style="color:rgb(0,0,255);">await</span> _notiticationPublisher.PublishAsync(<span class="hljs-string" style="color:rgb(163,21,21);">"CommentPhoto"</span>, <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> CommentPhotoNotificationData(commenterUserName, comment), <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> EntityIdentifier(<span class="hljs-keyword" style="color:rgb(0,0,255);">typeof</span>(Photo), photoId), userIds: <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span>[] { photoOwnerUserId });
    }

    <span class="hljs-comment" style="color:#008000;">//给具特定严重级别程度的所有订阅用户发送一个一般通知</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">async</span> Task <span class="hljs-title" style="color:rgb(163,21,21);">Publish_LowDisk</span>(<span class="hljs-params"><span class="hljs-keyword" style="color:rgb(0,0,255);">int</span> remainingDiskInMb</span>) </span>{
        <span class="hljs-comment" style="color:#008000;">//例如 "LowDiskWarningMessage"的英文内容 -&gt; "Attention! Only {remainingDiskInMb} MBs left on the disk!"</span>
        <span class="hljs-keyword" style="color:rgb(0,0,255);">var</span> data = <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> LocalizableMessageNotificationData(<span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> LocalizableString(<span class="hljs-string" style="color:rgb(163,21,21);">"LowDiskWarningMessage"</span>, <span class="hljs-string" style="color:rgb(163,21,21);">"MyLocalizationSourceName"</span>));
        data[<span class="hljs-string" style="color:rgb(163,21,21);">"remainingDiskInMb"</span>] = remainingDiskInMb;

        <span class="hljs-keyword" style="color:rgb(0,0,255);">await</span> _notiticationPublisher.PublishAsync(<span class="hljs-string" style="color:rgb(163,21,21);">"System.LowDisk"</span>, data, severity: NotificationSeverity.Warn);    
    }
}
</code></pre> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">在第一个例子中，我们向单个用户发布了一个通知。<em>SentFrendshipRequestNotificationData</em>应该从&nbsp;<strong>NotificationData</strong>继承，比如：</p> 
   <pre class="c#"><code class="hljs cs" style="vertical-align:middle;color:rgb(0,0,0);line-height:1.5;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);">[Serializable]
<span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">class</span> <span class="hljs-title" style="color:rgb(163,21,21);">SentFrendshipRequestNotificationData</span> : <span class="hljs-title" style="color:rgb(163,21,21);">NotificationData</span>
{
    <span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> SenderUserName { <span class="hljs-keyword" style="color:rgb(0,0,255);">get</span>; <span class="hljs-keyword" style="color:rgb(0,0,255);">set</span>; }

    <span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> FriendshipMessage { <span class="hljs-keyword" style="color:rgb(0,0,255);">get</span>; <span class="hljs-keyword" style="color:rgb(0,0,255);">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-title" style="color:rgb(163,21,21);">SentFrendshipRequestNotificationData</span>(<span class="hljs-params"><span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> senderUserName, <span class="hljs-keyword" style="color:rgb(0,0,255);">string</span> friendshipMessage</span>) </span>{
        SenderUserName = senderUserName;
        FriendshipMessage = friendshipMessage;
    }
}
</code></pre> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">在第二个例子中，我们向特定的用户发送了一个特定实体的通知。通知数据类CommentPhotoNotificationData一般不需要<strong>serializble</strong>(因为默认使用了JSON序列化)。但是建议把它标记为serializable，因为你可能需要在应用之间移动通知，也可能在未来使用二进制的序列。此外，正如之前声明的那样，通知数据是可选的，而且对于所有的通知可能不是必须的。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">注意：如果我们对特定的用户发布了一个通知，那么他们不需要订阅那些通知。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">在第三个例子中，我们没有定义一个专用的通知数据类。相反，我们直接使用了内置的具有基于字典数据的<strong>LocalizableMessageNotificationData</strong>，并且以&nbsp;<strong>Warn</strong>发布了通知。<strong>LocalizableMessageNotificationData</strong>可以存储基于字典的任意数据（这对于自定义的通知数据类也是成立的，因为它们也从&nbsp;<strong>NotificationData类继承</strong>）。在本地化时我们使用了“<strong>remaingDiskInMb</strong>”作为参数。本地化信息可以包含这些参数（比如例子中的"Attention! Only {remainingDiskInMb} MBs left on the disk!"）</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">用户通知管理者<a name="manager" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><strong>IUserNotificationManager</strong>用于管理用户的通知，它有&nbsp;<strong>get,update或delete</strong>用户通知的方法。你可以为你的应用程序准备一个通知列表页面。</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">实时通知<a name="realtime" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">当使用IUserNotificationManager来查询通知时，我们一般想实时地将通知推送到客户端。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">通知系统使用了<strong>IRealTimeNotifier</strong>向用户发送实时通知。这可以使用任何类型的实时通讯系统来实现。ABP在一个单独的包中使用了&nbsp;<strong>SignalR</strong>来实现。ABP官网的起始模板已经安装了SignalR。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">注意：通知系统在一个后台工作中异步调用<strong>IRealTimeNotifier</strong>。因此，通知发送时可能伴有轻微的延迟。</p> 
   <h4 style="font-size:14px;color:rgb(205,73,0);border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(205,73,0);font-family:'Microsoft Yahei', Simsun, Arial;line-height:25px;">客户端</h4> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">当接收到一个实时通知时，ABP会在客户端触发一个<strong>全局的事件（global event）</strong>。你可以像下面那样注册来获取通知：</p> 
   <div class="sourceCode" style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <pre><code class="language-javascript"><code class="sourceCode javascript hljs" style="line-height:1.5;vertical-align:middle;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);color:rgb(0,0,0);background:rgb(255,255,255);"><span class="va">abp</span>.<span class="va">event</span>.<span class="at">on</span>(<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'abp.notifications.received'</span></span><span class="op">,</span> <span class="kw"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span></span></span><span class="hljs-function"> (<span class="hljs-params">userNotification</span>) </span><span class="op">{</span> <span class="va"><span class="hljs-built_in" style="color:rgb(0,0,255);">console</span></span>.<span class="at">log</span>(userNotification)<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></code></code></pre>
   </div> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><strong>abp.notifications.received</strong>事件对于每个接收到的实时通知都会触发。你可以像上面那样注册该事件来获取通知。查看<strong><a href="http://www.cnblogs.com/farb/p/ABPJavascriptAPI.html#eventBus" rel="nofollow" style="color:rgb(65,131,196);text-decoration:none;">javascript事件总线</a></strong>文档获取更多信息。对于上面的“System.LowDisk”例子，下面是接收到的通知消息的JSON数据：</p> 
   <div class="sourceCode" style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <pre class="sourceCode json"><code class="sourceCode json hljs" style="line-height:1.5;vertical-align:middle;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);color:rgb(0,0,0);background:rgb(255,255,255);"><span class="fu">{</span>
    <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">userId</span>"</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span>
    <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">state</span>"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span>
    <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">notification</span>"</span><span class="fu">:</span> <span class="fu">{</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">notificationName</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"System.LowDisk"</span></span><span class="fu">,</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">data</span>"</span><span class="fu">:</span> <span class="fu">{</span>
            <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">message</span>"</span><span class="fu">:</span> <span class="fu">{</span>
                <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">sourceName</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"MyLocalizationSourceName"</span></span><span class="fu">,</span>
                <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">name</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"LowDiskWarningMessage"</span></span>
            <span class="fu">},</span>
            <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">type</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"Abp.Notifications.LocalizableMessageNotificationData"</span></span><span class="fu">,</span>
            <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">properties</span>"</span><span class="fu">:</span> <span class="fu">{</span>
                <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">remainingDiskInMb</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"42"</span></span>
            <span class="fu">}</span>
        <span class="fu">},</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">entityType</span>"</span><span class="fu">:</span> <span class="kw"><span class="hljs-literal" style="color:rgb(163,21,21);">null</span></span><span class="fu">,</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">entityTypeName</span>"</span><span class="fu">:</span> <span class="kw"><span class="hljs-literal" style="color:rgb(163,21,21);">null</span></span><span class="fu">,</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">entityId</span>"</span><span class="fu">:</span> <span class="kw"><span class="hljs-literal" style="color:rgb(163,21,21);">null</span></span><span class="fu">,</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">severity</span>"</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">creationTime</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"2016-02-09T17:03:32.13"</span></span><span class="fu">,</span>
        <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">id</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"0263d581-3d8a-476b-8e16-4f6a6f10a632"</span></span>
    <span class="fu">},</span>
    <span class="dt">"<span class="hljs-attr" style="color:#FF0000;">id</span>"</span><span class="fu">:</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">"4a546baf-bf17-4924-b993-32e420a8d468"</span></span>
<span class="fu">}</span></code></pre>
   </div> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">在这个对象中，</p> 
   <ul style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <li style="list-style:disc;"> <strong>userId</strong>:当前的用户Id。一般来说不需要这个，因为你知道当前的用户。</li> 
    <li style="list-style:disc;"> <strong>state</strong>：&nbsp;<strong>UserNotificationState</strong>枚举的值。0：未读，1：已读。</li> 
    <li style="list-style:disc;"> <strong>notification</strong>:通知细节。 
     <ul>
      <li style="list-style:disc;"> <strong>notificationName</strong>:通知的唯一名称。（当发布该通知时使用相同的值）</li> 
      <li style="list-style:disc;"> <strong>data</strong>:通知数据。在本例中，我们使用了<strong>LocalizableMessageNotificationData&nbsp;</strong>（正如之前的例子中发布的）。</li> 
      <li style="list-style:disc;"> <strong>message</strong>:本地的信息通知。我们可以使用&nbsp;<strong>sourceName</strong>和&nbsp;<strong>name</strong>来本地化UI上的信息。</li> 
      <li style="list-style:disc;"> <strong>type</strong>:通知数据类型。全类型名称，包括命名空间。当处理该通知数据时我们可以检查该类型。</li> 
      <li style="list-style:disc;"> <strong>properties</strong>：基于字典的自定义属性。</li> 
      <li style="list-style:disc;"> <strong>entityType, entityTypeName和entityId</strong>：和通知相关的实体的信息。</li> 
      <li style="list-style:disc;"> <strong>severity</strong>：&nbsp;<strong>NotificationSeverity</strong>枚举的值。0: Info, 1: Success, 2: Warn, 3: Error, 4: Fatal。</li> 
      <li style="list-style:disc;"> <strong>creationTime</strong>:该通知创建的时间。</li> 
      <li style="list-style:disc;"> <strong>id</strong>:通知的Id。</li> 
     </ul></li> 
    <li style="list-style:disc;"> <strong>id</strong>:用户的通知id。</li> 
   </ul>
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">当然，你不仅可以记录该通知。你还可以使用通知数据将通知信息展示给该用户。例如：</p> 
   <div class="sourceCode" style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <pre><code class="language-javascript"><code class="sourceCode javascript hljs" style="line-height:1.5;vertical-align:middle;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);color:rgb(0,0,0);background:rgb(255,255,255);"><span class="va">abp</span>.<span class="va">event</span>.<span class="at">on</span>(<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'abp.notifications.received'</span></span><span class="op">,</span> <span class="kw"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span></span></span><span class="hljs-function"> (<span class="hljs-params">userNotification</span>) </span><span class="op">{</span> <span class="cf"><span class="hljs-keyword" style="color:rgb(0,0,255);">if</span></span> (<span class="va">userNotification</span>.<span class="va">notification</span>.<span class="va">data</span>.<span class="at">type</span> <span class="op">===</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'Abp.Notifications.LocalizableMessageNotificationData'</span></span>) <span class="op">{</span> <span class="kw"><span class="hljs-keyword" style="color:rgb(0,0,255);">var</span></span> localizedText <span class="op">=</span> <span class="va">abp</span>.<span class="va">localization</span>.<span class="at">localize</span>( <span class="va">userNotification</span>.<span class="va">notification</span>.<span class="va">data</span>.<span class="va">message</span>.<span class="at">name</span><span class="op">,</span> <span class="va">userNotification</span>.<span class="va">notification</span>.<span class="va">data</span>.<span class="va">message</span>.<span class="at">sourceName</span> )<span class="op">;</span> <span class="va">$</span>.<span class="at">each</span>(<span class="va">userNotification</span>.<span class="va">notification</span>.<span class="va">data</span>.<span class="at">properties</span><span class="op">,</span> <span class="kw"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span></span></span><span class="hljs-function"> (<span class="hljs-params">key</span></span><span class="op">,</span><span class="hljs-function"><span class="hljs-params"> value</span>) </span><span class="op">{</span> localizedText <span class="op">=</span> <span class="va">localizedText</span>.<span class="at">replace</span>(<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'{'</span></span> <span class="op">+</span> key <span class="op">+</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'}'</span></span><span class="op">,</span> value)<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span> <span class="at">alert</span>(<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'New localized notification: '</span></span> <span class="op">+</span> localizedText)<span class="op">;</span> <span class="op">}</span> <span class="cf"><span class="hljs-keyword" style="color:rgb(0,0,255);">else</span></span> <span class="cf"><span class="hljs-keyword" style="color:rgb(0,0,255);">if</span></span> (<span class="va">userNotification</span>.<span class="va">notification</span>.<span class="va">data</span>.<span class="at">type</span> <span class="op">===</span> <span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'Abp.Notifications.MessageNotificationData'</span></span>) <span class="op">{</span> <span class="at">alert</span>(<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'New simple notification: '</span></span> <span class="op">+</span> <span class="va">userNotification</span>.<span class="va">notification</span>.<span class="va">data</span>.<span class="at">message</span>)<span class="op">;</span> <span class="op">}</span> <span class="op">}</span>)<span class="op">;</span></code></code></pre>
   </div> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">要处理通知数据，我们应该检查该数据类型。这个例子简单地从通知数据中获得信息。对于本地化的信息（LocalizableMessageNotificationData），我们要本地化该信息并替换参数。对于简单的信息（MessageNotificationData），我们直接获得该信息。当然，在一个真实项目中，我们不使用alert函数。我们可以使用<code style="line-height:1.8;vertical-align:middle;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);">abp.notify</code>api来展示漂亮的UI通知。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">如果你要实现这么上面的逻辑，那么有一种更简单且可伸缩的方式。当接收到一个push通知时，你可以只使用一句代码来显示UI通知：</p> 
   <div class="sourceCode" style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <pre><code class="language-javascript"><code class="sourceCode javascript hljs" style="line-height:1.5;vertical-align:middle;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);color:rgb(0,0,0);background:rgb(255,255,255);"><span class="va">abp</span>.<span class="va">event</span>.<span class="at">on</span>(<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'abp.notifications.received'</span></span><span class="op">,</span> <span class="kw"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span></span></span><span class="hljs-function"> (<span class="hljs-params">userNotification</span>) </span><span class="op">{</span> <span class="va">abp</span>.<span class="va">notifications</span>.<span class="at">showUiNotifyForUserNotification</span>(userNotification)<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></code></code></pre>
   </div> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">这句代码会展示一个UI通知如下所示（上面System.LowDisk通知的例子）：</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><img src="https://dn-coding-net-production-pp.qbox.me/11f2d44b-fa5d-456f-8512-25a714df7c31.png" alt="图片" style="border:0px;"></p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">对于内置的通知数据类型（LocalizableMessageNotificationData和 MessageNotificationData）是有效的。如果你有自定义的通知数据类型，那么你应该注册数据格式化器，如下所示：</p> 
   <div class="sourceCode" style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">
    <pre><code class="language-javascript"><code class="sourceCode javascript hljs" style="line-height:1.5;vertical-align:middle;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);color:rgb(0,0,0);background:rgb(255,255,255);"> <span class="va">abp</span>.<span class="va">notifications</span>.<span class="at">messageFormatters</span>[<span class="st"><span class="hljs-string" style="color:rgb(163,21,21);">'MyProject.MyNotificationDataType'</span></span>] <span class="op">=</span> <span class="kw"><span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">function</span></span></span><span class="hljs-function">(<span class="hljs-params">userNotification</span>) </span><span class="op">{</span> <span class="cf"><span class="hljs-keyword" style="color:rgb(0,0,255);">return</span></span> ...<span class="op">;</span> <span class="co"><span class="hljs-comment" style="color:#008000;">//format and return message here</span></span> <span class="op">};</span></code></code></pre>
   </div> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">这样，<strong>showUiNotifyForUserNotification</strong>就可以对你的数据类型创建要显示的信息了。如果你只需要格式化信息，那么你可以直接使用&nbsp;<strong>abp.notifications.getFormattedMessageFromUserNotification(userNotification)</strong>，它内部还是使用了showUiNotifyForUserNotification。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">当接收到一个push通知时，启动模板包含了展示UI通知的代码。</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">通知存储<a name="store" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">通知系统使用了<strong>INotificationStore</strong>来持久化通知。为了使通知系统合适地工作，应该实现这个接口。你可以自己实现或者使用module-zero（它已经实现了该接口）。</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(111,168,51);border-left-width:13px;border-left-style:solid;border-left-color:rgb(111,168,51);font-family:'Microsoft Yahei', Simsun, Arial;">通知定义<a name="definition" style="color:rgb(224,130,131);"></a> </h3> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">在使用之前你不必定义一个通知。你无需定义任何类型的<strong>通知名</strong>就可以使用它们。但是，定义通知名可能会给你带来额外的好处。比如，你以后要研究应用程序中所有的通知，在这种情况下，我们可以给我们的模块定义一个<strong>通知提供器</strong>（notification provider ），如下所示：</p> 
   <pre class="c#"><code class="hljs cs" style="vertical-align:middle;color:rgb(0,0,0);line-height:1.5;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">class</span> <span class="hljs-title" style="color:rgb(163,21,21);">MyAppNotificationProvider</span> : <span class="hljs-title" style="color:rgb(163,21,21);">NotificationProvider</span>
{
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">override</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">void</span> <span class="hljs-title" style="color:rgb(163,21,21);">SetNotifications</span>(<span class="hljs-params">INotificationDefinitionContext context</span>) </span>{
        context.Manager.Add(
            <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> NotificationDefinition(
                <span class="hljs-string" style="color:rgb(163,21,21);">"App.NewUserRegistered"</span>,
                displayName: <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> LocalizableString(<span class="hljs-string" style="color:rgb(163,21,21);">"NewUserRegisteredNotificationDefinition"</span>, <span class="hljs-string" style="color:rgb(163,21,21);">"MyLocalizationSourceName"</span>),
                permissionDependency: <span class="hljs-keyword" style="color:rgb(0,0,255);">new</span> SimplePermissionDependency(<span class="hljs-string" style="color:rgb(163,21,21);">"App.Pages.UserManagement"</span>)
                )
            );
    }
}
</code></pre> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><strong>"App.NewUserRegistered"</strong>是该通知的唯一名称。我们定义了一个本地的&nbsp;<strong>displayName</strong>（然后当在UI上订阅了该通知时，我们可以显示该通知）。最后，我们声明了只有拥有了<strong>"App.Pages.UserManagement"</strong>权限的用户才可以使用该通知。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">也有一些其他的参数，你可以在代码中研究。对于一个通知定义，只有通知名称是<strong>必须</strong>的。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">当定义了这么一个通知提供器之后，我们应该在模块的PreInitialize事件中进行注册，如下所示：</p> 
   <pre class="c#"><code class="hljs cs" style="vertical-align:middle;color:rgb(0,0,0);line-height:1.5;font-family:'Courier New', sans-serif;font-size:12px;border:1px solid rgb(204,204,204);">
<span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">class</span> <span class="hljs-title" style="color:rgb(163,21,21);">AbpZeroTemplateCoreModule</span> : <span class="hljs-title" style="color:rgb(163,21,21);">AbpModule</span>
{
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(0,0,255);">public</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">override</span> <span class="hljs-keyword" style="color:rgb(0,0,255);">void</span> <span class="hljs-title" style="color:rgb(163,21,21);">PreInitialize</span>(<span class="hljs-params"></span>) </span>{
        Configuration.Notifications.Providers.Add&lt;MyAppNotificationProvider&gt;();
    }

    <span class="hljs-comment" style="color:#008000;">//...</span>
}
</code></pre> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;">最后，要获得通知定义，在应用程序中注入并使用<strong>INotificationDefinitionManager</strong>。</p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><br></p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><br></p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><br></p> 
   <p style="color:rgb(73,73,73);font-family:'Microsoft Yahei', Simsun, Arial;font-size:15px;line-height:25px;"><br></p> 
   <p><font color="#494949"><span style="font-size:15px;line-height:25px;">本文转自tkbSimplest博客园博客，原文链接：http://www.cnblogs.com/farb/p/ABPNotificationSystem.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
