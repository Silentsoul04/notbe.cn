<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>设计模式系列-享元模式 « NotBeCN</title>
  <meta name="description" content="             一、上篇回顾         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过上篇的讲述，我们知道装饰模式，特别适合对某个类型的对象，动态的增加新的职责，应用程序就像使用原来的对象一样使用对象新增的装饰     后的功能，装 饰模式就好像是穿了一层层的外壳，这样的方式避...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/26/weixin_34075551_90135372.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">设计模式系列-享元模式</h1>
    <p class="post-meta">Dec 26, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">一、上篇回顾</h3> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过上篇的讲述，我们知道装饰模式，特别适合对某个类型的对象，动态的增加新的职责，应用程序就像使用原来的对象一样使用对象新增的装饰</p> 
    <p>后的功能，装 饰模式就好像是穿了一层层的外壳，这样的方式避免了通过继承来为类型添加新的职责的形式可取，通过继承的方式容易造成子类的膨</p> 
    <p>胀，但是当装饰类太多的时 候，也是个难以维护的问题，至少是在装饰对象的时候，我们可能需要多步操作来完成对象的装饰，这时候我们可以同上面</p> 
    <p>提出的改进的方案，来完成自动配置装饰 模式，记录操作模式的状态，可以进行有效的回滚操作，以完成撤销操作。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我们先来回顾下装饰模式的使用场景：</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、当我们需要为某个现有的对象，动态的增加一个新的功能或职责时，可以考虑使用装饰模式。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、适应于某个对象的职责经常发生变化或者经常需要动态的增加职责，避免因为这种为了适应这样的变化，而增加继承子类扩展的方式，因为</p> 
    <p>这种方式为 造成，子类膨胀的速度过快，难以控制。</p> 
   </blockquote> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">二、摘要</h3> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>&nbsp;&nbsp;&nbsp; 本篇我们将会讲述结构性模式中的另外一个非常有用的模式-享元模式，享元模式的特点是，复用我们内存中已存在的对象，降低系统创建对象实例</p> 
    <p>的性能消耗。在.NET下的值类型和引用类型的内存分配机制，我这里就不做详细的讲解了，包括引用类型与值类型之间的装箱和拆箱的操作，这个具体</p> 
    <p>的可以参考园子里面的关于这方面的文章的讨论。</p> 
    <p>&nbsp;&nbsp;&nbsp; 我们来给出个简单的享元模式的应用前后的对比图，大概我们就知道享元模式的重要作用了。</p> 
    <p>&nbsp;&nbsp;&nbsp; 我们这里以绘制一个有样式的字体来说明吧，有的时候我们想绘制一个纯色的文字，比如红色，那么我们可能需要创建很多的实例，通常来说，这些</p> 
    <p>实例的差别不大，这个时候，我们可以考虑复用其中创建的某个实例，而不用去new这么多相同的对象，来完成这样的工作。我们下面以这个例子来说</p> 
    <p>明，使用享元模式的前后对比的情况。</p> 
    <p>&nbsp;&nbsp;&nbsp; 使用享元模式前：</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121509203060.png" rel="nofollow" style="color:rgb(0,0,0);border-bottom-width:1px;border-bottom-style:dotted;border-bottom-color:rgb(51,51,51);"><img title="image" src="https://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121509406552.png" alt="image" width="403" height="395" style="border:0px;"></a></p> 
    <p>&nbsp;&nbsp;&nbsp; 使用享元模式后：</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121509458151.png" rel="nofollow" style="color:rgb(0,0,0);border-bottom-width:1px;border-bottom-style:dotted;border-bottom-color:rgb(51,51,51);"><img title="image" src="https://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121509573831.png" alt="image" width="400" height="421" style="border:0px;"></a></p> 
    <p>&nbsp;&nbsp;&nbsp; 通过上图我们可以大概的看出享元模式的目的是什么，本篇将会从以下几点出发，讲述享元模式的应用。</p> 
    <p>&nbsp;&nbsp;&nbsp; 1、享元模式的特点和场景。</p> 
    <p>&nbsp;&nbsp;&nbsp; 2、享元模式的经典实现。</p> 
    <p>&nbsp;&nbsp;&nbsp; 3、享元模式的其他方案。</p> 
    <p>&nbsp;&nbsp;&nbsp; 4、享元模式小结。</p> 
    <p>下面我们来看下享元模式的类图吧：</p> 
    <p><img src="http://zddava.javaeye.com/upload/attachment/81056/41e8c1f2-df1d-3e27-a3c5-4ac0c9974bdd.jpg" alt="" width="614" height="379" style="border:0px;"></p> 
   </blockquote> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">三、本文大纲</h3> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a、上篇回顾。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b、摘要。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c、本文大纲。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d、享元模式的特点及使用场景。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e、享元模式的经典实现。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; f、享元模式的其他方案。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g、享元模式使用总结。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; h、系列进度。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i、下篇预告。</p> 
   </blockquote> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">四、享元模式的特点及使用场景</h3> 
   <h4 style="color:rgb(51,51,51);font-size:14px;font-family:Helvetica, Verdana, Arial, sans-serif;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.1、享元模式的特点</h4> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 享元模式的意图是通过共享有效支持大量细粒度的对象，来提供应用程序的性能，节省系统中重复创建对象实例的性能消耗，这个怎么理解呢？其实就是以下几点的含义：</p> 
    <p>1、当我们系统中某个对象类型的实例较多的情况。</p> 
    <p>2、并且要求这些实例进行分类后，发现真正有区别的分类很少的情况。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 例如我们的生活中很多的场景，我们在使用拼音输入的法的时候，如果说我们每个字都是new一个对象实例的操作的话，那么内存中的实例就太可</p> 
    <p>怕，这个时候，我们是不是可以考虑将这些重复的字体在内存中只是创建一次，而是通过复用对象的形式，来组织一些可能有多个字符重复的内容呢？</p> 
    <p>也许这是一个不错的主意，我们来看看这个示例的过程吧。</p> 
    <p><a href="http://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121510597227.png" rel="nofollow" style="color:rgb(0,0,0);border-bottom-width:1px;border-bottom-style:dotted;border-bottom-color:rgb(51,51,51);"><img title="image" src="https://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121512419212.png" alt="image" width="569" height="477" style="border:0px;"></a></p> 
   </blockquote> 
   <h4 style="color:rgb(51,51,51);font-size:14px;font-family:Helvetica, Verdana, Arial, sans-serif;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.2、享元模式的使用场景</h4> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、当我们发现某个类型的对象有大量的实例时，我们是否可以对这些实例进行分类，经过分类后，我们发现只有很少的类别的情况下。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、我们发现通过使用享元模式后能够提高系统的性能和不会带来更多的复杂度时。</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 享元模式一般是给出本地内存资源节省的一个方案，并不适合互联网上的分布式应用的情况，不过享元模式对于排他性的要求资源的控制，是个不</p> 
    <p>错的选择的。</p> 
   </blockquote> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">五、享元模式的经典实现</h3> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我们下面来根据上面的我们对输入法中的字体来进行分析，给出相关的示例代码：</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字体类型的基类：</p> 
    <p>&nbsp;&nbsp;&nbsp; public class FontBase&nbsp;<br> &nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private List&lt;string&gt; font = new List&lt;string&gt;();</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private string fontName;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public FontBase(string name)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.fontName = name;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public FontBase AddFont(string font)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.font.Add(font);&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return this;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public virtual string FontName&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; get&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return this.fontName;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br> &nbsp;&nbsp;&nbsp; }</p> 
    <p>&nbsp;&nbsp;&nbsp; 具体的文字类型类：</p> 
    <p>&nbsp;&nbsp;&nbsp; public class ChineseFont : FontBase&nbsp;<br> &nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public ChineseFont()&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : base("ChineseFont")&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; base.AddFont("ChineseFont");&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br> &nbsp;&nbsp;&nbsp; }</p> 
    <p>&nbsp;&nbsp;&nbsp; public class EnglishFont : FontBase&nbsp;<br> &nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public EnglishFont()&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : base("EnglishFont")&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; base.AddFont("EnglishFont");&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br> &nbsp;&nbsp;&nbsp; }</p> 
    <p>具体的创建工厂类：</p> 
    <p>&nbsp;&nbsp;&nbsp; public class FontFactory&nbsp;<br> &nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private&nbsp; Dictionary&lt;string, FontBase&gt; fonts = new Dictionary&lt;string, FontBase&gt;();</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public&nbsp; FontBase Create(string name)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FontBase fontBase = fonts[name];&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (fontBase != null)&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return fontBase;</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fontBase = (FontBase)Activator.CreateInstance(Type.GetType(name));</p> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return fontBase;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br> &nbsp;&nbsp;&nbsp; }</p> 
    <p>通过上面实例的讲解我们知道，我们通过缓存对象类型的形式来控制对象实例的创建过程，经典的模式中没有体现共享的状态，比如说我们在外部可能对于</p> 
    <p>享元对象来说是不共享的，内部是共享的。下面我们来看看享元模式的变种吧。</p> 
   </blockquote> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">六、享元模式的其他方案</h3> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对于上面的经典方案带来的问题，可能我们需要更好的考虑，我们如何应对多种对象类型，我们如何管理并共享这些对象实例，这些都是我们需要考虑的问</p> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">题，经过上面的思考，我们这里可以参考我们平时开发的ORM中的连接池的思路，我们这里对享元模式提供-对象池的技术。</p> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我们在配置文件中控制对象池中的某个类型对象实例的数量，对象的生命周期的时间，默认初始化多少个对象实例，以提前准备，为后续的使用提供服务。</p> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 我们这里可以设计出这个专门的对象池，我们可以提供如下的功能：</p> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1、根据对象类型动态的创建对象实例。</p> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2、根据对象池中的配置，在对象池中找到空闲的实体提供给程序调用，减少创建对象的次数。</p> 
   <p style="font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:21px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3、我们需要设计每个类型的缓冲池，通过把对象进行缓存，提供性能。如果对象池中的对象长期不会调用，那么我们会提供一个销毁对象的机制。</p> 
   <blockquote style="border:2px solid rgb(239,239,239);line-height:1.6em;color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;background:rgb(255,255,255) none;"> 
    <p>我们来看看对象池的设计结构吧：</p> 
    <p><a href="http://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121512559711.png" rel="nofollow" style="color:rgb(0,0,0);border-bottom-width:1px;border-bottom-style:dotted;border-bottom-color:rgb(51,51,51);"><img title="image" src="https://images.cnblogs.com/cnblogs_com/hegezhou_hot/201012/201012121513082469.png" alt="image" width="430" height="370" style="border:0px;"></a></p> 
    <p>通过上面的几个组件，来协调完成对象池的工作。</p> 
    <p>这里给出相关的示例代码：</p> 
    <p>我们先给出配置文件配置缓冲池的配置信息：</p> 
    <p>&nbsp;</p> 
    <div class="cnblogs_Highlighter"> 
     <div> 
      <div class="syntaxhighlighter html" style="width:604.375px;font-size:1em;"> 
       <table border="0" style="border-collapse:collapse;border-spacing:0px;border:1px solid rgb(192,192,192);width:604px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;font-size:12px;background:none;">
        <tbody style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
         <tr style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
          <td class="gutter" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;width:35px;color:rgb(175,175,175);background:none;"> 
           <div class="line number1 index0 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            1
           </div> 
           <div class="line number2 index1 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            2
           </div> 
           <div class="line number3 index2 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            3
           </div> 
           <div class="line number4 index3 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            4
           </div> 
           <div class="line number5 index4 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            5
           </div> 
           <div class="line number6 index5 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            6
           </div> 
           <div class="line number7 index6 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            7
           </div> 
           <div class="line number8 index7 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            8
           </div> 
           <div class="line number9 index8 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            9
           </div> 
           <div class="line number10 index9 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            10
           </div> 
           <div class="line number11 index10 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            11
           </div> 
           <div class="line number12 index11 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            12
           </div> 
           <div class="line number13 index12 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            13
           </div> 
           <div class="line number14 index13 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            14
           </div> 
           <div class="line number15 index14 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            15
           </div> 
           <div class="line number16 index15 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            16
           </div> 
           <div class="line number17 index16 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            17
           </div> </td> 
          <td class="code" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;background:none;"> 
           <div style="border:0px;line-height:2em;vertical-align:baseline;background:none;"> 
            <div class="line number1 index0 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;?</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">xml</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">version="1.0" encoding="utf-8" ?&gt;</code> 
            </div> 
            <div class="line number2 index1 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">Cache</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
            <div class="line number3 index2 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">ObjectSection</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type=""/&gt;</code> 
            </div> 
            <div class="line number4 index3 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">ObjectCache</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
            <div class="line number5 index4 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number6 index5 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number7 index6 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number8 index7 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number9 index8 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number10 index9 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number11 index10 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number12 index11 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number13 index12 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">object</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">name="" type="" max="" timeout="" /&gt;</code> 
            </div> 
            <div class="line number14 index13 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;/</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">ObjectCache</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
            <div class="line number15 index14 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;/</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">Cache</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
            <div class="line number16 index15 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;">
             &nbsp;
            </div> 
            <div class="line number17 index16 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">我们来看看具体的工厂类：</code>
            </div> 
           </div> </td> 
         </tr>
        </tbody>
       </table>
      </div> 
     </div> 
     <div> 
      <div class="syntaxhighlighter html" style="width:604.375px;font-size:1em;"> 
       <table border="0" style="border-collapse:collapse;border-spacing:0px;border:1px solid rgb(192,192,192);width:604px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;font-size:12px;background:none;">
        <tbody style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
         <tr style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
          <td class="gutter" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;width:35px;color:rgb(175,175,175);background:none;"> 
           <div class="line number1 index0 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            1
           </div> 
           <div class="line number2 index1 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            2
           </div> 
           <div class="line number3 index2 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            3
           </div> 
           <div class="line number4 index3 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            4
           </div> 
           <div class="line number5 index4 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            5
           </div> 
           <div class="line number6 index5 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            6
           </div> 
           <div class="line number7 index6 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            7
           </div> 
           <div class="line number8 index7 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            8
           </div> 
           <div class="line number9 index8 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            9
           </div> </td> 
          <td class="code" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;background:none;"> 
           <div style="border:0px;line-height:2em;vertical-align:baseline;background:none;"> 
            <div class="line number1 index0 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">div</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">class="cnblogs_Highlighter"&gt;&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">pre</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">class="brush:html"&gt;&nbsp;&nbsp;&nbsp; public class ObjectFactory</code> 
            </div> 
            <div class="line number2 index1 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">{</code> 
            </div> 
            <div class="line number3 index2 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">public static T Build&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">T</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;() where T:class,new()</code> 
            </div> 
            <div class="line number4 index3 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">{</code> 
            </div> 
            <div class="line number5 index4 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">return new T();</code> 
            </div> 
            <div class="line number6 index5 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">}</code> 
            </div> 
            <div class="line number7 index6 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">}</code> 
            </div> 
            <div class="line number8 index7 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;/</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">pre</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
            <div class="line number9 index8 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;/</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">div</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
           </div> </td> 
         </tr>
        </tbody>
       </table>
      </div> 
     </div> 
     <div> 
      <div class="syntaxhighlighter html" style="width:604.375px;font-size:1em;"> 
       <table border="0" style="border-collapse:collapse;border-spacing:0px;border:1px solid rgb(192,192,192);width:604px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;font-size:12px;background:none;">
        <tbody style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
         <tr style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
          <td class="gutter" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;width:35px;color:rgb(175,175,175);background:none;"> 
           <div class="line number1 index0 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            1
           </div> </td> 
          <td class="code" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;background:none;"> 
           <div style="border:0px;line-height:2em;vertical-align:baseline;background:none;"> 
            <div class="line number1 index0 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">我们来看看具体的缓存类：</code>
            </div> 
           </div> </td> 
         </tr>
        </tbody>
       </table>
      </div> 
     </div> 
     <div> 
      <div class="syntaxhighlighter html" style="width:604.375px;font-size:1em;"> 
       <table border="0" style="border-collapse:collapse;border-spacing:0px;border:1px solid rgb(192,192,192);width:604px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;font-size:12px;background:none;">
        <tbody style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
         <tr style="border:0px;line-height:2em;vertical-align:baseline;background:none;">
          <td class="gutter" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;width:35px;color:rgb(175,175,175);background:none;"> 
           <div class="line number1 index0 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            1
           </div> 
           <div class="line number2 index1 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            2
           </div> 
           <div class="line number3 index2 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            3
           </div> 
           <div class="line number4 index3 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            4
           </div> 
           <div class="line number5 index4 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            5
           </div> 
           <div class="line number6 index5 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            6
           </div> 
           <div class="line number7 index6 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            7
           </div> 
           <div class="line number8 index7 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            8
           </div> 
           <div class="line number9 index8 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            9
           </div> 
           <div class="line number10 index9 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            10
           </div> 
           <div class="line number11 index10 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            11
           </div> 
           <div class="line number12 index11 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            12
           </div> 
           <div class="line number13 index12 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            13
           </div> 
           <div class="line number14 index13 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            14
           </div> 
           <div class="line number15 index14 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            15
           </div> 
           <div class="line number16 index15 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            16
           </div> 
           <div class="line number17 index16 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            17
           </div> 
           <div class="line number18 index17 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            18
           </div> 
           <div class="line number19 index18 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            19
           </div> 
           <div class="line number20 index19 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            20
           </div> 
           <div class="line number21 index20 alt2" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
            21
           </div> 
           <div class="line number22 index21 alt1" style="border-width:0px medium 0px 0px;border-right-style:none;line-height:1.8em;vertical-align:baseline;background-image:none;">
            22
           </div> </td> 
          <td class="code" style="border:1px solid rgb(192,192,192);border-collapse:collapse;line-height:2em;vertical-align:baseline;background:none;"> 
           <div style="border:0px;line-height:2em;vertical-align:baseline;background:none;"> 
            <div class="line number1 index0 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">﻿&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">div</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">class="cnblogs_Highlighter"&gt;&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">pre</code>&nbsp;
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">class="brush:html"&gt;&nbsp;&nbsp;&nbsp; public class ObjectCache </code> 
            </div> 
            <div class="line number2 index1 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">{</code> 
            </div> 
            <div class="line number3 index2 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">private static Dictionary&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">Type</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">, object&gt; cache =null;</code> 
            </div> 
            <div class="line number4 index3 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;">
             &nbsp;
            </div> 
            <div class="line number5 index4 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">public static ObjectCache()</code> 
            </div> 
            <div class="line number6 index5 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">{</code> 
            </div> 
            <div class="line number7 index6 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">cache = new Dictionary&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">Type</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">, object&gt;();</code> 
            </div> 
            <div class="line number8 index7 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">}</code> 
            </div> 
            <div class="line number9 index8 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;">
             &nbsp;
            </div> 
            <div class="line number10 index9 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">public void Cache&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">T</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;(T item)</code> 
            </div> 
            <div class="line number11 index10 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">{</code> 
            </div> 
            <div class="line number12 index11 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">cache.Add(typeof(T),item);</code> 
            </div> 
            <div class="line number13 index12 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">}</code> 
            </div> 
            <div class="line number14 index13 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;">
             &nbsp;
            </div> 
            <div class="line number15 index14 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">public void GetObjectFromCache&lt;</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">T</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;( out T item)</code> 
            </div> 
            <div class="line number16 index15 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">{</code> 
            </div> 
            <div class="line number17 index16 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">if (cache[typeof(T)] != null)</code> 
            </div> 
            <div class="line number18 index17 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">item = cache[typeof(T)];</code> 
            </div> 
            <div class="line number19 index18 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">}</code> 
            </div> 
            <div class="line number20 index19 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html spaces" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;background:none;">&nbsp;&nbsp;&nbsp;&nbsp;</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">}</code> 
            </div> 
            <div class="line number21 index20 alt2" style="border:0px;line-height:1.8em;vertical-align:baseline;background:rgb(248,248,248) none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;/</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">pre</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
            <div class="line number22 index21 alt1" style="border:0px;line-height:1.8em;vertical-align:baseline;background-image:none;"> 
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&lt;/</code>
             <code class="html keyword" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,255);background:none;">div</code>
             <code class="html plain" style="border:0px;line-height:2em;vertical-align:baseline;font-family:'Courier New', Consolas, 'Bitstream Vera Sans Mono', Courier, monospace;color:rgb(0,0,0);background:none;">&gt;</code> 
            </div> 
           </div> </td> 
         </tr>
        </tbody>
       </table>
      </div> 
     </div> 
    </div> 
   </blockquote> 
   <h3 style="font-size:16px;line-height:1.5;font-family:Helvetica, Verdana, Arial, sans-serif;">七、享元模式使用总结</h3> 
   <blockquote style="border:2px solid rgb(239,239,239);background:rgb(255,255,255) none;"> 
    <p style="color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:1.6em;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 享元模式的主旨意在通过共享对象节省总体资源，不过共享对象将导致资源访问上的一些问题，包括对象实例的销毁，还包括线程间的共享和线程</p> 
    <p style="color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:1.6em;">内的共享是不同的，我们知道，一般线程退出的时候，会自动释放线程内部的申请的资源，.NET会自动通过GC来回收，但是对于线程间共享的对象也</p> 
    <p style="color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:1.6em;">许不会自动回收，这些内容需要宿主进程来进行回收，当然可能这些我们也可以通过对象池来完成这样的回收机制。&nbsp; 或者说也可以参考操作系统中的</p> 
    <p style="color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:1.6em;">队列的情况，通过回调函数来通知进行对象的回收等。我们在对于项目中需要大量实例对象的创建工作的时候，我们就考虑一下是不是需要享元模式的</p> 
    <p style="color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:1.6em;">应用了，希望大家能在项目中找到合适的切入点，使用合适的模式来提高程序的适应性和健壮性。由于本人水平有限，不足或者错误之处，还请大家批</p> 
    <p style="color:rgb(51,51,51);font-family:Helvetica, Verdana, Arial, sans-serif;font-size:14px;line-height:1.6em;">评指出。</p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">八、系列进度</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">创建型</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 1、系统架构技能之设计模式-单件模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 2、系统架构技能之设计模式-工厂模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 3、系统架构技能之设计模式-抽象工厂模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 4、系统架构技能之设计模式-创建者模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 5、系统架构技能之设计模式-原型模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">结构型</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 1、系统架构技能之设计模式-组合模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 2、系统架构技能之设计模式-外观模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 3、系统架构技能之设计模式-适配器模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 4、系统架构技能之设计模式-桥模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 5、系统架构技能之设计模式-装饰模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 6、系统架构技能之设计模式-享元模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 7、系统架构技能之设计模式-代理模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">行为型</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 1、系统架构技能之设计模式-命令模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 2、系统架构技能之设计模式-观察者模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 3、系统架构技能之设计模式-策略模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 4、系统架构技能之设计模式-职责模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 5、系统架构技能之设计模式-模板模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 6、系统架构技能之设计模式-中介者模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 7、系统架构技能之设计模式-解释器模式</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">九、下篇预告</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">&nbsp; &nbsp; &nbsp; &nbsp; 下篇我们将开始介绍结构性模式中的-代理模式。代理模式就是为了将某些对象的复杂性隐藏起来，使我们使用复杂对象的代理，就像使用简单对象一样，下篇我</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">们将会从几个方面讲解代理模式的应用，希望大家多多提出不同的已经和建议。</span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;"><br></span></font></p> 
    <p><font color="#333333"><span style="font-size:14px;line-height:22.4px;">本文转自何戈洲博客园博客，原文链接：http://www.cnblogs.com/hegezhou_hot/archive/2010/12/12/1903728.html，如需转载请自行联系原作者</span><br></font></p> 
   </blockquote> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
