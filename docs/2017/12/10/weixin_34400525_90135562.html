<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>【Xamarin.Forms】App类——默认App类的功能，可以是C＃或XAML « NotBeCN</title>
  <meta name="description" content="              应用程序基类提供以下功能，这些功能在您的项目默认应用程序子类中公开：           一个MainPage属性，它是为应用程序设置初始页面的地方。       持久性属性字典，用于跨生命周期状态更改存储简单值。       包含对当前应用程序对象的引用的静态Current属性。  ...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/10/weixin_34400525_90135562.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">【Xamarin.Forms】App类——默认App类的功能，可以是C＃或XAML</h1>
    <p class="post-meta">Dec 10, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p> <span><span>应用程序基类提供以下功能，这些功能在您的项目默认应用程序子类中公开：</span><br></span> </p> 
   <ul>
    <li> <span> <span>一个MainPage属性，它是为应用程序设置初始页面的地方。</span></span> </li> 
    <li> <span><span>持久性属性字典，用于跨生命周期状态更改存储简单值。</span></span> </li> 
    <li> <span><span>包含对当前应用程序对象的引用的静态Current属性。</span></span> </li> 
   </ul>
   <p> <span><span>还暴露生命周期方法，如OnStart，OnSleep和OnResume以及模态导航事件。</span><br><span>根据您选择的模板，可以通过以下两种方式之一来定义App类：</span></span> </p> 
   <p> </p> 
   <ul>
    <li> <strong>C#</strong>，或者 </li> 
    <li> <strong>XAML &amp; C#</strong> </li> 
   </ul>
   <p> <span><span>要使用XAML创建应用程序类，默认应用程序类必须替换为XAML应用程序类和关联的代码隐藏，如以下代码示例所示：</span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000CC;">Application xmlns<span style="color:#0000CC;">=</span><span style="color:#FF00FF;">"http://xamarin.com/schemas/2014/forms"</span> xmlns:x<span style="color:#0000CC;">=</span><span style="color:#FF00FF;">"http://schemas.microsoft.com/winfx/2009/xaml"</span> x:Class<span style="color:#0000CC;">=</span><span style="color:#FF00FF;">"Photos.App"</span><span style="color:#0000CC;">&gt;</span><br></span> </span> </li> 
      <li> <br></li> 
      <li> <span style="color:#0000CC;"><span style="color:#0000CC;">/</span>Application<span style="color:#0000CC;">&gt;</span> </span> </li> 
     </ol>
    </div> 
   </div> 
   <span class="short_text"><span>下面的代码示例显示了相关的代码隐藏：</span></span>
   <br>
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">public</span> partial <span style="color:#0000FF;">class</span> App <span style="color:#0000CC;">:</span> <span style="color:#FF0000;">Application</span><br></span> </li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> App <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InitializeComponent <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MainPage <span style="color:#0000CC;">=</span> <span style="color:#0000FF;">new</span> HomePage <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><br></li> 
      <li> <span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <span><span>除了设置MainPage属性外，代码隐藏还必须调用InitializeComponent方法以加载和分析关联的XAML。</span></span> 
   <p> <br></p> 
   <p> <a href="https://developer.xamarin.com/api/property/Xamarin.Forms.Application.MainPage/" rel="nofollow"></a> </p> 
   <a name="MainPage_Property"></a> 
   <h1> MainPage属性<br></h1> 
   <p> <span><span>Application类的MainPage属性设置应用程序的根页面。</span><br><span>例如，您可以在App类中创建逻辑，以根据用户是否登录来显示不同的页面。</span><br><span>MainPage属性应该在App构造函数中设置，<br></span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">public</span> <span style="color:#0000FF;">class</span> App <span style="color:#0000CC;">:</span> Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span><span style="color:#FF0000;">Application</span><br></span> </li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> App <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MainPage <span style="color:#0000CC;">=</span> <span style="color:#0000FF;">new</span> ContentPage <span style="color:#0000CC;">{</span> Title <span style="color:#0000CC;">=</span> <span style="color:#FF00FF;">"App Lifecycle Sample"</span> <span style="color:#0000CC;">}</span><span style="color:#0000CC;">;</span> <span style="color:#FF9900;">// your page here</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> <span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <br>
   <p> <br></p> 
   <a name="Properties_Dictionary"></a> 
   <h1> 属性字典 </h1> 
   <p> <span><span>Application子类具有一个静态属性字典，可用于存储数据，特别适用于OnStart，OnSleep和OnResume方法。</span> <span>这可以使用Application.Current.Properties从Xamarin.Forms代码中的任何地方访问。</span><br><span>属性字典使用字符串键并存储对象值。</span><br><span>例如，你可以在你的代码的任何地方设置一个持久的“id”属性（当一个项目被选中，在一个页面的OnDisappearing方法或者OnSleep方法中），像这样：<br></span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#FF0000;">Application</span><span style="color:#0000CC;">.</span>Current<span style="color:#0000CC;">.</span>Properties <span style="color:#0000CC;">[</span><span style="color:#FF00FF;">"id"</span><span style="color:#0000CC;">]</span> <span style="color:#0000CC;">=</span> someClass<span style="color:#0000CC;">.</span>ID<span style="color:#0000CC;">;</span></span> </li> 
     </ol>
    </div> 
   </div> 
   <span><span>在OnStart或OnResume方法中，您可以使用此值以某种方式重新创建用户的体验。</span> <span>属性字典存储对象，所以在使用它之前需要转换它的值。<br></span></span>
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">if</span> <span style="color:#0000CC;">(</span><span style="color:#FF0000;">Application</span><span style="color:#0000CC;">.</span>Current<span style="color:#0000CC;">.</span>Properties<span style="color:#0000CC;">.</span>ContainsKey<span style="color:#0000CC;">(</span><span style="color:#FF00FF;">"id"</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">)</span><br></span> </li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;var id <span style="color:#0000CC;">=</span> <span style="color:#FF0000;">Application</span><span style="color:#0000CC;">.</span>Current<span style="color:#0000CC;">.</span>Properties <span style="color:#0000CC;">[</span><span style="color:#FF00FF;">"id"</span><span style="color:#0000CC;">]</span> <span style="color:#0000FF;">as</span> <span style="color:#0000FF;">int</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF9900;">// do something with id</span><br></li> 
      <li> <span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <span class="short_text"><span>在访问密钥之前，请始终检查密钥是否存在以防意外错误。</span></span> 
   <p> <br></p> 
   <p> <br></p> 
   <blockquote> 
    <p> <strong><span><span>注意：</span></span></strong><span><span>“属性”字典只能序列化原始类型进行存储。</span> <span>试图存储其他类型（如List ）可能会失败。</span></span> </p> 
   </blockquote> 
   <a name="Persistence"></a> 
   <h2> 持久化 </h2> 
   <p> <span><span>属性字典自动保存到设备。</span> <span>添加到字典中的数据将在应用程序从后台返回或重新启动后可用。</span><br><span>Xamarin.Forms 1.4在Application类中引入了一个额外的方法--SavePropertiesAsync（） - 可以调用它来主动保留属性字典。</span> <span>这是为了让您在重要更新之后保存属性，而不是由于崩溃或被操作系统杀死而导致无法序列化。</span><br><span>您可以在“使用Xamarin.Forms创建移动应用程序”第6,15和20章以及相关示例中找到使用“属性”字典的参考。</span></span> </p> 
   <p> <strong></strong><a href="https://developer.xamarin.com/r/xamarin-forms/book/chapter06.pdf" rel="nofollow"></a><a href="https://developer.xamarin.com/r/xamarin-forms/book/chapter15.pdf" rel="nofollow"></a><a href="https://developer.xamarin.com/r/xamarin-forms/book/chapter20.pdf" rel="nofollow"></a><a href="https://github.com/xamarin/xamarin-forms-book-preview-2" rel="nofollow"></a> </p> 
   <a name="The_Application_Class"></a> 
   <h1> 应用程序类 </h1> 
   <p> <span class="short_text"><span>下面显示了一个完整的Application类实现供参考：</span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">public</span> <span style="color:#0000FF;">class</span> App <span style="color:#0000CC;">:</span> Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span><span style="color:#FF0000;">Application</span><br></span> </li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> App <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MainPage <span style="color:#0000CC;">=</span> <span style="color:#0000FF;">new</span> ContentPage <span style="color:#0000CC;">{</span> Title <span style="color:#0000CC;">=</span> <span style="color:#FF00FF;">"App Lifecycle Sample"</span> <span style="color:#0000CC;">}</span><span style="color:#0000CC;">;</span> <span style="color:#FF9900;">// your page here</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">protected</span> <span style="color:#0000FF;">override</span> <span style="color:#0000FF;">void</span> OnStart<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF9900;">// Handle when your app starts</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF0000;">Debug</span><span style="color:#0000CC;">.</span>WriteLine <span style="color:#0000CC;">(</span><span style="color:#FF00FF;">"OnStart"</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">protected</span> <span style="color:#0000FF;">override</span> <span style="color:#0000FF;">void</span> OnSleep<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF9900;">// Handle when your app sleeps</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF0000;">Debug</span><span style="color:#0000CC;">.</span>WriteLine <span style="color:#0000CC;">(</span><span style="color:#FF00FF;">"OnSleep"</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">protected</span> <span style="color:#0000FF;">override</span> <span style="color:#0000FF;">void</span> OnResume<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF9900;">// Handle when your app resumes</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#FF0000;">Debug</span><span style="color:#0000CC;">.</span>WriteLine <span style="color:#0000CC;">(</span><span style="color:#FF00FF;">"OnResume"</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> <span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <br>
   <span><span>然后在每个特定于平台的项目中对这个类进行实例化，并将其传递给LoadApplication方法，该方法是MainPage加载并显示给用户的地方。</span> <span>每个平台的代码显示在下面的部分。</span> <span>最新的Xamarin.Forms解决方案模板已经包含了所有为你的应用程序预配置的代码。</span></span> 
   <p> <br></p> 
   <p> </p> 
   <a name="iOS_Project"></a> 
   <h2> iOS项目 </h2> 
   <p> <span><span>iOS AppDelegate类现在从FormsApplicationDelegate继承。</span> <span>这应该：</span></span> </p> 
   <ul>
    <li> <p> <span><span>使用App类的实例调用LoadApplication。</span><br></span> </p> </li> 
    <li> <p> <span><span>总是返回base.FinishedLaunching（应用程序，选项）;。</span></span> </p> 
     <div> 
      <div class="codeheads"> 
       <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
      </div> 
      <div class="codeText"> 
       <ol>
        <li> <span style="color:#000000;"><span style="color:#0000CC;">[</span>Register <span style="color:#0000CC;">(</span><span style="color:#FF00FF;">"AppDelegate"</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">]</span><br></span> </li> 
        <li> <span style="color:#0000FF;">public</span> partial <span style="color:#0000FF;">class</span> AppDelegate <span style="color:#0000CC;">:</span><br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;global<span style="color:#0000CC;">:</span><span style="color:#0000CC;">:</span>Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span>Platform<span style="color:#0000CC;">.</span>iOS<span style="color:#0000CC;">.</span>FormsApplicationDelegate <span style="color:#FF9900;">// superclass new in 1.3</span><br></li> 
        <li> <span style="color:#0000CC;">{</span><br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> <span style="color:#0000FF;">override</span> <span style="color:#0000FF;">bool</span> FinishedLaunching <span style="color:#0000CC;">(</span>UIApplication app<span style="color:#0000CC;">,</span> NSDictionary options<span style="color:#0000CC;">)</span><br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color:#0000CC;">:</span><span style="color:#0000CC;">:</span>Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span>Init <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
        <li> <br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoadApplication <span style="color:#0000CC;">(</span><span style="color:#0000FF;">new</span> App <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span> <span style="color:#FF9900;">// method is new in 1.3</span><br></li> 
        <li> <br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">return</span> <span style="color:#0000FF;">base</span><span style="color:#0000CC;">.</span>FinishedLaunching <span style="color:#0000CC;">(</span>app<span style="color:#0000CC;">,</span> options<span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
        <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
        <li> <span style="color:#0000CC;">}</span> </li> 
       </ol>
      </div> 
     </div> <p> <br></p> </li> 
   </ul>
   <a name="Android_Project"></a> 
   <h2> Android项目t </h2> 
   <p> <span><span>Android MainActivity现在从FormsApplicationActivity继承。</span> <span>在OnCreate覆盖中，使用App类的实例调用LoadApplication方法。</span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000CC;">[</span><span style="color:#FF0000;">Activity</span> <span style="color:#0000CC;">(</span><span style="color:#FF0000;">Label</span> <span style="color:#0000CC;">=</span> <span style="color:#FF00FF;">"App Lifecycle Sample"</span><span style="color:#0000CC;">,</span> <span style="color:#FF0000;">Icon</span> <span style="color:#0000CC;">=</span> <span style="color:#FF00FF;">"@drawable/icon"</span><span style="color:#0000CC;">,</span> MainLauncher <span style="color:#0000CC;">=</span> <span style="color:#0000FF;">true</span><span style="color:#0000CC;">,</span><br></span> </li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;ConfigurationChanges <span style="color:#0000CC;">=</span> ConfigChanges<span style="color:#0000CC;">.</span>ScreenSize <span style="color:#0000CC;">|</span> ConfigChanges<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Orientation</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">]</span><br></li> 
      <li> <span style="color:#0000FF;">public</span> <span style="color:#0000FF;">class</span> MainActivity <span style="color:#0000CC;">:</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;global<span style="color:#0000CC;">:</span><span style="color:#0000CC;">:</span>Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span>Platform<span style="color:#0000CC;">.</span>Android<span style="color:#0000CC;">.</span>FormsApplicationActivity <span style="color:#FF9900;">// superclass new in 1.3</span><br></li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">protected</span> <span style="color:#0000FF;">override</span> <span style="color:#0000FF;">void</span> OnCreate <span style="color:#0000CC;">(</span>Bundle bundle<span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">base</span><span style="color:#0000CC;">.</span>OnCreate <span style="color:#0000CC;">(</span>bundle<span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color:#0000CC;">:</span><span style="color:#0000CC;">:</span>Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span>Init <span style="color:#0000CC;">(</span><span style="color:#0000FF;">this</span><span style="color:#0000CC;">,</span> bundle<span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoadApplication <span style="color:#0000CC;">(</span><span style="color:#0000FF;">new</span> App <span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span> <span style="color:#FF9900;">// method is new in 1.3</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> <span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <p> <br></p> 
   <blockquote> 
    <p> <strong><span><span>注意：</span></span></strong><span><span>有一个更新的FormsAppCompatActivity基类，可用于更好地支持Android Material Design。</span> <span>这将成为未来的默认Android模板，但您可以按照这些说明来更新您现有的Android应用程序。</span></span> </p> 
   </blockquote> 
   <a name="Windows_Phone_Project"></a> 
   <h2> Windows电话项目 </h2> 
   <p> <span><span>Windows Phone（基于Silverlight的）项目中的主页应该从FormsApplicationPage继承。</span> <span>这意味着XAML和MainPage的C＃引用FormsApplicationPage类，如图所示。</span><br><span>XAML使用自定义名称空间，以便根元素反映FormsApplicationPage类：<br></span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000CC;">winPhone:FormsApplicationPage<br></span> </span> </li> 
      <li> &nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;xmlns:winPhone<span style="color:#0000CC;">=</span><span style="color:#FF00FF;">"clr-namespace:Xamarin.Forms.Platform.WinPhone;assembly=Xamarin.Forms.Platform.WP8"</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">&gt;</span><br></li> 
      <li> <span style="color:#0000CC;"><span style="color:#0000CC;">/</span>winPhone:FormsApplicationPage<span style="color:#0000CC;">&gt;</span> </span> </li> 
     </ol>
    </div> 
   </div> 
   <br>
   <span><span>C＃继承自FormsApplicationPage类，并调用LoadApplication来创建Xamarin.Forms应用程序的一个实例。</span> <span>请注意，明确使用应用程序名称空间来限定应用程序是一种很好的做法，因为Windows Phone应用程序也具有与Xamarin.Forms无关的自己的App类。</span></span> 
   <p> <br></p> 
   <p> </p> 
   <pre><span class="syntax-container syntax-theme-base"><span class="csharp"><span class="access">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="type">MainPage</span> : </span><span class="csharp"> <span class="keyword">global</span>::<span class="type">Xamarin</span>.<span class="function">Forms</span>.<span class="function">Platform</span>.<span class="function">WinPhone</span>.<span class="function">FormsApplicationPage</span> <span class="comment">// superclass new in 1.3</span> </span><span class="csharp">{ </span><span class="csharp"> <span class="access">public</span> <span class="function">MainPage</span>() </span><span class="csharp"> { </span><span class="csharp"> <span class="function">InitializeComponent</span>(); </span><span class="csharp"> <span class="type">SupportedOrientations</span> <span class="operator">=</span> <span class="type">SupportedPageOrientation</span>.<span class="function">PortraitOrLandscape</span>; </span><span class="csharp"> </span><span class="csharp"> <span class="keyword">global</span>::<span class="type">Xamarin</span>.<span class="function">Forms</span>.<span class="function">Forms</span>.<span class="function">Init</span>(); </span><span class="csharp"> <span class="function">LoadApplication</span>(<span class="keyword">new</span> <span class="type">YOUR_APP_NAMESPACE</span>.<span class="function">App</span>()); <span class="comment">// new in 1.3, use the correct namespace</span> </span><span class="csharp"> } </span><span class="csharp"> }</span></span></pre> 
   <br>
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">public</span> partial <span style="color:#0000FF;">class</span> MainPage <span style="color:#0000CC;">:</span><br></span> </li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;global<span style="color:#0000CC;">:</span><span style="color:#0000CC;">:</span>Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span>Platform<span style="color:#0000CC;">.</span>WinPhone<span style="color:#0000CC;">.</span>FormsApplicationPage <span style="color:#FF9900;">// superclass new in 1.3</span><br></li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> MainPage<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InitializeComponent<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SupportedOrientations <span style="color:#0000CC;">=</span> SupportedPageOrientation<span style="color:#0000CC;">.</span>PortraitOrLandscape<span style="color:#0000CC;">;</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color:#0000CC;">:</span><span style="color:#0000CC;">:</span>Xamarin<span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span><span style="color:#FF0000;">Forms</span><span style="color:#0000CC;">.</span>Init<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoadApplication<span style="color:#0000CC;">(</span><span style="color:#0000FF;">new</span> YOUR_APP_NAMESPACE<span style="color:#0000CC;">.</span>App<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span> <span style="color:#FF9900;">// new in 1.3, use the correct namespace</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> &nbsp;<span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <br>
   <a name="Windows_8.1_Project"></a> 
   <h2> Windows 8.1项目 </h2> 
   <p> <span><span>Windows 8.1（基于WinRT的）项目中的主页现在应该从WindowsPage继承。</span> <span>这意味着MainPage的XAML引用WindowsPage类，如下所示：</span><br><span>XAML使用自定义名称空间，以便根元素反映FormsApplicationPage类：<br></span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000CC;">forms:WindowsPage<br></span> </span> </li> 
      <li> &nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;xmlns:forms<span style="color:#0000CC;">=</span><span style="color:#FF00FF;">"using:Xamarin.Forms.Platform.WinRT"</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">&gt;</span><br></li> 
      <li> <span style="color:#0000CC;"><span style="color:#0000CC;">/</span>forms:WindowsPage<span style="color:#0000CC;">&gt;</span> </span> </li> 
     </ol>
    </div> 
   </div> 
   <br>
   <span><span>C＃代码隐藏的构造必须调用LoadApplication来创建Xamarin.Forms应用程序的一个实例。</span> <span>请注意，明确使用应用程序名称空间来限定应用程序是一种很好的做法，因为UWP应用程序也具有与Xamarin.Forms无关的自己的App类。</span></span>
   <br>
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">public</span> partial <span style="color:#0000FF;">class</span> MainPage<br></span> </li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> MainPage<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InitializeComponent<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoadApplication<span style="color:#0000CC;">(</span><span style="color:#0000FF;">new</span> YOUR_APP_NAMESPACE<span style="color:#0000CC;">.</span>App<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> &nbsp;<span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <span class="short_text"><span>请注意Forms.Init（）必须在第65行的App.xaml.cs中调用。</span></span> 
   <p> <br></p> 
   <p> <strong></strong> </p> 
   <a name="Universal_Windows_Project_UWP_for_Windows_10"></a> 
   <h2> <span class="short_text"><span>用于Windows 10的通用Windows项目（UWP）</span></span> </h2> 
   <span><span>Xamarin.Forms中的通用Windows项目支持目前处于预览状态。</span></span>
   <span></span>
   <br>
   <span></span> 
   <p> <span><span>UWP项目中的主页面应该从WindowsPage继承。</span> <span>这意味着XAML和MainPage的C＃引用FormsApplicationPage类，如图所示。</span><br><span>XAML使用自定义名称空间，以便根元素反映FormsApplicationPage类：<br></span></span> </p> 
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000CC;">forms:WindowsPage<br></span> </span> </li> 
      <li> &nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;xmlns:forms<span style="color:#0000CC;">=</span><span style="color:#FF00FF;">"using:Xamarin.Forms.Platform.UWP"</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">.</span><span style="color:#0000CC;">&gt;</span><br></li> 
      <li> <span style="color:#0000CC;"><span style="color:#0000CC;">/</span>forms:WindowsPage<span style="color:#0000CC;">&gt;</span> </span> </li> 
     </ol>
    </div> 
   </div> 
   <span><span>C＃代码隐藏的构造必须调用LoadApplication来创建Xamarin.Forms应用程序的一个实例。</span> <span>请注意，明确使用应用程序名称空间来限定应用程序是一种很好的做法，因为UWP应用程序也具有与Xamarin.Forms无关的自己的App类。<br></span></span>
   <div> 
    <div class="codeheads"> 
     <p> 点击(<span style="color:#FF0000;">此处</span>)折叠或打开 </p> 
    </div> 
    <div class="codeText"> 
     <ol>
      <li> <span style="color:#000000;"><span style="color:#0000FF;">public</span> <span style="color:#0000FF;">sealed</span> partial <span style="color:#0000FF;">class</span> MainPage<br></span> </li> 
      <li> <span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">public</span> MainPage<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">{</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InitializeComponent<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> <br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LoadApplication<span style="color:#0000CC;">(</span><span style="color:#0000FF;">new</span> YOUR_NAMESPACE<span style="color:#0000CC;">.</span>App<span style="color:#0000CC;">(</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">)</span><span style="color:#0000CC;">;</span><br></li> 
      <li> &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000CC;">}</span><br></li> 
      <li> &nbsp;<span style="color:#0000CC;">}</span> </li> 
     </ol>
    </div> 
   </div> 
   <span class="short_text"><span>请注意，Forms.Init（）必须在第63行的App.xaml.cs中调用。</span></span>
   <br>
   <p> <br></p> 
   <p> <strong></strong> </p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
