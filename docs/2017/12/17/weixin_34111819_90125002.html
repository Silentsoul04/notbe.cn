<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>两种方法实现KMP算法（必懂KMP） « NotBeCN</title>
  <meta name="description" content="             引记    &nbsp;&nbsp;&nbsp; 此前一天，一位MS的朋友邀我一起去与他讨论快速排序，红黑树，字典树，B树、后缀树，包括KMP算法，唯独在讲解KMP算法的时候，言语磕磕碰碰，我想，原因有二：1、博客内的东西不常回顾，忘了不少；2、便是我对KMP算法的理解还不够彻底，自不用...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/17/weixin_34111819_90125002.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">两种方法实现KMP算法（必懂KMP）</h1>
    <p class="post-meta">Dec 17, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">引记</h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 此前一天，一位MS的朋友邀我一起去与他讨论快速排序，红黑树，字典树，B<span>树、后缀树，包括</span>KMP<span>算法，唯独在讲解</span>KMP<span>算法的时候，言语磕磕碰碰，我想，原因有二：</span>1<span>、博客内的东西不常回顾，忘了不少；</span>2<span>、便是我对</span>KMP<span>算法的理解还不够彻底，自不用说讲解自如，运用自如了。所以，特再写本篇文章。由于此前，个人已经写过关于</span>KMP<span>算法的两篇文章，所以，本文名为：</span>KMP<span>算法之总结篇。</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp; &nbsp;本文分为如下六个部分：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="font-size:12px;list-style-type:decimal;">第一部分、再次回顾普通的BF<span>算法与</span>KMP<span>算法各自的时间复杂度，并两相对照各自的匹配原理；</span> </li> 
    <li style="font-size:12px;list-style-type:decimal;"> <span>第二部分、通过我此前第二篇文章的引用，用图从头到尾详细阐述</span>KMP<span>算法中的</span>next<span>数组求法，并运用求得的</span>next<span>数组写出</span>KMP<span>算法的源码；</span> </li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>第三部分、KMP算法的两种实现，代码实现一是根据本人关于KMP算法的第二篇文章所写，代码实现二是根据本人的关于KMP算法的第一篇文章所写；</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>第四部分、测试，分别对第三部分的两种实现中next数组的求法进行测试，挖掘其区别之所在；</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>第五部分、KMP完整准确源码，给出KMP算法的准确的完整源码；</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>第六部分、一眼看出字符串的next数组各值，通过几个例子，让读者能根据字符串本身一眼判断出其next数组各值。</span></li> 
   </ol>
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp; &nbsp; 力求让此文彻底让读者洞穿此</span>KMP<span>算法，所有原理，来龙去脉，让读者搞个通通透透（注意，本文中第二部分及第三部分的代码实现一的字符串下标i 从<span>0</span>开始计算，其它部分如第三部分的代码实现二，第五部分，和第六部分的字符串下标i 皆是从1开始的）。</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 在看本文之前，你心中如若对前缀和后缀这个两个概念有自己的理解，便最好了。有些东西比如此KMP<span>算法需要我们反复思考，反复求解才行。个人写的关于KMP算法的第二篇文章为：<a href="http://blog.csdn.net/v_JULY_v/archive/2011/06/15/6545192.aspx" rel="nofollow" style="color:rgb(52,104,164);">六（续）、从KMP算法一步一步谈到BM算法</a></span>；第一篇为：六、教你初步了解KMP算法、updated（文末链接）。ok<span>，若有任何问题，恳请不吝指正。多谢。</span></p> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">第一部分、KMP<span>算法初解</span> </h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong>1<span>、</span>普通字符串匹配BF<span>算法与</span>KMP<span>算法的时间复杂度比较</span></strong></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; KMP<span>算法是一种线性时间复杂的字符串匹配算法，它是对</span>BF<span>算法（</span>Brute-Force<span>，最基本的字符串匹配算法的）改进。对于给的原始串</span>S<span>和模式串</span>P<span>，需要从字符串</span>S<span>中找到字符串</span>P<span>出现的位置的索引。</span></p> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div class="Section0"> 
     <div> 
      <p>BF<span>算法的时间复杂度</span>O(strlen(S) * strlen(T))<span>，空间复杂度</span>O(1)<span>。</span></p> 
     </div> 
    </div> 
   </blockquote> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div class="Section0"> 
     <div> 
      <p>KMP<span>算法的时间复杂度</span>O(strlen(S) + strlen(T))<span>，空间复杂度</span>O(strlen(T))<span>。</span></p> 
     </div> 
    </div> 
   </blockquote> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div> 
     <p><strong>2<span>、</span>BF<span>算法与</span>KMP<span>算法的区别</span></strong></p> 
     <p>&nbsp;&nbsp;&nbsp; 假设现在S<span>串匹配到</span>i<span>位置，</span>T<span>串匹配到</span>j<span>位置。那么总的来说，两种算法的主要区别在于失配的情况下，对</span><img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif" alt="[j]" style="border:0px;"><span>的值做的处理</span><span>：</span></p> 
     <p>&nbsp;&nbsp; BF<span>算法中，如果当前字符匹配成功，即</span>s[i+j] == T[j]<span>，令</span>j++<span>，继续匹配下一个字符；如果失配，即</span>S[i + j] != T[j]<span>，<strong>需要让</strong></span><strong>i++,<span>并且</span>j= 0</strong><span>，即每次匹配失败的情况下，模式串</span>T<span>相对于原始串</span>S<span>向右移动了一位。</span></p> 
     <p>&nbsp;&nbsp;&nbsp; 而KMP<span>算法中，如果当前字符匹配成功，即</span>S[i]==T[j]<span>，令</span>i++<span>，</span>j++<span>，继续匹配下一个字符；如果</span>匹配失败，即S[i] != T[j]<span>，需要保持</span>i<span>不变，并且让</span>j = next[j]<span>，这里</span>next[j] &lt;=j -1<span>，即模式串</span>T<span>相对于原始串</span>S<span>向右移动了至少</span>1<span>位</span>(<span><strong>移动的实际位数</strong></span><strong>j - next[j]&nbsp; &gt;=1</strong>),</p> 
    </div> 
   </div> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div> 
     <p>&nbsp; &nbsp; 如果下次匹配是基于T向右移动一位，那么<span style="text-decoration:underline;">i<span>之前的部分（即</span>S[i-j+1 ~ i-1]<span>），和</span>j=next[j]<span>之前的部分（即</span>T[0 ~ j-2]</span><span><span style="text-decoration:underline;">）仍然相等</span>。显然，相对于</span>BF<span>算法来说，</span>KMP<span>移动更多的位数，起到了一个加速的作用！&nbsp;</span>(<span>失配的特殊情形，令</span>j=next[j]<span>导致</span>j==0<span>的时候，需要将</span>i ++，否则此时没有移动模式串)<span>。</span></p> 
     <p><strong>3、BF<span>算法为什么要回溯</span></strong></p> 
    </div> 
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">首先说一下为什么BF<span>算法要回溯。如下两字符串匹配（恰如上面所述：BF算法中，如果当前字符匹配成功，即<span>s[i+j] == T[j]</span>，令<span>j++</span>，继续匹配下一个字符）：</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i+j<span>（</span>j<span>随</span>T<span>中的</span>j++<span>变，而动）</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">S：aaa<span>a</span>cefghij</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j++</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">T：aaa<span>c</span>&nbsp;</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">如果不回溯的话就是从下一位开始比起：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">aaaa<span>c</span>efghij</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>a</span>aac</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">看到上面红颜色的没，如果不回溯的话，那么从a&nbsp;<span>的下一位</span>c&nbsp;<span>比起。然而下述这种情况就漏了（正确的做法当然是要回溯：如果失配，即<span>S[i + j] != T[j]</span>，<strong>需要让</strong><span>i++,<span>并且</span>j= 0</span>）：</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">a<span style="text-decoration:underline;">aaac</span>efghij</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;<span>aaac</span></p> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div> 
     <p>&nbsp;&nbsp;&nbsp; 所以，BF算法要回溯，其代码如下：</p> 
     <p>&nbsp;</p> 
     <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;"> 
      <ol style="border:none;color:rgb(92,92,92);">
       <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;Index(SString&nbsp;S,&nbsp;SString&nbsp;T,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pos)&nbsp;{&nbsp;&nbsp;</span></span></li> 
       <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//返回T在S中第pos个字符之后的位置</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
       <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;i=pos;&nbsp;j=1;k=0;&nbsp;&nbsp;</span></li> 
       <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(&nbsp;i&lt;&nbsp;=&nbsp;S[0]&nbsp;&amp;&amp;&nbsp;j&lt;&nbsp;=&nbsp;T[0]&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li> 
       <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">&nbsp;(S[i+k]&nbsp;=&nbsp;=&nbsp;T[j]&nbsp;)&nbsp;{++k;&nbsp;&nbsp;++j;}&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//继续比较后续字符</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
       <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;{i=i+1;&nbsp;&nbsp;&nbsp;j=1;&nbsp;k=0;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//指针回溯到&nbsp;下一首位，重新开始</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
       <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
       <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(j&gt;T[0])&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;i;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//子串结束，说明匹配成功</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
       <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;&nbsp;0;&nbsp;&nbsp;</span></span></li> 
       <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}<span class="comment" style="border:none;color:rgb(0,130,0);">//Index</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      </ol>
     </div> 
     <p>&nbsp; 不过，也有特殊情况可以不回溯，如下：<br> abcdefghij(<span>主串</span>)<br> abcdefg(<span>模式串</span>)<br> &nbsp; 即(<span>模式串</span>)<span>没有相同的才不需要回溯。</span></p> 
     <p><br><strong>4<span>、</span>KMP&nbsp;<span>算法思想</span></strong><br> &nbsp;&nbsp;&nbsp; 普通的字符串匹配算法必须要回溯。但回溯就影响了效率，回溯是由T串本身的性质决定的，是因为T串本身有前后'部分匹配'的性质。像上面所说如果主串为abcdef这样的，大没有回溯的必要。</p> 
     <p>&nbsp;&nbsp;&nbsp; 改进的地方也就是这里，我们从T<span>串本身出发，事先就找准了</span>T<span>自身前后部分匹配的位置，那就可以改进算法。</span></p> 
     <p>&nbsp;&nbsp;&nbsp; 如果不用回溯，那模式串下一个位置从哪里开始呢？</p> 
     <p>&nbsp;&nbsp;&nbsp; 还是上面那个例子，T(<span>模式串</span>)<span>为</span>ababc<span>，如果</span>c<span>失配，那就可以往前移到</span>aba<span>最后一个</span>a<span>的位置，像这样：</span></p> 
    </div> 
   </div> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div class="Section0"> 
     <div> 
      <p>...ababd...</p> 
     </div> 
    </div> 
    <div class="Section0"> 
     <div> 
      <p>&nbsp;&nbsp; ababc</p> 
     </div> 
    </div> 
    <div class="Section0"> 
     <div> 
      <p>&nbsp;&nbsp;&nbsp; -&gt;ababc</p> 
     </div> 
    </div> 
   </blockquote> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div> 
     <p>这样i<span>不用回溯，</span>j<span>跳到前</span>2<span>个位置，继续匹配的过程，这就是</span>KMP<span>算法所在。这个当</span>T[j]<span>失配后，</span><strong>j&nbsp;<span>应该往前跳的值就是</span>j<span>的</span>next<span>值</span>，它是由T<span>串本身固有决定的，与</span>S<span>串</span>(<span>主串</span>)<span>无关</span></strong>。</p> 
     <p><br><strong>5、next<span>数组的含义</span></strong></p> 
     <p>重点来了。下面解释一下next<span>数组的含义</span>，这个也是KMP<span>算法中比较不好理解的一点。</span></p> 
     <p>&nbsp; 令原始串为: S[i]<span>，其中</span>0&lt;=i&lt;=n<span>；模式串为</span>: T[j]<span>，其中</span>0&lt;=j&lt;=m<span>。</span></p> 
     <p>&nbsp; 假设目前匹配到如下位置</p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S0,S1,S2,...,<span>Si-j,Si-j+1...............,Si-1</span>,&nbsp;<span>Si</span>, Si+1,....,Sn</p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>T0,T1,.....................,Tj-1</span>,&nbsp;<span>Tj</span>, ..........</p> 
     <p>&nbsp; S<span>和</span>T<span>的绿色部分匹配成功，恰好到</span>Si<span>和</span>Tj<span>的时候失配，如果要保持</span>i<span>不变，同时达到让模式串</span>T<span>相对于原始串</span>S<span>右移的话，可以更新</span>j<span>的值，让</span>Si<span>和新的</span>Tj<span>进行匹配，假设新的</span>j<span>用</span>next[j]<span>表示，即让</span>Si<span>和</span>next[j]<span>匹配，显然新的</span>j<span>值要小于之前的</span>j<span>值，模式串才会是右移的效果，也就是说应该有</span>next[j] &lt;= j -1<span>。那新的</span>j<span>值也就是</span>next[j]<span>应该是多少呢？我们观察如下的匹配：</span></p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1)<span>如果</span>模式串右移1<span>位（从简单的思考起，移动一位会怎么样）</span>，即next[j] = j - 1<span>， 即让蓝色的</span>Si<span>和</span>Tj-1<span>匹配</span>(<span>注：省略号为未匹配部分</span>)</p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S0,S1,S2,...,<span>Si-j,Si-j+1...............,Si-1</span>,&nbsp;<span>Si</span>, Si+1,....,Sn</p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>T0,T1,.....................,Tj-1</span>,&nbsp;<span>Tj</span>, .......... (T的划线部分和S划线部分相等【1】)</p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>T0,T1,.................Tj-2</span>,<span>Tj-1</span>,&nbsp;....... (移动后的T的划线部分和S的划线部分相等【2】)</p> 
     <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 根据【1<span>】【</span>2<span>】可以知道当</span>next[j] =j -1<span>，即模式串右移一位的时候，有</span>T[0 ~ j-2] == T[1 ~ j-1]，<span>而这两部分恰好是字符串</span>T[0 ~j-1]<span>的前缀和后缀</span><span>，也就是说</span>next[j]<span>的值取决于模式串</span>T<span>中</span>j<span>前面部分的前缀和后缀相等部分的长度（好好揣摩这两个关键字概念：前缀、后缀，或者再想想，我的上一篇文章，从</span>Trie<span>树谈到后缀树中，后缀树的概念）。</span></p> 
    </div> 
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2)<span>如果模式串右移</span>2<span>位，即</span>next[j] = j - 2<span>， 即让蓝色的</span>Si<span>和</span>Tj-2<span>匹配&nbsp;&nbsp;&nbsp;&nbsp;</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S0,S1,...,<span>Si-j,Si-j+1,Si-j+2...............,Si-1</span>,&nbsp;<span>Si</span>, Si+1,....,Sn</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>T0,T1,T2,.....................,Tj-1</span>,&nbsp;<span>Tj</span>, ..........(T的划线部分和S划线部分相等【3】)</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>T0,T1,...............,Tj-3</span>,<span>Tj-2</span>,.........(移动后的T的划线部分和S的划线部分相等【4】)</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 同样根据【3<span>】【</span>4<span>】可以知道当</span>next[j] =j -2<span>，即模式串右移两位的时候，有</span>T[0 ~ j-3] == T[2 ~ j-1]<span>。而这两部分也恰好是字符串</span>T[0 ~j-1]<span>的前缀和后缀，也就是说</span>next[j]<span>的值取决于模式串</span>T<span>中</span>j<span>前面部分的前缀和后缀相等部分的长度</span>。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp; 3)<span>依次类推，可以得到如下结论：</span><strong>当发生失配的情况下，j<span>的新值</span>next[j]<span>取决于模式串中</span>T[0 ~ j-1]<span>中前缀和后缀相等部分的长度， 并且</span>next[j]<span>恰好等于这个最大长度</span></strong>。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 为此，请再允许我引用上文中的一段原文：<span>“</span>KMP<span>算法中，如果当前字符匹配成功，即</span>S[i]==T[j]<span>，令</span>i++<span>，</span>j++<span>，继续匹配下一个字符；如果</span>匹配失败，即S[i] != T[j]<span>，需要保持</span>i<span>不变，并且让</span>j = next[j]<span>，这里</span>next[j] &lt;=j -1<span>，即模式串</span>T<span>相对于原始串</span>S<span>向右移动了至少</span>1<span>位</span>(<span><strong>移动的实际位数</strong></span><strong>j - next[j]&nbsp; &gt;=1</strong>),</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 同时移动之后，<span style="text-decoration:underline;">i<span>之前的部分（即</span>S[i-j+1 ~ i-1]<span>），和</span>j=next[j]<span>之前的部分（即</span>T[0 ~ j-2]</span><span><span style="text-decoration:underline;">）仍然相等</span>。显然，<strong>相对于</strong></span><strong>BF<span>算法来说，</span>KMP</strong><span><strong>移动更多的位数，起到了一个加速的作用</strong>！&nbsp;</span>(<span>失配的特殊情形，令</span>j=next[j]<span>导致</span>j==0<span>的时候，需要将</span>i ++，否则此时没有移动模式串)<span>。”</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 于此，也就不难理解了我的关于KMP算法的第二篇文章之中：<span>“</span>当匹配到S[i] != P[j]的时候有 S[i-j…i-1] = P[0…j-1]. 如果下面用j_next去匹配，则有P[0…j_next-1] = S[i-j_next…i-1] = P[j-j_next…j-1]。此过程如下图3-1所示。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>&nbsp; 当匹配到</span><span>S[i] != P[j]</span><span>时，<span>S[i-j…i-1] = P[0…j-1]</span>：</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>S: 0 …&nbsp;</span><span style="text-decoration:underline;">i-j … i-1</span><span>&nbsp;i …</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>P:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="text-decoration:underline;">0 …&nbsp;&nbsp; j-1</span><span>&nbsp;j …</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span><span><span>&nbsp; 如果下面用j_next去匹配，则有P[0…j_next-1] = S[i-j_next…i-1] = P[j-j_next…j-1]。<br> 所以在P中有如下匹配关系（获得这个匹配关系的意义是用来求next数组）</span></span></span><span>：</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>P: 0 …&nbsp;</span><span style="text-decoration:underline;">j-j_next&nbsp; .…j-1_</span><span>&nbsp;&nbsp;&nbsp; …</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>P:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="text-decoration:underline;">0&nbsp;&nbsp;&nbsp; … .j_next-1</span><span>&nbsp;…</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>&nbsp; 所以，</span><span>根据上面两个步骤，推出</span><span>下一匹配位置</span><span>j_next:</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>S: 0 … i-j …&nbsp;</span><span style="text-decoration:underline;">i-j_next …&nbsp;&nbsp; i-1&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span><span>i …</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span>P:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="text-decoration:underline;">0&nbsp;&nbsp; …&nbsp;<strong>j_next-1</strong></span><span>&nbsp;</span><span>j_next …</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;图3-1 求j-next（最大的值）的三个步骤</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 下面，<strong>我们用变量k来代表求得的j_next的最大值</strong>，即k表示这S[i]、P[j]不匹配时P中下一个用来匹配的位置，使得<span style="text-decoration:underline;">P[0…k-1] = P[j-k…j-1]</span>，而我们要尽量找到这个k的最大值。<span>”。</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 根据上文的【1】与【2】的匹配情况，可得第二篇文章之中所谓的k=1（如aaaa的形式），根据上文的【3】与【4】的匹配情况，k=2（如abab的形式）。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp; &nbsp; &nbsp; 再次总结下，如下图：</p> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <p><img src="https://p-blog.csdn.net/images/p_blog_csdn_net/RonoTian/KMP1.jpg" alt="" style="border:0px;"></p> 
   </blockquote> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <span>&nbsp; &nbsp; 从上图中我们看到，当S移动到i，P到j的时候失配。这时候i不回朔，而只是将P向前移动尽可能的距离，继续比较。</span>
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <span>&nbsp; &nbsp; 假设，P向右移动一定距离后，第k个字符P[k]和S[i]进行比较。</span>
    <span>此时如上图，当P[j]和S[i]失配后，i不动，将P前移到K，让P[k]和S[i]继续匹配。现在的关键是K的值是多少？</span> 
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <span>&nbsp; &nbsp; 通过上图，我们发现，因为黄色部分表示已经匹配了的结果（因为是到了S[i]和P[j]的时候才失配，所以S<sub>i-j+1</sub>S<sub>i-j+2</sub>…S<sub>i-1</sub>= P<sub>1</sub>P<sub>2</sub>…P<sub>j-1</sub>，见黄色的部分）。所以有：</span>
   </div> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div>
     <span>1、&nbsp;S<sub>i-k+1</sub>S<sub>i-k+2</sub>…S<sub>i-1</sub>&nbsp;= P<sub>j-k+1</sub>P<sub>j-k+2</sub>…P<sub>j-1</sub>。</span>
    </div> 
   </blockquote> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    &nbsp;
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <span>所以当P前移到K时，有：</span>
   </div> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div>
     <span>2、&nbsp;S<sub>i-k+1</sub>S<sub>i-k+2</sub>…S<sub>i-1</sub>&nbsp;= P<sub>1</sub>P<sub>2</sub>…P<sub>k-1</sub>。</span>
    </div> 
   </blockquote> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    &nbsp;
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <span>通过1，2=&gt;</span>
   </div> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div>
     <span>P<sub>j-k+1</sub>P<sub>j-k+2</sub>…P<sub>j-1&nbsp;</sub>= P<sub>1</sub>P<sub>2</sub>…P<sub>k-1</sub>。</span>
    </div> 
   </blockquote> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>而P<sub>1</sub>P<sub>2</sub>…P<sub>k-1和<span>P</span><sub>j-k+1</sub><span>P</span><sub>j-k+2</sub><span>…P</span><sub>j-1就相当于P串的前缀和后缀，前已说过，你心中一定要有前缀和后缀的概念或意识。</sub></sub></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp; 所以，归根究底，KMP算法的本质便是：每一次匹配都是基于前一次匹配的结果，如何更好地利用这前一次匹配的结果呢？针对待匹配的模式串的特点，判断它是否有重复的字符，从而找到它的前缀与后缀，进而求出相应的Next数组，最终根据Next数组而进行KMP匹配。接下来，进入本文的第二部分。</p> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">第二部分、next<span>数组求法的来龙去脉与</span>KMP<span>算法的源码</span> </h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 本部分引自个人此前的关于KMP<span>算法的第二篇文章：六之续、由KMP算法谈到BM算法。前面，我们已经知道<span>即不能让P[j]=P[next[j]]成立成立。不能再出现上面那样的情况啊！</span><span>即不能有这种情况出现：P[3]=b，而竟也有P[next[3]]=P[1]=b</span><span>。</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp;&nbsp;&nbsp; 正如在第二篇文章中，所提到的那样：“这里读者理解可能有困难的是因为文中，时而next，时而nextval，把他们的思维搞混乱了。其实next用于表达数组索引，而nextval专用于表达next数组索引下的具体各值，区别细微。至于文中说不允许P<img title="[j]" src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/af/newj_org.gif" alt="[j]" style="border:0px;">=P[next[j] ]出现，是因为已经有P<img title="[3]" src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/78/three_org.gif" alt="[3]" style="border:0px;">=b与S<img title="[i]" src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif" alt="[i]" style="border:0px;">匹配败，而P[next<img title="[3]" src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/78/three_org.gif" alt="[3]" style="border:0px;">]=P1=b，若再拿P[1]=b去与S<img title="[i]" src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/e6/weiboi_org.gif" alt="[i]" style="border:0px;">匹配则必败。”--<span>六之续、由KMP算法谈到BM算法。</span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><span><span>&nbsp;&nbsp; 又恰恰如上文中所述：“模式串<span>T</span>相对于原始串<span>S</span>向右移动了至少<span>1</span>位<span>(</span><strong>移动的实际位数</strong><span>j - next[j]&nbsp; &gt;=1</span><span>)</span><span><span>”</span></span><span>。</span></span></span></span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp;&nbsp;&nbsp; ok，求</span>next<span>数组的</span>get_nextval<span>函数正确代码如下：</span></p> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;"> 
     <ol style="border:none;color:rgb(92,92,92);">
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//代码4-1&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//修正后的求next数组各值的函数代码&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">void</span><span style="border:none;">&nbsp;get_nextval(</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;ptrn,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;plen,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">*&nbsp;nextval)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;nextval[i]&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;j&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">(&nbsp;i&nbsp;&lt;&nbsp;plen-1&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;j&nbsp;==&nbsp;-1&nbsp;||&nbsp;ptrn[i]&nbsp;==&nbsp;ptrn[j]&nbsp;)&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//循环的if部分&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++i;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++j;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//修正的地方就发生下面这4行&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;ptrn[i]&nbsp;!=&nbsp;ptrn[j]&nbsp;)&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//++i，++j之后，再次判断ptrn[i]与ptrn[j]的关系&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nextval[i]&nbsp;=&nbsp;j;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//之前的错误解法就在于整个判断只有这一句。&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nextval[i]&nbsp;=&nbsp;nextval[j];&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//循环的else部分&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;=&nbsp;nextval[j];&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
      <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     </ol>
    </div> 
   </div> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <p><span>&nbsp;&nbsp;&nbsp; 举个例子，举例说明下上述求next数组的方法。<br> S a b a b a b c<br> P a b a b c<br> S[4] != P[4]<br> &nbsp;&nbsp;&nbsp; 那么下一个和S[4]匹配的位置是k=2(也即P[next[4]])。此处的k=2也再次佐证了上文第3节开头处关于为了找到下一个匹配的位置时k的求法。上面的主串与模式串开头4个字符都是“abab”，所以，匹配失效后下一个匹配的位置直接跳两步继续进行匹配。<br> S a b a b a b c<br> P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a b a b c<br> 匹配成功</span></p> 
    <p><span>P的next数组值分别为-1 0 -1 0 2</span></p> 
    <p><span>&nbsp;&nbsp;&nbsp; next数组各值怎么求出来的呢?分以下五步：</span></p> 
    <ol>
     <li style="font-size:12px;list-style-type:decimal;"><span>初始化：i=0，j=-1，<strong>nextval[0] = -1</strong>。<span>由于j == -1，进入上述循环的if部分，++i得i=1，++j得j=0，且ptrn[i] != ptrn[j]（即a！=b）），所以得到第二个next值即nextval[1] = 0；</span>；</span></li> 
     <li style="font-size:12px;list-style-type:decimal;"> <span>i=1，j=0，进入循环esle部分，</span><span>j=nextval[j]=nextval[0]=-1；</span> </li> 
     <li style="font-size:12px;list-style-type:decimal;"><span>进入循环的if部分，++i，++j，i=2，j=0，因为ptrn[i]=ptrn[j]=a,所以nextval[2]=nextval[0]=-1；</span></li> 
     <li style="font-size:12px;list-style-type:decimal;"><span>i=2, j=0, 由于ptrn[i]=ptrn[j],再次进入循环if部分，所以++i=3，++j=1,因为ptrn[i]=ptrn[j]=b,所以nextval[3]=nextval[1]=0；</span></li> 
     <li style="font-size:12px;list-style-type:decimal;"><span>i=3,j=1,由于ptrn[i]=ptrn[j]=b,所以++i=4，++j=2,退出循环。</span></li> 
    </ol>
   </blockquote> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 这样上例中模式串的next数组各值最终应该为:</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_1308075858HK8k.jpg" alt="" width="273" height="104" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&nbsp;&nbsp;&nbsp;&nbsp; 图4-1 正确的next数组各值<br></span><strong>next数组求解的具体过程如下：<br></strong>&nbsp;&nbsp;&nbsp; 初始化：nextval[0] = -1，我们得到第一个next值即-1.</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_1308075858aNNR.jpg" alt="" width="277" height="84" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>&nbsp; 图4-2 初始化第一个next值即-1</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; i = 0，j = -1，由于j == -1，进入上述循环的if部分，++i得i=1，++j得j=0，且ptrn[i] != ptrn[j]（即a！=b）），所以得到第二个next值即nextval[1] = 0；</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_1308075858mc76.jpg" alt="" width="288" height="95" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>图4-3 第二个next值0</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp; 上面我们已经得到，i= 1，j = 0，由于不满足条件j == -1 || ptrn[i] == ptrn[j]，所以进入循环的esle部分，得j = nextval[j] = -1；此时，仍满足循环条件，由于i = 1，j = -1，因为j == -1，再次进入循环的if部分，++i得i=2，++j得j=0，由于ptrn[i] == ptrn[j]（即ptrn[2]=ptrn[0]，也就是说第1个元素和第三个元素都是a），所以进入循环if部分内嵌的else部分，得到nextval[2] = nextval[0] = -1；</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_1308075858ljso.jpg" alt="" width="266" height="92" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 图4-4 第三个next数组元素值-1</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; i = 2，j = 0，由于ptrn[i] == ptrn[j]，进入if部分，++i得i=3，++j得j=1，所以ptrn[i] == ptrn[j]（ptrn[3]==ptrn[1]，也就是说第2个元素和第4个元素都是b），所以进入循环if部分内嵌的else部分，得到nextval[3] = nextval[1] = 0；</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_13080758581C1S.jpg" alt="" width="266" height="96" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>图4-5 第四个数组元素值0<br></span>&nbsp;&nbsp;&nbsp; 如果你还是没有弄懂上述过程是怎么一回事，请现在拿出一张纸和一支笔出来，一步一步的画下上述过程。相信我，把图画出来了之后，你一定能明白它的。<br> &nbsp;&nbsp;&nbsp; 然后，我留一个问题给读者，为什么上述的next数组要那么求?有什么原理么?</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;<span>提示</span>：我们从上述字符串abab 各字符的next值<span style="text-decoration:underline;">-1 0 -1 0</span>，可以看出来，根据求得的next数组值，偷用前缀、后缀的概念，一定可以判断出在abab之中，前缀和后缀相同，即都是ab，反过来，如果一个字符串的前缀和后缀相同，那么根据前缀和后缀依次求得的next各值也是相同的。</p> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <ul style="list-style:none;font-size:11px;">
     <li style="list-style-type:disc;"><strong>5、利用求得的next数组各值运用Kmp算法</strong></li>
    </ul>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; Ok，next数组各值已经求得，万事俱备，东风也不欠了。接下来，咱们就要应用求得的next值，应用KMP算法来匹配字符串了。还记得KMP算法是怎么一回事吗?容我再次引用下之前的KMP算法的代码，如下：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(75,75,75);"> 
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//代码5-1&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//int&nbsp;kmp_seach(char&nbsp;const*,&nbsp;int,&nbsp;char&nbsp;const*,&nbsp;int,&nbsp;int&nbsp;const*,&nbsp;int&nbsp;pos)&nbsp;&nbsp;KMP模式匹配函数&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//输入：src,&nbsp;slen主串&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//输入：patn,&nbsp;plen模式串&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//输入：nextval&nbsp;KMP算法中的next函数值数组&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;kmp_search(</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;src,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;slen,&nbsp;</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;patn,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;plen,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;nextval,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pos)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i&nbsp;=&nbsp;pos;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;j&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(&nbsp;i&nbsp;&lt;&nbsp;slen&nbsp;&amp;&amp;&nbsp;j&nbsp;&lt;&nbsp;plen&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;j&nbsp;==&nbsp;-1&nbsp;||&nbsp;src[i]&nbsp;==&nbsp;patn[j]&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++i;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++j;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;=&nbsp;nextval[j];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//当匹配失败的时候直接用p[j_next]与s[i]比较，&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//下面阐述怎么求这个值，即匹配失效后下一次匹配的位置&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;j&nbsp;&gt;=&nbsp;plen&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;i-plen;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
    </ol>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">我们上面已经求得的next值，如下：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_13080758581C1S.jpg" alt="" width="266" height="96" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>图5-1 求得的正确的next数组元素各值</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 以下是匹配过程，分三步：<br> &nbsp;&nbsp;&nbsp; 第一步：主串和模式串如下，S[3]与P[3]匹配失败。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_130807585714lW.jpg" alt="" width="417" height="159" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>图5-2 第一步，S[3]与P[3]匹配失败<br></span>&nbsp;&nbsp;&nbsp; 第二步：S[3]保持不变，P的下一个匹配位置是P[next[3]]，而next[3]=0,所以P[next[3]]=P[0]，即P[0]与S[3]匹配。在P[0]与S[3]处匹配失败。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_13080758571390.jpg" alt="" width="495" height="176" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>图5-3 第二步，在P[0]与S[3]处匹配失败</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 第三步：与上文中第3小节末的情况一致。由于上述第三步中，P[0]与S[3]还是不匹配。此时i=3,j=nextval[0]=-1,由于满足条件j==-1，所以进入循环的if部分,++i=4,++j=0,即主串指针下移一个位置，从P[0]与S[4]处开始匹配。最后j==plen，跳出循环，输出结果i-plen=4(即字串第一次出现的位置），匹配成功，算法结束。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201106/14/8394323_1308075857e40u.jpg" alt="" width="451" height="167" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>图5-4 第三步，匹配成功，算法结束<br></span>&nbsp;&nbsp;&nbsp;&nbsp;<span>所以，综上，总结上述三步为</span>：</p> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="font-size:12px;list-style-type:decimal;">开始匹配，直到P[3]！=S[3]，匹配失败；</li> 
    <li style="font-size:12px;list-style-type:decimal;">nextval[3]=0，所以P[0]继续与S[3]匹配，再次匹配失败；</li> 
    <li style="font-size:12px;list-style-type:decimal;">nextval[0]=-1，满足循环if部分条件j==-1，所以，++i，++j，主串指针下移一个位置，从P[0]与S[4]处开始匹配，最后j==plen，跳出循环，输出结果i-plen=4，算法结束。</li> 
   </ol>
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">第三部分、KMP算法的两种实现</h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong>代码实现一：</strong>&nbsp;&nbsp;&nbsp;</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 根据上文中第二部分内容的解析，完整写出KMP算法的代码已经不是难事了，如下：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(75,75,75);"> 
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//copyright@2011&nbsp;binghu&nbsp;and&nbsp;july</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;"StdAfx.h"</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;&lt;string&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;&lt;iostream&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">using</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">namespace</span><span style="border:none;">&nbsp;std;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//代码4-1&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//修正后的求next数组各值的函数代码&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">void</span><span style="border:none;">&nbsp;get_nextval(</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;ptrn,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;plen,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">*&nbsp;nextval)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//注，此处与下文的代码实现二不同的是，i是从0开始的（代码实现二i从1开始）&nbsp;&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;nextval[i]&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;j&nbsp;=&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">(&nbsp;i&nbsp;&lt;&nbsp;plen-1&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;j&nbsp;==&nbsp;-1&nbsp;||&nbsp;ptrn[i]&nbsp;==&nbsp;ptrn[j]&nbsp;)&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//循环的if部分&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++i;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++j;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//修正的地方就发生下面这4行&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;ptrn[i]&nbsp;!=&nbsp;ptrn[j]&nbsp;)&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//++i，++j之后，再次判断ptrn[i]与ptrn[j]的关系&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nextval[i]&nbsp;=&nbsp;j;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//之前的错误解法就在于整个判断只有这一句。&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nextval[i]&nbsp;=&nbsp;nextval[j];&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//循环的else部分&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;=&nbsp;nextval[j];&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">void</span><span style="border:none;">&nbsp;print_progress(</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;src,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;src_index,&nbsp;</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;pstr,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pstr_index)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;src_index&lt;&lt;<span class="string" style="border:none;color:#0000FF;">"\t"</span><span style="border:none;">&lt;&lt;src&lt;&lt;endl;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;pstr_index&lt;&lt;<span class="string" style="border:none;color:#0000FF;">"\t"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">(&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;src_index-pstr_index;&nbsp;++i&nbsp;)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;<span class="string" style="border:none;color:#0000FF;">"&nbsp;"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;pstr&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//代码5-1&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//int&nbsp;kmp_seach(char&nbsp;const*,&nbsp;int,&nbsp;char&nbsp;const*,&nbsp;int,&nbsp;int&nbsp;const*,&nbsp;int&nbsp;pos)&nbsp;&nbsp;KMP模式匹配函数&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//输入：src,&nbsp;slen主串&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//输入：patn,&nbsp;plen模式串&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//输入：nextval&nbsp;KMP算法中的next函数值数组&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;kmp_search(</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;src,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;slen,&nbsp;</span><span class="datatypes" style="border:none;">char</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;patn,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;plen,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">*&nbsp;nextval,&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pos)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i&nbsp;=&nbsp;pos;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;j&nbsp;=&nbsp;0;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(&nbsp;i&nbsp;&lt;&nbsp;slen&nbsp;&amp;&amp;&nbsp;j&nbsp;&lt;&nbsp;plen&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;j&nbsp;==&nbsp;-1&nbsp;||&nbsp;src[i]&nbsp;==&nbsp;patn[j]&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++i;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++j;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;=&nbsp;nextval[j];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//当匹配失败的时候直接用p[j_next]与s[i]比较，&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//下面阐述怎么求这个值，即匹配失效后下一次匹配的位置&nbsp;&nbsp;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(&nbsp;j&nbsp;&gt;=&nbsp;plen&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;i-plen;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;-1;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;&nbsp;&nbsp;main()&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;src&nbsp;=&nbsp;<span class="string" style="border:none;color:#0000FF;">"aabcabcebafabcabceabcaefabcacdabcab"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;std::string&nbsp;prn&nbsp;=&nbsp;<span class="string" style="border:none;color:#0000FF;">"abac"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">*&nbsp;nextval&nbsp;=&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">new</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">[prn.size()];&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//int*&nbsp;next&nbsp;=&nbsp;new&nbsp;int[prn.size()];</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;get_nextval(prn.data(),&nbsp;prn.size(),&nbsp;nextval);&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//get_next(prn.data(),&nbsp;prn.size(),&nbsp;next);</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">(&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;prn.size();&nbsp;++i&nbsp;)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;nextval[i]&lt;&lt;<span class="string" style="border:none;color:#0000FF;">"\t"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;<span class="string" style="border:none;color:#0000FF;">"result&nbsp;sub&nbsp;str:&nbsp;"</span><span style="border:none;">&lt;&lt;src.substr(&nbsp;kmp_search(src.data(),&nbsp;src.size(),&nbsp;prn.data(),&nbsp;prn.size(),&nbsp;nextval,&nbsp;0)&nbsp;)&lt;&lt;endl;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;system(<span class="string" style="border:none;color:#0000FF;">"pause"</span><span style="border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">delete</span><span style="border:none;">[]&nbsp;nextval;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;0;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;&nbsp;</span></li> 
    </ol>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 运行结果，如下图所示：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/8/0_1323314920mQh4.gif" alt="" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong>代码实现二</strong>：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp; 再给出代码实现二之前，让我们再次<span>回顾下关于KMP算法的第一篇文章中的部分内容</span>：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span><strong>“</strong></span><span>第二节、KMP算法</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong><span><span>2.1、&nbsp;</span></span><span>覆盖函数</span><span><span>(overlay_function)</span></span></strong></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 覆盖函数所表征的是pattern本身的性质，可以让为其表征的是pattern从左开始的所有连续子串的自我覆盖程度。比如如下的字串，abaabcaba</p> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <blockquote style="background:none;border:2px solid rgb(239,239,239);">
     <blockquote style="background:none;border:2px solid rgb(239,239,239);">
      <blockquote style="background:none;border:2px solid rgb(239,239,239);"> 
       <p><img src="http://hi.csdn.net/attachment/201101/1/8394323_1293874441hilM.jpg" alt="" width="236" height="294" style="border:0px;"></p> 
      </blockquote>
     </blockquote>
    </blockquote>
   </blockquote> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp; &nbsp; 可能上面的图令读者理解起来还是不那么清晰易懂，其实很简单，针对字符串abaabcaba</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>a（-1）&nbsp;</span><span>b（-1）</span><span>a（0）</span><span>&nbsp;</span><span>a</span><span>（</span><span>0</span><span>）</span><span>&nbsp;</span><span>b</span><span>（1）&nbsp;</span><span>c（-1）</span><span>&nbsp;</span><span>a（0）</span><span>&nbsp;b（1）</span><span>a（2）</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>解释：</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="font-size:12px;list-style-type:decimal;"> <span>初始化为-1&nbsp;</span><span>&nbsp;</span> </li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>b与a不同为-1 &nbsp;&nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>与第一个字符a相同为0 &nbsp;&nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>还是a为0 &nbsp;&nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>后缀ab与前缀ab两个字符相同为1&nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>前面并无前缀c为-1 &nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>与第一个字符同为0 &nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>后缀ab前缀ab为1&nbsp;</span></li> 
    <li style="font-size:12px;list-style-type:decimal;"><span>前缀aba后缀aba为2</span></li> 
   </ol>
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp; &nbsp; 由于计数是从0始的，因此覆盖函数的值为0说明有1个匹配，对于从0还是从来开始计数是偏好问题，具体请自行调整，其中-1表示没有覆盖，那么何为覆盖呢，下面比较数学的来看一下定义，比如对于序列</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <div class="Section0" style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <p><span>&nbsp; a</span><span>0</span><span>a</span><span>1...</span><span>a</span><span>j-1&nbsp;</span><span>a</span><span>j</span></p> 
    <p>&nbsp;</p> 
    <p><span>要找到一个<span><span>k,</span></span>使它满足</span></p> 
    <p><span>&nbsp; a</span><span>0</span><span>a</span><span>1...</span><span>a</span><span>k-1</span><span>a</span><span>k=</span><span>a</span><span>j-k</span><span>a</span><span>j-k+1...</span><span>a</span><span>j-1</span><span>a</span><span>j</span></p> 
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 而没有更大的k满足这个条件，就是说要找到尽可能大k,使pattern前k字符与后k字符相匹配，k要尽可能的大，原因是如果有比较大的k存在。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 但若我们选择较小的满足条件的k，那么当失配时，我们就会使pattern向右移动的位置变大，而较少的移动位置是存在匹配的，这样我们就会把可能匹配的结果丢失。比如下面的序列，</p> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <p><img src="http://hi.csdn.net/attachment/201101/1/8394323_1293874442uL1u.jpg" alt="" width="537" height="122" style="border:0px;"></p> 
   </blockquote> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 在红色部分失配，正确的结果是k=1的情况，把pattern右移4位，如果选择k=0,右移5位则会产生错误。计算这个overlay函数的方法可以采用递推，可以想象如果对于pattern的前j个字符，如果覆盖函数值为k</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp;&nbsp;&nbsp; a</span><span>0</span><span>a</span><span>1...</span><span>a</span><span>k-1</span><span>a</span><span>k=</span><span>a</span><span>j-k</span><span>a</span><span>j-k+1...</span><span>a</span><span>j-1</span><span>a</span><span>j</span><br> 则对于pattern的前j+1序列字符，则有如下可能<br> &nbsp;&nbsp;&nbsp; ⑴&nbsp;&nbsp;&nbsp;&nbsp; pattern[k+1]==pattern[j+1] 此时overlay(j+1)=k+1=overlay(j)+1<br> &nbsp;&nbsp;&nbsp; ⑵&nbsp;&nbsp;&nbsp;&nbsp; pattern[k+1]≠pattern[j+1] 此时只能在pattern前k+1个子符组所的子串中找到相应的overlay函数，h=overlay(k),如果此时pattern[h+1]==pattern[j+1],则overlay(j+1)=h+1否则重复(2)过程.</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">下面给出一段计算覆盖函数的代码：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(75,75,75);"> 
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//copyright@&nbsp;staurman</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//updated@2011&nbsp;July</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;"StdAfx.h"</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;iostream&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;string&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">using</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">namespace</span><span style="border:none;">&nbsp;std;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//solve&nbsp;to&nbsp;the&nbsp;next&nbsp;array</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">void</span><span style="border:none;">&nbsp;compute_overlay(</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;string&amp;&nbsp;pattern)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pattern_length&nbsp;=&nbsp;pattern.size();&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;*overlay_function&nbsp;=&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">new</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">[pattern_length];&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;index;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;overlay_function[0]&nbsp;=&nbsp;-1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">(</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i=1;i&lt;pattern_length;++i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//注，与上文代码段一不同的是，此处i是从1开始的，所以，下文中运用俩种方法求出来的next数组各值会有所不同</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;=&nbsp;overlay_function[i-1];&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//store&nbsp;previous&nbsp;fail&nbsp;position&nbsp;k&nbsp;to&nbsp;index;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">(index&gt;=0&nbsp;&amp;&amp;&nbsp;pattern[i]!=pattern[index+1])&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;=&nbsp;overlay_function[index];&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(pattern[i]==pattern[index+1])&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_function[i]&nbsp;=&nbsp;index&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_function[i]&nbsp;=&nbsp;-1;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">(</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i=0;i&lt;pattern_length;++i)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;overlay_function[i]&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">delete</span><span style="border:none;">[]&nbsp;overlay_function;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//abaabcaba</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;main()&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;pattern&nbsp;=&nbsp;<span class="string" style="border:none;color:#0000FF;">"abaabcaba"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;compute_overlay(pattern);&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;system(<span class="string" style="border:none;color:#0000FF;">"pause"</span><span style="border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;0;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
    </ol>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong>运行结果如下所示：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/9/0_1323398212crbf.gif" alt="" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong>2.2、kmp算法<br></strong>&nbsp;&nbsp;&nbsp;&nbsp; 有了覆盖函数，那么实现kmp算法就是很简单的了，我们的原则还是从左向右匹配，但是当失配发生时，我们不用把target_index向回移动，target_index前面已经匹配过的部分在pattern自身就能体现出来，只要动pattern_index就可以了。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">当发生在j长度失配时，只要把pattern向右移动j-overlay(j)长度就可以了。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp;&nbsp; 如果失配时pattern_index==0，相当于pattern第一个字符就不匹配，这时就应该把target_index加1，向右移动1位就可以了。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; ok，下图就是KMP算法的过程（红色即是采用KMP算法的执行过程）：</p> 
   <blockquote style="background:rgb(255,255,255) none;border:2px solid rgb(239,239,239);color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
    <p><img src="http://hi.csdn.net/attachment/201101/1/8394323_12938727418BHQ.jpg" alt="" width="602" height="587" style="border:0px;"></p> 
   </blockquote> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp;&nbsp;&nbsp; （另一作者saturnman发现，在上述KMP匹配过程图中，index=8和index=11处画错了。还有，anaven也早已发现，index=3处也画错了。非常感谢。但图已无法修改，见谅）</span></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">KMP 算法可在O（n+m）时间内完成全部的串的模式匹配工作。<strong>”</strong></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; OK，下面此前写的关于KMP算法的第一篇文章中的源码：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(75,75,75);"> 
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//copyright@&nbsp;saturnman</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//updated@&nbsp;2011&nbsp;July</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;"stdafx.h"</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;iostream&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;string&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;&lt;vector&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">using</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">namespace</span><span style="border:none;">&nbsp;std;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;kmp_find(</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;string&amp;&nbsp;target,</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;string&amp;&nbsp;pattern)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;target_length=target.size();&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pattern_length=pattern.size();&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">*&nbsp;overlay_value=</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">new</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">[pattern_length];&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;overlay_value[0]=-1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//remember:next&nbsp;array's&nbsp;first&nbsp;number&nbsp;was&nbsp;-1.</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;index=0;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//next&nbsp;array</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">&nbsp;(</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i=1;i&lt;pattern_length;++i)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//注，此处的i是从1开始的</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index=overlay_value[i-1];&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(index&gt;=0&nbsp;&amp;&amp;&nbsp;pattern[index+1]!=pattern[i])&nbsp;&nbsp;</span><span class="comment" style="border:none;color:rgb(0,130,0);">//remember:!=</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index=overlay_value[index];&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(pattern[index+1]&nbsp;==&nbsp;pattern[i])&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_value[i]=index+1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_value[i]=-1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//mach&nbsp;algorithm&nbsp;start</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pattern_index=0;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;target_index=0;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(pattern_index&lt;pattern_length&nbsp;&amp;&amp;&nbsp;target_index&lt;target_length)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">&nbsp;(target[target_index]&nbsp;==&nbsp;pattern[pattern_index])&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++target_index;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++pattern_index;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(pattern_index==0)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++target_index;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern_index=overlay_value[pattern_index-1]+1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">&nbsp;(pattern_index==pattern_length)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;target_index-pattern_index;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;-1;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">delete</span><span style="border:none;">&nbsp;[]&nbsp;overlay_value;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;main()&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;sourc=<span class="string" style="border:none;color:#0000FF;">"ababc"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;pattern=<span class="string" style="border:none;color:#0000FF;">"abc"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;kmp_find(sourc,pattern)&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;system(<span class="string" style="border:none;color:#0000FF;">"pause"</span><span style="border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;0;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
    </ol>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 由于是abc跟ababc匹配，那么将返回匹配的位置“2”，运行结果如所示：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/9/0_1323418497xll5.gif" alt="" style="border:0px;"></p> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">第四部分、测试</h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 针对上文中第三部分的两段代码测试了下，纠结了，两种求next数组的方法对同一个字符串求next数组各值，得到的结果竟然不一样，如下二图所示：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 1、两种方法对字符串<strong>abab</strong>求next数组各值比较（下图左边为代码实现一内求next数组方法的结果，右边为代码实现二内求next数组方法的结果）：<img src="http://hi.csdn.net/attachment/201112/9/0_1323415780EZsh.gif" alt="" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 2、两种对字符串<strong>abaabcaba</strong>求next数组各值比较（下图左边为代码实现一内求next数组方法的结果，右边为代码实现二内求next数组方法的结果）：<img src="http://hi.csdn.net/attachment/201112/10/0_1323513678bQvB.gif" alt="" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 为何会这样呢，其实很简单，上文中已经有所说明了，<span>代码实现一的i 是从0开始的，代码实现二的i 是从1开始的</span>。但从最终的运行结果来看，暂时还是以代码实现段二为准。</p> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">第五部分、KMP完整准确源码</h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 求next数组各值的方法为：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(75,75,75);"> 
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//copyright@&nbsp;staurman</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//updated@2011&nbsp;July</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;"StdAfx.h"</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;iostream&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;string&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">using</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">namespace</span><span style="border:none;">&nbsp;std;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//solve&nbsp;to&nbsp;the&nbsp;next&nbsp;array</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">void</span><span style="border:none;">&nbsp;compute_overlay(</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;string&amp;&nbsp;pattern)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pattern_length&nbsp;=&nbsp;pattern.size();&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;*overlay_function&nbsp;=&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">new</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">[pattern_length];&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;index;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;overlay_function[0]&nbsp;=&nbsp;-1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">(</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i=1;i&lt;pattern_length;++i)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;=&nbsp;overlay_function[i-1];&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//store&nbsp;previous&nbsp;fail&nbsp;position&nbsp;k&nbsp;to&nbsp;index;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">(index&gt;=0&nbsp;&amp;&amp;&nbsp;pattern[i]!=pattern[index+1])&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;=&nbsp;overlay_function[index];&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(pattern[i]==pattern[index+1])&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_function[i]&nbsp;=&nbsp;index&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_function[i]&nbsp;=&nbsp;-1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">(</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i=0;i&lt;pattern_length;++i)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;overlay_function[i]&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">delete</span><span style="border:none;">[]&nbsp;overlay_function;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//abaabcaba</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;main()&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;pattern&nbsp;=&nbsp;<span class="string" style="border:none;color:#0000FF;">"abaabcaba"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;compute_overlay(pattern);&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;system(<span class="string" style="border:none;color:#0000FF;">"pause"</span><span style="border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;0;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
    </ol>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 运行结果入下图所示：<span>abab的next数组各值是-1，-1,0,1，而非本文第二部分所述的-1,0，-1,0</span>。为什么呢？难道是搬石头砸了自己的脚？</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; NO，上文第四部分末已经详细说明，上处代码i 从0开始，本文第二部分代码i 从1开始。</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/9/0_13234174252zC2.gif" alt="" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; KMP算法完整源码，如下：</p> 
   <div class="dp-highlighter bg_cpp" style="font-family:Consolas, 'Courier New', Courier, mono, serif;font-size:12px;color:rgb(75,75,75);"> 
    <ol style="border:none;color:rgb(92,92,92);">
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//copyright@&nbsp;saturnman</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="comment" style="border:none;color:rgb(0,130,0);">//updated@&nbsp;2011&nbsp;July</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;"stdafx.h"</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;iostream&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&lt;string&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="preprocessor" style="border:none;color:#808080;">#include&nbsp;&lt;vector&gt;</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">using</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">namespace</span><span style="border:none;">&nbsp;std;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;kmp_find(</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;string&amp;&nbsp;target,</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;string&amp;&nbsp;pattern)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;target_length=target.size();&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">const</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pattern_length=pattern.size();&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">*&nbsp;overlay_value=</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">new</span><span style="border:none;">&nbsp;</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">[pattern_length];&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;overlay_value[0]=-1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//remember:next&nbsp;array's&nbsp;first&nbsp;number&nbsp;was&nbsp;-1.</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;index=0;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//next&nbsp;array</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">for</span><span style="border:none;">&nbsp;(</span><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;i=1;i&lt;pattern_length;++i)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//注，此处的i是从1开始的</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index=overlay_value[i-1];&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(index&gt;=0&nbsp;&amp;&amp;&nbsp;pattern[index+1]!=pattern[i])&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index=overlay_value[index];&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(pattern[index+1]&nbsp;==&nbsp;pattern[i])&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_value[i]=index+1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overlay_value[i]=-1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="border:none;color:rgb(0,130,0);">//mach&nbsp;algorithm&nbsp;start</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;pattern_index=0;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;target_index=0;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">while</span><span style="border:none;">&nbsp;(pattern_index&lt;pattern_length&nbsp;&amp;&amp;&nbsp;target_index&lt;target_length)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">&nbsp;(target[target_index]&nbsp;==&nbsp;pattern[pattern_index])&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++target_index;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++pattern_index;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;</span><span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">(pattern_index==0)&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++target_index;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern_index=overlay_value[pattern_index-1]+1;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">if</span><span style="border:none;">&nbsp;(pattern_index==pattern_length)&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;target_index-pattern_index;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">else</span><span style="border:none;">&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;-1;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">delete</span><span style="border:none;">&nbsp;[]&nbsp;overlay_value;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);"><span class="datatypes" style="border:none;">int</span><span style="border:none;">&nbsp;main()&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">{&nbsp;&nbsp;</span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;sourc=<span class="string" style="border:none;color:#0000FF;">"ababc"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;pattern=<span class="string" style="border:none;color:#0000FF;">"abc"</span><span style="border:none;">;&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;kmp_find(sourc,pattern)&lt;&lt;endl;&nbsp;&nbsp;</span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;system(<span class="string" style="border:none;color:#0000FF;">"pause"</span><span style="border:none;">);&nbsp;&nbsp;</span></span></li> 
     <li style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="border:none;color:rgb(0,102,153);font-weight:bold;">return</span><span style="border:none;">&nbsp;0;&nbsp;&nbsp;</span></span></li> 
     <li class="alt" style="border-top:none;border-right:none;border-bottom:none;border-left:3px solid rgb(108,226,108);list-style-type:decimal;color:inherit;line-height:1.6;list-style-position:outside;"><span style="border:none;color:rgb(0,0,0);">}&nbsp;&nbsp;</span></li> 
    </ol>
   </div> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong>运行结果如下：</p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/9/0_13234207304Rm0.gif" alt="" style="border:0px;"></p> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">第六部分、一眼看出字符串的next数组各值</h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 上文已经用程序求出了一个字符串的next数组各值，接下来，稍稍演示下，如何一眼大致判断出next数组各值，以及初步判断某个程序求出的next数组各值是不是正确的。有一点务必注意：<span>下文中的代码全部采取代码实现二，即i是从1开始的</span>。</p> 
   <ul style="list-style:none;font-size:11px;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;">
    <li style="list-style-type:disc;">1、对字符串aba求next数组各值，各位可以先猜猜，-1，...，aba中，a初始化为-1，第二个字符b与a不同也为-1，最后一个字符和第一个字符都是a，所以，我猜其next数组各值应该是-1，-1,0，结果也不出所料，如下图所示：</li>
   </ul>
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/9/0_1323421403lIU8.gif" alt="" style="border:0px;"></p> 
   <ul style="list-style:none;font-size:11px;color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;">
    <li style="list-style-type:disc;">2、字符串“abab”呢，不用猜了，我已经看出来了，当然上文中代码实现一和代码实现二都已经求出来了。如果i 是1开始的话，那么next数组各值将如代码实现二所运行的那样，将是：-1，-1,0,1；</li> 
    <li style="list-style-type:disc;">3、字符串“abaabcaba”呢，next数组如上第三部分代码实现二所述，为-1，-1,0,0,1，-1,0,1,2；</li> 
    <li style="list-style-type:disc;">4、字符串“abcdab”呢，next数组各值将是-1，-1，-1，-1,0,1；</li> 
    <li style="list-style-type:disc;">5、字符串“abcdabc”呢，next数组各值将是-1，-1，-1，-1,0,1,2；</li> 
    <li style="list-style-type:disc;">6、字符串“abcdabcd”呢，那么next数组各值将是-1，-1，-1，-1,0，1,2,3；</li> 
   </ul>
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://hi.csdn.net/attachment/201112/9/0_13234227806AQ4.gif" alt="" style="border:0px;"></p> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 怎么样，看出规律来了没？呵呵，可以用上述第五部分中求next数组的方法自个多试探几次，相信，很快，你也会跟我一样，不用计算，一眼便能看出某个字符串的next数组各值了。如此便恭喜你，理解了next数组的求法，KMP算法也就算是真真正正彻彻底底的理解了（至于如何运用求得的next数组各值来进行kmp算法的匹配的具体方法与过程，请转到本文第二部分。不过，需要你注意的是，本文第二部分的i 是从0开始的）。完。</p> 
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">相关链接</h3> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="font-size:12px;list-style-type:decimal;">KMP之第二篇文章：<a href="http://blog.csdn.net/v_JULY_v/archive/2011/06/15/6545192.aspx" rel="nofollow" style="color:rgb(52,104,164);">六（续）、从KMP算法一步一步谈到BM算法</a>。</li> 
    <li style="font-size:12px;list-style-type:decimal;">KMP之第一篇文章：<a href="http://blog.csdn.net/v_JULY_v/archive/2011/01/01/6111565.aspx" rel="nofollow" style="color:rgb(52,104,164);">六、教你初步了解KMP算法、updated</a>。</li> 
   </ol>
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">我的微博&nbsp;</h3> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    &nbsp; &nbsp; 在结束全文之前，引用下自个微博上（@周磊July，
    <a href="http://weibo.com/julyweibo" rel="nofollow" style="color:rgb(52,104,164);">http://weibo.com/julyweibo</a>）的两段话：
   </div> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="font-size:12px;list-style-type:decimal;">语言-&gt;数据结构-&gt;算法：语言是基础，够啃一辈子，基本的常见的数据结构得了如指掌，最后才是算法。除了算法之外，有更多更重要且更值得学习的东西（最重要的是，学习如何编程）。切勿盲目跟风，找准自己的兴趣点，和领域才是关键。这跟选择职位、与领域并持久做下去，比选择公司更重要一样。选择学什么东西不重要，重要的是你的兴趣。</li> 
    <li style="font-size:12px;list-style-type:decimal;">修订这篇文章之时，个人接触KMP都有一年了，学算法也刚好快一年。想想阿，我弄一个KMP，弄了近一年了，到今天才算是真正彻底理解其思想，可想而知，当初创造这个算法的k、m、p三人是何等不易。我想，有不少读者是因为我的出现而想学算法的，但不可急功近利，切勿妄想算法速成。早已说过，学算法先修心。</li> 
   </ol>
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 以下是发自本人微博上的对此书：MySQL性能调优与架构设计，简朝阳著，做的读书笔记，聊做书斋录，以供闲时翻翻：</p> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="font-size:12px;list-style-type:decimal;"> 
     <div>
      Hash索引在MySQL中使用并不多，目前在Memory和NDB Cluster存储引擎使用。所谓Hash索引，实际上就是通过一定的Hash算法，将须要索引的键值进行Hash运算，然后将得到的Hash值存入Hash表中。检索时，根据Hash表中的Hash值逆Hash运算反馈原键值；
     </div> </li> 
    <li style="font-size:12px;list-style-type:decimal;"> 
     <div>
      InnoDB存储引擎的B-Tree索引使用的存储结构实际上是B+Tree，在B-Tree的基础上做了很小的改造，在每一个LeafNode上除了存放索引键的相关信息，还存储了指向与该LeafNode相邻的后一个LeafNode的指针，此举为了加快检索多个相邻LeafNode的效率；
     </div> </li> 
    <li style="font-size:12px;list-style-type:decimal;"> 
     <div>
      在我的那篇
      <a href="http://blog.csdn.net/v_JULY_v/archive/2011/06/07/6530142.aspx" rel="nofollow" style="color:rgb(52,104,164);"><strong>从B树、B+树、B*树谈到R 树</strong></a>的文章中介绍到了B树与B+树的差别，B+树的叶子节点中除了跟B树一样包含了关键字的信息之外，还包含了指向相邻叶子节点的指针，如此，叶子节点之间就有了联系、有序了。而B*树则更进一筹，兄弟节点间指针；
     </div> </li> 
    <li style="font-size:12px;list-style-type:decimal;"> 
     <div>
      无处不透露着数据结构、与算法思想，数据库也不例外。尤其当涉及到数据库性能优化，则更是如此；
     </div> </li> 
    <li style="font-size:12px;list-style-type:decimal;"> 
     <div>
      又喝了半碗白酒，吃完火锅，叼根烟，同学的手艺实在太好了。来北京初带的钱也即将马上用完了，工作一时还无法定。多亏了同学。再趁着微微酒力，提个问题：我们知道，Hash索引的效率比B-Tree高很多，而为什么大家都不用Hash索引而还要使用B-Tree索引呢?稳定?你能说出几个原因呢?
     </div> </li> 
   </ol>
   <h3 style="background:rgb(255,255,255) url(&quot;images/title.gif&quot;) no-repeat fixed left top;font-family:verdana;font-size:16px;color:rgb(102,102,102);line-height:1.5;">后记</h3> 
   <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 相信，看过此文后，无论是谁，都一定可以把KMP算法搞懂了（但万一还是有读者没有搞懂，那怎么办呢？还有最后一个办法：把<span>本文打印下来，再仔细琢磨</span>。如果是真真正正想彻底弄懂某一个东西，那么必须付出些代价。但万一要是打印下来了却还是没有弄懂呢？那来北京找我吧，我手把手教你。祝好运）。</p> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    &nbsp; &nbsp; &nbsp;OK，扯远了。本文文中有关任何问题或错误，烦请不吝赐教与指正。谢谢，完。
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    &nbsp;
   </div> 
   <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">
    &nbsp;&nbsp;&nbsp; July、二零一一年十二月五日中午。
   </div> 
   <div> 
    <div style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"> 
     <hr>
    </div> 
    <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;"><span>&nbsp;&nbsp;&nbsp; updated</span>：读者Challenge_C_PlusPlus我觉得您还需提炼一下问题的实质。一个KMP算法，说白了就记住一点“<span>构造最大后缀长度数组</span>”，记住这一点，即使实际招聘让我们写这个算法也是可以写出来的。这个KMP讲得太长了，应该可以再精简很多，简而明白。</p> 
    <p style="color:rgb(75,75,75);font-family:Verdana, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;&nbsp;&nbsp; 没错，本文也确实写得太过繁杂冗余了，更的确可以精简，我有负读者了，sorry，严重致歉。July、二零一二年五月十八日。</p> 
    <p><font color="#4b4b4b"><span style="font-size:13px;">本文转自博客园知识天地的博客，原文链接：<a href="http://www.cnblogs.com/mfryf/archive/2012/08/15/2639565.html" rel="nofollow">两种方法实现KMP算法（必懂KMP）</a>，如需转载请自行联系原博主。</span></font><br></p> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
