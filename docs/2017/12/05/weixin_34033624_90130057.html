<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>F# 20分钟快速上手（二） « NotBeCN</title>
  <meta name="description" content="             这是系列文章的第二篇，读完本文后，您应当能够具备相当的阅读F#代码的能力。如果您没有看过第一篇，请看这里。    1.不可变性（Immutability） 您也许已经注意到，我一直使用“值（value）”来表示一个标识符（identifier），而不是“变量（variable）”。这是由...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/05/weixin_34033624_90130057.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">F# 20分钟快速上手（二）</h1>
    <p class="post-meta">Dec 5, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这是系列文章的第二篇，读完本文后，您应当能够具备相当的阅读F#代码的能力。如果您没有看过第一篇，请看<a href="http://www.cnblogs.com/anderslly/archive/2008/08/03/fs-in-20-minutes.html" rel="nofollow" style="text-decoration:none;color:rgb(255,0,255);border-bottom-width:1px;border-bottom-style:dashed;">这里</a>。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>1.不可变性（Immutability）</strong><br> 您也许已经注意到，我一直使用“值（value）”来表示一个标识符（identifier），而不是“变量（variable）”。这是由于默认情况下，F#中的类型是不可变的（immutable），也就是说，一经创建即不可修改。看起来这是一个很大的限制，但是不可变性可以避免<a style="border-bottom-width:1px;border-bottom-style:dashed;color:rgb(255,153,204);"></a><a href="http://blogs.gotdotnet.com/jomo_fisher/archive/2007/05/16/leaky-functions-barrel-of-bugs.aspx" rel="nofollow" style="text-decoration:none;color:rgb(255,0,255);border-bottom-width:1px;border-bottom-style:dashed;">某种类型的bug</a><a href="http://blogs.gotdotnet.com/jomo_fisher/archive/2007/05/16/leaky-functions-barrel-of-bugs.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"></a>。另外，不可变的数据天然地具备线程安全的特性，这意味着您无需在处理并行情况时担心同步锁的发生。我将在系列的第三篇中介绍异步编程。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">如果您确实需要修改数据，可使用F#的mutable关键字，它会创建一个变量（而不是值）。我们可以通过左箭头操作符（&lt;-）来修改变量的值。&nbsp;<br></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">&gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">mutable</span>
    <span style="line-height:1.5;">&nbsp;x =&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">the original value.</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">mutable</span>
    <span style="line-height:1.5;">&nbsp;x :&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br> &gt; printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">x's value is '%s'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;x;;<br> x</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">s value is&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">the original value.</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it : unit = ()<br><br> &gt; x&nbsp;</span>
    <span style="line-height:1.5;">&lt;-</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">the new one.</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it : unit = ()<br> &gt; printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">x's value is now '%s'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;x;;<br> x</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">s value is now&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">the&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">new</span>
    <span style="line-height:1.5;">&nbsp;one.</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it : unit = ()</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong></strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>2. 引用值（Reference values，Microsoft.FSharp.Core.Ref&lt;_&gt;）</strong>&nbsp;<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">引用值是另一种表示可修改数据的方式。但它不是将变量存储在堆栈（stack），引用值其实是一个指向存储在堆（heap）上的变量的指针（pointer）。在F#中使用可修改的值时会有些限制（比如不可以在内部lambda表达式中使用）。而ref对象则可被安全地传递，因为它们是不可变的record值（只是它有一个可修改的字段）。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">使用引用值时，用“:=”赋一个新值，使用“!”进行解引用。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">&gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;refCell = ref&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">42</span>
    <span style="line-height:1.5;">;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;refCell :&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;ref<br><br> &gt; refCell := -</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it : unit = ()<br><br> &gt; !refCell;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it :&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;= –</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>3. 模块（Modules）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在<a href="http://www.cnblogs.com/anderslly/archive/2008/08/03/fs-in-20-minutes.html" rel="nofollow" style="text-decoration:none;color:rgb(255,0,255);border-bottom-width:1px;border-bottom-style:dashed;">上篇文章</a>中，我只是随意地声明了几个值和函数。您也许会问，“要把它们放在哪里呢？”，因为在C#中所有一切都要属于相应的类。尽管在F#中，我们仍然可以用熟悉的方式声明标准的.NET类，但它也有模块的概念，模块是值、函数和类型的集合（可以对比一下命名空间，后者只能包含类型）。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">这也是我们能够访问“List.map”的原因。在F#库（FSharp.Core.dll）中，有一个名为“List”的模块，它包含了函数“map”。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在快速开发的过程中，如果不需要花费时间去设计严格的面向对象类型体系，就可以采用模块来封装代码。要声明自己的模块，要使用module关键字。在下面的例子中，我们将为模块添加一个可修改的变量，该变量也是一个全局变量。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">module</span>
    <span style="line-height:1.5;">&nbsp;ProgramSettings =<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;version =&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">1.0.0.0</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;debugMode = ref&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;"><br><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">module</span>
    <span style="line-height:1.5;">&nbsp;MyProgram =<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">do</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Version %s</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;ProgramSettings.version<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">open</span>
    <span style="line-height:1.5;">&nbsp;ProgramSettings<br> &nbsp;&nbsp;&nbsp; debugMode :=&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">&nbsp;<br></span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>4. 元组（Tuples）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">元组（tuple，发音为‘two-pull’）表示值的有序集合，而这些值可看作一个整体。按传统的方式，如果您要传递一组相关的值，需要创建结构（struct）或类（class），或者还需要“out”参数。使用元组我们可以将相关的值组织起来，同时并不需要引入新的类型。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">要定义一个元组，只要将一组值用逗号分隔，并用圆括号把它们括起来即可。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">&gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;tuple&nbsp;=&nbsp;(</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">text</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">);;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;tuple&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">bool</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br><br> &gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;getNumberInfo&nbsp;(x&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">)&nbsp;=&nbsp;(x,&nbsp;x.ToString(),&nbsp;x&nbsp;*&nbsp;x);;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;getNumberInfo&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;"><br><br> &gt;&nbsp;getNumberInfo&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">42</span>
    <span style="line-height:1.5;">;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;=&nbsp;(</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">42</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">42</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1764</span>
    <span style="line-height:1.5;">)</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">函数甚至可以接受元组为参数：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">&gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;printBlogInfo&nbsp;(owner,&nbsp;title,&nbsp;url)&nbsp;=&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">%s's&nbsp;blog&nbsp;[%s]&nbsp;is&nbsp;online&nbsp;at&nbsp;'%s'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;owner&nbsp;title&nbsp;url;;&nbsp;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;printBlogInfo&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;unit&nbsp;<br><br> &gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;myBlog&nbsp;=&nbsp;(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Chris</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Completely&nbsp;Unique&nbsp;View</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">http://blogs.msdn.com/chrsmith</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">);;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;myBlog&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br><br> &gt;&nbsp;printBlogInfo&nbsp;myBlog;;<br> Chris</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">s&nbsp;blog&nbsp;[Completely&nbsp;Unique&nbsp;View]&nbsp;is&nbsp;online&nbsp;at&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">http:</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">blogs.msdn.com/chrsmith'</span>
    <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it&nbsp;:&nbsp;unit&nbsp;=&nbsp;()</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>5. 函数柯里化（Function Currying）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#提供的一个新奇的特性是可以只接受参数的一个子集，而接受部分参数的结果则是一个新的函数。这就是所谓的“函数柯里化”。比如，假设有一个函数接受3个整数，返回它们的和。我们可以只传入第一个参数，假设值为10，这样我们就可以说将原来的函数柯里化了，而它会返回一个新的函数——新函数接受两个整数，返回它们与10的和。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">&gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;addThree&nbsp;x&nbsp;y&nbsp;z&nbsp;=&nbsp;x&nbsp;+&nbsp;y&nbsp;+&nbsp;z;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;addThree&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;"><br><br> &gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;addTwo&nbsp;x&nbsp;y&nbsp;=&nbsp;addThree&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;y;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;addTwo&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;"><br><br> &gt;&nbsp;addTwo&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">;;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">12</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>6. Union类型（Union Types，Discriminated Unions）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">考虑下面的枚举值：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">enum</span>
    <span style="line-height:1.5;">&nbsp;CardSuit&nbsp;{&nbsp;Spade&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">,&nbsp;Club&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">,&nbsp;Heart&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
    <span style="line-height:1.5;">,&nbsp;Diamond&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">4</span>
    <span style="line-height:1.5;">};</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">理论上，一个card实例只有一种可能的取值，但由于enum本质上只是整数，您不能确定它的值是否是有效的，在C#中，你可以这么写：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">CardSuit&nbsp;invalid1&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;(CardSuit)&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">9000</span>
    <span style="line-height:1.5;">;<br> CardSuit&nbsp;invalid2&nbsp;</span>
    <span style="line-height:1.5;">=</span>
    <span style="line-height:1.5;">&nbsp;CardSuit.Club&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;CardSuit.Diamond;</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">另外，考虑下面的情形。如果您需要扩展一个enum：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">enum</span>
    <span style="line-height:1.5;">&nbsp;Title&nbsp;{&nbsp;Mr,&nbsp;Mrs&nbsp;}</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">Title枚举可以工作地很好，但一段时间后，如果需要添加一个“Ms”值，那么每一个switch语句都面临一个潜在的bug。当然您可以尝试修复所有的代码，却难免会发生遗漏。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">枚举可以很好地表达某些概念，但是却无法提供足够的编译器检查。F#中的Union类型可设定为一组有限的值：数据标签（data tag）。例如，考虑一个表示微软员工的Union：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">type</span>
    <span style="line-height:1.5;">&nbsp;MicrosoftEmployee&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;BillGates<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;SteveBalmer<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Worker&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">of</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Lead&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">of</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;MicrosoftEmployee&nbsp;list&nbsp;</span>
    <br>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">如果有一个MicrosoftEmployee类型的实例，您就知道它必定是{BillGates，SteveBalmer，Worker，Lead}之一。另外，如果它是Worker，您可以知道有一个字符串与之关联，也许是他的名字。我们可以轻松地创建Union类型，而后使用模式匹配（下一小节）来匹配它们的值。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;myBoss&nbsp;=&nbsp;Lead(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Yasir</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">,&nbsp;[Worker(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Chris</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">);&nbsp;Worker(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Matteo</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">);&nbsp;Worker(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Santosh</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">)])<br><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;printGreeting&nbsp;(emp&nbsp;:&nbsp;MicrosoftEmployee)&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">match</span>
    <span style="line-height:1.5;">&nbsp;emp&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">with</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;BillGates&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;Bill</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;SteveBalmer&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;Steve</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Worker(name)&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Lead(name,&nbsp;_)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;%s</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;name</span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">现在假设需要扩展Union类型：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">type</span>
    <span style="line-height:1.5;">&nbsp;MicrosoftEmployee&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;BillGates<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;SteveBalmer<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Worker&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">of</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Lead&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">of</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;MicrosoftEmployee&nbsp;list<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;ChrisSmith</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们会看到一些编译器警告信息：</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><a href="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_13D34/extendUnionWarning_2.png" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;"><img alt="extendUnionWarning" src="https://images.cnblogs.com/cnblogs_com/anderslly/WindowsLiveWriter/F20_13D34/extendUnionWarning_thumb.png" width="596" height="103" style="border:0px none;"></a></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">编译器检测到您没有匹配Union的每一个数据标签，发出了警告。像这样的检查会避免很多bug，要了解</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">更多的关于Union类型的信息，看<a href="http://blogs.msdn.com/chrsmith/archive/2008/04/18/a-java-to-x86-compiler-written-in-f.aspx" rel="nofollow" style="text-decoration:none;color:rgb(255,0,255);border-bottom-width:1px;border-bottom-style:dashed;"></a><a style="border-bottom-width:1px;border-bottom-style:dashed;color:rgb(255,0,255);"></a><a href="http://blogs.msdn.com/chrsmith/archive/2008/04/18/a-java-to-x86-compiler-written-in-f.aspx" rel="nofollow" style="text-decoration:none;color:rgb(255,0,255);border-bottom-width:1px;border-bottom-style:dashed;">这篇文章</a>。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>7. 模式匹配（Pattern Matching）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">模式匹配看起来像是增强版的switch语句，允许您完成分支型控制流程。除了跟常数值进行比较外，还可以捕获新的值。比如在前面的例子中，我们在匹配Union数据标签时绑定了标识符“name”。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;printGreeting&nbsp;(emp&nbsp;:&nbsp;MicrosoftEmployee)&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">match</span>
    <span style="line-height:1.5;">&nbsp;emp&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">with</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;BillGates&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;Bill</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;SteveBalmer&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;Steve</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Worker(name)&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;Lead(name,&nbsp;_)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Hello,&nbsp;%s</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;name&nbsp;<br></span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">还可以对数据的“结构”进行匹配，比如对列表（list）进行匹配。（还记得吗，x :: y表示x为列表的一个元素，y是x之后的元素，而[]则是空列表。）</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;listLength&nbsp;aList&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">match</span>
    <span style="line-height:1.5;">&nbsp;aList&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">with</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;[]&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;a&nbsp;::&nbsp;[]&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;a&nbsp;::&nbsp;b&nbsp;::&nbsp;[]&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;a&nbsp;::&nbsp;b&nbsp;::&nbsp;c&nbsp;::&nbsp;[]&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">3</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;_&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;failwith&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">List&nbsp;is&nbsp;too&nbsp;big!</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;<br></span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在这个匹配的最后，我们使用了通配符“_”（下划线），它匹配任意值。如果aList变量包含多于三个的元素，最后的模式子句将执行，并抛出一个异常。模式匹配还可以我们执行任意表达式来确定模式是否匹配（如果表达式的值为false，则不匹配）。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;isOdd&nbsp;x&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">match</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">with</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;_&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">when</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;%&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">0</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">false</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;_&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">when</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;%&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">2</span>
    <span style="line-height:1.5;">&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">true</span>
    <span style="line-height:1.5;">&nbsp;<br></span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">我们甚至可以使用动态类型测试进行匹配：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;getType&nbsp;(x&nbsp;:&nbsp;obj)&nbsp;=<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">match</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">with</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;:?&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">x&nbsp;is&nbsp;a&nbsp;string</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;:?&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">x&nbsp;is&nbsp;a&nbsp;int</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;:?&nbsp;System.Exception&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">x&nbsp;is&nbsp;an&nbsp;exception</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;:?&nbsp;_&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">invalid&nbsp;type</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;<br></span> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>8. 记录类型（Records）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在声明包含若干个公有属性的类型时，记录类型是一种轻量级的方式。它的一个优势是，借助于类型推演系统，编译器可以通过值的声明得出适当的记录类型。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">type</span>
    <span style="line-height:1.5;">&nbsp;Address&nbsp;=&nbsp;{Name&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">;&nbsp;Address&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">;&nbsp;Zip&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">}<br></span> 
    <p style="line-height:1.8;"><span style="line-height:1.8;color:rgb(0,0,255);">let</span><span style="line-height:1.8;">&nbsp;whiteHouse&nbsp;=&nbsp;{Name&nbsp;=&nbsp;</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">The&nbsp;White&nbsp;House</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;">;&nbsp;Address&nbsp;=&nbsp;</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1600&nbsp;Pennsylvania&nbsp;Avenue</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;">;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Zip&nbsp;=&nbsp;</span><span style="line-height:1.8;color:rgb(128,0,128);">20500</span><span style="line-height:1.8;">}&nbsp;</span></p> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在上面的例子中，首先定义了“Address”类型，那么在声明它的实例时，无须显式地使用类型注解，编译器可根据字段（属性）的名称自行得出类型的信息。所以whiteHouse的类型为Address。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>9. Forward Pipe Operator（|&gt;）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">|&gt;操作符只是简单地定义为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;(</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&gt;)&nbsp;x&nbsp;f&nbsp;=&nbsp;f&nbsp;x</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">其类型前面信息为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">a&nbsp;-&gt;&nbsp;(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">a&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">b)&nbsp;-&gt;&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">'</span>
    <span style="line-height:1.5;">b</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可以这么来理解：x的类型为'a，函数f接受'a类型的参数，返回类型为'b，操作符的结果就是将x传递给f后所求得的值。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">还是来看个例子吧：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;Take&nbsp;a&nbsp;number,&nbsp;square&nbsp;it,&nbsp;then&nbsp;convert&nbsp;it&nbsp;to&nbsp;a&nbsp;string,&nbsp;then&nbsp;reverse&nbsp;that&nbsp;string</span>
    <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;square&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;x&nbsp;*&nbsp;x<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;toStr&nbsp;(x&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">)&nbsp;&nbsp;=&nbsp;x.ToString()<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;rev&nbsp;&nbsp;&nbsp;(x&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">)&nbsp;=&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">new</span>
    <span style="line-height:1.5;">&nbsp;String(Array.rev&nbsp;(x.ToCharArray()))<br><br></span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">&nbsp;32&nbsp;-&gt;&nbsp;1024&nbsp;-&gt;&nbsp;"1024"&nbsp;-&gt;&nbsp;"4201"</span>
    <span style="color:rgb(0,128,0);line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;result&nbsp;=&nbsp;rev&nbsp;(toStr&nbsp;(square&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">32</span>
    <span style="line-height:1.5;">))</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上面的代码是很直白的，但语法看起来却不太好。我们所做的就是将一个运算的结果传给下一个运算。我们可以通过引入几个变量来改写代码为：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;step1&nbsp;=&nbsp;square&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">32</span>
    <span style="line-height:1.5;"><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;step2&nbsp;=&nbsp;toStr&nbsp;step1<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;step3&nbsp;=&nbsp;rev&nbsp;step2<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;result&nbsp;=&nbsp;step3</span>&nbsp;
    <br>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">但是我们需要维护这几个临时变量。|&gt;操作符接受一个值，将其“转交”给一个函数。这会大大地简化F#代码：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;result&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">32</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&gt;&nbsp;square&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&gt;&nbsp;toStr&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&gt;&nbsp;rev</span>&nbsp;
    <br>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>10. 序列（Sequence，System.Collections.Generic.IEnumerator&lt;_&gt;）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">序列（在F#中为seq）是 System.Collections.Generic.IEnumerator的别名，但它在F#中有另外的作用。不像列表和数组，序列可包含无穷个值。只有当前的值保存在内存中，一旦序列计算了下个值，当前的值就会被忘记（丢弃）。例如，下面的代码生成了一个包含所有整数的序列。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;allIntegers&nbsp;=&nbsp;Seq.init_infinite&nbsp;(</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">fun</span>
    <span style="line-height:1.5;">&nbsp;i&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;i)</span>&nbsp;
    <br>
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>11. 集合（Collections：Seq，List，Array）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">在F#中，如果您想表示一个值的集合，至少有三个好的选择——数组、列表和序列，它们都有各自的优点。而且每种类型都有一系列的模块内置于F#库中。您可以使用VS的智能感知来探究这些方法，这里我们来看看最常用的那些：</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>iter</strong>。“iter”函数遍历集合的每一项。这与“foreach”循环是一致的。下面的代码打印列表的每一项：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">List.iter&nbsp;(</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">fun</span>
    <span style="line-height:1.5;">&nbsp;i&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Has&nbsp;element&nbsp;%d</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;i)&nbsp;[</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>map</strong>。像我在<a href="http://www.cnblogs.com/anderslly/archive/2008/08/03/fs-in-20-minutes.html" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">上篇文章</a>中所说的，map函数基于一个指定的函数对集合的值进行转换。下面的例子将数组的整数值转换为它们的字符串表示：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">Array.map&nbsp;(</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">fun</span>
    <span style="line-height:1.5;">&nbsp;(i&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">)&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;i.ToString())&nbsp;[</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">]</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>fold</strong>。“fold”函数接受一个集合，并将集合的值折叠为单个的值。像iter和map一样，它接受一个函数，将其应用于集合的每个元素，但它还接受另一个“accumulator”参数。fold函数基于上一次运算不断地累积accumulator参数的值。看下面的例子：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="line-height:1.5;">Seq.fold&nbsp;(</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">fun</span>
    <span style="line-height:1.5;">&nbsp;acc&nbsp;i&nbsp;</span>
    <span style="line-height:1.5;">-&gt;</span>
    <span style="line-height:1.5;">&nbsp;i&nbsp;+&nbsp;acc)&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">&nbsp;{&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">&nbsp;..&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">10</span>
    <span style="line-height:1.5;">&nbsp;}</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">该代码的功能是：以10为基数（acculator），累加序列中的每一项。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">只有序列有fold方法，列表和数组则有fold_left和fold_right方法。它们的不同之处在于计算顺序的不同。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>12. 可选值（Option Values）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">基于函数式编程的特点，在F#中很难见到null值。但有些情况下，null值比未初始化变量更有意义。有时可选值则表示值未提供（可选值就像C#中的nullable类型）。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">F#中的“可选类型（option type）”有两种状态：“Some”和“None”。在下面的记录类型Person中，中间的字段可能有值，也可能没有值。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">type</span>
    <span style="line-height:1.5;">&nbsp;Person&nbsp;=&nbsp;{&nbsp;First&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">;&nbsp;MI&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;option;&nbsp;Last&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">string</span>
    <span style="line-height:1.5;">&nbsp;}<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;billg&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{First&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Bill</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;&nbsp;MI&nbsp;=&nbsp;Some(</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">H</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">);&nbsp;Last&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Gates</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;}<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;chrsmith&nbsp;=&nbsp;{First&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Chris</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;MI&nbsp;=&nbsp;None;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Last&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Smith</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">&nbsp;}&nbsp;<br></span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><strong>13. 延迟求值（惰性值，Lazy Values，Microsoft.FSharp.Core.Lazy&lt;_&gt;）</strong></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">延迟初始化表示一些值，它们在需要时才进行计算。F#拥有延迟求值特性。看下面的例子，“x”是一个整数，当对其进行求值时会打印“Computed”。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
    <span style="line-height:1.5;">&gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;=&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">lazy</span>
    <span style="line-height:1.5;">&nbsp;(printfn&nbsp;</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">Computed.</span>
    <span style="color:rgb(128,0,0);line-height:1.5;">"</span>
    <span style="line-height:1.5;">;&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">42</span>
    <span style="line-height:1.5;">);;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;x&nbsp;:&nbsp;Lazy&lt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&gt;<br><br> &gt;&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;listOfX&nbsp;=&nbsp;[x;&nbsp;x;&nbsp;x];;<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;listOfX&nbsp;:&nbsp;Lazy&lt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&gt;&nbsp;list<br><br> &gt;&nbsp;x.Force();;<br> Computed.<br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">val</span>
    <span style="line-height:1.5;">&nbsp;it&nbsp;:&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;=&nbsp;</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">42</span>&nbsp;
    <br>
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(61,129,238);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border-style:none;"></a></span>
    </div> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">可以看到，我们在调用“Force”方法时，对x进行求值，返回的值是42。您可以使用延迟初始化来避免不必要的计算。另外在构造递归值时，也很有用。例如，考虑一个Union值，它用来表示循环列表：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <span style="color:rgb(0,0,255);line-height:1.5;">type</span>
    <span style="line-height:1.5;">&nbsp;InfiniteList&nbsp;=<br></span>
    <span style="line-height:1.5;">|</span>
    <span style="line-height:1.5;">&nbsp;ListNode&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">of</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">int</span>
    <span style="line-height:1.5;">&nbsp;*&nbsp;InfiniteList<br><br></span>
    <span style="color:rgb(0,0,255);line-height:1.5;">let</span>
    <span style="line-height:1.5;">&nbsp;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">rec</span>
    <span style="line-height:1.5;">&nbsp;circularList&nbsp;=&nbsp;ListNode(</span>
    <span style="color:rgb(128,0,128);line-height:1.5;">1</span>
    <span style="line-height:1.5;">,&nbsp;circularList)</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">“circularList”拥有对自身的引用（表示一个无限循环）。不使用延迟初始化的话，声明这样类型的值是不可能的。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">现在，您应该对F#的基础有了足够的了解了，下一步，在系列文章的第三部分中，我们将学习一些高级主题——一些F#能做而其他的.NET语言不能做的事情，敬请期待！</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">原文链接：<a href="http://blogs.msdn.com/chrsmith/archive/2008/05/09/f-in-20-minutes-part-ii.aspx" rel="nofollow" style="text-decoration:none;color:rgb(61,129,238);border-bottom-width:1px;border-bottom-style:dashed;">F# in 20 Minutes – Part II</a>。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br></p> 
   <p style="line-height:1.8;"><font color="#333333"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：http://www.cnblogs.com/anderslly/archive/2008/08/10/fs-in-20-minutes-core.html，如需转载请自行联系原作者。</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
