<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>缓存篇(Cache)~第三回　HttpModule实现网页的文件级缓存 « NotBeCN</title>
  <meta name="description" content="             再写完缓存篇第一回之后，得到了很多朋友的好评和来信，所以，决定加快步伐，尽快把剩下的文章写完，本篇是第三回，主要介绍使用HttpModule实现的文件级缓存，在看本文之前，大家需要限度HttpModule有一个了解，可以先看我的这篇文章《开发人员应该对IIS理论层的知识了解的多一些~第四...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/12/07/weixin_34023982_90135112.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">缓存篇(Cache)~第三回　HttpModule实现网页的文件级缓存</h1>
    <p class="post-meta">Dec 7, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">再写完缓存篇第一回之后，得到了很多朋友的好评和来信，所以，决定加快步伐，尽快把剩下的文章写完，本篇是第三回，主要介绍使用HttpModule实现的文件级缓存，在看本文之前，大家需要限度HttpModule有一个了解，可以先看我的这篇文章《<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/lori/p/4012987.html" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">开发人员应该对IIS理论层的知识了解的多一些~第四讲 HttpModule中的几大事件》</a></p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">对于文件级缓存来说，我们要知道两点，一为文件的ＵＲＬ，二为文件的</p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">下面是HttpModuleCache的核心代码</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
    <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> CacheHttpModule类
    </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">internal</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> CacheHttpModule : IHttpModule
    {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> Dispose()
        {
        }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> List&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt;<span style="line-height:1.5;"> listNeedCacheExtend;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">string</span> stringClearCache = <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">zzl</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">域名中第一段 url 如果是此字符，则表示此次请求是清除缓存 如： </span><span style="color:rgb(0,128,0);text-decoration:underline;line-height:1.5;">http://www.domain.com/zzl/</span><span style="color:rgb(0,128,0);line-height:1.5;">*******</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> Init(HttpApplication context)
        {
            context.BeginRequest </span>+= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> EventHandler(context_BeginRequest);
            context.ReleaseRequestState </span>+= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> EventHandler(context_ReleaseRequestState);

            listNeedCacheExtend </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> List&lt;<span style="color:rgb(0,0,255);line-height:1.5;">string</span>&gt;<span style="line-height:1.5;">();
            </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> extends = WebConfig.GetUserSection(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">CacheInfo</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">ExtendTypes</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">.html|.htm</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">foreach</span> (<span style="color:rgb(0,0,255);line-height:1.5;">string</span> s <span style="color:rgb(0,0,255);line-height:1.5;">in</span> extends.Split(<span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="color:rgb(128,0,0);line-height:1.5;">|</span><span style="color:rgb(128,0,0);line-height:1.5;">'</span><span style="line-height:1.5;">))
            {
                </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (!<span style="color:rgb(0,0,255);line-height:1.5;">string</span>.IsNullOrEmpty(s) &amp;&amp; !<span style="line-height:1.5;">listNeedCacheExtend.Contains(s.Trim()))
                    listNeedCacheExtend.Add(s.Trim());
            }

        }

        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span> context_BeginRequest(<span style="color:rgb(0,0,255);line-height:1.5;">object</span><span style="line-height:1.5;"> sender, EventArgs e)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">var</span> application =<span style="line-height:1.5;"> (HttpApplication)sender;

            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (IsNeedCache(application)) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">检测当前请求是否需缓存</span>
<span style="line-height:1.5;">            {
                </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> key = <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">.Empty; ;
                </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> extend =<span style="line-height:1.5;"> VirtualPathUtility.GetExtension(application.Context.Request.FilePath).ToLower();
                </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (IsClearCache(application, <span style="color:rgb(0,0,255);line-height:1.5;">out</span><span style="line-height:1.5;"> key))
                {
                    </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (CacheManage.Container(key, extend))<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">缓存中存在，则清除缓存，结束请求</span>
<span style="line-height:1.5;">                    {
                        application.Context.Response.Write(CacheManage.Remove(key, extend));
                    }
                    application.CompleteRequest();
                }
                </span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;">
                {
                    </span><span style="color:rgb(0,0,255);line-height:1.5;">#region</span> 使用页面压缩<span style="line-height:1.5;">

                    ResponseCompressionType compressionType </span>= <span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.GetCompressionMode(application.Context.Request);
                    </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (compressionType !=<span style="line-height:1.5;"> ResponseCompressionType.None)
                    {
                        application.Context.Response.AppendHeader(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Content-Encoding</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">, compressionType.ToString().ToLower());
                        </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (compressionType ==<span style="line-height:1.5;"> ResponseCompressionType.GZip)
                        {
                            application.Context.Response.Filter </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> GZipStream(application.Context.Response.Filter, CompressionMode.Compress);
                        }
                        </span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;">
                        {
                            application.Context.Response.Filter </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> DeflateStream(application.Context.Response.Filter, CompressionMode.Compress);
                        }
                    }

                    </span><span style="color:rgb(0,0,255);line-height:1.5;">#endregion</span>
                    <span style="color:rgb(0,0,255);line-height:1.5;">if</span> (CacheManage.Container(key, extend))<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">缓存中存在，则直接返回内容，结束请求</span>
<span style="line-height:1.5;">                    {
                        CacheManage.Write(application, key);
                        application.CompleteRequest();
                    }
                }



            }
        }

        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 检测当前请求是否需缓存,如果是则将此次结果添加至缓存,如果此次请求出错，不会执行至此
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="sender"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="e"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span> context_ReleaseRequestState(<span style="color:rgb(0,0,255);line-height:1.5;">object</span><span style="line-height:1.5;"> sender, EventArgs e)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">var</span> application =<span style="line-height:1.5;"> (HttpApplication)sender;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (application.Context.Response.StatusCode == <span style="color:rgb(128,0,128);line-height:1.5;">200</span><span style="line-height:1.5;">)
            {
                </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> strT = <span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">;
                </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> extend =<span style="line-height:1.5;"> VirtualPathUtility.GetExtension(application.Context.Request.FilePath).ToLower();
                </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (IsNeedCache(application) &amp;&amp; !IsClearCache(application, <span style="color:rgb(0,0,255);line-height:1.5;">out</span><span style="line-height:1.5;"> strT))
                {
                    </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> key =<span style="line-height:1.5;"> application.Context.Request.Url.AbsoluteUri;
                    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">是否需要添加缓存，</span>
                    <span style="color:rgb(0,0,255);line-height:1.5;">if</span> (!<span style="line-height:1.5;">CacheManage.Container(key, extend))
                    {
                        application.Context.Response.Filter </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> ResponseFilter(application.Context.Response.Filter, key, extend, application.Context.Response.ContentEncoding);
                    }
                }
            }
        }

        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span> context_EndRequest(<span style="color:rgb(0,0,255);line-height:1.5;">object</span><span style="line-height:1.5;"> sender, EventArgs e)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">var</span> application =<span style="line-height:1.5;"> (HttpApplication)sender;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> key =<span style="line-height:1.5;"> application.Context.Request.Url.AbsoluteUri;
            application.Context.Response.Write(</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">&lt;Br&gt;CacheMdule EndRequest</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">);
        }

        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 检测当前请求类型(url扩展名)确定是否需缓存
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 如果类型需缓存，但扩展名是html或htm且存在相对应的物理文件的，不执行缓存操作
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="strFilePath"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span><span style="line-height:1.5;"> IsNeedCache(HttpApplication application)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">bool</span> boolNeedCache = <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> stringExtend =<span style="line-height:1.5;"> VirtualPathUtility.GetExtension(application.Context.Request.FilePath).ToLower();
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (<span style="color:rgb(0,0,255);line-height:1.5;">null</span> != listNeedCacheExtend) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">url扩展名是否满足条件</span>
<span style="line-height:1.5;">            {
                boolNeedCache </span>=<span style="line-height:1.5;"> listNeedCacheExtend.Contains(stringExtend);
            }

            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> (boolNeedCache)
            {
                </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (stringExtend == <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">.html</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> || stringExtend == <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">.htm</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">)
                {
                    </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (System.IO.File.Exists(application.Context.Request.PhysicalPath)) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">存在对应物理文件</span>
<span style="line-height:1.5;">                    {
                        boolNeedCache </span>= <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">;
                    }
                }
            }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> boolNeedCache;
        }

        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 检测当次请求是否是清除缓存的 
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> True 清除缓存  False  不是清除缓存的
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="application"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="url"&gt;</span><span style="color:rgb(0,128,0);line-height:1.5;">真实的URL地址</span><span style="color:rgb(128,128,128);line-height:1.5;">&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">bool</span> IsClearCache(HttpApplication application, <span style="color:rgb(0,0,255);line-height:1.5;">out</span> <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;"> url)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">bool</span> boolClearCache = <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">;
            url </span>=<span style="line-height:1.5;"> application.Context.Request.Url.AbsoluteUri;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> domain =<span style="line-height:1.5;"> application.Context.Request.Url.Host;
            Regex regex </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> Regex(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">http://</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> + domain + <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">/</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> + stringClearCache + <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">/</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>, RegexOptions.Singleline | RegexOptions.Compiled |<span style="line-height:1.5;"> RegexOptions.IgnoreCase);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;"> (regex.IsMatch(url))
            {
                boolClearCache </span>= <span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">;
                url </span>= <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">http://</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> + domain + <span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">/</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> + url.Replace(regex.Match(url).Captures[<span style="color:rgb(128,0,128);line-height:1.5;">0</span>].Value, <span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">.Empty);
            }
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> boolClearCache;
        }


        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span><span style="color:rgb(0,128,0);line-height:1.5;"> 获取客户端支持的压缩类型
        </span><span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;/summary&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;param name="request"&gt;&lt;/param&gt;</span>
        <span style="color:rgb(128,128,128);line-height:1.5;">///</span> <span style="color:rgb(128,128,128);line-height:1.5;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">private</span><span style="line-height:1.5;"> ResponseCompressionType GetCompressionMode(System.Web.HttpRequest request)
        {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">string</span> acceptEncoding = request.Headers[<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">Accept-Encoding</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">];
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (<span style="color:rgb(0,0,255);line-height:1.5;">string</span><span style="line-height:1.5;">.IsNullOrEmpty(acceptEncoding))
                </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> ResponseCompressionType.None;

            acceptEncoding </span>=<span style="line-height:1.5;"> acceptEncoding.ToUpperInvariant();
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (acceptEncoding.Contains(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">GZIP</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">))
                </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> ResponseCompressionType.GZip;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">else</span> <span style="color:rgb(0,0,255);line-height:1.5;">if</span> (acceptEncoding.Contains(<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">DEFLATE</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="line-height:1.5;">))
                </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> ResponseCompressionType.Deflate;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">else</span>
                <span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> ResponseCompressionType.None;
        }

        </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">enum</span><span style="line-height:1.5;"> ResponseCompressionType
        {
            None, GZip, Deflate
        }

    }</span></pre>
   </div> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">对于上面的HttpModule来说，还需要在config文件中进行相应的配置，代码如下</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>　 &lt;modules runAllManagedModulesForAllRequests=<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">true</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> &gt;
      &lt;add name=<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">CacheHttpModule</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span> type=<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">HttpModuleCache.CacheHttpModule,HttpModuleCache</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span>/&gt;
    &lt;/modules&gt;</pre>
   </div> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">程序运行后当检测到合法的文件后（如你之前对html和shtml结尾的文件进行缓存），就会生成文件到服务器的指定位置，下次访问时，直接通过ＵＲＬ生成的服务器本地路径，将静态文件返回到客户端即可，不过，有个地方要注意，由于这种方法生成的缓存文件，它的位置不是固定的，所以，在引用ＣＳＳ，ＪＳ这种文件时，要用绝对路径的形式。</p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">没有用绝对路径时</p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;"><img src="data:image/png;base64,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" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">用了绝对路径后</p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABFsAAADbCAIAAAA9PQmUAAAbcUlEQVR4nO3dO1Ib26IGYA9gezRnAB7BHglVnsK5IyBwxhiYAAEDIHJAiotIwU7kg7EsDHijG+jVj/Xq1qOB/r76g3NAarVa7Kr1e61e+vDf//6fiIiIiIjIOPMBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIC3ZwEAADBWGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhEAADBeGhHv2Hw+H/oUAAB43TQihjOf3EwilWU+ub66uo79tvj411fto8wn11c3050OvFhMb66ukkfp9SrTm9BzotdiPrlOn0T78Jmz3sH0puTjmt4EPpHMU6a9Tzh8PUufuvsfYOOQk/Dhln+mB/pYFgv/MAAAORoRw1kOBUMDz/VvdhqTbg5SO8r2pzuMQTcHiR2j1xtYNpZghQseaPX44jfS9fHbJ0bG8nUFLbbPZVmfdW99/oY2L7rHorJ6863Tif9n0OGouXa+73oHAO+JRsRwokPovUxmhAegsWFpN9kZhNWIustbqE0VVC9NdSpoPrnevG7nq9Rv3iPS0+JvIfHQPmcQ+CsJ/eFMb4I/6vdJH2Q2bfUBT6bTQOPt/VrZcr59yAGnoQDgTdOIGE6kESXnGuaT67Ixbvjfzgv+Rb3w2Mmz6DGiro/ol9fgZjpfNEbM2yN3X2wVbAjbObOITReLLnFsHy1yVr0qygCNqPTjm950rryB09mpEZU0/L0sQQWAd0wjYjjBkVp2hF42YRHuC/u5ZSN7j1D3ofj0pn5azXmhWiNaHjl7K9MeTquHQDNZ6zcyP34jKnte5zWIB2lEJeVNIwKANI2Io2ndIh8b60bHd5sZiOy94uFBbclQN1p3trNTjU0EWmPxeFeJ3OrfnvjKN6Ie4+ijNKL2a65fMT4wT1bMwFnv3oh2vjmppuxjOEQjKqr4GhEApGlEHE9wIiSw60FkgNdhxVu4k3QZBrdfJTd5VRv4dzl2tWCtCkT6TK8n8/AwOrOyrXa9u634CulwOa8n84LHh09ox/LSa5HeYW65iUyfRRvRfDLJnEbkZBsNWyMCgDSNiGOq/6t9Y6S2vjsnVWeKxnXhEWDRuHCz79f1dXDFXWzHt+2DE4vZwiucqlNn5Sux4j2hcoo9O0gPmYs7n07nwT5Q+4MIb2mXuKCZTdR6bL4drBg959ZaJ96tEZX8wSc/4Nh/ZwBAg0bEUdXmeRpzFo1ZluoQrkMd2g4T6w9P3N9S9qCiRpRcAVW2Q11mp7blwStXq/mr+MxC+/Bl22qvpJYq5gfdzQnC7dN23Wft+jo2M9a5EiUWW3Y/z9YmfR0aUaXqJK5q+nRXG3PYaw4AcjQijqtaibbD6PmkNiVTH193qkOVseT19bYahHaHa+2Qnd7HrqQRBYf99UcmJlK2L5Ce3LmZNqcfOsx/9ZwryGwnnj2BxMRfpgLurLgIxM6m5xxL3zmigv20U+fVXly6flyPLeEBYBQ0Io6sMi2wGdG1pio2Danrbtmr0WVzMBqcLFg9aDP1kbmzJt+IcnvQpcf/4c4Q3F15enN1c3NTf39l99d3W1RXXjBypWF6c3Uzad3lVDBFlJrFKmwqhRNh8U/nII2osY16fXf1HRaHBtZmtr7cSi8CgBqNiKPbNI/czSe1NlSyAmozE1QfjDb2htueR6eBYa4R5b8pKfWC4erXGENX97qr7aJQsCRwu+FD0dRDxxFzbPe3zZzX9WTevkDdNxCvib7rHrtGpNrqPhtRoGFO1o2o2+WI76rQ/HHz/DfnoRUBwGKx0IgYUmKk2f6n8vzNHJWVcfWVbJun1O+E2Wsj2k6ANG/xqR8gs6FaY61TbUXf+hGrN1R9X/n9mzfPv55MMu+7TyNKTDfdTNczfs1S22nHgvaDQyshq+dS+g6yj49OxqRfodOquc4FZXmwSfMcQh9e4PzD99oBwEhpRAwnPNKMrBvKDZ9rBSJSduoLiop2I8idbei1IkP1eNOY3lxdT6bVWhPcwrtehCozX/kpou3xtpt7J7eQ2H1LgvA4vOvNT/VXqNlsQt78+XW3+6WyxSw6AZa+TDvuNZc/6eXEZP2Zob/84IXuuh4VAN4xjYjBNMflBd9GFB23NkaGyQ2811uT1R4Undmpn0B8IqT9SuExaLCntW4nqZa0+EC6uvowfw/UcnnWeieL2lnXqsr2PEuKYuUNB2Ym2j+qT2ztvu1BW6cDb7Zb387wFdn+3ZTfGLa/RrTt3KE//OAfXvuFY3NsADA6GhHDmN5cXd/cLEdqwd0DmirDuvYIbz6d5m9QaY4WGw/KDRDL54jWPwxVhMC/36d6TfWkmg/Y1JjsFNHqmdV3ELjLf31y1fMs3b+6rBFVK1HXmahDNKJmUUw97OjfR5Q5crDKhy9Sz/MHgNHQiDi+9RCwsStwZ0Xf3FP/WevOpNieXJGzLm1EofmuzEi9NTAODKBr57DeqSB7P9R6AJ2YK6geoX6e6Q3FQ+dVedV4w+u8NK/rH0n5NhzZwvDKGlFjS8PKhhWR1qgRAUCaRsSRJed6yp63+VH0K0MDo/H2j2IPioxOOzWi2JqxwkYUW6FX3xZhOT2QHVBvZhESMwjVHzfOs6S7xBpoZHS+2h690yB9v3NE1VbxxhpRa9oussNi4wU0IgCI0og4pnrjCJWcSewrfToN68LTP6FJo/Byt9DrdGtEsZPKbDZe7SHVb5DZHr8yIJ5PrldLD9M7xyWnEMJ7uLV2vcvuahE8cGpntd33bkidTWbLg+qB3lQjmre+1Gl14OXiv+BxNCIASNOIOJbVsqfmZETp/gM7NaLgWDS1/UKHtUeHaUT5ny+27SI9+q/vwJfdEC7wCeRu9Apd3vjnld7pLvFG9rtqruBMSx+QOOMdG1GwAEXOMHpRNSIASNOIOI7QoDoyUguPmHdoRJE9EyJVJjb8P/ocUXWjg9VdV8EJnsSL13dCa59AcIwe6qTRntg+8+ozQmfW86twDrTX3GKwRrT5M99DI0pP42lEAJCmEXFE02n7xppYx0huKpB9ocbG2sHxZvK2i/03otxAvX0f0c3NZDKv/rxZYFblIn5rUn0LvmapiDTF4IkmXio8ok/cXrVe4dVp3dw7aUSBSaxUIyrb669y4Oh6z46LFAFgTDQihhMbacZX0/VoRPExZbTKhJvC8RpR/fWrA+ZqLVgVtw5fR1ovFdFbtsInGm0k5VerduBcmwuefAdHakTx3T2qfxiVnTIik5L9G1FlnjAy/TadmB8CgBSNiOHsutdc3GYwOr1JLSnby8C59DC5SY7q6rjYphDb/105Wm7pXPAMKhsuBE8kOL0TWwTX7p7tc2pfvk1NKPoMXuMc0Tw51VXvcN1vIEv/qvIarYWQ3VshAIyaRsRwDt+IEv+C32/gXDwj0Tx6fkpkOfqdrG4c2faP2CbhlWuRvMsn9LTk7SldLkyjvtVKQPMEowsUS859p0bUWK0Zevx1/6/Fqn+uraNkzzl6D1BmW77E59TprehNAIyeRsRwkiUnWEA6NaLIUq6+w8HkHFHkxBoj0+Tpt+YDKk9ulo7wvnm514ifac8LE5xoatSzXJOtv3T8gX0bUX4/vn1sPFCt3pvPonxH7UTX7rYVfEOuGdluAQAWC42IIRUN66rDxU7zSbl1Sl1HhLEVTPX93Pq/WMGObZHtmysPvZ5M49M/+VKxGUGXXJjIMrrG4QqPFNgUfO+i+7nteyu29JzUbocumw7MPF0fAoAqjYjh5IfUa6VD682Bs3sW53rMPpXd2Z581F62C9ve8pN+UNnLHP58j2Q+mbyJ8wQADkQjAgAAxksjAgAAxksjAgAAxksjAgAAxksjAgAAxksjAgAAxksjAgAAxksjAgAAxksjAgAAxksjAgBgZxen//z1993FMV7q4eTvf/76+59P58/HeDXeP40IAIC+vp1PPy7LydXdx7//Obmq/O7q7uPf//zV+GHkCB9PHyo/e/7yOfHEVSNSitgTjQgAgKRlafkrmU+nd5+qxWYy+7T97fTLJH70dXEKHzbQeVaNqF6ioDeNCACAXqpN6ePnu5PPm/KzLi2fZ9+yR2lNJW0Om54jemuN6OEk3QzHZvKc/9vY/SlFNCIAAPpYrW3bTAGtVtCd3n1qzgs9nCRWuLUa0cVpuk3tsxF9O592X3r3cNLv1SezT4UtcZ8eLpKrFktd3X3MLVP8dj6L30i2/Gtp/lV0ufesfYR90YgAAEhbl5ZqDdjM5FRGyeGpoWXDiXaYZiNaHSR+91GoEV3dfexVNkoWBEbSZ2geumnqoFIX8+K0y7souiss0RWfv3z+5+Pp7OKq9tfy6XxWWtiWH3HtCP3OpLGk85+//taIAADI2+xnkFoX1x7x1ytHaPzdGGpXu01z5JpP11L07Xz6MdwKnr98jkyJTGafcttFxD2cdDjJzSzcHtI+4fVHs5mlef7yOT5jUzBHtFgk5sGWjahaUZIzh03thlN0ccqOrxEBAFBiM1P0efblNNZwapMSuTuCaoddPmY5obQdyE5mn5oLq+Kr5rp3lcM1oovT8PTLt/O79s+/nU/3uZru6i7yplov2nhY4q0VNqL1J9g6yC6N6PnL5/2uNnw4qR1NIwIAoMh22+vYtMNi0dw7Lr9CrNaISu4t2fN9RAdqRD3W4+1tNV3vRlTdTj1wzLICE371dCN6OIl/6Huui0uT2aftq2tEAACUWxeY4OB4c8tQhzVL1UZUG6fG7HWvuWh52EsjKr1LZ8/fb7tDI4reelTeiOpP2XXF49VdcxHmnnpjpftpRAAAFFrf2PPx8zR5h8/00/Yej9xAv9qIiobd42xED1/ClyU0u7JTI1rfDNboJ+1v4O2mYNXc5OGicTL1OrT56Pf0zbyrE/h2rhEBAFBiXYdy49HV2De/p8JS/T6i6KqtrWgjWj6326j97TSik2QFrb3Qbo1otTtC4/IeoRG1n3JeO4fun+/DSbo2T56/Xd19tNccAAB5RZsvt4Q2i2sOgptHXu0h1m337dp9O132xe64sitzD1XzfPbciAL9IVjPdmxEwU3nihtR5CuedtxrLtLTco/PFPjVm9KIAABIam3TXGI73m3sMRBcjlXrGN033W6l9FQPvLPCG21EsQcX7aURuYVsx0ZU226ucbta+q6k6PfGbq+SRgQAQFTjzo3O35CTH/KGZp+WQ97IDmN732suWEU0on4Pjl23nRrR6u8h84l3OGD9c9eIAAAIa++FvWpE2d2QN/+Kn983ObgeL7VI7w01oj3Oaw3ciIp3w+vbiK7uon8qV3cf13t1JC97aSO6OK3s+n36oBEBAFCuayMqGEMnG9Gn89lJ89agQCPqvSnzgRtR6eK9Vz9HtPzcOzWi9FYQmaVu9Tc4/TJZXJxm/+oKGlHzci1PUiMCAKDUsRvRx9O7zcC68m2eoUZUOCUVOM+DNKKCEXwnx2tEoWvycFI6KbfbqrnJc/2KPZysz3A/jSh8thoRAAClDtiIqhNBm0V36zmi6mA61Yi6fs9pyT36weQaUbsA7OgojShW9jp8PWusET2cNI+cLTC1r1rSiAAAeA0O2oiCt9a0+0+iEXXZd3v9diLvZcc5oh6j8/wBS+tZr0aUWLl3cVp+bSPX7equtYYwc4kuTmuP14gAAHgNuu4113HVXG3f7eUQ/KCNKDGG3q0RlXWSLg45R3R19zHRctcfyi6r5i5O20/vVmAO04jcRwQAQDcPrX0Ogo+ZfipfM1a7j6h9v8ohG1Gq2+zUiPZ9E9Ei2YiC36Za2IjWWxpEP6xlB94Up+xhQ9ctMEG0eD2NyBwRAADdLFfERYeem00RCitBaqPtxUEbUXI7uB0a0WT2ac9L5hbdhvvF1SVXh1af9ebNZj769WFrD1hvFtfyGhrRYrF4/jbRiAAA6GYzmA7UiepeBdkN2RaLIRtRaClX7XX7NaIDTBB11GWOKFuH6hdh9dHHisf6g9j8YdR2R6h7JY1ocXGqEQEA0NV2O4TA7fLF95zUDnX0RrTd2Tn2un0aUdne3IdVfBfTxXmsY8SXR64+r3bPqW6vt7x6s3gdWryeRuQbWgEA6GG75qo6+l9NO3SaIUk3osBt/ftpRLkvdY1+A8/ytTrffXRY1ambknu9UpZTQ0V3Fm1MZp+an3tmNqnHWWX+rjpsEd6gEQEA0F2o/CzH4oFpgc1N/JF9maONqHr3f0HKa0BiNdf2vWxbQXOL8PAL5VrWoW136O63bK/gNqHFYrFYXN0Vfu7JrdXLdhKvnFvrTQV2Puw1O6cRAQAQ1H04W5JGZ9h0nuQ6tMwu3vmDtB6f/UKhL6FikLr35upu0Dq0Evje1cyDd6wTS8/fkq9Y0mx32L5v/TVZuesfOQ2NCACA4SQ3fDuQ54urvS9sezh5BXXo/Xr+cn64y6sRAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQAA46URAQDAeNxenp1//V770fev562fvUW3l2d93odGBAAAHX3/en52dnZ2dnmbeeDt5VkX2eMd4tTXP+nZipZv8diN6vby7Pzr7fLMV29lfa0LTmXzls/Ozs40IgAA6KG4FYWf1x63314epRItNt1heQrfa7Ui9fiIVTM5YCeKvf6mE51//b56UOhtRJ6+fqhGBAAAvaxG2h1bzO3lAFMqoXNYnsSyEHV6D8unHPktbAvP92r/2pzL7WXZ21g9++t2hZ1GBAAAe7GeiwiMy7fj9ebNLsMsOqu9fL1d5HvFa2pE1VO6vM3Nd7XP/PbSqjkAAMgrvCHo8jZ8e3/l6efn54EnHrpf7Hj+Na+iEV1ehi5j/A2s617lV6v3oREBAEAfXYpB9SaX+vOGW0QXv/EmI/TGD/42GpWuNc2Wfu34nUjfrZoDAIBedmtE62cO3IjSr1zbk63Iwd5JYtVcx0tYXad4e2mvOQAA6GfHRlTdM/rVNKKizSJexaq5SCNKnttmpmj7/txHBAAAPdUG34HbVKqGXTXXZapneSNOshMN2IhKJqnae4Gn379GBAAAJXK9YjUWD3aJaiOq378z1BzRaqYlfsqZpw7SiLb7hbe360u9jcqW29tppvXjNSIAAOij56q5xnbbwzSibSV4U99HVPkGpbPNVVz+5rzgS2Jv643o/Pz87OzyViMCAIA++hWDxuqvHlu97a7egjp/I9LrWDVXW3a4/iqi1OWs3EW0fvDtpVVzAADQU59iUG8f21H+MetFe1ZqNetSehJHb0TbWaHzr9/rq+a+b1f9JZtd/ZdWzQEAwM5CxaB1j0vr8a3fbof7R5gvqu9zVxHYhi303O0ytWH2x1ufR3Xr8s0Zx3a3aG+gpxEBAEAHpfuctZd0NQ4QaxFFm17v6V3Em0z1bYYeVdtaYrBCtGlEoW+Y3b6F6ubmm/8XfAcaEQAAHEhlBD7IDUMrBRNAa9+/ng96qgW+fz2//Bqb62o9NPCgzWTXkkYEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0YEAACMl0Y0Rv/5z386/RwAAN4rjWik2uWn8ZP/lDniKQMAwP5pROOyS8/RfwAAeH80olErLznqEAAA75JGNF7ZkmPJHAAA755GNEaFJSfdeTQiAADeAY1ojArvFOr0fwEA4C3SiMao3xyRRgQAwPujEY2ROSIAAFjSiMbIHBEAACxpRGPUY46o/RSNCACAd0AjGqPCRtT+uX23AQB4ZzSiMSpcNbd5ZOwIRzlZAAA4II1oXBJdqLeh3xMAAPSnEQEAAOOlEQEAAOP14X/f/yeyrzzMH4b+k+7mYf4w+EUTERERkQGjEck+M/s5G7rjdDP7ORv8oomIiIjIgNGIZJ/5cffj5eVl6JpT6uXl5cfdj8EvmoiIiIgMGI1I9pynp6ehm06pp6enwS+XiIiIiAwbjUj2nPl8PnTTKTWfzwe/XCIiIiIybDQi2XPu7+/fxMK5l5eX+/v7wS+XiIiIiAwbjUj2n8fHx6H7Tt7j4+PgF0pEREREBo9GJPvPbPYGdpybzewyJyIiIiIakRwmr3x/BXsqiIiIiMgyGpEcJL9mv4ZuPSm/Zr8Gv0QiIiIi8hqiEcmh8vj7ld5N9PjbHUQiIiIisopGJIfKz/uff/78Gbr+NP358+fn/c/BL46IiIiIvJJoRHLAzH+9uu8mmv/yHUQiIiIiso1GJIfN79+/hy5BW79//x78goiIiIjIq4pGJIfNj7sfT4+vYt+5p8enH3c/Br8gIiIiIvKqohHJwXP/437wzbifnp7uf9wPfilERERE5LVFI5Jj5P5+yFL09PR0f68OiYiIiEggGpEcKfc/7gdZPvf0aHZIRERERKLRiOR4+XH348gbLfz+/du9QyIiIiKSiEYkx8781/wI31P0588fG22LiIiISDYakQyQn/c/H38/Hq4OPf5+9DWsIiIiIlISjUgGy6/Zr71vt/D09PRr9mvwtyYiIiIibyUakQyc2Wz2+Pj48vKySxF6eXl5fHyczWaDvx0REREReVvRiORV5P7+fj6fPz09dapGLy8vT09P8/nc5toiIiIi0i8akbyu/Lj7Mfs5e5g/PD4+Pj8///vvv5uO9PLy8u+//z4/Pz8+Pj7MH2Y/Z/aRExEREZEdoxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxGJiIiIiMh4oxHJG8uHDx8+fNjD3232OPt6ob28ndjD0k8/zlsQERERedMxWpJj50OBkiP0e4muB9nxvRRejfLr1unpm9/2Pj0RERGRdx9DIjl20s1kL42o5JHB1y3R7/ixX5UXlU6v3ukqiYiIiIw5Bkxy7PRrRJ2KSuJom59kC0NJo9hXIzr0RRYRERGRWP4fViS9z745m/QAAAAASUVORK5CYII=" alt="" style="border:1px solid rgb(204,204,204);"></p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;">怎么样，这种文件级缓存的方式大家都掌握了吧！</p> 
   <p style="line-height:24px;color:rgb(51,51,51);font-family:'comic sans ms';font-size:15px;"><a href="http://files.cnblogs.com/lori/HttpModelCache.rar" rel="nofollow" style="text-decoration:none;color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">下载完整HttpModuleCache项目</a></p> 
   <p style="line-height:24px;"><font color="#333333"><span style="font-size:15px;">本文转自博客园张占岭（仓储大叔）的博客，原文链接：<a href="http://www.cnblogs.com/lori/p/4012823.html" rel="nofollow">缓存篇(Cache)~第三回　HttpModule实现网页的文件级缓存</a></span></font><span style="font-size:15px;color:rgb(51,51,51);font-family:'comic sans ms';">，如需转载请自行联系原博主。</span></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
