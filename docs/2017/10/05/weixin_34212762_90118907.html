<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>C++：静态成员 « NotBeCN</title>
  <meta name="description" content="                  3.7.1 静态数据成员对象是类的一个实例，每个对象都具有自己的数据成员。例如，学生类张三或李四都具有自己的学号，姓名和平均成绩。在实际使用时，常常还需要一些其他的数据项，比如学生人数、总成绩、平均成绩。但是如果把这些数据项作为普通的数据成员来处理，将会产生错误。下面通过例子来...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/10/05/weixin_34212762_90118907.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">C++：静态成员</h1>
    <p class="post-meta">Oct 5, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="blogpost-body" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:25.2px;"> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">3.7.1 静态数据成员</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">对象是类的一个实例，每个对象都具有自己的数据成员。例如，学生类张三或李四都具有自</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">己的学号，姓名和平均成绩。在实际使用时，常常还需要一些其他的数据项，比如学生人数、</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">总成绩、平均成绩。但是如果把这些数据项作为普通的数据成员来处理，将会产生错误。下</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">面通过例子来说明：</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre> 例3.<span style="line-height:1.8;color:rgb(128,0,128);">28</span><span style="line-height:1.8;">  静态数据成员的引例 

#include</span>&lt;iostream&gt;<span style="line-height:1.8;">
#include</span>&lt;<span style="line-height:1.8;color:rgb(0,0,255);">string</span>&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Student{
 </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
     Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name1,<span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span> score1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明构造函数 </span>
     ~Student();<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明析构函数 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show();
     </span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show_count_sum_ave();
 </span><span style="line-height:1.8;color:rgb(0,0,255);">private</span><span style="line-height:1.8;">:
     </span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生姓名 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生学号 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score;
     </span><span style="line-height:1.8;color:rgb(0,0,255);">int</span> count;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义普通数据成员count </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">float</span> sum;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义普通数据成员sum </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">float</span> ave;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义普通数据成员ave     </span>
<span style="line-height:1.8;">};
Student::Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name1,<span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score1)
{
  name </span>= <span style="line-height:1.8;color:rgb(0,0,255);">new</span> <span style="line-height:1.8;color:rgb(0,0,255);">char</span>[strlen(name1)+<span style="line-height:1.8;color:rgb(128,0,128);">1</span>];<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">为学生姓名动态分配一个空间，并让name指向数组的首地址</span>
  strcpy(name,name1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">首先name把name1指向的首地址复制过来，然后依次复制name1所指向的内容</span>
  stu_no = <span style="line-height:1.8;color:rgb(0,0,255);">new</span> <span style="line-height:1.8;color:rgb(0,0,255);">char</span>[strlen(stu_no1)+<span style="line-height:1.8;color:rgb(128,0,128);">1</span><span style="line-height:1.8;">];
  strcpy(stu_no,stu_no1);
  score </span>=<span style="line-height:1.8;"> score1; 
  count</span>++<span style="line-height:1.8;">;
  sum </span>= sum+<span style="line-height:1.8;">score;
  ave </span>= sum/<span style="line-height:1.8;">count;
} 
Student::</span>~<span style="line-height:1.8;">Student()
{
  delete []name; </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间 </span>
  delete []stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间</span>
  --<span style="line-height:1.8;">count;
  sum </span>= sum-<span style="line-height:1.8;">score;
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">姓名：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;name&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学号：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;stu_no&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;score&lt;&lt;<span style="line-height:1.8;">endl; 
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show_count_sum_ave()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学生人数：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;count&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">总成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;sum&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">平均成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;ave&lt;&lt;<span style="line-height:1.8;">endl; 
}
</span><span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
 Student stu1(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">李明</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1101</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">90.0</span><span style="line-height:1.8;">);
 stu1.show();
 stu1.show_count_sum_ave();
 cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">------------------------</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
 
 Student stu2(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">王勇</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1102</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">92.5</span><span style="line-height:1.8;">);
 stu2.show();
 stu2.show_count_sum_ave();
 
 </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span> <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
}
<span style="line-height:1.8;color:rgb(0,128,0);">/* 运行结果发现：学生人数、总成绩、平均成绩都是错误的。 其原因：一个学生对象的count、sum、ave仅仅属于这个学生对象，而不是所有学生对象 所共享的，因此它们不能表示所有学生的人数、总成绩、平均成绩。 解决办法：将count、sum、ave这个普通数据成员设为静态的数据成员，让所有的对象共享。 格式为： </span></span><span style="line-height:1.8;color:rgb(0,128,0);">static 数据类型 数据成员 </span><br><span style="line-height:1.8;color:rgb(0,128,0);">*/</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">将上面的例子改为静态的数据成员来处理，如下....</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例3.29 静态数据成员的使用</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>#include&lt;iostream&gt;<span style="line-height:1.8;">
#include</span>&lt;<span style="line-height:1.8;color:rgb(0,0,255);">string</span>&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Student{
 </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
     Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name1,<span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span> score1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明构造函数 </span>
     ~Student();<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明析构函数 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show();
     </span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show_count_sum_ave();
 </span><span style="line-height:1.8;color:rgb(0,0,255);">private</span><span style="line-height:1.8;">:
     </span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生姓名 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生学号 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score;
     </span><span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">int</span> count;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员count </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">float</span> sum;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员sum </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">float</span> ave;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员ave   </span>
<span style="line-height:1.8;">};
Student::Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name1,<span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score1)
{
  name </span>= <span style="line-height:1.8;color:rgb(0,0,255);">new</span> <span style="line-height:1.8;color:rgb(0,0,255);">char</span>[strlen(name1)+<span style="line-height:1.8;color:rgb(128,0,128);">1</span>];<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">为学生姓名动态分配一个空间，并让name指向数组的首地址</span>
  strcpy(name,name1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">首先name把name1指向的首地址复制过来，然后依次复制name1所指向的内容</span>
  stu_no = <span style="line-height:1.8;color:rgb(0,0,255);">new</span> <span style="line-height:1.8;color:rgb(0,0,255);">char</span>[strlen(stu_no1)+<span style="line-height:1.8;color:rgb(128,0,128);">1</span><span style="line-height:1.8;">];
  strcpy(stu_no,stu_no1);
  score </span>=<span style="line-height:1.8;"> score1; 
  count</span>++<span style="line-height:1.8;">;
  sum </span>= sum+<span style="line-height:1.8;">score;
  ave </span>= sum/<span style="line-height:1.8;">count;
} 
Student::</span>~<span style="line-height:1.8;">Student()
{
  delete []name; </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间 </span>
  delete []stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间</span>
  --<span style="line-height:1.8;">count;
  sum </span>= sum-<span style="line-height:1.8;">score;
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">姓名：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;name&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学号：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;stu_no&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;score&lt;&lt;<span style="line-height:1.8;">endl; 
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show_count_sum_ave()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学生人数：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;count&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">总成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;sum&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">平均成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;ave&lt;&lt;<span style="line-height:1.8;">endl; 
}
</span><span style="line-height:1.8;color:rgb(0,0,255);">int</span> Student::count=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员count进行初始化 </span>
<span style="line-height:1.8;color:rgb(0,0,255);">float</span> Student::sum=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员sum进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">float</span> Student::ave=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员ave进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
 Student stu1(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">李明</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1101</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">90.0</span><span style="line-height:1.8;">);
 stu1.show();
 stu1.show_count_sum_ave();
 cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">------------------------</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
 
 Student stu2(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">王勇</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1102</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">92.5</span><span style="line-height:1.8;">);
 stu2.show();
 stu2.show_count_sum_ave();
 
 </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span> <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">说明：</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">（1）静态数据成员的定义与普通数据成员相似，但前面要加上static关键字。</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">static int count; //静态数据成员，用于统计学生人数&nbsp;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">static float score; //静态数据成员，用于统计学生成绩&nbsp;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">static float ave; //静态数据成员，用于统计学生平均分</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">（2）静态数据成员的初始化与普通数据成员不同。静态数据成员初始化应在类外单独进行，</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">而且应定义对象之前进行。一般在主函数main之前，类声明之后的特殊地带为它提供</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">定义和初始化。初始化格式如下：</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">数据类型 类名::静态数据成员=初始值</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">int Student::count=0;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">int Student::sum=0;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">float Student::ave=0;&nbsp;</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">注意：这时在数据成员的前面不要加static&nbsp;</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">（3）静态数据成员属于类(准确的说，是属于类的对象的集合)，而不像普通函数那样属于</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">某一对象，因此可以使用"::"访问静态的数据成员。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">用类名访问静态数据成员的格式如下:</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">类名::静态数据成员</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例如上面的Student::count、Student::sum、Student::ave</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">（4）静态数据成员与静态变量一样，是在编译时创建并初始化。它在该类的任何对象被建立</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">之前就存在。因此，共有的数据成员可以在对象被定义之前被访问。对象建立后，共有</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">的静态数据成员也可以被对象进行访问。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">用对象访问静态数据成员的格式如下:</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">对象.静态数据成员</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">对象指针.静态数据成员&nbsp;</span><br><br></p> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例1：通过对象访问静态数据成员&nbsp;</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>#include&lt;iostream&gt;<span style="line-height:1.8;">
#include</span>&lt;<span style="line-height:1.8;color:rgb(0,0,255);">string</span>&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Student{
 </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
     Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">string</span> name1,<span style="line-height:1.8;color:rgb(0,0,255);">string</span> stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span> score1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">(char* name1,char* stu_no1,float score1) </span>
     ~Student();<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明析构函数 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show();
     </span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show_count_sum_ave();
 </span><span style="line-height:1.8;color:rgb(0,0,255);">private</span><span style="line-height:1.8;">:
     </span><span style="line-height:1.8;color:rgb(0,0,255);">string</span> name;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生姓名 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">string</span> stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生学号
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">     char* name;
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">     char* stu_no; </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score;
     </span><span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">int</span> count;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员count </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">float</span> sum;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员sum </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">float</span> ave;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员ave   </span>
<span style="line-height:1.8;">};
Student::Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">string</span> name1,<span style="line-height:1.8;color:rgb(0,0,255);">string</span> stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span> score1)<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">(char* name1,char* stu_no1,float score1)</span>
<span style="line-height:1.8;">{
  </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">name = new char[strlen(name1)+1];</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">为学生姓名动态分配一个空间，并让name指向数组的首地址
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">  strcpy(name,name1);</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">首先name把name1指向的首地址复制过来，然后依次复制name1所指向的内容
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">  stu_no = new char[strlen(stu_no1)+1];
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">  strcpy(stu_no,stu_no1);</span>
  score =<span style="line-height:1.8;"> score1; 
  name </span>=<span style="line-height:1.8;"> name1;
  stu_no </span>=<span style="line-height:1.8;"> stu_no1;
  count</span>++<span style="line-height:1.8;">;
  sum </span>= sum+<span style="line-height:1.8;">score;
  ave </span>= sum/<span style="line-height:1.8;">count;
} 
Student::</span>~<span style="line-height:1.8;">Student()
{
  </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">delete []name; </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间 
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">  delete []stu_no;</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间
 </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);"> --count;
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">  sum = sum-score;</span>
<span style="line-height:1.8;">} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">姓名：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;name&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学号：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;stu_no&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;score&lt;&lt;<span style="line-height:1.8;">endl; 
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show_count_sum_ave()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学生人数：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;count&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">总成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;sum&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">平均成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;ave&lt;&lt;<span style="line-height:1.8;">endl; 
}
</span><span style="line-height:1.8;color:rgb(0,0,255);">int</span> Student::count=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员count进行初始化 </span>
<span style="line-height:1.8;color:rgb(0,0,255);">float</span> Student::sum=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员sum进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">float</span> Student::ave=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员ave进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
 Student stu1(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">李明</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1101</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">90.0</span><span style="line-height:1.8;">);
 stu1.show();
 stu1.show_count_sum_ave();
 cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">------------------------</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
 
 Student stu2(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">王勇</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1102</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">92.5</span><span style="line-height:1.8;">);
 stu2.show();
 stu2.show_count_sum_ave();
 
 </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span> <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例2：通过指针对象访问静态数据成员&nbsp;</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>#include&lt;iostream&gt;<span style="line-height:1.8;">
#include</span>&lt;<span style="line-height:1.8;color:rgb(0,0,255);">string</span>&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Student{
 </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
     Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name1,<span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span> score1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明构造函数 </span>
     ~Student();<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明析构函数 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show();
     </span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> show_count_sum_ave();
 </span><span style="line-height:1.8;color:rgb(0,0,255);">private</span><span style="line-height:1.8;">:
     </span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生姓名 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">学生学号 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score;
     </span><span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">int</span> count;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员count </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">float</span> sum;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员sum </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">float</span> ave;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员ave   </span>
<span style="line-height:1.8;">};
Student::Student(</span><span style="line-height:1.8;color:rgb(0,0,255);">char</span>* name1,<span style="line-height:1.8;color:rgb(0,0,255);">char</span>* stu_no1,<span style="line-height:1.8;color:rgb(0,0,255);">float</span><span style="line-height:1.8;"> score1)
{
  name </span>= <span style="line-height:1.8;color:rgb(0,0,255);">new</span> <span style="line-height:1.8;color:rgb(0,0,255);">char</span>[strlen(name1)+<span style="line-height:1.8;color:rgb(128,0,128);">1</span>];<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">为学生姓名动态分配一个空间，并让name指向数组的首地址</span>
  strcpy(name,name1);<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">首先name把name1指向的首地址复制过来，然后依次复制name1所指向的内容</span>
  stu_no = <span style="line-height:1.8;color:rgb(0,0,255);">new</span> <span style="line-height:1.8;color:rgb(0,0,255);">char</span>[strlen(stu_no1)+<span style="line-height:1.8;color:rgb(128,0,128);">1</span><span style="line-height:1.8;">];
  strcpy(stu_no,stu_no1);
  score </span>=<span style="line-height:1.8;"> score1; 
  count</span>++<span style="line-height:1.8;">;
  sum </span>= sum+<span style="line-height:1.8;">score;
  ave </span>= sum/<span style="line-height:1.8;">count;
} 
Student::</span>~<span style="line-height:1.8;">Student()
{
  delete []name; </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间 </span>
  delete []stu_no;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">释放空间</span>
  --<span style="line-height:1.8;">count;
  sum </span>= sum-<span style="line-height:1.8;">score;
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">姓名：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;name&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学号：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;stu_no&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;score&lt;&lt;<span style="line-height:1.8;">endl; 
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Student::show_count_sum_ave()
{
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">学生人数：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;count&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">总成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;sum&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">平均成绩：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;ave&lt;&lt;<span style="line-height:1.8;">endl; 
}
</span><span style="line-height:1.8;color:rgb(0,0,255);">int</span> Student::count=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员count进行初始化 </span>
<span style="line-height:1.8;color:rgb(0,0,255);">float</span> Student::sum=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员sum进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">float</span> Student::ave=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对静态数据成员ave进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
 Student stu1(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">李明</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1101</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">90.0</span>),*<span style="line-height:1.8;">p1;
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);"> stu1.show();
</span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);"> stu1.show_count_sum_ave();</span>
 p1 = &amp;<span style="line-height:1.8;">stu1;
 </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">p1-&gt;show();
 </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">p1-&gt;show_count_sum_ave();</span>
 (*<span style="line-height:1.8;">p1).show();
 (</span>*<span style="line-height:1.8;">p1).show_count_sum_ave();
 cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">------------------------</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
 
 Student stu2(</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">王勇</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">1102</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>,<span style="line-height:1.8;color:rgb(128,0,128);">92.5</span>),*<span style="line-height:1.8;">p2;
 p2 </span>= &amp;<span style="line-height:1.8;">stu2;
 </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">p2-&gt;show();
 </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">p2-&gt;show_count_sum_ave();</span>
 (*<span style="line-height:1.8;">p2).show();
 (</span>*<span style="line-height:1.8;">p2).show_count_sum_ave();
 
 </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span> <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例3.30 公有静态数据成员的访问(在类外可以直接访问)</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">(私有静态数据成员不能在类外直接访问，必须通过公有的成员函数访问。)</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>#include&lt;iostream&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Myclass{
  </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
    </span><span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> i;
    </span><span style="line-height:1.8;color:rgb(0,0,255);">int</span> <span style="line-height:1.8;color:rgb(0,0,255);">get</span><span style="line-height:1.8;">()
    {
      </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span><span style="line-height:1.8;"> i;
    }
};
</span><span style="line-height:1.8;color:rgb(0,0,255);">int</span> Myclass::i=<span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
</span><span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
  Myclass::i</span>=<span style="line-height:1.8;color:rgb(128,0,128);">200</span>;  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">公有静态数据成员可通过对象进行访问 </span>
<span style="line-height:1.8;">  Myclass obj1,obj2;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">obj1.i=</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;obj1.<span style="line-height:1.8;color:rgb(0,0,255);">get</span>()&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">obj2.i=</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;obj2.<span style="line-height:1.8;color:rgb(0,0,255);">get</span>()&lt;&lt;<span style="line-height:1.8;">endl;
  
  obj1.i</span>=<span style="line-height:1.8;color:rgb(128,0,128);">300</span>;<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">公有静态数据成员通过对象进行访问并进行重赋值</span>
<span style="line-height:1.8;">  
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">obj1.i=</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;obj1.<span style="line-height:1.8;color:rgb(0,0,255);">get</span>()&lt;&lt;<span style="line-height:1.8;">endl;
  cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">obj2.i=</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;obj2.<span style="line-height:1.8;color:rgb(0,0,255);">get</span>()&lt;&lt;<span style="line-height:1.8;">endl;
  
  </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span> <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">; 
}  
</span><span style="line-height:1.8;color:rgb(0,128,0);">/*</span><span style="line-height:1.8;color:rgb(0,128,0);">

运行结果为：  obj1.i=200
            obj2.i=200
            obj1.i=300
            obj2.i=300 
解析：从本例中可以看出，由于静态数据成员只有一个值，所以不论用那个对象进行访问
      ，所得的结果是一样的。所以，从这个意义上讲，静态数据成员也是类的公共数据
      成员，是对象的共有数据项。
                  

c++支持静态数据成员的一个重要原因是不必使用全局变量。因为全局变量违反了面向对象程序
设计的封装性特点。静态数据成员主要作用于类的所有对象的公用的数据，如统计总数、平均数等....    
        
</span><span style="line-height:1.8;color:rgb(0,128,0);">*/</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">3.7.2 静态成员函数</span></p> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">在类定义中，前面有static说明的成员函数称之为静态成员函数。静态成员函数属于整个</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">类，是该类所有对象共享的成员函数，而不属于类中的某个对象。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">定义静态成员函数的格式如下：</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">static 返回类型 静态数据成员函数(参数表);</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">与静态数据成员类似，调用公有静态成员函数的一般格式有如下三种：</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">1、类名.静态成员函数(实参表)</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">2、对象.静态成员函数(实参表)</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">3、对象指针-&gt;静态成员函数(实参表)</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">例3.31  静态成员函数访问静态数据成员。</span>
#include&lt;iostream&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Small_cat{
  </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
      Small_cat(</span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> w);            <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明构造函数 </span>
      <span style="line-height:1.8;color:rgb(0,0,255);">void</span> display();                 <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明非静态成员函数 </span>
      <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">void</span> total_disp();          <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明非静态成员函数</span>
  <span style="line-height:1.8;color:rgb(0,0,255);">private</span><span style="line-height:1.8;">:
      </span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> weight;                  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义普通数据成员，表示一只小猫的重量 </span>
      <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">double</span> total_weight;     <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员，用于累计小猫的重量 </span>
      <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">double</span> total_number;     <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态数据成员，用于累计小猫的数量 </span>
<span style="line-height:1.8;">};      
Small_cat::Small_cat(</span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> w)        <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义构造函数 </span>
<span style="line-height:1.8;">{
      weight </span>=<span style="line-height:1.8;"> w;
      total_weight </span>+= w;              <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">累计小猫的重量 </span>
      total_number++;                  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">累加小猫的数量 </span>
<span style="line-height:1.8;">} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Small_cat::display()
{
     cout</span>&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">这只小猫的重量是：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;weight&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">千克</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span><span style="line-height:1.8;"> Small_cat::total_disp()
 {
    cout</span>&lt;&lt;total_number&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">只小猫的重量是：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;total_weight&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">千克</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl; 
 }
 </span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> Small_cat::total_weight=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;     <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对私有的静态数据成员进行初始化 </span>
 <span style="line-height:1.8;color:rgb(0,0,255);">double</span> Small_cat::total_number=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;     <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对私有的静态数据成员进行初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
 Small_cat::total_disp(); </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">对象创建之前，通过类名::调用静态成员函数</span>
<span style="line-height:1.8;">     
 Small_cat w1(</span><span style="line-height:1.8;color:rgb(128,0,128);">0.5</span>),w2(<span style="line-height:1.8;color:rgb(128,0,128);">0.6</span>),w3(<span style="line-height:1.8;color:rgb(128,0,128);">0.4</span>),*p;    <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">创建三个小猫对象并进行初始化,并另外定义一个指针p </span>
 w1.display();  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">通过对象调用非静态成员函数 </span>
<span style="line-height:1.8;"> w2.display();
 w3.display();
 cout</span>&lt;&lt;<span style="line-height:1.8;">endl; 
 
 p </span>= &amp;<span style="line-height:1.8;">w1;
 (</span>*p).total_disp(); <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">通过指针调用静态成员函数 </span>
 p-&gt;<span style="line-height:1.8;">total_disp();
 cout</span>&lt;&lt;<span style="line-height:1.8;">endl;
 
 Small_cat::total_disp(); </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">通过类名::调用静态成员函数 </span>
 w1.total_disp();<span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">通过对象调用静态成员函数 </span>
<span style="line-height:1.8;"> w2.total_disp(); 
 w2.total_disp();
 
 </span><span style="line-height:1.8;color:rgb(0,0,255);">return</span>  <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
} </span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';">对静态成员函数的使在作几点说明：</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">1、一般情况下，静态函数成员主要用来访问静态数据成员。当它与静态数据成员一起使用</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">时，达到了对同一类中对象之间共享数据的目的。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">2、私有静态成员函数不能做类外部的函数和对象访问。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">3、使用静态成员函数的一个原因是，可以用它在建立任何对象之前调用静态成员函数，以处理</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">静态数据成员，这是普通成员函数不能实现的功能。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例如： int main() </span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">{</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">&nbsp; &nbsp; &nbsp; Small_cat::disp(); //可以在建立任何对象之前调用静态成员函数</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">&nbsp; &nbsp; &nbsp; Small w1(0.5),w2(0.4),w3(0.6);&nbsp;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">&nbsp; &nbsp; &nbsp; .......</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">&nbsp; &nbsp; &nbsp;return 0;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">}</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">4、编译系统将静态成员函数限定为内部连接，也就是说，与现行文件相连接的其他文件</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">中的同名函数不会与该函数发生冲突，维护了该函数使用的安全性，这是使用静态成员</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">函数的另一个原因。</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">5、静态成员函数是类的一部分，而不是对象的一部分。如果要在类外调用公有静态成员函数，</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">使用格式是： 类名::静态成员函数</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例如上述中Small_cat::disp();</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">当然如果定义了这个类的对象，也可以用对象调用静态成员函数</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">如 w1.cat::disp();&nbsp;</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">6、静态成员函数和非静态成员函数的区别是：非静态成员函数有this指针，而静态成员</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">函数没有this指针。静态成员函数可以直接本类中的静态成员函数，因为静态数据成</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">员同样是属于类的，可以直接访问。一般而言，静态成员函数不访问类中的非静态成</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">员。</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">例如：&nbsp;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">cout&lt;&lt;"一只小猫的重量是：&lt;&lt;weight&lt;&lt;"千克"&lt;&lt;endl;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">//不合法，weight是非静态数据成员</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">cout&lt;&lt;"一只小猫的总重量是：&lt;&lt;total_weight&lt;&lt;"千克"&lt;&lt;endl;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">//合法，total_weight是静态数据成员&nbsp;</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">若确实需要访问非静态数据成员，静态成员函数只能通过对象名(或对象指针、对象引用)</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">访问该对象的非静态成员。如把display函数定义为静态成员函数时，可将对象的引用作为</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">函数参数，将它定义为：</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">static void display(Small_cat &amp;w)</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">{</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">&nbsp; &nbsp; &nbsp; &nbsp; cout&lt;&lt;"这只小猫的重量是："&lt;&lt;w.weight&lt;&lt;"千克"&lt;&lt;endl;</span><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">}&nbsp;</span><br><br><span style="line-height:1.8;font-size:18px;font-family:'隶书';">下面的例子给出了静态成员函数访问非静态数据成员的方法。</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);color:rgb(0,0,0);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>例 <span style="line-height:1.8;color:rgb(128,0,128);">3.32</span><span style="line-height:1.8;">  静态成员函数访问非静态数据成员。                             
</span>*/<span style="line-height:1.8;">
#include</span>&lt;iostream&gt;
<span style="line-height:1.8;color:rgb(0,0,255);">using</span> <span style="line-height:1.8;color:rgb(0,0,255);">namespace</span><span style="line-height:1.8;"> std;
</span><span style="line-height:1.8;color:rgb(0,0,255);">class</span><span style="line-height:1.8;"> Small_cat
{
   </span><span style="line-height:1.8;color:rgb(0,0,255);">public</span><span style="line-height:1.8;">:
     Small_cat(</span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> w);                     <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明构造函数 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">void</span> display(Small_cat &amp;);       <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明静态成员函数 </span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">void</span> total_disp();                <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">声明静态成员函数</span>
   <span style="line-height:1.8;color:rgb(0,0,255);">private</span><span style="line-height:1.8;">:
     </span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> weight;                           <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">普通数据成员，表示一只小猫的重量</span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">double</span> total_weight;              <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">静态数据成员，用来统计小猫的重量</span>
     <span style="line-height:1.8;color:rgb(0,0,255);">static</span> <span style="line-height:1.8;color:rgb(0,0,255);">double</span> total_number;              <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">静态数据成员，用来统计小猫的数量 </span>
<span style="line-height:1.8;">}; 
Small_cat::Small_cat(</span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> w)                           <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义构造函数 </span>
<span style="line-height:1.8;">{                                              
     weight </span>=<span style="line-height:1.8;"> w;                               
     total_weight </span>+= w;                       <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">累加小猫的重量</span>
     total_number ++;                         <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">累加小猫的数量 </span>
<span style="line-height:1.8;">}
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span> Small_cat::display(Small_cat &amp;w)         <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态成员函数，将对象的引用作为参数，</span>
{                                              <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">显示每只小猫的重量 </span>
    cout&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">这只小猫的重量是：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;w.weight&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">千克</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
}
</span><span style="line-height:1.8;color:rgb(0,0,255);">void</span> Small_cat::total_disp()                  <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">定义静态成员函数，输出小猫的总数量、总重量 </span>
<span style="line-height:1.8;">{
    cout</span>&lt;&lt;total_number&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">只小猫的重量是：</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;">;
    cout</span>&lt;&lt;total_weight&lt;&lt;<span style="line-height:1.8;color:rgb(128,0,0);">"</span><span style="line-height:1.8;color:rgb(128,0,0);">千克</span><span style="line-height:1.8;color:rgb(128,0,0);">"</span>&lt;&lt;<span style="line-height:1.8;">endl;
    cout</span>&lt;&lt;<span style="line-height:1.8;">endl;
} 
</span><span style="line-height:1.8;color:rgb(0,0,255);">double</span> Small_cat::total_weight=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;             <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">静态数据成员初始化 </span>
<span style="line-height:1.8;color:rgb(0,0,255);">double</span> Small_cat::total_number=<span style="line-height:1.8;color:rgb(128,0,128);">0</span>;             <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">静态数据成员初始化</span>
<span style="line-height:1.8;color:rgb(0,0,255);">int</span><span style="line-height:1.8;"> main()
{
   Small_cat::total_disp();          </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">在建立对象之前，调用静态成员函数，显示小猫的总数量、总重量 </span>
<span style="line-height:1.8;">    
   Small_cat w1(</span><span style="line-height:1.8;color:rgb(128,0,128);">0.4</span>),w2(<span style="line-height:1.8;color:rgb(128,0,128);">0.5</span>),w3(<span style="line-height:1.8;color:rgb(128,0,128);">0.6</span><span style="line-height:1.8;">);
   Small_cat::display(w1);                    </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">调用静态成员函数，显示第一只小猫的重量 </span>
   Small_cat::display(w2);                    <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">调用静态成员函数，显示第二只小猫的重量</span>
   Small_cat::display(w3);                    <span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);">调用静态成员函数，显示第三只小猫的重量</span>
<span style="line-height:1.8;">   
   Small_cat::total_disp();         </span><span style="line-height:1.8;color:rgb(0,128,0);">//</span><span style="line-height:1.8;color:rgb(0,128,0);"> 在建立对象之后，调用静态成员函数，显示小猫的总数量、总重量</span>
   
   <span style="line-height:1.8;color:rgb(0,0,255);">return</span> <span style="line-height:1.8;color:rgb(128,0,128);">0</span><span style="line-height:1.8;">;
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p>&nbsp;</p> 
    <p><span style="line-height:1.8;font-size:18px;font-family:'隶书';"><em>&nbsp;</em></span></p> 
   </div> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:25.2px;">
    程序猿神奇的手，每时每刻，这双手都在改变着世界的交互方式！
   </div> 
   <div class="clear" style="clear:both;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;line-height:25.2px;"></div> 
   <div> 
    <div> 
     <font color="#333333"><span style="font-size:14px;line-height:25.2px;">本文转自当天真遇到现实博客园博客，原文链接：http://www.cnblogs.com/XYQ-208910/p/4912206.html</span></font>
     <span style="font-size:14px;line-height:25.2px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者</span> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
