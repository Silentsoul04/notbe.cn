<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>H2内存数据库 支持存储到文件 « NotBeCN</title>
  <meta name="description" content="                 ﻿﻿       准备工作    1、下载JDK（本人下载的版本号为JDK1.7）、环境变量设置JAVA_HOME。设置PATH（%JAVA_HOME%\bin%）。 2、下载并解压：h2-2014-07-13.zip&nbsp; 官网下载地址：http://www.h2data...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/10/11/weixin_34221073_90129822.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">H2内存数据库 支持存储到文件</h1>
    <p class="post-meta">Oct 11, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    ﻿﻿
   </div> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">准备工作</span></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">1、下载JDK（本人下载的版本号为JDK1.7）、环境变量设置JAVA_HOME。设置PATH（%JAVA_HOME%\bin%）。</span><br> 2、下载并解压：h2-2014-07-13.zip&nbsp; 官网下载地址：<a href="http://www.h2database.com/html/main.html" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);">http://www.h2database.com/html/main.html</a><br> 3、环境变量设置H2_HOME。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">%H2_HOME%表示为解压的文件文件夹。执行%H2_HOME%\bin\h2.bat 将会自己主动打开以下网址。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">(请确认是否安装了jdk，并设置了JAVA_HOME环境变量)<br><a href="http://localhost:8082/login.jsp?%3C/p%3E%3Cp%3Ejsessionid=244e36a683f97f0d4f3b000f33530ed1" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;">http://localhost:8082/login.jsp?jsessionid=244e36a683f97f0d4f3b000f33530ed1</a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_1.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="300" height="248" title="lifeba.org_database_h2_1" class="alignnone size-medium wp-image-290" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_1-300x248.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;"></span>3、点击 connect ，登录。</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_3.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="300" height="245" title="lifeba.org_database_h2_3" class="alignnone size-medium wp-image-291" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_3-300x245.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">4、运行上图中红色部分sql语句，成功创建test表。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_4.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="300" height="242" title="lifeba.org_database_h2_4" class="alignnone size-medium wp-image-292" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_4-300x242.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">由于没有指定数据库文件位置。会自己主动输出到输出到C:\Users\Administrator下。</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_5.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="300" height="35" title="lifeba.org_database_h2_5" class="alignnone size-medium wp-image-293" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_5-300x35.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">H2文件结构</span></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">&nbsp;</span><br> %H2_HOME%<br> -h2<br> &nbsp; -bin<br> &nbsp;&nbsp;&nbsp; h2-1.3.154.jar //jar包<br> &nbsp;&nbsp;&nbsp; h2.bat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Windows控制台启动脚本<br> &nbsp;&nbsp;&nbsp; h2.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Linux控制台启动脚本<br> &nbsp;&nbsp;&nbsp; h2w.bat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Windows控制台启动脚本（不带黑屏窗体）<br> &nbsp; +docs 帮助文档<br> &nbsp; +service //通过wrapper包装成服务。<br> &nbsp; +src&nbsp; //源码<br> &nbsp; build.bat&nbsp; windows构建脚本<br> &nbsp; build.sh&nbsp;&nbsp; linux构建脚本</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">H2的使用<br></span>支持Embedded。server和in-memory模式以及内存模式。<br><span style="line-height:1.8;border:0px;vertical-align:baseline;">Embedded模式</span></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">1、新建java project工程 H2Test。</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_9.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="234" height="285" title="lifeba.org_database_h2_9" class="alignnone size-full wp-image-296" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_9.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_8.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"></a>&nbsp;</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">2、%H2_HOME%\bin\h2-1.3.154.jar 拷贝到 \H2Test\lib下。并增加project引用。<br> 3、新建Generic H2 (Embedded)数据库。指定：JDBC&nbsp;<a href="http://www.cnblogs.com/mfrbuaa/p/5142973.html" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;">URL:jdbc:h2:E:\research\workspace\H2Test\db\test</a>。然后运行上面的test sql语句，来创建一个test表。</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_6.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="300" height="225" title="lifeba.org_database_h2_6" class="alignnone size-medium wp-image-297" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_6-300x225.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">4、新建 TestH2类 主要代码</p> 
   <blockquote style="background:rgb(238,238,238) none;border:1px solid rgb(221,221,221);color:rgb(85,85,85);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"> 
    <p style="margin-left:auto;border:0px;line-height:18px;vertical-align:baseline;"><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">public static void main(String[] a)</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throws Exception {</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp; Class.forName("org.h2.Driver");</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp; Connection conn = DriverManager.</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getConnection("jdbc:h2:E:\\research\\workspace\\H2Test\\db\\test", "sa", "");</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp; // add application code here</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp; Statement stmt = conn.createStatement();</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp; ResultSet rs = stmt.executeQuery("SELECT * FROM TEST ");&nbsp;&nbsp;&nbsp;</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(rs.next()) {&nbsp;&nbsp;&nbsp;</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; System.out.println(rs.getInt("ID")+","+rs.getString("NAME"));</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;&nbsp; conn.close();</span><br><span style="line-height:1.8;color:rgb(0,0,0);border:0px;vertical-align:baseline;">&nbsp;}</span></p> 
   </blockquote> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">&nbsp;<br> 控制台打印出：1,Hi<br><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_7.jpg" rel="nofollow" style="color:rgb(51,51,51);border:0px;vertical-align:baseline;"><img width="300" height="200" title="lifeba.org_database_h2_7" class="alignnone size-medium wp-image-298" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_7-300x200.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">server模式</span></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">1、直接将jdbc url 改为：jdbc:h2:tcp://localhost/~/test&nbsp; 即可了。由于我们在上面第一步的时候已经在C:\Users\Administrator创建了test数据库。<br> 你也能够再创建新的数据库，默认都是保存在C:\Users\Administrator下的。<br> 注意：你必须启动服务：%H2_HOME%\bin\h2.bat 或者 以服务模式启动：%H2_HOME%\service\0_run_server_debug.bat ，里面有好几个脚本把H2部署为服务模式。每次机器启动后自己主动启动H2服务。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br> 2、新建 TestServerH2类 主要代码</p> 
   <blockquote style="background:rgb(238,238,238) none;border:1px solid rgb(221,221,221);color:rgb(85,85,85);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"> 
    <p style="margin-left:auto;border:0px;line-height:18px;vertical-align:baseline;">public static void main(String[] a)<br> &nbsp;&nbsp;&nbsp; throws Exception {<br> &nbsp;&nbsp; Class.forName("org.h2.Driver");<br> &nbsp;&nbsp; Connection conn = DriverManager.<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getConnection("jdbc:h2:tcp://localhost/~/test", "sa", "");<br> &nbsp;&nbsp; // add application code here<br> &nbsp;&nbsp; Statement stmt = conn.createStatement();<br> &nbsp;&nbsp; ResultSet rs = stmt.executeQuery("SELECT * FROM TEST ");&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp; while(rs.next()) {&nbsp;&nbsp;&nbsp;<br> &nbsp; &nbsp;&nbsp; System.out.println(rs.getInt("ID")+","+rs.getString("NAME"));<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp; conn.close();<br> &nbsp;}</p> 
   </blockquote> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">执行的结果和上面一样。</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;">内存模式</span>（数据仅仅保存在内存中）</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">1、新建 TestMemH2类 主要代码</p> 
   <blockquote style="background:rgb(238,238,238) none;border:1px solid rgb(221,221,221);color:rgb(85,85,85);font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"> 
    <p style="margin-left:auto;border:0px;line-height:18px;vertical-align:baseline;">public static void main(String[] a)<br> &nbsp;&nbsp;&nbsp; throws Exception {<br> &nbsp;&nbsp; Class.forName("org.h2.Driver");<br> &nbsp;&nbsp; Connection conn = DriverManager.<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getConnection("jdbc:h2:tcp://localhost/mem:test2", "sa", "");<br> &nbsp;&nbsp; // add application code here<br> &nbsp;&nbsp; Statement stmt = conn.createStatement();<br> &nbsp;&nbsp;<br> &nbsp;&nbsp; stmt.executeUpdate("CREATE TABLE TEST_MEM(ID INT PRIMARY KEY,NAME VARCHAR(255));");<br> &nbsp;&nbsp; stmt.executeUpdate("INSERT INTO TEST_MEM VALUES(1, 'Hello_Mem');");<br> &nbsp;&nbsp; ResultSet rs = stmt.executeQuery("SELECT * FROM TEST_MEM");&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp; while(rs.next()) {&nbsp;&nbsp;&nbsp;<br> &nbsp; &nbsp;&nbsp; System.out.println(rs.getInt("ID")+","+rs.getString("NAME"));<br> &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp; conn.close();<br> &nbsp;}</p> 
   </blockquote> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">控制台打印出：1,Hello_Mem</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><a href="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_8.jpg" rel="nofollow" style="color:rgb(74,99,15);border:0px;vertical-align:baseline;"><img width="300" height="98" title="lifeba.org_database_h2_8" alt="" src="http://www.lifeba.org/wp-content/uploads/2011/04/lifeba.org_database_h2_8-300x98.jpg" style="border:1px solid rgb(221,221,221);vertical-align:baseline;"></a></p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>集群 / 高可用性</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">数据库支持简单的集群/高可用性机制。架构是：两个数据库服务执行在两台不同的计算机上，两台计算机有相同数据库的副本，假设两个server都处于执行状态，每一个数据库操作都被在两台计算机上执行，假设一台server宕机（断电、硬件故障、网络故障等），另外一台计算机仍能提供服务，从这一刻開始，数据库操作仅在一台server上执行，直到另外一台server恢复执行。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">集群仅能用于server模式（内嵌模式并不支持集群）。能够在数据库执行状态下恢复集群<span style="line-height:1.8;background:#FFFF00;">。可是要求在第二个数据库恢复期间没有应用在改变第一个数据库的数据，因此恢复集群是一个手工的过程。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">初始化集群，使用以下的步骤：</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建数据库</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用CreateCluster工具创建一个数据库福分到另外的地方，而且初始化集群，这样就得到了相同数据的两个数据库</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;启动两个数据库服务（每一个数据库的副本）</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如今能够通过应用client连接到数据库</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>使用创建集群工具</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">要了解集群怎样工作，请尝试以下的样例，在这个样例里，两个数据库驻留在同一台计算机上，但通常，两个数据库在不同的计算机上。</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建两个文件夹：server1,server2。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">每一个文件夹将模拟一台计算机</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在第一个文件夹启动TCP服务。你能够执行以下的命令：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java org.h2.tools.Server</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-tcp-tcpPort 9101</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-baseDirserver1</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在第二个文件夹启动TCP服务，模拟第二个server（冗余执行），你能使用以下的命令：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java org.h2.tools.Server</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-tcp-tcpPort 9102</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-baseDirserver2</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用 CreateCluster 工具初始化集群，假设数据库不存在。将创建一个新的空数据库。执行以下命令行：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java org.h2.tools.CreateCluster</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-urlSourcejdbc:h2:tcp://localhost:9101/~/test</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-urlTargetjdbc:h2:tcp://localhost:9102/~/test</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-user sa</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-serverList localhost:9101,localhost:9102</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;应用或者是H2控制台能够通过以下的JDBC的URL连接数据库：jdbc:h2:tcp://localhost:9101,localhost:9102/~/test</p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;假设你停止一个服务（通过杀进程），你注意到还有一个机器继续工作，数据库仍能提供訪问。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p align="left" style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;恢复集群。你须要先删掉宕机的数据库。然后重新启动宕机的数据库的服务，再又一次执行CreateCluster集群工具。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>检測执行状态下的集群</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">查找哪些节点当前正在执行。通过执行以下的SQL语句：</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;background:rgb(236,233,216);">SELECT VALUE FROM INFORMATION_SCHEMA.SETTINGS WHERENAME='CLUSTER'</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">结果返回为 '' （两个单引號），说明集群模式被屏蔽，否则，集群服务器列表将被单引號包含着返回。如'server1:9191,server2:9191'。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <br style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">2、上面的 URL 改为 jdbc:h2:~/mem:test 也是能够的。假设是localhost必须启动服务。</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p> 
   <p style="margin-left:auto;color:rgb(51,51,51);border:0px;line-height:18px;font-family:Tahoma, Arial, Helvetica, sans-serif;font-size:13px;vertical-align:baseline;"><span style="line-height:1.8;border:0px;vertical-align:baseline;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>数据库连接 URL说明</strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">数据库支持多种连接模式和连接设置，不同的连接模式和连接设置是通过不同的URL来区分的，URL中的设置是不区分大写和小写。</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"></p> 
   <p> </p> 
   <table border="0" style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;background:rgb(236,233,216);"> <p>Topic</p> </td> 
      <td style="border:1px solid #C0C0C0;border-collapse:collapse;background:rgb(236,233,216);"> <p>URL Format and Examples</p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#embedded_databases" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">嵌入式（本地）连接</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:[file:][&lt;path&gt;]&lt;databaseName&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:~/test</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:/data/sample</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:C:/data/sample (Windows only)</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#in_memory_databases" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">内存数据库（私有）</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:mem:</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#in_memory_databases" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">内存数据库（被命名）</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:mem:&lt;databaseName&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:mem:test_mem</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/tutorial.html#using_server" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"></a><a href="http://www.h2database.com/html/tutorial.html#using_server" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">使用</span></a></span><span style="line-height:1.8;color:#0000FF;">TCP/I</span><a href="http://www.h2database.com/html/tutorial.html#using_server" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">P</span></a><a href="http://www.h2database.com/html/tutorial.html#using_server" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">的服务器模式（远程连接）</span></a></u></p> <p><span style="line-height:1.8;">&nbsp;</span></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:tcp://&lt;server&gt;[:&lt;port&gt;]/[&lt;path&gt;]&lt;databaseName&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:tcp://localhost/~/test</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:tcp://dbserv:8084/~/sample</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/advanced.html#ssl_tls_connections" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">使用</span></a></span><a href="http://www.h2database.com/html/advanced.html#ssl_tls_connections" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">SSL/TLS</span></a><a href="http://www.h2database.com/html/advanced.html#ssl_tls_connections" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">的server模式（远程连接）</span></a></u></p> <p><span style="line-height:1.8;">&nbsp;</span></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:ssl://&lt;server&gt;[:&lt;port&gt;]/&lt;databaseName&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:ssl://secureserv:8085/~/sample;</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#file_encryption" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">使用加密文件</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;CIPHER=[AES|XTEA]</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:ssl://secureserv/~/testdb;CIPHER=AES</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/secure;CIPHER=XTEA</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#database_file_locking" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">文件锁</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;FILE_LOCK={NO|FILE|SOCKET}</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/quickAndDirty;FILE_LOCK=NO</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/private;CIPHER=XTEA;FILE_LOCK=SOCKET</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#database_only_if_exists" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">仅打开存在的数据库</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;IFEXISTS=TRUE</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/sample;IFEXISTS=TRUE</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#do_not_close_on_exit" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">当虚拟机退出时并不关闭数据库</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;DB_CLOSE_ON_EXIT=FALSE</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#passwords" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">username与password</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;[;USER=&lt;username&gt;][;PASSWORD=&lt;value&gt;]</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/sample;USER=sa;PASSWORD=123</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#log_index_changes" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">更新记入索引</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;LOG=2</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/sample;LOG=2</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#trace_options" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">调试跟踪项设置</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;TRACE_LEVEL_FILE=&lt;level 0..3&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/sample;TRACE_LEVEL_FILE=3</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#ignore_unknown_settings" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">忽略位置參数设置</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;IGNORE_UNKNOWN_SETTINGS=TRUE</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#custom_access_mode" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">指定文件读写模式</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;ACCESS_MODE_LOG=rws;ACCESS_MODE_DATA=rws</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#database_in_zip" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">在</span></a></span><span style="line-height:1.8;color:#0000FF;">Zip</span><span style="line-height:1.8;color:#0000FF;">文件里的数据库</span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:zip:&lt;zipFileName&gt;!/&lt;databaseName&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:zip:~/db.zip!/test</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#compatibility" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">兼容模式</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;MODE=&lt;databaseType&gt;</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:~/test;MODE=MYSQL</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#auto_reconnect" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">自己主动重连接</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;AUTO_RECONNECT=TRUE</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:tcp://localhost/~/test;AUTO_RECONNECT=TRUE</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#auto_mixed_mode" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">自己主动混合模式</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;AUTO_SERVER=TRUE</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:~/test;AUTO_SERVER=TRUE</span></p> </td> 
     </tr>
     <tr>
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><u><span style="line-height:1.8;color:#0000FF;"><a href="http://www.h2database.com/html/features.html#other_settings" rel="nofollow" style="color:rgb(0,0,0);border-bottom:1px dotted rgb(51,51,51);"><span style="line-height:1.8;color:#0000FF;">更改其它设置</span></a></span></u></p> </td> 
      <td valign="top" style="border:1px solid #C0C0C0;border-collapse:collapse;"> <p><span style="line-height:1.8;">jdbc:h2:&lt;url&gt;;&lt;setting&gt;=&lt;value&gt;[;&lt;setting&gt;=&lt;value&gt;...]</span><span style="line-height:1.8;"><br></span><span style="line-height:1.8;">jdbc:h2:file:~/sample;TRACE_LEVEL_SYSTEM_OUT=3</span></p> </td> 
     </tr>
    </tbody>
   </table>
   <font color="#333333"><span style="font-size:14px;"><br></span></font> 
   <p><font color="#333333"><span style="font-size:14px;"><br></span></font></p> 
   <p><font color="#333333"><span><span style="font-size:14px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/5142973.html，如需转载请自行联系原作者</span><br></span></font></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
