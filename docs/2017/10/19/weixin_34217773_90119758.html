<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Codeforces Round #271 (Div. 2) « NotBeCN</title>
  <meta name="description" content="                       D. Flowers                     time limit per test      &nbsp;1.5 seconds                     memory limit per test      &nbsp;256 meg...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/10/19/weixin_34217773_90119758.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Codeforces Round #271 (Div. 2)</h1>
    <p class="post-meta">Oct 19, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="header" style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;text-align:center;"> 
    <div class="title" style="font-size:21px;">
     D. Flowers
    </div> 
    <div class="time-limit"> 
     <div class="property-title">
      time limit per test
     </div> &nbsp;1.5 seconds
    </div> 
    <div class="memory-limit"> 
     <div class="property-title">
      memory limit per test
     </div> &nbsp;256 megabytes
    </div> 
    <div class="input-file"> 
     <div class="property-title">
      input
     </div> &nbsp;standard input
    </div> 
    <div class="output-file"> 
     <div class="property-title">
      output
     </div> &nbsp;standard output
    </div> 
   </div> 
   <div style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;"> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">We saw the little game Marmot made for Mole's lunch. Now it's Marmot's dinner time and, as we all know, Marmot eats flowers. At every dinner he eats some red and white flowers. Therefore a dinner can be represented as a sequence of several flowers, some of them white and some of them red.</p> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">But, for a dinner to be tasty, there is a rule: Marmot wants to eat white flowers only in groups of size&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>k</em></span>.</p> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">Now Marmot wonders in how many ways he can eat between&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>a</em></span>&nbsp;and&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>b</em></span>&nbsp;flowers. As the number of ways could be very large, print it modulo<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">1000000007</span>&nbsp;(<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">10<span class="upper-index" style="line-height:0;font-size:13px;vertical-align:baseline;">9</span> + 7</span>).</p> 
   </div> 
   <div class="input-specification" style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;"> 
    <div class="section-title" style="font-size:16px;font-weight:bold;">
     Input
    </div> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">Input contains several test cases.</p> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">The first line contains two integers&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>t</em></span>&nbsp;and&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>k</em></span>&nbsp;(<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">1 ≤ <em>t</em>, <em>k</em> ≤ 10<span class="upper-index" style="line-height:0;font-size:13px;vertical-align:baseline;">5</span></span>), where&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>t</em></span>&nbsp;represents the number of test cases.</p> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">The next&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>t</em></span>&nbsp;lines contain two integers&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>a</em><span class="lower-index" style="line-height:0;font-size:13px;vertical-align:baseline;"><em>i</em></span></span>&nbsp;and&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>b</em><span class="lower-index" style="line-height:0;font-size:13px;vertical-align:baseline;"><em>i</em></span></span>&nbsp;(<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">1 ≤ <em>a</em><span class="lower-index" style="line-height:0;font-size:13px;vertical-align:baseline;"><em>i</em></span> ≤ <em>b</em><span class="lower-index" style="line-height:0;font-size:13px;vertical-align:baseline;"><em>i</em></span> ≤ 10<span class="upper-index" style="line-height:0;font-size:13px;vertical-align:baseline;">5</span></span>), describing the&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>i</em></span>-th test.</p> 
   </div> 
   <div class="output-specification" style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;"> 
    <div class="section-title" style="font-size:16px;font-weight:bold;">
     Output
    </div> 
    <p style="text-indent:2em;font-size:1em;color:rgb(51,51,51);line-height:1.4em;">Print&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>t</em></span>&nbsp;lines to the standard output. The&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>i</em></span>-th line should contain the number of ways in which Marmot can eat between&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>a</em><span class="lower-index" style="line-height:0;font-size:13px;vertical-align:baseline;"><em>i</em></span></span>&nbsp;and&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>b</em><span class="lower-index" style="line-height:0;font-size:13px;vertical-align:baseline;"><em>i</em></span></span>&nbsp;flowers at dinner modulo&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">1000000007</span>&nbsp;(<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">10<span class="upper-index" style="line-height:0;font-size:13px;vertical-align:baseline;">9</span> + 7</span>).</p> 
   </div> 
   <div class="sample-tests" style="font-family:Consolas, 'Lucida Console', 'Andale Mono', 'Bitstream Vera Sans Mono', 'Courier New', Courier;line-height:1.5em;font-size:.9em;"> 
    <div class="section-title" style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;font-weight:bold;">
     Sample test(s)
    </div> 
    <div class="sample-test"> 
     <div class="input" style="border:1px solid rgb(136,136,136);"> 
      <div class="title" style="font-size:1.3em;border-bottom:1px solid rgb(136,136,136);text-transform:lowercase;font-weight:bold;">
       input
      </div> 
      <pre>3 2
1 3
2 3
4 4
</pre> 
     </div> 
     <div class="output" style="border:1px solid rgb(136,136,136);"> 
      <div class="title" style="font-size:1.3em;border-bottom:1px solid rgb(136,136,136);text-transform:lowercase;font-weight:bold;">
       output
      </div> 
      <pre>6
5
5
</pre> 
     </div> 
    </div> 
   </div> 
   <div class="note"> 
    <div class="section-title" style="color:rgb(34,34,34);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;font-size:16px;font-weight:bold;">
     Note
    </div> 
    <ul style="color:rgb(34,34,34);font-size:1em;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;list-style-position:outside;">
     <li style="list-style:disc;line-height:1.5em;font-size:1em;">For&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>K</em></span>&nbsp;=&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">2</span>&nbsp;and length&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">1</span>&nbsp;Marmot can eat (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>R</em></span>).</li> 
     <li style="list-style:disc;line-height:1.5em;font-size:1em;">For&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>K</em></span>&nbsp;=&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">2</span>&nbsp;and length&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">2</span>&nbsp;Marmot can eat (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>RR</em></span>) and (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>WW</em></span>).</li> 
     <li style="list-style:disc;line-height:1.5em;font-size:1em;">For&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>K</em></span>&nbsp;=&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">2</span>&nbsp;and length&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">3</span>&nbsp;Marmot can eat (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>RRR</em></span>), (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>RWW</em></span>) and (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>WWR</em></span>).</li> 
     <li style="list-style:disc;line-height:1.5em;font-size:1em;">For&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>K</em></span>&nbsp;=&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">2</span>&nbsp;and length&nbsp;<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;">4</span>&nbsp;Marmot can eat, for example, (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>WWWW</em></span>) or (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>RWWR</em></span>), but for example he can't eat (<span class="tex-span" style="line-height:1.8;font-size:18px;font-family:'times new roman', sans-serif;"><em>WWWR</em></span>).</li> 
    </ul>
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;">我理解题目的能力实在太差了,一个小时都没看懂题目.....真不知道我四级是怎么过的....</p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;">题意:</p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;"><span style="line-height:25.2px;font-family:Helvetica, Tahoma, Arial, sans-serif;">一个由‘R’和‘W’构成的字符串中，w仅仅能以连续k个存在。比如k=2。长度为4合法的字符串仅仅有&nbsp;RRWW&nbsp;&nbsp; WWRR&nbsp;&nbsp; WWWW RWWR RRRR，给出两个长度值a，b，问长度为[a，b]的串中合法的字符串有多少个。dp[i]第i位有多少种字符串，当第i位选R时则dp[i]=dp[i-1]，当第i位选W时则dp[i]=dp[i-k]，所以转移方程为dp[i]=dp[i-1]+dp[i-k]</span><br></p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;"><span style="line-height:25.2px;font-family:Helvetica, Tahoma, Arial, sans-serif;">感悟:</span></p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5em;"><span style="line-height:25.2px;font-family:Helvetica, Tahoma, Arial, sans-serif;">尽管这个dp不难,可是还是从不断WA,不断TLE中学到了非常多,预处理使得o(n^2)算法降为o(n),主要是查询的时候变为o(1)!</span></p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-family:Helvetica, Tahoma, Arial, sans-serif;"><span style="line-height:25.2px;">先附上TLE代码:</span></span></p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-family:Helvetica, Tahoma, Arial, sans-serif;"><span style="line-height:25.2px;"></span></span></p> 
    <pre><code class="language-cpp">        int t,k;
        cin&gt;&gt;t&gt;&gt;k;
        dp[0] = 1;
        for(int i =1; i &lt;= 100000+5; i++)
        {
            if(i &lt; k)  {
                dp[i] = 1;
                sum[i] = sum[i-1] +1;
            }
            else if(i == k)
                dp[k] = 2;
            else dp[i] = (dp[i-1] + dp[i - k])%mod;
        }

        while(t--)
        {
             int a,b;
             //cin&gt;&gt;a&gt;&gt;b;
             scanf("%d%d",&amp;a,&amp;b);
             LL sum = 0;
             for(int i = a; i &lt;= b; i++)//这里最多会取t*(a-b)次模,相当于n^2,10^10,居然没注意这是个o(n^2)的算法,我也是醉了QAQ
             {
                 sum += dp[i];
                 sum %= mod;
             }
            cout&lt;&lt;sum&lt;&lt;endl;

        }</code></pre> 
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">AC代码</span> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"></p> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"><span style="line-height:1.8;font-family:Helvetica, Tahoma, Arial, sans-serif;"><span style="line-height:25.2px;"></span></span></p> 
    <pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#include&lt;cstring&gt;
#include &lt;algorithm&gt;
#define LL  long long
const int mod = 1e9+7;
const int  maxn = 2000000+10;
using namespace std;
LL dp[maxn];
LL sum[maxn];
int main()
{

        int t,k;
        cin&gt;&gt;t&gt;&gt;k;
        dp[0] = 1;
        sum[0] = 0;
        for(int i = 1; i &lt; k; i++)
        {
            dp[i] = 1;
            sum[i] = sum[i-1] + dp[i];
        }
        for(int i =k; i &lt;= 100000+5; i++)
        {
                    dp[i] = (dp[i-1] + dp[i - k])%mod;
                    sum[i] = sum[i-1] + dp[i];
                    sum[i] %= mod;
        }
        while(t--)
        {
             int a,b;
           cin&gt;&gt;a&gt;&gt;b;
          cout&lt;&lt;(sum[b] - sum[a-1]+mod)%mod&lt;&lt;endl;//注意这里我也WA了好几发,sum[b]-sum[a-1]有可能是负数,由于一開始取模了有肯能取摸 后sum[b]&lt;sum[a-1],比方b = 10006,a = 1005,b%10006 &lt; a%10006,所以要加个mod

        }
    return 0;
}
</code></pre> 
    <br style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">从这到简单的dp涨了不少姿势,233333</span> 
    <p style="text-indent:2em;font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;"></p> 
   </div> 
   <div>
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></span>
   </div> 
   <div>
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></span>
   </div> 
   <div>
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></span>
   </div> 
   <div>
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></span>
   </div> 
   <div>
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></span>
   </div> 
   <div>
    <span style="color:rgb(34,34,34);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></span>
   </div> 
   <div>
    <span><font color="#222222"><span style="font-size:14px;">本文转自mfrbuaa博客园博客，原文链接：http://www.cnblogs.com/mfrbuaa/p/5167967.html，如需转载请自行联系原作者</span></font><br></span>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
