<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>【转载】angularJs模块ui-router之状态管理 « NotBeCN</title>
  <meta name="description" content="             作者原文地址：http://bubkoo.com/2014/01/01/angular/ui-router/guide/state-manager/    参考原文：https://github.com/angular-ui/ui-router/wiki    ui-router 的工作...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/10/19/weixin_33744854_90119203.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">【转载】angularJs模块ui-router之状态管理</h1>
    <p class="post-meta">Oct 19, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">作者原文地址：<a href="http://bubkoo.com/2014/01/01/angular/ui-router/guide/state-manager/" rel="nofollow" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;line-height:normal;">http://bubkoo.com/2014/01/01/angular/ui-router/guide/state-manager/</a></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">参考原文：<a href="https://github.com/angular-ui/ui-router/wiki" rel="nofollow" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;line-height:normal;">https://github.com/angular-ui/ui-router/wiki</a></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">ui-router 的工作原理非常类似于 Angular 的路由控制器，但它只关注状态。</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;">在应用程序的整个用户界面和导航中，一个状态对应于一个页面位置</li> 
    <li style="list-style:disc;">通过定义<code>controller</code>、<code>template</code>和<code>view</code>等属性，来定义指定位置的用户界面和界面行为</li> 
    <li style="list-style:disc;">通过嵌套的方式来解决页面中的一些重复出现的部位</li> 
   </ul>
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">最简单的形式</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">模板可以通过下面这种最简单的方式来指定</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">&lt;!--</span><span style="color:rgb(0,128,0);line-height:1.5;"> in index.html </span><span style="color:rgb(0,128,0);line-height:1.5;">--&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">body </span><span style="color:rgb(255,0,0);line-height:1.5;">ng-controller</span><span style="color:rgb(0,0,255);line-height:1.5;">="MainCtrl"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">section </span><span style="color:rgb(255,0,0);line-height:1.5;">ui-view</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">section</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">body</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre>
   </div> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="line-height:1.5;">// in app-states.js (or whatever you want to name it)
$stateProvider.state('contacts', {
  template: '</span><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">h1</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>My Contacts<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">h1</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span><span style="line-height:1.5;">'
})</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-size:1.17em;line-height:1.5;"><br> 模板将被插入哪里?</span></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-size:1.17em;line-height:1.5;"><br> 激活状态</span>状态被激活时，它的模板会自动插入到父状态对应的模板中包含<code>ui-view</code>属性的元素内部。如果是顶层的状态，那么它的父模板就是<code>index.html</code>。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">有三种方法来激活状态：</p> 
   <ol style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:decimal;">调用<code>$state.go()</code>方法，这是一个高级的便利方法；</li> 
    <li style="list-style:decimal;">点击包含<code>ui-sref</code>指令的链接；</li> 
    <li style="list-style:decimal;">导航到与状态相关联的 url。</li> 
   </ol>
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">Templates 模板</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">可以通过下面几种方法来配置一个状态的模板。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">方法一：配置<code>template</code>属性，指定一段 HTML 字符串，这人是设置模板的最简单的方式</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  template: </span>'&lt;h1&gt;My Contacts&lt;/h1&gt;'<span style="line-height:1.5;">
})</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">方法二：配置<code>templateUrl</code>属性，来加载指定位置的模板，<strong>这是设置模板的常用方法。</strong></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  templateUrl: </span>'contacts.html'<span style="line-height:1.5;">
})</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-family:verdana, Arial, Helvetica, sans-serif;line-height:1.5;"><code>templateUrl</code>的值也可以是一个函数返回的url，函数带一个预设参数<code>stateParams</code>。</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  templateUrl: function<span style="line-height:1.5;"> (stateParams){ return '/partials/contacts.' + stateParams.filterBy + '.html'<span style="line-height:1.5;">; } })</span></span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code><span style="font-family:verdana, Arial, Helvetica, sans-serif;line-height:1.5;">方法三：通过</span><code style="line-height:1.5;">templateProvider</code><span style="font-family:verdana, Arial, Helvetica, sans-serif;line-height:1.5;">函数返回模板的 HTML。</span>templateUrl</code>的值也可以是一个函数返回的url，函数带一个预设参数<code>stateParams</code>。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  templateProvider: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> ($timeout, $stateParams) {
    </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> $timeout(<span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> () {
      </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> '&lt;h1&gt;' + $stateParams.contactId + '&lt;/h1&gt;'<span style="line-height:1.5;">
    }, </span>100<span style="line-height:1.5;">);
  }
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">如果想在状态被激活前，让<code>&lt;ui-view&gt;</code>有一些默认的内容，当状态被激活之后默认内容将被状态对应的模板替换。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">body</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">ui-view</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">i</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>Some content will load here!<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">i</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">ui-view</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">body</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-size:1.5em;line-height:1.5;">Controllers 控制器</span></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">可以为模板指定一个控制器（controller）。<strong>警告</strong>：控制器不会被实例化如果模板没有定义。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">设置控制器：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  template: </span>'&lt;h1&gt;{{title}}&lt;/h1&gt;'<span style="line-height:1.5;">,
  controller: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($scope){
    $scope.title </span>= 'My Contacts'<span style="line-height:1.5;">;
  }
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">如果在模块中已经定义了一个控制器，只需要指定控制器的名称即可：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  template: ...,
  controller: </span>'ContactsCtrl'<span style="line-height:1.5;">
})</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">使用<code>controllerAs</code>语法：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$stateProvider.state('contacts'<span style="line-height:1.5;">, {
  template: ...,
  controller: </span>'ContactsCtrl as contact'<span style="line-height:1.5;">
})</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">对于更高级的需要，可以使用<code>controllerProvider</code>来动态返回一个控制器函数或字符串：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span class="line" style="line-height:1.5;">$stateProvider.state(<span class="string" style="line-height:1.5;">'contacts', {<br><span class="line" style="line-height:1.5;"> template: ...,<br><span class="line" style="line-height:1.5;"> controllerProvider: <span class="function" style="line-height:1.5;"><span class="keyword" style="line-height:1.5;">function(<span class="params" style="line-height:1.5;">$stateParams) {<br><span class="line" style="line-height:1.5;"> <span class="keyword" style="line-height:1.5;">var ctrlName = $stateParams.type + <span class="string" style="line-height:1.5;">"Controller";<br><span class="line" style="line-height:1.5;"> <span class="keyword" style="line-height:1.5;">return ctrlName;<br><span class="line" style="line-height:1.5;"> }<br><span class="line" style="line-height:1.5;">})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">控制器可以使用<code>$scope.on()</code>方法来监听事件状态转换。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">控制器可以根据需要实例化，当相应的<code>scope</code>被创建时。例如，当用户点击一个url手动导航一个状态时，<code>$stateProvider</code>将加载对应的模板到视图中，并且将控制器和模板的<code>scope</code>绑定在一起。</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">解决器 Resolve</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">可以使用<code>resolve</code>为控制器提供可选的依赖注入项。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code>resolve</code>配置项是一个由<code>key/value</code>构成的对象。</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;">key – {string}：注入控制器的依赖项名称。</li> 
    <li style="list-style:disc;">factory - {string|function}： 
     <ul>
      <li style="list-style:disc;">string：一个服务的别名</li> 
      <li style="list-style:disc;">function：函数的返回值将作为依赖注入项，如果函数是一个耗时的操作，那么控制器必须等待该函数执行完成（be resolved）才会被实例化。</li> 
     </ul></li> 
   </ul>
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">例子</h3> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">在<code>controller</code>实例化之前，<code>resolve</code>中的每一个对象都必须 be resolved，请注意每个 resolved object 是怎样作为参数注入到控制器中的。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state('myState'<span style="line-height:1.5;">, {
      resolve:{

         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Example using function with simple return value.</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Since it's not a promise, it resolves immediately.</span>
         simpleObj:  <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(){
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> {value: 'simple!'<span style="line-height:1.5;">};
         },

         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Example using function with returned promise.</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 这是一种典型使用方式</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 请给函数注入任何想要的服务依赖，例如 $http</span>
         promiseObj:  <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($http){
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> $http returns a promise for the url data</span>
            <span style="color:rgb(0,0,255);line-height:1.5;">return</span> $http({method: 'GET', url: '/someUrl'<span style="line-height:1.5;">});
         },

         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Another promise example. </span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 如果想对返回结果进行处理， 可以使用 .then 方法</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 这是另一种典型使用方式</span>
         promiseObj2:  <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($http){
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> $http({method: 'GET', url: '/someUrl'<span style="line-height:1.5;">})
               .then (</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> (data) {
                   </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> doSomeStuffFirst(data);
               });
         },        

         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 使用服务名的例子，这将在模块中查找名称为 'translations' 的服务，并返回该服务 </span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Note: The service could return a promise and</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> it would work just like the example above</span>
         translations: "translations"<span style="line-height:1.5;">,

         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 将服务模块作为解决函数的依赖项，通过参数传入</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 提示：依赖项 $stateParams 代表 url 中的参数</span>
         translations2: <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(translations, $stateParams){
             </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Assume that getLang is a service method</span>
             <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> that uses $http to fetch some translations.</span>
             <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Also assume our url was "/:lang/home".</span>
<span style="line-height:1.5;">             translations.getLang($stateParams.lang);
         },

         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Example showing returning of custom made promise</span>
         greeting: <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($q, $timeout){
             </span><span style="color:rgb(0,0,255);line-height:1.5;">var</span> deferred =<span style="line-height:1.5;"> $q.defer();
             $timeout(</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">() {
                 deferred.resolve(</span>'Hello!'<span style="line-height:1.5;">);
             }, </span>1000<span style="line-height:1.5;">);
             </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> deferred.promise;
         }
      },

      </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 控制器将等待上面的解决项都被解决后才被实例化</span>
      controller: <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($scope, simpleObj, promiseObj, promiseObj2, translations, translations2, greeting){
          
          $scope.simple </span>=<span style="line-height:1.5;"> simpleObj.value;

          </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 这里可以放心使用 promiseObj 中的对象</span>
          $scope.items =<span style="line-height:1.5;"> promiseObj.items;
          $scope.items </span>=<span style="line-height:1.5;"> promiseObj2.items;

          $scope.title </span>= translations.getLang("english"<span style="line-height:1.5;">).title;
          $scope.title </span>=<span style="line-height:1.5;"> translations2.title;

          $scope.greeting </span>=<span style="line-height:1.5;"> greeting;
      }
   })</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">为 $state 对象提供自定义数据</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">可以给 $state 对象提供自定义数据（建议使用<code>data</code>属性，以免冲突）</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 基于对象和基于字符串定义 state 的例子</span>
<span style="color:rgb(0,0,255);line-height:1.5;">var</span> contacts =<span style="line-height:1.5;"> { 
    name: </span>'contacts'<span style="line-height:1.5;">,
    templateUrl: </span>'contacts.html'<span style="line-height:1.5;">,
    data: {
        customData1: </span>5<span style="line-height:1.5;">,
        customData2: </span>"blue"<span style="line-height:1.5;">
    }  
}
$stateProvider
  .state(contacts)
  .state(</span>'contacts.list'<span style="line-height:1.5;">, {
    templateUrl: </span>'contacts.list.html'<span style="line-height:1.5;">,
    data: {
        customData1: </span>44<span style="line-height:1.5;">,
        customData2: </span>"red"<span style="line-height:1.5;">
    } 
  })</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">可以通过下面的方式来访问上面定义的数据：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> Ctrl($state){
    console.log($state.current.data.customData1) </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 输出 5;</span>
    console.log($state.current.data.customData2) <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 输出 "blue";</span>
}</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-size:1.5em;line-height:1.5;">onEnter 和 onExit 回调函数</span></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code>onEnter</code>和<code>onExit</code>回调函数是可选配置项，分别称为当一个状态变得活跃的和不活跃的时候触发。回调函数也可以访问所有解决依赖项。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state("contacts"<span style="line-height:1.5;">, {
  template: </span>'&lt;h1&gt;{{title}}&lt;/h1&gt;'<span style="line-height:1.5;">,
  resolve: { title: </span>'My Contacts'<span style="line-height:1.5;"> },
  controller: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($scope, title){
    $scope.title </span>= 'My Contacts'<span style="line-height:1.5;">;
  },
  </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> title 是解决依赖项，这里也是可以使用解决依赖项的</span>
  onEnter: <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(title){ 
    </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span>(title){ ... <span style="color:rgb(0,0,255);line-height:1.5;">do</span><span style="line-height:1.5;"> something ... }
  },
  </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> title 是解决依赖项，这里也是可以使用解决依赖项的</span>
  onExit: <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(title){
    </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span>(title){ ... <span style="color:rgb(0,0,255);line-height:1.5;">do</span><span style="line-height:1.5;"> something ... }
  }
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">State Change Events 状态改变事件</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">所有这些事件都是在<code>$rootScope</code>作用域触发</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <strong>$stateChangeStart</strong>&nbsp;- 当模板开始解析之前触发</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$rootScope.$on('$stateChangeStart'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span>(event, toState, toParams, fromState, fromParams){ ... })</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">注意：使用<code>event.preventDefault()</code>可以阻止模板解析的发生</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$rootScope.$on('$stateChangeStart'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(event, toState, toParams, fromState, fromParams){ 
    event.preventDefault(); 
    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> transitionTo() promise will be rejected with </span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> a 'transition prevented' error</span>
})</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <strong>$stateNotFound</strong>&nbsp;-&nbsp;<code>v0.3.0</code>&nbsp;- 在 transition 时通过状态名查找状态，当状态无法找到时发生。该事件在 scope 链上广播，只允许一次处理错误的机会。<code>unfoundState</code>将作为参数传入事件监听函数，下面例子中可以看到<code>unfoundState</code>的三个属性。使用&nbsp;<code>event.preventDefault()</code>&nbsp;来阻止模板解析，</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> somewhere, assume lazy.state has not been defined</span>
$state.go("lazy.state", {a:1, b:2}, {inherit:<span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">});

</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> somewhere else</span>
$scope.$on('$stateNotFound'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(event, unfoundState, fromState, fromParams){ 
    console.log(unfoundState.to); </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> "lazy.state"</span>
    console.log(unfoundState.toParams); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> {a:1, b:2}</span>
    console.log(unfoundState.options); <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> {inherit:false} + default options</span>
})</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <strong>$stateChangeSuccess</strong>&nbsp;- 当模板解析完成后触发</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$rootScope.$on('$stateChangeSuccess'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span>(event, toState, toParams, fromState, fromParams){ ... })</pre>
   </div> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <strong>$stateChangeError</strong>&nbsp;- 当模板解析过程中发生错误时触发</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$rootScope.$on('$stateChangeError'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span>(event, toState, toParams, fromState, fromParams, error){ ... })</pre>
   </div> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">View Load Events 视图加载事件</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><strong>$viewContentLoading</strong>&nbsp;- 当视图开始加载，DOM渲染完成之前触发，该事件将在<code>$scope</code>链上广播此事件。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$scope.$on('$viewContentLoading'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">(event, viewConfig){ 
    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Access to all the view config properties.</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> and one special property 'targetView'</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> viewConfig.targetView </span>
});</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <strong>$viewContentLoaded</strong>&nbsp;- 当视图加载完成，DOM渲染完成之后触发，视图所在的<code>$scope</code>发出该事件。</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>$scope.$on('$viewContentLoading'<span style="line-height:1.5;">, 
$scope.$on(</span>'$viewContentLoaded'<span style="line-height:1.5;">, 
</span><span style="color:rgb(0,0,255);line-height:1.5;">function</span>(event){ ... });</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;本文转自吕大豹博客园博客，原文链接http://www.cnblogs.com/lvdabao/articles/4657235.html，如需转载请自行联系原作者</p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
