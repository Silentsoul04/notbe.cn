<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Tomcat « NotBeCN</title>
  <meta name="description" content="                             Tomcat目录层次结构&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/10/01/weixin_34010566_90117687.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Tomcat</h1>
    <p class="post-meta">Oct 1, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div>
    <br>
   </div> 
   <div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">Tomcat目录层次结构&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132246523279125.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="1" src="https://images0.cnblogs.com/blog/587773/201408/132246530771754.png" alt="1" width="580" height="295" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">Tomcat服务器端口的配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">Tomcat的所有配置都放在conf文件夹之中，里面的server.xml文件是配置的核心文件。如果想修改Tomcat服务器的启动端口，则可以在server.xml配置文件中的Connector节点进行的端口修改。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">例如：将Tomcat服务器的<span style="color:rgb(255,0,0);">启动端口由默认的8080改成8081端口</span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Connector </span><span style="color:rgb(255,0,0);line-height:1.5;">port</span><span style="color:rgb(0,0,255);line-height:1.5;">="8081"</span><span style="color:rgb(255,0,0);line-height:1.5;"> protocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="HTTP/1.1"</span><span style="color:rgb(255,0,0);line-height:1.5;">
                connectionTimeout</span><span style="color:rgb(0,0,255);line-height:1.5;">="20000"</span><span style="color:rgb(255,0,0);line-height:1.5;">
                redirectPort</span><span style="color:rgb(0,0,255);line-height:1.5;">="8443"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">Tomcat服务器虚拟目录的映射方式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><span style="color:rgb(255,0,0);">Web应用开发好后，若想供外界访问，需要把web应用所在目录交给web服务器管理，这个过程称之为虚似目录的映射。</span></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(0,0,255);">1.虚拟目录的映射方式一：在server.xml文件的host元素中配置</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">找到server.xml文件的host元素，<span style="color:rgb(255,0,0);">在&lt;Host&gt;&lt;/Host&gt;这对标签加上&lt;Context path="/JavaWebApp" docBase="F:\JavaWebDemoProject" /&gt;</span>即可将在F盘下的JavaWebDemoProject这个JavaWeb应用映射到JavaWebApp这个虚拟目录上，JavaWebApp这个虚拟目录是由Tomcat服务器管理的，JavaWebApp是一个硬盘上不存在的目录，是我们自己随便写的一个目录，也就是虚拟的一个目录，所以称之为"虚拟目录"，代码如下：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Host </span><span style="color:rgb(255,0,0);line-height:1.5;">name</span><span style="color:rgb(0,0,255);line-height:1.5;">="localhost"</span><span style="color:rgb(255,0,0);line-height:1.5;">  appBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="webapps"</span><span style="color:rgb(255,0,0);line-height:1.5;">
              unpackWARs</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;"> autoDeploy</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;">
              xmlValidation</span><span style="color:rgb(0,0,255);line-height:1.5;">="false"</span><span style="color:rgb(255,0,0);line-height:1.5;"> xmlNamespaceAware</span><span style="color:rgb(0,0,255);line-height:1.5;">="false"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
 
          <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Context </span><span style="color:rgb(255,0,0);line-height:1.5;">path</span><span style="color:rgb(0,0,255);line-height:1.5;">="/JavaWebApp"</span><span style="color:rgb(255,0,0);line-height:1.5;"> docBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="F:\JavaWebDemoProject"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Host</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">其中，Context表示上下文，代表的就是一个JavaWeb应用，Context元素有两个属性，</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">　　Ⅰ.path：用来配置虚似目录，必须以"/"开头。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">　　Ⅱ.docBase：配置此虚似目录对应着硬盘上的Web应用所在目录。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">使用浏览器访问"/JavaWebApp"这个虚拟目录下的1.jsp这个web资源。1.jsp可以正常访问，这说明我们已经成功地将将在F盘下的JavaWebDemoProject这个JavaWeb应用映射到JavaWebApp这个虚拟目录上了，访问"/JavaWebApp/1.jsp"就相当于访问"F:\JavaWebDemoProject\1.jsp"</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132254561701644.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="1" src="https://images0.cnblogs.com/blog/587773/201408/132254569203273.png" alt="1" width="580" height="157" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">　　注意：在Tomcat6之后中，不再建议在server.xml文件中使用配置context元素的方式来添加虚拟目录的映射，因为每次修改server.xml文件后，Tomcat服务器就必须要重新启动后才能重新加载server.xml文件。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(0,0,255);">2.虚拟目录的映射方式二：让tomcat服务器自动映射</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">tomcat服务器会自动管理webapps目录下的所有web应用，并把它映射成虚似目录。换句话说，tomcat服务器webapps目录中的web应用，外界可以直接访问。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">例如：把F盘下的JavaWebDemoProject这个JavaWeb应用直接copy到tomcat服务器webapps目录中，此时Tomcat服务器就会自动为JavaWebDemoProject这个JavaWeb应用映射一个同名的虚拟目录"/JavaWebDemoProject"，然后就可以使用浏览器访问这个JavaWeb应用的资源了。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132254575457630.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="1" src="https://images0.cnblogs.com/blog/587773/201408/132254580778257.png" alt="1" width="187" height="150" style="border:0px;background-image:none;"></a><a href="https://images0.cnblogs.com/blog/587773/201408/132256377804918.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="1" src="https://images0.cnblogs.com/blog/587773/201408/132256384832533.png" alt="1" width="590" height="150" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(0,0,255);">3.虚拟目录的映射方式三</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">In individual files (with a ".xml" extension) in the&nbsp;<code>$CATALINA_BASE/conf/[enginename]/[hostname]/</code>&nbsp;directory. The context path and version will be derived from the base name of the file (the file name less the .xml extension). This file will always take precedence over any context.xml file packaged in the web application's META-INF directory.</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">在tomcat服务器的\conf\Catalina\localhost目录下添加一个以xml作为扩展名的文件，xml文件的名字可以任意取，比如aa.xml，"<strong><span style="color:rgb(255,0,0);">The context path and version will be derived from the base name of the file</span></strong>"，这一句话的意思翻译过来就是"context元素的path属性源自于是这个xml文件的名字"，上面提到过，Context元素的path属性是用来配置虚似目录的名称的，所以虚似目录的名称就是这个xml文件的名称。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><code>$CATALINA_BASE</code>指的就是tomcat服务器根目录，<code>[enginename]</code>指的是Tomcat服务器使用的引擎名称，Tomcat使用的引擎是Catalina</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">在aa.xml文件中添加<strong>Context</strong>元素映射JavaWeb应用，代码如下：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Context </span><span style="color:rgb(255,0,0);line-height:1.5;">docBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="F:\JavaWebDemoProject"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132258454983871.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132258460778513.png" alt="download" width="328" height="150" style="border:0px;background-image:none;"></a><a href="https://images0.cnblogs.com/blog/587773/201408/132258468422615.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132258475772771.png" alt="download" width="514" height="150" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">注意：在<strong>Context</strong>元素中并没有指明path属性来设置虚拟目录的名称，那么"F:\JavaWebDemoProject"映射的虚拟目录名称是神马呢，就是当前正在编辑的这个xml文件的名称aa。(<a href="http://localhost:8080/aa/1.jsp" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;">http://localhost:8080/aa/1.jsp</a>)</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">使用这种方式映射虚拟目录的最大好处是修改了配置文件后不用重启Tomcat服务器，比如将aa.xml修改成bb.xml，Tomcat服务器会自动Undeploying context [/aa]，然后自动信息: Deploying configuration descriptor D:\apache-tomcat-7.0.53\conf\Catalina\localhost\bb.xml</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">Tomcat服务器配置虚似主机&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <ul style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">
     <li style="list-style-type:disc;">配置虚似主机就是配置一个网站。<br> 在Tomcat服务器配置一个虚拟主机(网站)，需要修改conf文件夹下的server.xml这个配置文件，使用Host元素进行配置，打开server.xml，可以看到Tomcat服务器自带的一个名称为localhost的虚拟主机(网站)：</li>
    </ul>
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132258481704587.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132258487484931.png" alt="download" width="480" height="220" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">平时我们将开发好的JavaWeb应用放到webapps文件夹下，然后就可以使用"<strong>http://localhost:端口号/JavaWebAppName</strong>"的方式去访问了，其实访问的就是name是"localhost"的那台虚拟主机(Host)，这台虚拟主机管理webapps文件夹下的所有web应用。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">例如：<a href="http://localhost:8080/JavaWebDemoProject/1.jsp" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;">http://localhost:8080/JavaWebDemoProject/1.jsp</a>，这个URL地址访问的就是名称是localhost的那台虚拟主机下的JavaWebDemoProject这个应用里面的1.jsp这个web资源。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Host </span><span style="color:rgb(255,0,0);line-height:1.5;">name</span><span style="color:rgb(0,0,255);line-height:1.5;">="www.yydcdut.com"</span><span style="color:rgb(255,0,0);line-height:1.5;"> appBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="F:\JavaWebApps"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    
 <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Host</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">这里我们新配置一个虚拟主机，虚拟主机的name是"www.yydcdut.com"，虚拟主机"www.yydcdut.com"现在管理着JavaWebApps文件夹下的所有web应用，平时我们在互联网上使用域名"www.baidu.com"访问百度的网站时，其实就是在访问一个名称是"www.baidu.com"的虚拟主机，所以当我们要访问name是"www.yydcdut.com"的这个虚拟主机时，就可以使用"域名(<a href="http://www.yydcdut.com/" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;">www.yydcdut.com</a>)"去访问，注意一下appBase="F:\JavaWebApps"，这里的JavaWebApps文件夹代表的不是一个项目的根目录，而是一个存放了一个或者多个JavaWeb应用的文件夹。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">JavaWeb应用的组成结构&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132327421709134.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132327428111263.png" alt="download" width="580" height="251" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">WebRoot →Web应用所在目录，一般情况下虚拟目录要配置到此文件夹当中。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">　　　　┝WEB-INF：<strong>此文件夹必须位于</strong><strong>WebRoot文件夹里面，而且必须以这样的形式去命名，字母都要大写。</strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">　　　　　　┝web.xml：<strong>配置文件，有格式要求，此文件必须以这样的形式去命名，并且必须放置到</strong><strong>WEB-INF文件夹中。</strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">web.xml的格式可以直接从Tomcat中参考得到：找到Tomcat目录下的webapps\ROOT\WEB-INF这个目录下的web.xml文件，把这个文件拷贝到我们新建的WEB-INF文件夹中，并修改这个web.xml文件，把里面的注释删除掉，只留下如下所示的代码即可：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;?</span><span style="color:rgb(255,0,255);line-height:1.5;">xml version="1.0" encoding="ISO-8859-1"</span><span style="color:rgb(0,0,255);line-height:1.5;">?&gt;</span>
 <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">web-app </span><span style="color:rgb(255,0,0);line-height:1.5;">xmlns</span><span style="color:rgb(0,0,255);line-height:1.5;">="http://java.sun.com/xml/ns/javaee"</span><span style="color:rgb(255,0,0);line-height:1.5;">
    xmlns:xsi</span><span style="color:rgb(0,0,255);line-height:1.5;">="http://www.w3.org/2001/XMLSchema-instance"</span><span style="color:rgb(255,0,0);line-height:1.5;">
    xsi:schemaLocation</span><span style="color:rgb(0,0,255);line-height:1.5;">="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span><span style="color:rgb(255,0,0);line-height:1.5;">  version</span><span style="color:rgb(0,0,255);line-height:1.5;">="2.5"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">display-name</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>Welcome to Tomcat<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">display-name</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
   <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">description</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span><span style="line-height:1.5;">
      Welcome to Tomcat
   </span><span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">description</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre> 
     <pre> <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">web-app</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">打包JavaWeb应用&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">在Java中，使用"jar"命令来对将JavaWeb应用打包成一个War包，范例：将JavaWebDemoProject这个JavaWeb应用打包成war包</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132333058425117.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132333066083517.png" alt="download" width="580" height="201" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">执行完之后，就可以得到一个war文件，平时开发完JavaWeb应用后，一般都会将JavaWeb应用打包成一个war包，然后将这个war包放到Tomcat服务器的webapps目录下，当Tomcat服务器启动时，就会自动将webapps目录下的war包解压。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">比如现在将war文件放到放到Tomcat服务器的webapps目录下，Tomcat服务器启动后会自动"Deploying web application"，将这个war文件解压缩。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">Tomcat的体系结构&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132333080921005.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132333099523605.png" alt="download" width="580" height="406" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">　<span style="color:rgb(255,0,0);">Tomcat服务器的启动是基于一个server.xml文件的</span>，Tomcat启动的时候首先会启动一个Server，Server里面就会启动Service，Service里面就会启动多个"Connector(连接器)"，每一个连接器都在等待客户机的连接，当有用户使用浏览器去访问服务器上面的web资源时，首先是连接到Connector(连接器)，Connector(连接器)是不处理用户的请求的，而是将用户的请求交给一个Engine(引擎)去处理，Engine(引擎)接收到请求后就会解析用户想要访问的Host，然后将请求交给相应的Host，Host收到请求后就会解析出用户想要访问这个Host下面的哪一个Web应用,一个web应用对应一个Context。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;?</span><span style="color:rgb(255,0,255);line-height:1.5;">xml version='1.0' encoding='utf-8'</span><span style="color:rgb(0,0,255);line-height:1.5;">?&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Server </span><span style="color:rgb(255,0,0);line-height:1.5;">port</span><span style="color:rgb(0,0,255);line-height:1.5;">="8005"</span><span style="color:rgb(255,0,0);line-height:1.5;"> shutdown</span><span style="color:rgb(0,0,255);line-height:1.5;">="SHUTDOWN"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Service </span><span style="color:rgb(255,0,0);line-height:1.5;">name</span><span style="color:rgb(0,0,255);line-height:1.5;">="Catalina"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Connector </span><span style="color:rgb(255,0,0);line-height:1.5;">port</span><span style="color:rgb(0,0,255);line-height:1.5;">="8080"</span><span style="color:rgb(255,0,0);line-height:1.5;"> protocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="HTTP/1.1"</span><span style="color:rgb(255,0,0);line-height:1.5;">
               connectionTimeout</span><span style="color:rgb(0,0,255);line-height:1.5;">="20000"</span><span style="color:rgb(255,0,0);line-height:1.5;">
               redirectPort</span><span style="color:rgb(0,0,255);line-height:1.5;">="8443"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Connector </span><span style="color:rgb(255,0,0);line-height:1.5;">port</span><span style="color:rgb(0,0,255);line-height:1.5;">="8443"</span><span style="color:rgb(255,0,0);line-height:1.5;"> protocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="org.apache.coyote.http11.Http11Protocol"</span><span style="color:rgb(255,0,0);line-height:1.5;">
               maxThreads</span><span style="color:rgb(0,0,255);line-height:1.5;">="150"</span><span style="color:rgb(255,0,0);line-height:1.5;"> SSLEnabled</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;"> scheme</span><span style="color:rgb(0,0,255);line-height:1.5;">="https"</span><span style="color:rgb(255,0,0);line-height:1.5;"> secure</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;">
               clientAuth</span><span style="color:rgb(0,0,255);line-height:1.5;">="false"</span><span style="color:rgb(255,0,0);line-height:1.5;"> sslProtocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="TLS"</span><span style="color:rgb(255,0,0);line-height:1.5;"> 
               keystoreFile</span><span style="color:rgb(0,0,255);line-height:1.5;">="conf/.keystore"</span><span style="color:rgb(255,0,0);line-height:1.5;"> keystorePass</span><span style="color:rgb(0,0,255);line-height:1.5;">="123456"</span><span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Connector </span><span style="color:rgb(255,0,0);line-height:1.5;">port</span><span style="color:rgb(0,0,255);line-height:1.5;">="8009"</span><span style="color:rgb(255,0,0);line-height:1.5;"> protocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="AJP/1.3"</span><span style="color:rgb(255,0,0);line-height:1.5;"> redirectPort</span><span style="color:rgb(0,0,255);line-height:1.5;">="8443"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Engine </span><span style="color:rgb(255,0,0);line-height:1.5;">name</span><span style="color:rgb(0,0,255);line-height:1.5;">="Catalina"</span><span style="color:rgb(255,0,0);line-height:1.5;"> defaultHost</span><span style="color:rgb(0,0,255);line-height:1.5;">="localhost"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>

      <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Host </span><span style="color:rgb(255,0,0);line-height:1.5;">name</span><span style="color:rgb(0,0,255);line-height:1.5;">="localhost"</span><span style="color:rgb(255,0,0);line-height:1.5;">  appBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="webapps"</span><span style="color:rgb(255,0,0);line-height:1.5;">
            unpackWARs</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;"> autoDeploy</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Valve </span><span style="color:rgb(255,0,0);line-height:1.5;">className</span><span style="color:rgb(0,0,255);line-height:1.5;">="org.apache.catalina.valves.AccessLogValve"</span><span style="color:rgb(255,0,0);line-height:1.5;"> directory</span><span style="color:rgb(0,0,255);line-height:1.5;">="logs"</span><span style="color:rgb(255,0,0);line-height:1.5;">
               prefix</span><span style="color:rgb(0,0,255);line-height:1.5;">="localhost_access_log."</span><span style="color:rgb(255,0,0);line-height:1.5;"> suffix</span><span style="color:rgb(0,0,255);line-height:1.5;">=".txt"</span><span style="color:rgb(255,0,0);line-height:1.5;">
               pattern</span><span style="color:rgb(0,0,255);line-height:1.5;">="%h %l %u %t &amp;quot;%r&amp;quot; %s %b"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
      <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Host</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
      <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Host </span><span style="color:rgb(255,0,0);line-height:1.5;">name</span><span style="color:rgb(0,0,255);line-height:1.5;">="www.gacl.cn"</span><span style="color:rgb(255,0,0);line-height:1.5;"> appBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="F:\JavaWebApps"</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Context </span><span style="color:rgb(255,0,0);line-height:1.5;">path</span><span style="color:rgb(0,0,255);line-height:1.5;">=""</span><span style="color:rgb(255,0,0);line-height:1.5;"> docBase</span><span style="color:rgb(0,0,255);line-height:1.5;">="F:\JavaWebApps\JavaWebDemo1"</span><span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
      <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Host</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>

    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Engine</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
  <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Service</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">Server</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">生成Tomcat服务器的数字证书&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">SUN公司提供了制作证书的工具keytool， 在JDK 1.4以后的版本中都包含了这一工具，它的位置为&lt;JAVA_HOME&gt;\bin\keytool.exe</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
     <pre>keytool -genkey -alias tomcat -keyalg RSA</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">使用keytool生成一个名字为tomcat的证书，存放在.keystore这个密钥库中</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132349548115596.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132349566703898.png" alt="download" width="580" height="300" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">命令执行完之后，操作系统的用户文件夹下面就会生成一个.keystore文件。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">使用命令：keytool -list -keystore .keystore查看.keystore密钥库里面的所有证书</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132349572641013.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132349578587126.png" alt="download" width="580" height="164" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><span style="color:rgb(255,255,255);font-size:x-large;"><strong>配置https连接器&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></span></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">将生成的.keystore密钥库文件拷贝到Tomcat服务器的conf目录下，修改server.xml文件，配置https连接器，代码如下：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">Connector </span><span style="color:rgb(255,0,0);line-height:1.5;">port</span><span style="color:rgb(0,0,255);line-height:1.5;">="8443"</span><span style="color:rgb(255,0,0);line-height:1.5;"> protocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="org.apache.coyote.http11.Http11Protocol"</span><span style="color:rgb(255,0,0);line-height:1.5;">
                maxThreads</span><span style="color:rgb(0,0,255);line-height:1.5;">="150"</span><span style="color:rgb(255,0,0);line-height:1.5;"> SSLEnabled</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;"> scheme</span><span style="color:rgb(0,0,255);line-height:1.5;">="https"</span><span style="color:rgb(255,0,0);line-height:1.5;"> secure</span><span style="color:rgb(0,0,255);line-height:1.5;">="true"</span><span style="color:rgb(255,0,0);line-height:1.5;">
                clientAuth</span><span style="color:rgb(0,0,255);line-height:1.5;">="false"</span><span style="color:rgb(255,0,0);line-height:1.5;"> sslProtocol</span><span style="color:rgb(0,0,255);line-height:1.5;">="TLS"</span><span style="color:rgb(255,0,0);line-height:1.5;"> 
                keystoreFile</span><span style="color:rgb(0,0,255);line-height:1.5;">="conf/.keystore"</span><span style="color:rgb(255,0,0);line-height:1.5;"> keystorePass</span><span style="color:rgb(0,0,255);line-height:1.5;">="123456"</span><span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">在server.xml文件中配置了一个端口是8443的加密连接器，浏览器访问8443端口的连接器时，将会以加密的方式来访问web服务器，这个连接器收到浏览器的请求后，将会向浏览器出示一份数字证书，浏览器再用数字证书里面的公钥来加密数据，keystoreFile="conf/.keystore" 用来指明密钥库文件的所在路径，服务器从密钥库中提取证书时需要密码，keystorePass="123456"指明密钥库的访问密码。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">使用"https://localhost:8443/"访问8443的加密连接器</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">由于密钥库里面的证书是我们手工生成的，没有经过CA的认证，所以使用"https://localhost:8443/"访问8443的加密连接器，浏览器会出现"证书错误，导航已阻止"，浏览器认为当前要访问的这个主机是不安全的，不推荐继续访问，点击“继续浏览此网站(不推荐)”就可以继续访问了，如下图所示：</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><a href="https://images0.cnblogs.com/blog/587773/201408/132349586705242.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132349593273142.png" alt="download" width="240" height="160" style="border:0px;background-image:none;"></a><a href="https://images0.cnblogs.com/blog/587773/201408/132349599527499.png" rel="nofollow" style="color:rgb(153,153,153);text-decoration:none;"><img title="download" src="https://images0.cnblogs.com/blog/587773/201408/132350007029128.png" alt="download" width="240" height="160" style="border:0px;background-image:none;"></a></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:x-large;">我是天王盖地虎的分割线&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;"><br></span></font></p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;"><br></span></font></p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;"><br></span></font></p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;">本文转自我爱物联网博客园博客，原文链接：http://www.cnblogs.com/yydcdut/p/3911356.html，如需转载请自行联系原作者</span></font></p> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
