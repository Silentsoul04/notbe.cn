<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Android -- 经验分享 « NotBeCN</title>
  <meta name="description" content="                                                   目录&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/10/01/weixin_34268310_90133492.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Android -- 经验分享</h1>
    <p class="post-meta">Oct 1, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div>
    <br>
   </div> 
   <div>
    <br>
   </div> 
   <div>
    <br>
   </div> 
   <div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">目录&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <ul style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">
     <li style="list-style-type:disc;">代码中安装apk</li> 
     <li style="list-style-type:disc;">判断某个apk是否已经安装</li> 
     <li style="list-style-type:disc;">取得屏幕大小</li> 
     <li style="list-style-type:disc;">获得 LayoutInflater 实例的三种方式</li> 
     <li style="list-style-type:disc;">ContentResolver.query()，以及 Activity.managedQuery异同</li> 
     <li style="list-style-type:disc;">解锁功能</li> 
     <li style="list-style-type:disc;">点亮屏幕</li> 
     <li style="list-style-type:disc;">activity全屏显示</li> 
     <li style="list-style-type:disc;">屏常亮代码</li> 
     <li style="list-style-type:disc;">SQL中 inner join、 left join 、right join、 outer join之间的区别</li> 
     <li style="list-style-type:disc;">包含button的item也能弹出菜单，回调click以及long click的监听器</li> 
     <li style="list-style-type:disc;">背光亮度&nbsp;&nbsp; /sys/class/leds/lcd-backlight/brightness</li> 
     <li style="list-style-type:disc;">判断是否在锁屏界面的函数</li> 
     <li style="list-style-type:disc;">OnTouchListener实现双击事件</li> 
     <li style="list-style-type:disc;">回到待机界面</li> 
     <li style="list-style-type:disc;">定时器相关</li> 
     <li style="list-style-type:disc;">sd卡和sim卡状态判断</li> 
     <li style="list-style-type:disc;">开机启动，检查sim卡是否发生变更</li> 
    </ul>
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">代码中安装apk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>Runtime.getRuntime().exec("pm install xxx.apk");</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">需要在manifest.xml文件中，加上INSTALL_PACKAGES的权限，可以用 Package install的receiver来处理安装成功后的操作</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">或者:</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;"> 
     * 安装apk 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> url 
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>  
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> installApk(String saveFileName){  
        File apkfile </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> File(saveFileName);  
        </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (!<span style="line-height:1.5;">apkfile.exists()) {  
            </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;">;  
        }      
        Intent i </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Intent(Intent.ACTION_VIEW);  
        i.setDataAndType(Uri.parse(</span>"file://" + apkfile.toString()), "application/vnd.android.package-archive"<span style="line-height:1.5;">);   
        mContext.startActivity(i);  
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">判断某个APK是否已经安装&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">boolean</span><span style="line-height:1.5;"> isAppInstalled(String uri){  
      
    PackageManager pm </span>=<span style="line-height:1.5;"> getPackageManager();  
    </span><span style="color:rgb(0,0,255);line-height:1.5;">boolean</span> installed =<span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">;  
    </span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;">{  
        pm.getPackageInfo(uri,PackageManager.GET_ACTIVITIES);  
        installed </span>=<span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">;  
    }</span><span style="color:rgb(0,0,255);line-height:1.5;">catch</span><span style="line-height:1.5;">(PackageManager.NameNotFoundException e){  
        installed </span>=<span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">;  
    }  
      
    </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> installed;  
 }</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">Just call the method by passing the package name of the application you need to check.</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">if</span>(isAppInstalled("com.yourpackage.package"<span style="line-height:1.5;">)){
     </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">app installed</span>
    }<span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;">{
      </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">app not installed</span>
    }</pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">取得屏幕大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">1、在非activity类中</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>WindowManager windowManager =<span style="line-height:1.5;"> (WindowManager)(mContext.getSystemService(Context.WINDOW_SERVICE));
 </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> screenWidth =<span style="line-height:1.5;"> windowManager.getDefaultDisplay().getWidth(); 
 </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> screenHeight = windowManager.getDefaultDisplay().getHeight();</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">2、在activity类中</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">int</span> screenWidth  = getWindowManager().getDefaultDisplay().getWidth();       <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 屏幕宽（像素，如：480px）  </span>
<span style="color:rgb(0,0,255);line-height:1.5;">int</span> screenHeight = getWindowManager().getDefaultDisplay().getHeight();      <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 屏幕高（像素，如：800px）</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">获得 LayoutInflater 实例的三种方式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>LayoutInflater inflater = getLayoutInflater();  <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">调用Activity的getLayoutInflater()</span>
LayoutInflater localinflater =<span style="line-height:1.5;">(LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
LayoutInflater inflater </span>= LayoutInflater.from(context);</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">示意代码：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>LayoutInflater inflater =<span style="line-height:1.5;"> (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);    
View view </span>= inflater.inflate(R.layout.custom, (ViewGroup)findViewById(R.id.test));</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">对于上面代码，指定了第二个参数 ViewGroup root，当然你也可以设置为 null 值。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">ContentResolver.query()，以及 Activity.managedQuery异同</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">参数、返回值相同：都返回 Cursor 对象</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">参数：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="line-height:1.5;">URI:  Content Provider 需要返回的资源索引
Projection: 用于标识有哪些columns需要包含在返回数据中。
Selection: 作为查询符合条件的过滤参数，类似于SQL语句中Where之后的条件判断。
SelectionArgs: 同上。
SortOrder: 用于对返回信息进行排序。</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">不同：</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">mContext.getContentResolver().query</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">ContentResolver.query()，以及 Activity.managedQuery()所以，我们看到一个是ContentResolver提供的查询方法，位于android.content.ContextWrapper.getContentResolver()，另一个则为Activity。&nbsp;&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">Activity.managedQuery()&nbsp; 方法导致活动管理 Cursor 的生命周期</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">解锁功能&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>KeyguardManager keyguardManager =<span style="line-height:1.5;"> (KeyguardManager)getSystemService(KEYGUARD_SERVICE);    
KeyguardLock keyguardLock </span>= keyguardManager.newKeyguardLock(""<span style="line-height:1.5;">); 
keyguardLock.disableKeyguard();
PowerManager pm </span>= (PowerManager)getSystemService(POWER_SERVICE);</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">点亮屏幕&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>PowerManager pm =<span style="line-height:1.5;"> (PowerManager)getSystemService(POWER_SERVICE); 
WakeLock mWakelock </span>= pm.newWakeLock(PowerManager.ACQUIRE_CAUSES_WAKEUP|PowerManager.SCREEN_DIM_WAKE_LOCK,"SimpleTimer"<span style="line-height:1.5;">); 
mWakeLock.acquire();</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">点亮 </span>
mWakeLock.release();<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">关闭</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">activity全屏显示&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="line-height:1.5;">getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
requestWindowFeature(Window.FEATURE_NO_TITLE);</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,0,0);">注意；要在setContentView(R.layout.layout)语句之前调用才行。</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">屏常亮代码&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">屏常亮</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">SQL中 inner join、 left join 、right join、 outer join之间的区别</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">举例说明</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="line-height:1.5;">A表(a1,b1,c1)      B表(a2,b2)
a1   b1   c1        a2    b2
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span>   数学 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">95</span>         <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span><span style="line-height:1.5;">    张三
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span>   语文 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">90</span>         <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span><span style="line-height:1.5;">    李四
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">03</span>   英语 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">80</span>         <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">04</span>    王五</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">select</span> A.<span style="color:rgb(128,128,128);line-height:1.5;">*</span>,B.<span style="color:rgb(128,128,128);line-height:1.5;">*</span> <span style="color:rgb(0,0,255);line-height:1.5;">from</span> A  <span style="color:rgb(0,0,255);line-height:1.5;">inner</span> <span style="color:rgb(128,128,128);line-height:1.5;">join</span> B <span style="color:rgb(0,0,255);line-height:1.5;">on</span>(A.a1<span style="color:rgb(128,128,128);line-height:1.5;">=</span>B.a2)</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="line-height:1.5;">结果是：
a1   b1   c1       a2    b2
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span>   数学 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">95</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span><span style="line-height:1.5;">    张三
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span>   语文 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">90</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span>    李四</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">select</span> A.<span style="color:rgb(128,128,128);line-height:1.5;">*</span>,B.<span style="color:rgb(128,128,128);line-height:1.5;">*</span> <span style="color:rgb(0,0,255);line-height:1.5;">from</span> A  <span style="color:rgb(128,128,128);line-height:1.5;">left</span> <span style="color:rgb(128,128,128);line-height:1.5;">outer</span> <span style="color:rgb(128,128,128);line-height:1.5;">join</span> B <span style="color:rgb(0,0,255);line-height:1.5;">on</span>(A.a1<span style="color:rgb(128,128,128);line-height:1.5;">=</span>B.a2)</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="line-height:1.5;">结果是:
a1   b1   c1       a2    b2
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span>   数学 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">95</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span><span style="line-height:1.5;">    张三
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span>   语文 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">90</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span><span style="line-height:1.5;">    李四
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">03</span>   英语 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">80</span>       <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span>  <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span></pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">select</span> A.<span style="color:rgb(128,128,128);line-height:1.5;">*</span>,B.<span style="color:rgb(128,128,128);line-height:1.5;">*</span> <span style="color:rgb(0,0,255);line-height:1.5;">from</span> A  <span style="color:rgb(128,128,128);line-height:1.5;">right</span> <span style="color:rgb(128,128,128);line-height:1.5;">outer</span> <span style="color:rgb(128,128,128);line-height:1.5;">join</span> B <span style="color:rgb(0,0,255);line-height:1.5;">on</span>(A.a1<span style="color:rgb(128,128,128);line-height:1.5;">=</span>B.a2)</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="line-height:1.5;">结果是:
a1   b1   c1       a2    b2
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span>   数学 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">95</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span><span style="line-height:1.5;">    张三
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span>   语文 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">90</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span><span style="line-height:1.5;">    李四
</span><span style="color:rgb(0,0,255);line-height:1.5;">NULL</span> <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span> <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span>     <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">04</span>    王五</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">select</span> A.<span style="color:rgb(128,128,128);line-height:1.5;">*</span>,B.<span style="color:rgb(128,128,128);line-height:1.5;">*</span> <span style="color:rgb(0,0,255);line-height:1.5;">from</span> A  <span style="color:rgb(0,0,255);line-height:1.5;">full</span> <span style="color:rgb(128,128,128);line-height:1.5;">outer</span> <span style="color:rgb(128,128,128);line-height:1.5;">join</span> B <span style="color:rgb(0,0,255);line-height:1.5;">on</span>(A.a1<span style="color:rgb(128,128,128);line-height:1.5;">=</span>B.a2)</pre>
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="line-height:1.5;">结果是:
a1   b1   c1       a2    b2
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span>   数学 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">95</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">01</span><span style="line-height:1.5;">    张三
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span>   语文 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">90</span>       <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">02</span><span style="line-height:1.5;">    李四
</span><span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">03</span>   英语 <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">80</span>       <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span>  <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span>
<span style="color:rgb(0,0,255);line-height:1.5;">NULL</span> <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span> <span style="color:rgb(0,0,255);line-height:1.5;">NULL</span>     <span style="font-weight:bold;color:rgb(128,0,0);line-height:1.5;">04</span>    王五</pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="font-size:large;"><span style="color:rgb(255,255,255);"><span>包含button的item也能弹出菜单，回调click以及long click的监<strong>听器&nbsp;&nbsp;</strong></span></span></span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">设置button属性：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>android:focusable="false"</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">外还要设置 listview属性：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>android:longClickable=<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">true</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">PS: 如果包含的Button是ImageButton，那么在xml中设置了android:focusable="false"属性在当前版本是无效的，必须在代码中，再次呼叫函数ImageButton.setFocusable（false）设置一次。&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">或者在父Item里面加上</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>android:descendantFocusability=<span style="color:rgb(128,0,0);line-height:1.5;">"</span><span style="color:rgb(128,0,0);line-height:1.5;">blocksDescendants</span><span style="color:rgb(128,0,0);line-height:1.5;">"</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="font-size:large;"><span style="color:rgb(255,255,255);"><span><strong>背光亮度</strong>&nbsp;&nbsp; /sys/class/leds/lcd-backlight/brightness&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">例如</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">echo</span> 255 &gt; /sys/<span style="color:rgb(0,0,255);line-height:1.5;">class</span>/leds/lcd-backlight/brightness</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">代码修改亮度：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>Settings.System.putInt(getContentResolver(), SCREEN_BRIGHTNESS, brightness);    <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">brightness 背光亮度 0~255</span>
Settings.System.putInt(getContentResolver(),SCREEN_OFF_TIMEOUT, timeoutValues);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">timeoutValues 灭屏时间 ms</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><span style="color:rgb(255,255,255);font-size:large;"><strong>判断是否在锁屏界面的函数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></span></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>KeyguardManager： inKeyguardRestrictedInputMode();</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">例：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>KeyguardManager km =<span style="line-height:1.5;"> (KeyguardManager)getSystemService(Context.KEYGUARD_SERVICE);
</span><span style="color:rgb(0,0,255);line-height:1.5;">boolean</span> keyguardexist = km.inKeyguardRestrictedInputMode();</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">OnTouchListener实现双击事件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">class</span> MyOnTouchListener <span style="color:rgb(0,0,255);line-height:1.5;">implements</span><span style="line-height:1.5;"> View.OnTouchListener{
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">long</span> mLastTime = 0<span style="line-height:1.5;">;
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">long</span> mCurTime = 0<span style="line-height:1.5;">;

    @Override
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">boolean</span><span style="line-height:1.5;"> onTouch(View v, MotionEvent event) {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span>(MotionEvent.ACTION_DOWN ==<span style="line-height:1.5;"> event.getAction()){  
            mLastTime </span>=<span style="line-height:1.5;"> mCurTime; 
            mCurTime </span>=<span style="line-height:1.5;"> System.currentTimeMillis();
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (mCurTime - mLastTime &lt; 1000<span style="line-height:1.5;">) {
                </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 双击事件  关闭activity</span>
                FullBlackActivity.<span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.finish();
                </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">;
            }
        }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">;
    }
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">回到待机界面&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>Intent home = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Intent(Intent.ACTION_MAIN);  
home.addCategory(Intent.CATEGORY_HOME);  
</span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.startActivity(home);</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">定时器相关&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <ul style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">
     <li style="list-style-type:disc;"><strong><span style="font-size:small;">采用Handler与线程的sleep(long)方法</span></strong></li>
    </ul>
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">Handler主要用来处理接受到的消息。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">1. 定义一个Handler类，用于处理接受到的Message。</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>Handler handler = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Handler() {
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> handleMessage(Message msg) {
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 要做的事情</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">super</span><span style="line-height:1.5;">.handleMessage(msg);
    }
};</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">新建一个实现Runnable接口的线程类，如下：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span> MyThread <span style="color:rgb(0,0,255);line-height:1.5;">implements</span><span style="line-height:1.5;"> Runnable {
    @Override
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> run() {
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO Auto-generated method stub</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">while</span> (<span style="color:rgb(0,0,255);line-height:1.5;">true</span><span style="line-height:1.5;">) {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;"> {
                Thread.sleep(</span>10000);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 线程暂停10秒，单位毫秒</span>
                Message message = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Message();
                message.what </span>= 1<span style="line-height:1.5;">;
                handler.sendMessage(message);</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 发送消息</span>
            } <span style="color:rgb(0,0,255);line-height:1.5;">catch</span><span style="line-height:1.5;"> (InterruptedException e) {
                </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO Auto-generated catch block</span>
<span style="line-height:1.5;">                e.printStackTrace();
            }
        }
    }
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">3. 在需要启动线程的地方加入下面语句：</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">new</span> Thread(<span style="color:rgb(0,0,255);line-height:1.5;">new</span> MyThread()).start();</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">4. 启动线程后，线程每10s发送一次消息。</p> 
    <ul style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">
     <li style="list-style-type:disc;"><strong><span style="font-size:small;">采用Handler的postDelayed(Runnable, long)方法</span></strong></li>
    </ul>
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">1. 定义一个Handler类</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>Handler handler=<span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Handler();
Runnable runnable</span>=<span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Runnable() {
    @Override
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> run() {
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO Auto-generated method stub
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">要做的事情</span>
        handler.postDelayed(<span style="color:rgb(0,0,255);line-height:1.5;">this</span>, 2000<span style="line-height:1.5;">);
    }
};</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">2. 启动计时器</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>handler.postDelayed(runnable, 2000);<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">每两秒执行一次runnable.</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">3. 停止计时器</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>handler.removeCallbacks(runnable);</pre>
    </div> 
    <ul style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">
     <li style="list-style-type:disc;"><strong><span style="font-size:small;">采用Handler与timer及TimerTask结合的方法</span></strong></li>
    </ul>
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">1. 定义定时器、定时器任务及Handler句柄</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">final</span> Timer timer = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Timer();
</span><span style="color:rgb(0,0,255);line-height:1.5;">private</span><span style="line-height:1.5;"> TimerTask task;
Handler handler </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Handler() {
    @Override
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> handleMessage(Message msg) {
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO Auto-generated method stub
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 要做的事情</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">super</span><span style="line-height:1.5;">.handleMessage(msg);
    }
};</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">2. 初始化计时器任务</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre>task = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> TimerTask() {
    @Override
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> run() {
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO Auto-generated method stub</span>
        Message message = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Message();
        message.what </span>= 1<span style="line-height:1.5;">;
        handler.sendMessage(message);
    }
};</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">3. 启动定时器</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>timer.schedule(task, 2000, 2000);</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">简要说一下上面三步提到的一些内容：</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">1. 定时器任务（TimerTask）顾名思义，就是说当定时器到达指定的时间时要做的工作，这里是想Handler发送一个消息，由Handler类进行处理。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">2. java.util.Timer.schedule(TimerTask task, long delay, long period)：这个方法是说，delay/1000秒后执行task,然后进过period/1000秒再次执行task，这个用于循环任务，执行无数次，当然，你可以用timer.cancel();取消计时器的执行。</p> 
    <ul style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">
     <li style="list-style-type:disc;"><span style="font-size:small;"><strong>闹钟定时</strong></span></li>
    </ul>
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre>AlarmManager am =<span style="line-height:1.5;"> (AlarmManager) mContext.getSystemService(Context.ALARM_SERVICE);
PendingIntent pendingIntent </span>= PendingIntent.getBroadcast(mContext, 0, <span style="color:rgb(0,0,255);line-height:1.5;">new</span> Intent(SEND_SMS_BEGIN), 0<span style="line-height:1.5;">);
am.set(AlarmManager.RTC_WAKEUP, </span>60*1000, pendingIntent);</pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">耳机状态&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">final</span> String HEADSET_STATE_PATH = "/sys/class/switch/h2w/state";    <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">保存状态文件位置</span>

<span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">boolean</span> isHeadsetExists(){       <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">判断耳机是否插入的函数    FM源码 FMplayService.java  </span>
        <span style="color:rgb(0,0,255);line-height:1.5;">char</span>[] buffer = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> <span style="color:rgb(0,0,255);line-height:1.5;">char</span>[1024<span style="line-height:1.5;">];
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> newState = 0<span style="line-height:1.5;">;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;"> {
            FileReader file </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> FileReader(HEADSET_STATE_PATH);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> len = file.read(buffer, 0, 1024<span style="line-height:1.5;">);
            newState </span>= Integer.valueOf((<span style="color:rgb(0,0,255);line-height:1.5;">new</span> String(buffer, 0<span style="line-height:1.5;">, len)).trim());
        } </span><span style="color:rgb(0,0,255);line-height:1.5;">catch</span><span style="line-height:1.5;"> (FileNotFoundException e) {
            Log.e(LOGTAG, </span>"This kernel does not have wired headset support"<span style="line-height:1.5;">);
        } </span><span style="color:rgb(0,0,255);line-height:1.5;">catch</span><span style="line-height:1.5;"> (Exception e) {
            Log.e(LOGTAG, </span>""<span style="line-height:1.5;"> , e);
        }
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> newState != 0<span style="line-height:1.5;">;
   }</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="line-height:1.5;">未插入耳机：

# </span><span style="color:rgb(0,0,255);line-height:1.5;">cat</span> /sys/class/switch/h2w/<span style="line-height:1.5;">state
</span><span style="color:rgb(0,0,255);line-height:1.5;">cat</span> /sys/class/switch/h2w/<span style="line-height:1.5;">state
</span><span style="color:rgb(128,0,128);line-height:1.5;">0</span><span style="line-height:1.5;">

插入耳机：
# </span><span style="color:rgb(0,0,255);line-height:1.5;">cat</span> /sys/class/switch/h2w/<span style="line-height:1.5;">state
</span><span style="color:rgb(0,0,255);line-height:1.5;">cat</span> /sys/class/switch/h2w/<span style="line-height:1.5;">state
</span><span style="color:rgb(128,0,128);line-height:1.5;">1</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">sd卡和sim卡状态判断&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">sdcard是否可读写 </span>
<span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">boolean</span><span style="line-height:1.5;"> IsCanUseSdCard() { 
    </span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;"> { 
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> Environment.getExternalStorageState().equals( 
                Environment.MEDIA_MOUNTED); 
    } </span><span style="color:rgb(0,0,255);line-height:1.5;">catch</span><span style="line-height:1.5;"> (Exception e) { 
        e.printStackTrace(); 
    } 
    </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">; 
} 

</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">sim卡是否可读 </span>
<span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">boolean</span><span style="line-height:1.5;"> isCanUseSim() { 
    </span><span style="color:rgb(0,0,255);line-height:1.5;">try</span><span style="line-height:1.5;"> { 
        TelephonyManager mgr </span>=<span style="line-height:1.5;"> (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE); 
         </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> TelephonyManager.SIM_STATE_READY ==<span style="line-height:1.5;"> mgr.getSimState(); 
    } </span><span style="color:rgb(0,0,255);line-height:1.5;">catch</span><span style="line-height:1.5;"> (Exception e) { 
        e.printStackTrace(); 
    } 
    </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span> <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">; 
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><span style="color:rgb(255,255,255);font-size:large;"><strong>开机启动，检查sim卡是否发生变更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></span></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">（1）注册receiver，设置意图过滤器</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';">
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">receiver </span><span style="color:rgb(255,0,0);line-height:1.5;">android:name</span><span style="color:rgb(0,0,255);line-height:1.5;">=".receiver.BootCompleteReceiver"</span> <span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">intent-filter </span><span style="color:rgb(255,0,0);line-height:1.5;">android:priority</span><span style="color:rgb(0,0,255);line-height:1.5;">="1000"</span> <span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">&lt;</span><span style="color:rgb(128,0,0);line-height:1.5;">action </span><span style="color:rgb(255,0,0);line-height:1.5;">android:name</span><span style="color:rgb(0,0,255);line-height:1.5;">="android.intent.action.BOOT_COMPLETED"</span> <span style="color:rgb(0,0,255);line-height:1.5;">/&gt;</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">intent-filter</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span>
<span style="color:rgb(0,0,255);line-height:1.5;">&lt;/</span><span style="color:rgb(128,0,0);line-height:1.5;">receiver</span><span style="color:rgb(0,0,255);line-height:1.5;">&gt;</span></pre>
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">（2）接受开机广播，并判断sim卡时候发生更改</p> 
    <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-size:15px;font-family:'Courier New';"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
     <pre><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span> BootCompleteReceiver <span style="color:rgb(0,0,255);line-height:1.5;">extends</span><span style="line-height:1.5;"> BroadcastReceiver {
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">final</span> String TAG = "BootCompleteReceiver"<span style="line-height:1.5;">;
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span><span style="line-height:1.5;"> SharedPreferences sp;
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span><span style="line-height:1.5;"> TelephonyManager tm;
    @Override
    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> onReceive(Context context, Intent intent) {
        Log.i(TAG,</span>"手机重启了"<span style="line-height:1.5;">);
        sp </span>= context.getSharedPreferences("config"<span style="line-height:1.5;">, Context.MODE_PRIVATE);
        </span><span style="color:rgb(0,0,255);line-height:1.5;">boolean</span> protecting = sp.getBoolean("protecting", <span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">);
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">如果防盗保护开启</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;">(protecting){
                </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">判断sim卡是否发生了变化</span>
        tm =<span style="line-height:1.5;"> (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
            String currentSim </span>=<span style="line-height:1.5;"> tm.getSimSerialNumber();
            String savedSim</span>= sp.getString("sim", ""<span style="line-height:1.5;">);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span><span style="line-height:1.5;">(savedSim.equals(currentSim)){
                    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> sim卡为发生变化， do nothint</span>
            }<span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;">{
                </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">sim卡发生了变化
                </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">发送报警短信 给安全号码</span>
                SmsManager smsManager =<span style="line-height:1.5;"> SmsManager.getDefault();
                String destinationAddretss </span>= sp.getString("safenumber", ""<span style="line-height:1.5;">);
                smsManager.sendTextMessage(destinationAddretss, </span><span style="color:rgb(0,0,255);line-height:1.5;">null</span>, "sim change !!!", <span style="color:rgb(0,0,255);line-height:1.5;">null</span>, <span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">);
            }
        }
    }
}</span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy" style="font-size:12px;line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
     </div> 
    </div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">我是天王盖地虎的分割线&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">&nbsp;</p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;"><br></span></font></p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;"><br></span></font></p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;"><br></span></font></p> 
    <p style="line-height:24px;"><font color="#999999"><span style="font-size:15px;">本文转自我爱物联网博客园博客，原文链接：http://www.cnblogs.com/yydcdut/p/3886021.html，如需转载请自行联系原作者</span></font></p> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
