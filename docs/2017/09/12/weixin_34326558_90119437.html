<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>【转载】angularJs模块ui-router之路由控制 « NotBeCN</title>
  <meta name="description" content="             原文地址：http://bubkoo.com/2014/01/02/angular/ui-router/guide/url-routing/    在你的应用中大多数状态都有与其相关联的 url，路由控制不是设计完成 state 之后的事后想法，而是开始开发时就应该考虑的问题。    这...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/09/12/weixin_34326558_90119437.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">【转载】angularJs模块ui-router之路由控制</h1>
    <p class="post-meta">Sep 12, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">原文地址：<a href="http://bubkoo.com/2014/01/02/angular/ui-router/guide/url-routing/" rel="nofollow" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;line-height:normal;">http://bubkoo.com/2014/01/02/angular/ui-router/guide/url-routing/</a></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">在你的应用中大多数状态都有与其相关联的 url，路由控制不是设计完成 state 之后的事后想法，而是开始开发时就应该考虑的问题。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">这里是如何设置一个基本url。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.5;">$stateProvider
    .state(</span>'contacts'<span style="line-height:1.5;">, {
        url: </span>"/contacts"<span style="line-height:1.5;">,
        templateUrl: </span>'contacts.html'<span style="line-height:1.5;">
    })</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="line-height:1.5;"><br> 当我们访问</span><code style="line-height:1.5;">index.html/contacts</code><span style="line-height:1.5;">时，&nbsp;</span><code style="line-height:1.5;">'contacts'</code><span style="line-height:1.5;">状态将被激活，同时</span><code style="line-height:1.5;">index.html</code><span style="line-height:1.5;">中的</span><code style="line-height:1.5;">ui-view</code><span style="line-height:1.5;">将被</span><code style="line-height:1.5;">'contacts.html'</code><span style="line-height:1.5;">填充。或者，通过</span><code style="line-height:1.5;">transitionTo('contacts')</code><span style="line-height:1.5;">方法将状态转变到</span><code style="line-height:1.5;">'contacts'</code><span style="line-height:1.5;">状态，同时 url 将更新为</span><code style="line-height:1.5;">index.html/contacts</code><span style="line-height:1.5;">。</span></p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">URL参数</h2> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">基本参数</h3> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">通常，url动态部分被称为参数，有几个选项用于指定参数。基本参数如下：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.5;">$stateProvider
    .state(</span>'contacts.detail'<span style="line-height:1.5;">, {
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 这里设置了url参数</span>
        url: "/contacts/:contactId"<span style="line-height:1.5;">,
        templateUrl: </span>'contacts.detail.html'<span style="line-height:1.5;">,
        controller: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> ($stateParams) {
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> If we got here from a url of /contacts/42</span>
            expect($stateParams).toBe({contactId: 42<span style="line-height:1.5;">});
        }
    })</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="line-height:1.5;"><br> 或者，你也可以使用花括号的方式来指定参数：</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 与前面的设置方法等效</span>
url: "/contacts/{contactId}"</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><strong style="line-height:1.5;"><br> 示例：</strong></p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code>'/hello/'</code>&nbsp;- 只匹配<code>'/hello/'</code>路径，没有对斜杠进行特殊处理，这种模式将匹配整个路径，而不仅仅是一个前缀。</li> 
    <li style="list-style:disc;"> <code>'/user/:id'</code>&nbsp;- 匹配<code>'/user/bob'</code>、<code>'/user/1234!!!'</code>，甚至还匹配&nbsp;<code>'/user/'</code>，但是不匹配<code>'/user'</code>和<code>'/user/bob/details'</code>。第二个路径段将被捕获作为参数<code>"id"</code>。</li> 
    <li style="list-style:disc;"> <code>'/user/{id}'</code>&nbsp;- 与前面的示例相同,但使用花括号语法。</li> 
   </ul>
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">含正则表达式的参数</h3> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">使用花括号的方式可以设置一个正则表达式规则的参数：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 只会匹配 contactId 为1到8位的数字</span>
url: "/contacts/{contactId:[0-9]{1,8}}"</pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code style="line-height:1.5;"><strong>示例：</strong><br> '/user/{id:[^/]*}'</code><span style="line-height:1.5;">&nbsp;- 与</span><code style="line-height:1.5;">'/user/{id}'</code><span style="line-height:1.5;">相同</span></p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code>'/user/{id:[0-9a-fA-F]{1,8}}'</code>&nbsp;- 与前面的示例相似，但只匹配1到8为的数字和字符</li> 
    <li style="list-style:disc;"> <code>'/files/{path:.*}'</code>&nbsp;- 匹配任何以<code>'/files/'</code>开始的URL路径，并且捕获剩余路径到参数<code>'path'</code>中。</li> 
    <li style="list-style:disc;"> <code>'/files/*path'</code>&nbsp;- 与前面相同，捕获所有特殊的语法。</li> 
   </ul>
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><strong>警告：</strong>不要把捕获圆括号写进正则表达式，ui-router 的 UrlMatcher 将为整个正则表达式添加捕获。</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">Query Parameters</h3> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">可以通过<code>?</code>来指定参数作为查询参数</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre>url: "/contacts?myParam"
<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 匹配 "/contacts?myParam=value"</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-family:'Courier New';font-size:12px;line-height:1.5;">如果你需要不止一个查询参数，请用<code>&amp;</code>分隔：<br> url: "/contacts?myParam1&amp;myParam2"</span></p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;">
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 匹配 "/contacts?myParam1=value1&amp;myParam2=wowcool"</span></pre>
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="font-size:1.5em;line-height:1.5;">嵌套状态的路由控制</span>&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">附加的方式（默认）</h3> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">在嵌套状态的路由控制中，默认方式是子状态的 url 附加到父状态的 url 之后。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.5;">$stateProvider
  .state(</span>'contacts'<span style="line-height:1.5;">, {
     url: </span>'/contacts'<span style="line-height:1.5;">,
     ...
  })
  .state(</span>'contacts.list'<span style="line-height:1.5;">, {
     url: </span>'/list'<span style="line-height:1.5;">,
     ...
  });</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">路由将成为：</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code style="line-height:1.5;">'contacts'</code><span style="line-height:1.5;">状态将匹配</span><code style="line-height:1.5;">"/contacts"</code> </li> 
    <li style="list-style:disc;"> <code>'contacts.list'</code>状态将匹配<code>"/contacts/list"</code>。子状态的url是附在父状态的url之后的。</li> 
   </ul>
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">绝对路由（^）</h3> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">如果你使用绝对 url 匹配的方式，那么你需要给你的url字符串加上特殊符号<code>"^"</code>。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.5;">$stateProvider
  .state(</span>'contacts'<span style="line-height:1.5;">, {
     url: </span>'/contacts'<span style="line-height:1.5;">,
     ...
  })
  .state(</span>'contacts.list'<span style="line-height:1.5;">, {
     url: </span>'^/list'<span style="line-height:1.5;">,
     ...
  });</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">路由将成为：</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code>'contacts'</code>状态将匹配<code>"/contacts"</code> </li> 
    <li style="list-style:disc;"> <code>'contacts.list'</code>状态将匹配<code>"/list"</code>。子状态的url没有附在父状态的url之后的，因为使用了<code>^</code>。</li> 
   </ul>
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">$stateParams 服务</h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">之前看到的<code>$stateParams</code>服务是一个对象，包含 url 中每个参数的键/值。<code>$stateParams</code>可以为控制器或者服务提供 url 的各个部分。<br><strong>注意：</strong><code>$stateParams</code>服务必须与一个控制器相关，并且<code>$stateParams</code>中的“键/值”也必须事先在那个控制器的<code>url</code>属性中有定义。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 如果状态中 url 属性是：</span>
url: '/users/:id/details/{type}/{repeat:[0-9]+}?from&amp;to'

<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 当浏览</span>
'/users/123/details//0'

<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> $stateParams 对象将是</span>
{ id:'123', type:'', repeat:'0'<span style="line-height:1.5;"> }

</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 当浏览</span>
'/users/123/details/default/0?from=there&amp;to=here'

<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> $stateParams 对象将是</span>
{ id:'123', type:'default', repeat:'0', from:'there', to:'here' }</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <h3 style="font-size:16px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';"> <span style="font-size:14px;line-height:1.5;">只有当状态被激活并且状态的所有依赖项都被注入时，</span><code style="font-size:14px;line-height:1.5;">$stateParams</code><span style="font-size:14px;line-height:1.5;">对象才存在。这代表你不能再状态的</span><code style="font-size:14px;line-height:1.5;">resolve</code><span style="font-size:14px;line-height:1.5;">函数中使用</span><code style="font-size:14px;line-height:1.5;">$stateParams</code><span style="font-size:14px;line-height:1.5;">对象，可以使用</span><code style="font-size:14px;line-height:1.5;">$state.current.params</code><span style="font-size:14px;line-height:1.5;">来代替。</span>使用<code>$stateParams</code>的两个陷阱</h3> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state('contacts.detail'<span style="line-height:1.5;">, {  
   resolve: { 
      someResolve: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($state){ 
         </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">*** 不能在这里使用 $stateParams , the service is not ready ***//</span>
         <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">*** 使用 $state.current.params 来代替 ***//</span>
         <span style="color:rgb(0,0,255);line-height:1.5;">return</span> $state.current.params.contactId + "!"<span style="line-height:1.5;"> 
      }; 
   },
   </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> ...</span>
})</pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;">在状态控制器中，<code>$stateParams</code>对象只包含那些在状态中定义的参数，因此你不能访问在其他状态或者祖先状态中定义的参数。</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$stateProvider.state('contacts.detail'<span style="line-height:1.5;">, {
   url: </span>'/contacts/:contactId'<span style="line-height:1.5;">,   
   controller: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($stateParams){
      $stateParams.contactId  </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">*** Exists! ***//</span>
<span style="line-height:1.5;">   }
}).state(</span>'contacts.detail.subitem'<span style="line-height:1.5;">, {
   url: </span>'/item/:itemId'<span style="line-height:1.5;">, 
   controller: </span><span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($stateParams){
      $stateParams.contactId </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">*** 注意! DOESN'T EXIST!! ***//</span>
      $stateParams.itemId <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;">*** Exists! ***//  </span>
<span style="line-height:1.5;">   }
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">$urlRouterProvider</h2> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';"> <code style="font-size:14px;line-height:1.5;">$urlRouterProvider</code><span style="font-size:14px;line-height:1.5;">负责处理在状态配置中指定的url路由方式之外的 url 请求的路由方式。</span><code style="font-size:14px;line-height:1.5;">$urlRouterProvider</code><span style="font-size:14px;line-height:1.5;">负责监视</span><code style="font-size:14px;line-height:1.5;">$location</code><span style="font-size:14px;line-height:1.5;">，当</span><code style="font-size:14px;line-height:1.5;">$location</code><span style="font-size:14px;line-height:1.5;">改变后，</span><code style="font-size:14px;line-height:1.5;">$urlRouterProvider</code><span style="font-size:14px;line-height:1.5;">将从一个列表，一个接一个查找匹配项，直到找到。所有 url 都编译成一个</span><code style="font-size:14px;line-height:1.5;">UrlMatcher</code><span style="font-size:14px;line-height:1.5;">对象。</span> </h2> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code>$urlRouterProvider</code>有一些实用的方法，可以在<code>module.config</code>中直接使用。</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><strong><code>when()</code>&nbsp;for redirection 重定向</strong></p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">参数：</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code>what</code>&nbsp;<strong>String | RegExp | UrlMatcher</strong>，你想重定向的传入路径</li> 
    <li style="list-style:disc;"> <code>handler</code>&nbsp;<strong>String | Function</strong>&nbsp;将要重定向到的路径</li> 
   </ul>
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code>handler</code>&nbsp;作为&nbsp;<strong>String</strong><br> 如果<code>handler</code>是字符串，它被视为一个重定向，并且根据匹配语法决定重定向的地址。</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>app.config(<span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($urlRouterProvider){
    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> when there is an empty route, redirect to /index   </span>
    $urlRouterProvider.when('', '/index'<span style="line-height:1.5;">);

    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> You can also use regex for the match parameter</span>
    $urlRouterProvider.when('/aspx/i', '/index'<span style="line-height:1.5;">);
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><code><span style="font-family:verdana, Arial, Helvetica, sans-serif;line-height:1.5;">函数可以返回：</span>handler</code>&nbsp;作为&nbsp;<strong>Function</strong><br> 如果<code>handler</code>是一个函数，这个函数是注入一些服务的。如果<code>$location</code>匹配成功，函数将被调用。你可以选择性注入<code>$match</code>。</p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <strong>falsy</strong>&nbsp;表明规则不匹配，<code>$urlRouter</code>将试图寻找另一个匹配</li> 
    <li style="list-style:disc;"> <strong>String</strong>&nbsp;该字符串作为重定向地址并且作为参数传递给<code>$location.url()</code> </li> 
    <li style="list-style:disc;"> <strong>nothing</strong>或者任何为真的值，告诉<code>$urlRouter</code>url 已经被处理</li> 
   </ul>
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">示例：</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>$urlRouterProvider.when(state.url, ['$match', '$stateParams', <span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> ($match, $stateParams) {
    </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> ($state.$current.navigable != state || !<span style="line-height:1.5;">equalForKeys($match, $stateParams)) {
        $state.transitionTo(state, $match, </span><span style="color:rgb(0,0,255);line-height:1.5;">false</span><span style="line-height:1.5;">);
    }
}]);</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="line-height:1.5;">参数：</span><strong><code>otherwise()</code>&nbsp;无效路由</strong></p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code>path</code>&nbsp;<strong>String | Function</strong>&nbsp;你想重定向url路径或者一个函数返回url路径。函数可以包含<code>$injector</code>和<code>$location</code>两个参数。</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>app.config(<span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($urlRouterProvider){
    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 在配置（状态配置和when()方法）中没有找到url的任何匹配</span>
    <span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> otherwise will take care of routing the user to the specified url</span>
    $urlRouterProvider.otherwise('/index'<span style="line-height:1.5;">);

    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Example of using function rule as param</span>
    $urlRouterProvider.otherwise(<span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($injector, $location){
        ... some advanced code...
    });
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;"><span style="line-height:1.5;">参数：</span><strong><code>rule()</code>&nbsp;自定义url处理</strong></p> 
   <ul style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">
    <li style="list-style:disc;"> <code>handler</code>&nbsp;<strong>Function</strong>&nbsp;一个函数，包含<code>$injector</code>和<code>$location</code>两个服务作为参数，函数负责返回一个有效的路径的字符串。</li>
   </ul>
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre>app.config(<span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;">($urlRouterProvider){
    </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Here's an example of how you might allow case insensitive urls</span>
    $urlRouterProvider.rule(<span style="color:rgb(0,0,255);line-height:1.5;">function</span><span style="line-height:1.5;"> ($injector, $location) {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">var</span> path = $location.path(), normalized =<span style="line-height:1.5;"> path.toLowerCase();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span> (path != normalized) <span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> normalized;
    });
})</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(171,98,43);font-family:Arial, Helvetica, sans-serif;font-size:14px;text-decoration:underline;line-height:normal;border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:'Microsoft Yahei';font-size:16px;">&nbsp;</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';">$urlMatcherFactory 和 UrlMatchers</h2> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(51,51,51);font-family:'Microsoft Yahei';"> <span style="font-size:14px;line-height:1.5;"><br> 定义了url模式和参数占位符的语法。</span><code style="font-size:14px;line-height:1.5;">$urlMatcherFactory</code><span style="font-size:14px;line-height:1.5;">是在幕后被</span><code style="font-size:14px;line-height:1.5;">$urlRouterProvider</code><span style="font-size:14px;line-height:1.5;">调用，来缓存编译后的</span><code style="font-size:14px;line-height:1.5;">UrlMatcher</code><span style="font-size:14px;line-height:1.5;">对象，而不必在每次 location 改变后重新解析url。大多数用户不需要直接使用</span><code style="font-size:14px;line-height:1.5;">$urlMatcherFactory</code><span style="font-size:14px;line-height:1.5;">方法，但是在状态配置中非常实用，可以使用</span><code style="font-size:14px;line-height:1.5;">$urlMatcherFactory</code><span style="font-size:14px;line-height:1.5;">方法来生成一个</span><code style="font-size:14px;line-height:1.5;">UrlMatcher</code><span style="font-size:14px;line-height:1.5;">对象，并在状态配置中使用该对象。</span> </h2> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);"> 
    <pre><span style="color:rgb(0,0,255);line-height:1.5;">var</span> urlMatcher = $urlMatcherFactory.compile("/home/:id?param1"<span style="line-height:1.5;">);
$stateProvider.state(</span>'myState'<span style="line-height:1.5;">, {
    url: urlMatcher 
});</span></pre> 
    <pre><span style="line-height:1.5;"><br></span></pre> 
    <pre><span style="line-height:1.5;"></span></pre> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
