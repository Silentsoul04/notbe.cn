<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>linux内核数据结构之链表【转】 « NotBeCN</title>
  <meta name="description" content="             转自：http://www.cnblogs.com/Anker/archive/2013/12/15/3475643.html         1、前言     　　 最近写代码需用到链表结构，正好公共库有关于链表的。第一眼看时，觉得有点新鲜，和我之前见到的链表结构不一样，只有前驱和后继...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/07/07/weixin_34248487_90127634.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">linux内核数据结构之链表【转】</h1>
    <p class="post-meta">Jul 7, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p>转自：<a href="http://www.cnblogs.com/Anker/archive/2013/12/15/3475643.html" rel="nofollow">http://www.cnblogs.com/Anker/archive/2013/12/15/3475643.html</a></p> 
   <div> 
    <p><strong>1、前言</strong></p> 
    <p>　　 最近写代码需用到链表结构，正好公共库有关于链表的。第一眼看时，觉得有点新鲜，和我之前见到的链表结构不一样，只有前驱和后继指针，而没有数据域。后来看代码注释发现该代码来自linux内核，在linux源代码下include/Lish.h下。这个链表具备通用性，使用非常方便。只需要在结构定义一个链表结构就可以使用。</p> 
    <p><strong>2、链表介绍</strong></p> 
    <p>　　链表是非常基本的数据结构，根据链个数分为单链表、双链表，根据是否循环分为单向链表和循环链表。通常定义定义链表结构如下：</p> 
    <div class="cnblogs_code"> 
     <pre><span style="font-size:15px;">typedef <span style="color:#0000ff;">struct<span style="color:#000000;"> node { ElemType data; <span style="color:#00c100;">//数据域 <span style="color:#0000ff;">struct node *<span style="color:#000000;">next; <span style="color:#00c100;">//指针域 }node, *list;</span></span></span></span></span></span></span></pre> 
    </div> 
    <p>链表中包含数据域和指针域。链表通常包含一个头结点，不存放数据，方便链表操作。单向循环链表结构如下图所示：</p> 
    <p><img src="https://yqfile.alicdn.com/img_4953e6c705fea7a8eaf3481135501429.png" alt=""></p> 
    <p>双向循环链表结构如下图所示：</p> 
    <p><img src="https://yqfile.alicdn.com/img_8f8e6178648e21078df20ba4d0499345.png" alt=""></p> 
    <p>　　这样带数据域的链表降低了链表的通用性，不容易扩展。linux内核定义的链表结构不带数据域，只需要两个指针完成链表的操作。将链表节点加入数据结构，具备非常高的扩展性，通用性。链表结构定义如下所示：</p> 
    <div class="cnblogs_code"> 
     <pre><span style="font-size:15px;"><span style="color:#0000ff;">struct<span style="color:#000000;"> list_head { <span style="color:#0000ff;">struct list_head *next, *<span style="color:#000000;">prev; };</span></span></span></span></span></pre> 
    </div> 
    <p>链表结构如下所示：</p> 
    <p><img src="https://yqfile.alicdn.com/img_87ee9f864f1a4f26b41ab0f4d96f6efd.png" alt=""></p> 
    <p>　　需要用链表结构时，只需要在结构体中定义一个链表类型的数据即可。例如定义一个app_info链表，</p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;">1 typedef <span style="color:#0000ff;">struct<span style="color:#000000;"> application_info <span style="color:#008080;">2 <span style="color:#000000;">{ <span style="color:#008080;">3 <span style="color:#000000;"> uint32_t app_id; <span style="color:#008080;">4 <span style="color:#000000;"> uint32_t up_flow; <span style="color:#008080;">5 <span style="color:#000000;"> uint32_t down_flow; <span style="color:#008080;">6 <span style="color:#0000ff;">struct list_head app_info_head; <span style="color:#008000;">//<span style="color:#008000;">链表节点 <span style="color:#008080;">7 }app_info;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>定义一个app_info链表，app_info app_info_list;通过app_info_head进行链表操作。根据C语言指针操作，通过container_of和offsetof，可以根据app_info_head的地址找出app_info的起始地址，即一个完整ap_info结构的起始地址。可以参考：<a href="http://www.cnblogs.com/Anker/p/3472271.html" rel="nofollow">http://www.cnblogs.com/Anker/p/3472271.html</a>。</p> 
    <p><strong>3、linux内核链表实现</strong></p> 
    <p>　　内核实现的是双向循环链表，提供了链表操作的基本功能。</p> 
    <p><strong>（1）初始化链表头结点</strong></p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#0000ff;">#define LIST_HEAD_INIT(name) { &amp;(name), &amp;(name) } <span style="color:#0000ff;">#define LIST_HEAD(name) \ <span style="color:#0000ff;">struct list_head name =<span style="color:#000000;"> LIST_HEAD_INIT(name) <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void INIT_LIST_HEAD(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">list) { list-&gt;next =<span style="color:#000000;"> list; list-&gt;prev =<span style="color:#000000;"> list; }</span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>LIST_HEAD宏创建一个链表头结点，并用LIST_HEAD_INIT宏对头结点进行赋值，使得头结点的前驱和后继指向自己。</p> 
    <p>INIT_LIST_HEAD函数对链表进行初始化，使得前驱和后继指针指针指向头结点。</p> 
    <p><strong>（2）插入节点</strong></p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void __list_add(<span style="color:#0000ff;">struct list_head *<span style="color:#0000ff;">new<span style="color:#000000;">, <span style="color:#008080;"> 2 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">prev, <span style="color:#008080;"> 3 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">next) <span style="color:#008080;"> 4 <span style="color:#000000;">{ <span style="color:#008080;"> 5 next-&gt;prev = <span style="color:#0000ff;">new<span style="color:#000000;">; <span style="color:#008080;"> 6 <span style="color:#0000ff;">new-&gt;next =<span style="color:#000000;"> next; <span style="color:#008080;"> 7 <span style="color:#0000ff;">new-&gt;prev =<span style="color:#000000;"> prev; <span style="color:#008080;"> 8 prev-&gt;next = <span style="color:#0000ff;">new<span style="color:#000000;">; <span style="color:#008080;"> 9 <span style="color:#000000;">} <span style="color:#008080;">10 <span style="color:#008080;">11 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_add(<span style="color:#0000ff;">struct list_head *<span style="color:#0000ff;">new, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">12 <span style="color:#000000;">{ <span style="color:#008080;">13 __list_add(<span style="color:#0000ff;">new, head, head-&gt;<span style="color:#000000;">next); <span style="color:#008080;">14 <span style="color:#000000;">} <span style="color:#008080;">15 <span style="color:#008080;">16 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_add_tail(<span style="color:#0000ff;">struct list_head *<span style="color:#0000ff;">new, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">17 <span style="color:#000000;">{ <span style="color:#008080;">18 __list_add(<span style="color:#0000ff;">new, head-&gt;<span style="color:#000000;">prev, head); <span style="color:#008080;">19 }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>　　插入节点分为从链表头部插入list_add和链表尾部插入list_add_tail，通过调用__list_add函数进行实现，head-&gt;next指向之一个节点，head-&gt;prev指向尾部节点。</p> 
    <p><strong>（3）删除节点</strong></p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void __list_del(<span style="color:#0000ff;">struct list_head * prev, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;"> next) <span style="color:#008080;"> 2 <span style="color:#000000;">{ <span style="color:#008080;"> 3 next-&gt;prev =<span style="color:#000000;"> prev; <span style="color:#008080;"> 4 prev-&gt;next =<span style="color:#000000;"> next; <span style="color:#008080;"> 5 <span style="color:#000000;">} <span style="color:#008080;"> 6 <span style="color:#008080;"> 7 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_del(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">entry) <span style="color:#008080;"> 8 <span style="color:#000000;">{ <span style="color:#008080;"> 9 __list_del(entry-&gt;prev, entry-&gt;<span style="color:#000000;">next); <span style="color:#008080;">10 entry-&gt;next =<span style="color:#000000;"> LIST_POISON1; <span style="color:#008080;">11 entry-&gt;prev =<span style="color:#000000;"> LIST_POISON2; <span style="color:#008080;">12 }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>　　从链表中删除一个节点，需要改变该节点前驱节点的后继结点和后继结点的前驱节点。最后设置该节点的前驱节点和后继结点指向LIST_POSITION1和LIST_POSITION2两个特殊值，这样设置是为了保证不在链表中的节点项不可访问，对LIST_POSITION1和LIST_POSITION2的访问都将引起页故障</p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008000;">/*<span style="color:#008000;"> * These are non-NULL pointers that will result in page faults * under normal circumstances, used to verify that nobody uses * non-initialized list entries. <span style="color:#008000;">*/ <span style="color:#0000ff;">#define LIST_POISON1 ((void *) 0x00100100 + POISON_POINTER_DELTA) <span style="color:#0000ff;">#define LIST_POISON2 ((void *) 0x00200200 + POISON_POINTER_DELTA)</span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p><strong>（4）移动节点</strong></p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;"> 2 <span style="color:#008000;"> * list_move - delete from one list and add as another's head <span style="color:#008080;"> 3 <span style="color:#008000;"> * @list: the entry to move <span style="color:#008080;"> 4 <span style="color:#008000;"> * @head: the head that will precede our entry <span style="color:#008080;"> 5 <span style="color:#008000;">*/ <span style="color:#008080;"> 6 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_move(<span style="color:#0000ff;">struct list_head *list, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;"> 7 <span style="color:#000000;">{ <span style="color:#008080;"> 8 __list_del(list-&gt;prev, list-&gt;<span style="color:#000000;">next); <span style="color:#008080;"> 9 <span style="color:#000000;"> list_add(list, head); <span style="color:#008080;">10 <span style="color:#000000;">} <span style="color:#008080;">11 <span style="color:#008080;">12 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;">13 <span style="color:#008000;"> * list_move_tail - delete from one list and add as another's tail <span style="color:#008080;">14 <span style="color:#008000;"> * @list: the entry to move <span style="color:#008080;">15 <span style="color:#008000;"> * @head: the head that will follow our entry <span style="color:#008080;">16 <span style="color:#008000;">*/ <span style="color:#008080;">17 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_move_tail(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">list, <span style="color:#008080;">18 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">19 <span style="color:#000000;">{ <span style="color:#008080;">20 __list_del(list-&gt;prev, list-&gt;<span style="color:#000000;">next); <span style="color:#008080;">21 <span style="color:#000000;"> list_add_tail(list, head); <span style="color:#008080;">22 }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>move将一个节点移动到头部或者尾部。</p> 
    <p><strong>（5）判断链表</strong></p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;"> 2 <span style="color:#008000;"> * list_is_last - tests whether @list is the last entry in list @head <span style="color:#008080;"> 3 <span style="color:#008000;"> * @list: the entry to test <span style="color:#008080;"> 4 <span style="color:#008000;"> * @head: the head of the list <span style="color:#008080;"> 5 <span style="color:#008000;">*/ <span style="color:#008080;"> 6 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">int list_is_last(<span style="color:#0000ff;">const <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">list, <span style="color:#008080;"> 7 <span style="color:#0000ff;">const <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;"> 8 <span style="color:#000000;">{ <span style="color:#008080;"> 9 <span style="color:#0000ff;">return list-&gt;next ==<span style="color:#000000;"> head; <span style="color:#008080;">10 <span style="color:#000000;">} <span style="color:#008080;">11 <span style="color:#008080;">12 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;">13 <span style="color:#008000;"> * list_empty - tests whether a list is empty <span style="color:#008080;">14 <span style="color:#008000;"> * @head: the list to test. <span style="color:#008080;">15 <span style="color:#008000;">*/ <span style="color:#008080;">16 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">int list_empty(<span style="color:#0000ff;">const <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">17 <span style="color:#000000;">{ <span style="color:#008080;">18 <span style="color:#0000ff;">return head-&gt;next ==<span style="color:#000000;"> head; <span style="color:#008080;">19 }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>list_is_last函数判断节点是否为末尾节点，list_empty判断链表是否为空。</p> 
    <p><strong>（6）遍历链表</strong></p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;"> 2 <span style="color:#008000;"> * list_entry - get the struct for this entry <span style="color:#008080;"> 3 <span style="color:#008000;"> * @ptr: the &amp;struct list_head pointer. <span style="color:#008080;"> 4 <span style="color:#008000;"> * @type: the type of the struct this is embedded in. <span style="color:#008080;"> 5 <span style="color:#008000;"> * @member: the name of the list_struct within the struct. <span style="color:#008080;"> 6 <span style="color:#008000;">*/ <span style="color:#008080;"> 7 <span style="color:#0000ff;">#define list_entry(ptr, type, member) \ <span style="color:#008080;"> 8 <span style="color:#000000;"> container_of(ptr, type, member) <span style="color:#008080;"> 9 <span style="color:#008080;">10 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;">11 <span style="color:#008000;"> * list_first_entry - get the first element from a list <span style="color:#008080;">12 <span style="color:#008000;"> * @ptr: the list head to take the element from. <span style="color:#008080;">13 <span style="color:#008000;"> * @type: the type of the struct this is embedded in. <span style="color:#008080;">14 <span style="color:#008000;"> * @member: the name of the list_struct within the struct. <span style="color:#008080;">15 <span style="color:#008000;"> * <span style="color:#008080;">16 <span style="color:#008000;"> * Note, that list is expected to be not empty. <span style="color:#008080;">17 <span style="color:#008000;">*/ <span style="color:#008080;">18 <span style="color:#0000ff;">#define list_first_entry(ptr, type, member) \ <span style="color:#008080;">19 list_entry((ptr)-&gt;<span style="color:#000000;">next, type, member) <span style="color:#008080;">20 <span style="color:#008080;">21 <span style="color:#008000;">/*<span style="color:#008000;">* <span style="color:#008080;">22 <span style="color:#008000;"> * list_for_each - iterate over a list <span style="color:#008080;">23 <span style="color:#008000;"> * @pos: the &amp;struct list_head to use as a loop cursor. <span style="color:#008080;">24 <span style="color:#008000;"> * @head: the head for your list. <span style="color:#008080;">25 <span style="color:#008000;">*/ <span style="color:#008080;">26 <span style="color:#0000ff;">#define list_for_each(pos, head) \ <span style="color:#008080;">27 <span style="color:#0000ff;">for (pos = (head)-&gt;next; prefetch(pos-&gt;next), pos !=<span style="color:#000000;"> (head); \ <span style="color:#008080;">28 pos = pos-&gt;next)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>宏list_entity获取链表的结构，包括数据域。list_first_entry获取链表第一个节点，包括数据源。list_for_each宏对链表节点进行遍历。</p> 
    <p>4、测试例子</p> 
    <p>编写一个简单使用链表的程序，从而掌握链表的使用。</p> 
    <p>自定义个类似的list结构如下所示：mylist.h</p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 # define POISON_POINTER_DELTA <span style="color:#800080;">0 <span style="color:#008080;"> 2 <span style="color:#008080;"> 3 <span style="color:#0000ff;">#define LIST_POISON1 ((void *) 0x00100100 + POISON_POINTER_DELTA) <span style="color:#008080;"> 4 <span style="color:#0000ff;">#define LIST_POISON2 ((void *) 0x00200200 + POISON_POINTER_DELTA) <span style="color:#008080;"> 5 <span style="color:#008080;"> 6 <span style="color:#008000;">//<span style="color:#008000;">计算member在type中的位置 <span style="color:#008080;"> 7 <span style="color:#0000ff;">#define offsetof(type, member) (size_t)(&amp;((type*)0)-&gt;member) <span style="color:#008080;"> 8 <span style="color:#008000;">//<span style="color:#008000;">根据member的地址获取type的起始地址 <span style="color:#008080;"> 9 <span style="color:#0000ff;">#define container_of(ptr, type, member) ({ \ <span style="color:#008080;">10 <span style="color:#0000ff;">const <span style="color:#0000ff;">typeof(((type *)<span style="color:#800080;">0)-&gt;member)*__mptr =<span style="color:#000000;"> (ptr); \ <span style="color:#008080;">11 (type *)((<span style="color:#0000ff;">char *)__mptr -<span style="color:#000000;"> offsetof(type, member)); }) <span style="color:#008080;">12 <span style="color:#008080;">13 <span style="color:#008000;">//<span style="color:#008000;">链表结构 <span style="color:#008080;">14 <span style="color:#0000ff;">struct<span style="color:#000000;"> list_head <span style="color:#008080;">15 <span style="color:#000000;">{ <span style="color:#008080;">16 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">prev; <span style="color:#008080;">17 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">next; <span style="color:#008080;">18 <span style="color:#000000;">}; <span style="color:#008080;">19 <span style="color:#008080;">20 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void init_list_head(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">list) <span style="color:#008080;">21 <span style="color:#000000;">{ <span style="color:#008080;">22 list-&gt;prev =<span style="color:#000000;"> list; <span style="color:#008080;">23 list-&gt;next =<span style="color:#000000;"> list; <span style="color:#008080;">24 <span style="color:#000000;">} <span style="color:#008080;">25 <span style="color:#008080;">26 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void __list_add(<span style="color:#0000ff;">struct list_head *<span style="color:#0000ff;">new<span style="color:#000000;">, <span style="color:#008080;">27 <span style="color:#0000ff;">struct list_head *prev, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">next) <span style="color:#008080;">28 <span style="color:#000000;">{ <span style="color:#008080;">29 prev-&gt;next = <span style="color:#0000ff;">new<span style="color:#000000;">; <span style="color:#008080;">30 <span style="color:#0000ff;">new-&gt;prev =<span style="color:#000000;"> prev; <span style="color:#008080;">31 <span style="color:#0000ff;">new-&gt;next =<span style="color:#000000;"> next; <span style="color:#008080;">32 next-&gt;prev = <span style="color:#0000ff;">new<span style="color:#000000;">; <span style="color:#008080;">33 <span style="color:#000000;">} <span style="color:#008080;">34 <span style="color:#008080;">35 <span style="color:#008000;">//<span style="color:#008000;">从头部添加 <span style="color:#008080;">36 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_add(<span style="color:#0000ff;">struct list_head *<span style="color:#0000ff;">new , <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">37 <span style="color:#000000;">{ <span style="color:#008080;">38 __list_add(<span style="color:#0000ff;">new, head, head-&gt;<span style="color:#000000;">next); <span style="color:#008080;">39 <span style="color:#000000;">} <span style="color:#008080;">40 <span style="color:#008000;">//<span style="color:#008000;">从尾部添加 <span style="color:#008080;">41 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_add_tail(<span style="color:#0000ff;">struct list_head *<span style="color:#0000ff;">new, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">42 <span style="color:#000000;">{ <span style="color:#008080;">43 __list_add(<span style="color:#0000ff;">new, head-&gt;<span style="color:#000000;">prev, head); <span style="color:#008080;">44 <span style="color:#000000;">} <span style="color:#008080;">45 <span style="color:#008080;">46 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void __list_del(<span style="color:#0000ff;">struct list_head *prev, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">next) <span style="color:#008080;">47 <span style="color:#000000;">{ <span style="color:#008080;">48 prev-&gt;next =<span style="color:#000000;"> next; <span style="color:#008080;">49 next-&gt;prev =<span style="color:#000000;"> prev; <span style="color:#008080;">50 <span style="color:#000000;">} <span style="color:#008080;">51 <span style="color:#008080;">52 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_del(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">entry) <span style="color:#008080;">53 <span style="color:#000000;">{ <span style="color:#008080;">54 __list_del(entry-&gt;prev, entry-&gt;<span style="color:#000000;">next); <span style="color:#008080;">55 entry-&gt;next =<span style="color:#000000;"> LIST_POISON1; <span style="color:#008080;">56 entry-&gt;prev =<span style="color:#000000;"> LIST_POISON2; <span style="color:#008080;">57 <span style="color:#000000;">} <span style="color:#008080;">58 <span style="color:#008080;">59 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_move(<span style="color:#0000ff;">struct list_head *list, <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">60 <span style="color:#000000;">{ <span style="color:#008080;">61 __list_del(list-&gt;prev, list-&gt;<span style="color:#000000;">next); <span style="color:#008080;">62 <span style="color:#000000;"> list_add(list, head); <span style="color:#008080;">63 <span style="color:#000000;">} <span style="color:#008080;">64 <span style="color:#008080;">65 <span style="color:#0000ff;">static inline <span style="color:#0000ff;">void list_move_tail(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">list, <span style="color:#008080;">66 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">67 <span style="color:#000000;">{ <span style="color:#008080;">68 __list_del(list-&gt;prev, list-&gt;<span style="color:#000000;">next); <span style="color:#008080;">69 <span style="color:#000000;"> list_add_tail(list, head); <span style="color:#008080;">70 <span style="color:#000000;">} <span style="color:#008080;">71 <span style="color:#0000ff;">#define list_entry(ptr, type, member) \ <span style="color:#008080;">72 <span style="color:#000000;"> container_of(ptr, type, member) <span style="color:#008080;">73 <span style="color:#008080;">74 <span style="color:#0000ff;">#define list_first_entry(ptr, type, member) \ <span style="color:#008080;">75 list_entry((ptr)-&gt;<span style="color:#000000;">next, type, member) <span style="color:#008080;">76 <span style="color:#008080;">77 <span style="color:#0000ff;">#define list_for_each(pos, head) \ <span style="color:#008080;">78 <span style="color:#0000ff;">for (pos = (head)-&gt;next; pos != (head); pos = pos-&gt;next)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>mylist.c如下所示：</p> 
    <div class="cnblogs_code"> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
     <pre><span style="font-size:15px;"><span style="color:#008080;"> 1 <span style="color:#008000;">/*<span style="color:#008000;">*@brief 练习使用linux内核链表，功能包括： <span style="color:#008080;"> 2 <span style="color:#008000;"> * 定义链表结构，创建链表、插入节点、删除节点、移动节点、遍历节点 <span style="color:#008080;"> 3 <span style="color:#008000;"> * <span style="color:#008080;"> 4 <span style="color:#008000;"> *@auther Anker @date 2013-12-15 <span style="color:#008080;"> 5 <span style="color:#008000;"> *<span style="color:#008000;">*/ <span style="color:#008080;"> 6 #include &lt;stdio.h&gt; <span style="color:#008080;"> 7 #include &lt;inttypes.h&gt; <span style="color:#008080;"> 8 #include &lt;stdlib.h&gt; <span style="color:#008080;"> 9 #include &lt;errno.h&gt; <span style="color:#008080;">10 #include <span style="color:#800000;">"<span style="color:#800000;">mylist.h<span style="color:#800000;">" <span style="color:#008080;">11 <span style="color:#008000;">//<span style="color:#008000;">定义app_info链表结构 <span style="color:#008080;">12 typedef <span style="color:#0000ff;">struct<span style="color:#000000;"> application_info <span style="color:#008080;">13 <span style="color:#000000;">{ <span style="color:#008080;">14 <span style="color:#000000;"> uint32_t app_id; <span style="color:#008080;">15 <span style="color:#000000;"> uint32_t up_flow; <span style="color:#008080;">16 <span style="color:#000000;"> uint32_t down_flow; <span style="color:#008080;">17 <span style="color:#0000ff;">struct list_head app_info_node;<span style="color:#008000;">//<span style="color:#008000;">链表节点 <span style="color:#008080;">18 <span style="color:#000000;">}app_info; <span style="color:#008080;">19 <span style="color:#008080;">20 <span style="color:#008080;">21 app_info*<span style="color:#000000;"> get_app_info(uint32_t app_id, uint32_t up_flow, uint32_t down_flow) <span style="color:#008080;">22 <span style="color:#000000;">{ <span style="color:#008080;">23 app_info *app = (app_info*)malloc(<span style="color:#0000ff;">sizeof<span style="color:#000000;">(app_info)); <span style="color:#008080;">24 <span style="color:#0000ff;">if (app ==<span style="color:#000000;"> NULL) <span style="color:#008080;">25 <span style="color:#000000;"> { <span style="color:#008080;">26 fprintf(stderr, <span style="color:#800000;">"<span style="color:#800000;">Failed to malloc memory, errno:%u, reason:%s\n<span style="color:#800000;">"<span style="color:#000000;">, <span style="color:#008080;">27 <span style="color:#000000;"> errno, strerror(errno)); <span style="color:#008080;">28 <span style="color:#0000ff;">return<span style="color:#000000;"> NULL; <span style="color:#008080;">29 <span style="color:#000000;"> } <span style="color:#008080;">30 app-&gt;app_id =<span style="color:#000000;"> app_id; <span style="color:#008080;">31 app-&gt;up_flow =<span style="color:#000000;"> up_flow; <span style="color:#008080;">32 app-&gt;down_flow =<span style="color:#000000;"> down_flow; <span style="color:#008080;">33 <span style="color:#0000ff;">return<span style="color:#000000;"> app; <span style="color:#008080;">34 <span style="color:#000000;">} <span style="color:#008080;">35 <span style="color:#0000ff;">static <span style="color:#0000ff;">void for_each_app(<span style="color:#0000ff;">const <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">36 <span style="color:#000000;">{ <span style="color:#008080;">37 <span style="color:#0000ff;">struct list_head *<span style="color:#000000;">pos; <span style="color:#008080;">38 app_info *<span style="color:#000000;">app; <span style="color:#008080;">39 <span style="color:#008000;">//<span style="color:#008000;">遍历链表 <span style="color:#008080;">40 <span style="color:#000000;"> list_for_each(pos, head) <span style="color:#008080;">41 <span style="color:#000000;"> { <span style="color:#008080;">42 app =<span style="color:#000000;"> list_entry(pos, app_info, app_info_node); <span style="color:#008080;">43 printf(<span style="color:#800000;">"<span style="color:#800000;">ap_id: %u\tup_flow: %u\tdown_flow: %u\n<span style="color:#800000;">"<span style="color:#000000;">, <span style="color:#008080;">44 app-&gt;app_id, app-&gt;up_flow, app-&gt;<span style="color:#000000;">down_flow); <span style="color:#008080;">45 <span style="color:#008080;">46 <span style="color:#000000;"> } <span style="color:#008080;">47 <span style="color:#000000;">} <span style="color:#008080;">48 <span style="color:#008080;">49 <span style="color:#0000ff;">void destroy_app_list(<span style="color:#0000ff;">struct list_head *<span style="color:#000000;">head) <span style="color:#008080;">50 <span style="color:#000000;">{ <span style="color:#008080;">51 <span style="color:#0000ff;">struct list_head *pos = head-&gt;<span style="color:#000000;">next; <span style="color:#008080;">52 <span style="color:#0000ff;">struct list_head *tmp =<span style="color:#000000;"> NULL; <span style="color:#008080;">53 <span style="color:#0000ff;">while (pos !=<span style="color:#000000;"> head) <span style="color:#008080;">54 <span style="color:#000000;"> { <span style="color:#008080;">55 tmp = pos-&gt;<span style="color:#000000;">next; <span style="color:#008080;">56 <span style="color:#000000;"> list_del(pos); <span style="color:#008080;">57 pos =<span style="color:#000000;"> tmp; <span style="color:#008080;">58 <span style="color:#000000;"> } <span style="color:#008080;">59 <span style="color:#000000;">} <span style="color:#008080;">60 <span style="color:#008080;">61 <span style="color:#008080;">62 <span style="color:#0000ff;">int<span style="color:#000000;"> main() <span style="color:#008080;">63 <span style="color:#000000;">{ <span style="color:#008080;">64 <span style="color:#008000;">//<span style="color:#008000;">创建一个app_info <span style="color:#008080;">65 app_info * app_info_list = (app_info*)malloc(<span style="color:#0000ff;">sizeof<span style="color:#000000;">(app_info)); <span style="color:#008080;">66 app_info *<span style="color:#000000;">app; <span style="color:#008080;">67 <span style="color:#0000ff;">if (app_info_list ==<span style="color:#000000;"> NULL) <span style="color:#008080;">68 <span style="color:#000000;"> { <span style="color:#008080;">69 fprintf(stderr, <span style="color:#800000;">"<span style="color:#800000;">Failed to malloc memory, errno:%u, reason:%s\n<span style="color:#800000;">"<span style="color:#000000;">, <span style="color:#008080;">70 <span style="color:#000000;"> errno, strerror(errno)); <span style="color:#008080;">71 <span style="color:#0000ff;">return -<span style="color:#800080;">1<span style="color:#000000;">; <span style="color:#008080;">72 <span style="color:#000000;"> } <span style="color:#008080;">73 <span style="color:#008000;">//<span style="color:#008000;">初始化链表头部 <span style="color:#008080;">74 <span style="color:#0000ff;">struct list_head *head = &amp;app_info_list-&gt;<span style="color:#000000;">app_info_node; <span style="color:#008080;">75 <span style="color:#000000;"> init_list_head(head); <span style="color:#008080;">76 <span style="color:#008000;">//<span style="color:#008000;">插入三个app_info <span style="color:#008080;">77 app = get_app_info(<span style="color:#800080;">1001, <span style="color:#800080;">100, <span style="color:#800080;">200<span style="color:#000000;">); <span style="color:#008080;">78 list_add_tail(&amp;app-&gt;<span style="color:#000000;">app_info_node, head); <span style="color:#008080;">79 app = get_app_info(<span style="color:#800080;">1002, <span style="color:#800080;">80, <span style="color:#800080;">100<span style="color:#000000;">); <span style="color:#008080;">80 list_add_tail(&amp;app-&gt;app_info_node, head); 81 app = get_app_info(1003, 90, 120); 82 list_add_tail(&amp;app-&gt;app_info_node, head); 83 printf("After insert three app_info: \n"); 84 for_each_app(head); 85 //将第一个节点移到末尾 86 printf("Move first node to tail:\n"); 87 list_move_tail(head-&gt;next, head); 88 for_each_app(head); 89 //删除最后一个节点 90 printf("Delete the last node:\n"); 91 list_del(head-&gt;prev); 92 for_each_app(head); 93 destroy_app_list(head); 94 free(app_info_list); 95 return 0; 96 }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
     <div class="cnblogs_code_toolbar">
      <span class="cnblogs_code_copy"><a title="复制代码"><img src="https://yqfile.alicdn.com/img_51e409b11aa51c150090697429a953ed.gif" alt="复制代码"></a></span>
     </div> 
    </div> 
    <p>测试结果如下所示：</p> 
    <p><img src="https://yqfile.alicdn.com/img_7c0b61d85d972672d598b84adc9c8261.png" alt=""></p> 
    <p><strong>参考网址：</strong></p> 
    <p><a href="https://www.ibm.com/developerworks/cn/linux/kernel/l-chain/" rel="nofollow">https://www.ibm.com/developerworks/cn/linux/kernel/l-chain/</a></p> 
   </div> 
   <div>
    冷静思考，勇敢面对，把握未来！
   </div> 
   <div> 
    <div>
     【作者】
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">张昺华</a> 
    </div> 
    <div>
     【出处】
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">http://www.cnblogs.com/sky-heaven/</a> 
    </div> 
    <div>
     【博客园】 
     <a href="http://www.cnblogs.com/sky-heaven/" rel="nofollow">http://www.cnblogs.com/sky-heaven/</a> 
    </div> 
    <div>
     【新浪博客】 
     <a href="http://blog.sina.com.cn/u/2049150530" rel="nofollow">http://blog.sina.com.cn/u/2049150530</a> 
    </div> 
    <div>
     【知乎】 
     <a href="http://www.zhihu.com/people/zhang-bing-hua" rel="nofollow">http://www.zhihu.com/people/zhang-bing-hua</a> 
    </div> 
    <div>
     【我的作品---旋转倒立摆】 
     <a href="http://v.youku.com/v_show/id_XODM5NDAzNjQw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2" rel="nofollow">http://v.youku.com/v_show/id_XODM5NDAzNjQw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2</a> 
    </div> 
    <div>
     【我的作品---自平衡自动循迹车】 
     <a href="http://v.youku.com/v_show/id_XODM5MzYyNTIw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2" rel="nofollow">http://v.youku.com/v_show/id_XODM5MzYyNTIw.html?spm=a2hzp.8253869.0.0&amp;from=y1.7-2</a> 
    </div> 
    <div>
     【新浪微博】 张昺华--sky
    </div> 
    <div>
     【twitter】 @sky2030_
    </div> 
    <div>
     【facebook】 张昺华 zhangbinghua
    </div> 
    <div>
     本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利.
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
