<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Android -- 浮动组建 « NotBeCN</title>
  <meta name="description" content="                             在开发Android应用时,加新功能是必不可少的，我们加入了新的功能，有的一看界面就可以看出来，但是有的新功能就比较隐蔽，也就是用户很难知道你添加了这个新功能，这个时候就需要用户在打开我们的应用时给出一些提示，说明我们在哪里添加了新功能，点击哪里可以看到这...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/07/30/weixin_33716154_90135009.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Android -- 浮动组建</h1>
    <p class="post-meta">Jul 30, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div>
    <br>
   </div> 
   <div> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;">在开发Android应用时,加新功能是必不可少的，我们加入了新的功能，有的一看界面就可以看出来，但是有的新功能就比较隐蔽，也就是用户很难知道你添加了这个新功能，这个时候就需要用户在打开我们的应用时给出一些提示，说明我们在哪里添加了新功能，点击哪里可以看到这个新功能。这时我们第一时间想到的可能是Toast，因为它用法简单，又不影响用户操作，但是它有个缺点，就是不能明确的指示是哪里添加了新功能，除非你用文字描述出来。</p> 
    <p style="line-height:24px;color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;"><strong><span style="color:rgb(255,255,255);font-size:large;">基本思路&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> 
    <ul>
     <li style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;list-style-type:disc;">首先你要有一个处理好的9 PNG的图片，用于自适应文字显示，关于9 PNG处理可以参考Android Doc</li> 
     <li style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;list-style-type:disc;">要显示在哪个View的下面，就要知道这个目标View的位置</li> 
     <li style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;list-style-type:disc;">把要显示的文本放在一个TextView里，使用Toast的setView方法设置Toast要显示的View。</li> 
     <li style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;list-style-type:disc;">根据得到的位置，最后就是使用Toast的setGravity方法把要显示的内容放到正确的位置显示出来即可。</li> 
     <li style="list-style-type:disc;"> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">总的来说首先就是要知道目标View，根据targetView计算出要显示提示的位置，然后根据位置使用Toast把提示的文本显示出来。但是这里有几个难点，下面就一一解决</p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;"><strong><span style="color:rgb(255,255,255);font-size:large;">Activity加载完成时获取targetVIew的宽高和位置属性&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></strong></p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">我们加入了新的功能提示，自然会在用户打开这个界面的时候就提示，但是在UI没有渲染完成绑定倒Window上的时候，是不能获取倒targetView的width、height和position的，那么我们怎么才能知道targetView的这些属性呢？Activity的onAttachedToWindow回调方法是不能用的，况且它是在API 5加上的，以前的API中并没有。不过我们还有一种方法，那就是在显示提示的时候获取targetView的属性，如果获取不到（为0）就一直获取，直到获取到为止，这其实是一个轮询。为了达到这一目的，我们在开发者调用FloatTextToast.show()的时候使用Android的Message机制轮询获取一个targetView的属性，如果获取到，就会显示提示文字了。在此之前先看下FloatTextToast构造函数，可以对它有个大概的了解，防止后面的代码中出现的成员变量不认识。</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
       <pre><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 私有的构造函数
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> context
     *            上下文
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> targetView
     *            目标view
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> content
     *            内容
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> time
     *            显示时间
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> MyToast(Context context, View targetView, String content, <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> time) {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.targetView =<span style="line-height:1.5;"> targetView;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.context =<span style="line-height:1.5;"> context;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.content =<span style="line-height:1.5;"> content;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.time =<span style="line-height:1.5;"> time;
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 初始化Toast</span>
        toast = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> Toast(<span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.context);
        textView </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> TextView(<span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.context);
        textView.setTextColor(Color.BLACK);
        textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, </span>16<span style="line-height:1.5;">);
        textView.setBackgroundResource(R.drawable.float_text_toast_bg);
        textView.setText(</span><span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.content);
        toast.setView(textView);</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 设置背景</span>
<span style="line-height:1.5;">        
        toast.setDuration(time);</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 设置时间
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 开始handlerthread</span>
        handlerThread = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> HandlerThread("MyToast"<span style="line-height:1.5;">);
        handlerThread.start();
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 构造一个自己的looper</span>
        handler = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> MyHandler(handlerThread.getLooper());
    }</span></pre> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;"><span style="color:rgb(255,255,255);font-size:large;"><strong>自定义自己的消息循环机制&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></span></p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">要想在一个自定义的组件中使用Message机制，一定要有自己的Looper机制，我们不能使用Activity的Looper，因为主Looper可能会有其他的Message需要处理，这就会导致我们的show方法会延迟调用，这样效果就不好了，所以要有一个专门的Looper来处理此Message。要声明自己的Looper，就需要HandlerThread这个类的配合了，这可是个好东西，使用它你会很容易的创建一个自己的线程用于处理你Message。使用方法很简单，如下代码：</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);">
       <pre><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 开始handlerthread</span>
        handlerThread = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> HandlerThread("MyToast"<span style="line-height:1.5;">);
        handlerThread.start();
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 构造一个自己的looper</span>
        handler = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> MyHandler(handlerThread.getLooper());</pre>
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">这样就声明了一个HandlerThread并且让它运行，运行之后我们就可以获取一个属于该Thread的Looper，然后把Message发送给这个Looper，那么这个线程就可以处理你发送的消息了。。看看我们的自定义Handler</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
       <pre><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 自定义的Handler
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@author</span><span style="color:rgb(0,128,0);line-height:1.5;"> sansung
     * 
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">class</span> MyHandler <span style="color:rgb(0,0,255);line-height:1.5;">extends</span><span style="line-height:1.5;"> Handler {

        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span><span style="line-height:1.5;"> MyHandler(Looper looper) {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">super</span><span style="line-height:1.5;">(looper);
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO 自动生成的构造函数存根</span>
<span style="line-height:1.5;">        }

        @Override
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> handleMessage(Message msg) {
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO 自动生成的方法存根</span>
            <span style="color:rgb(0,0,255);line-height:1.5;">super</span><span style="line-height:1.5;">.handleMessage(msg);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">switch</span><span style="line-height:1.5;"> (msg.what) {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">case</span><span style="line-height:1.5;"> WHAT_SHOW:
                showInHandler();
                </span><span style="color:rgb(0,0,255);line-height:1.5;">break</span><span style="line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">default</span><span style="line-height:1.5;">:
                </span><span style="color:rgb(0,0,255);line-height:1.5;">break</span><span style="line-height:1.5;">;
            }
        }

    }</span></pre> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">它需要传递一个Looper作为构造参数声明，意思就是使用这个Looper处理我发send的Message的意思。上面的代码</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);">
       <pre>handler = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> MyHandler(handlerThread.getLooper());</pre>
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">正是我们使用自己开启的线程处理我们的Message的意思。下面看下我们的showInHandler()方法是怎么处理的。</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
       <pre><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * Handler调用的show方法，主要为了等待targetView的位置
     * 如果targetView的位置没有得到，handler looper继续循环获取
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> showInHandler() {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span>[] targetPos =<span style="line-height:1.5;"> getTargetViewPos();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span>(targetPos[0]==0&amp;&amp;targetPos[1]==0<span style="line-height:1.5;">){
            handler.sendEmptyMessageDelayed(WHAT_SHOW, </span>100<span style="line-height:1.5;">);
        }</span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;">{
            </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> Rect contentPos=<span style="line-height:1.5;">getSize(targetPos);
            toast.setGravity(Gravity.LEFT</span>|<span style="line-height:1.5;">Gravity.TOP, contentPos.left, contentPos.top);
            toast.show();
        }
    }</span></pre> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">该方法其实就是在获取targetVIew的位置，如果获取不到，则向自定义的Looper里发送一个Message重新调用该函数，如果得到了位置，那么就调用Toast的setGravity方法设置好要显示文本的位置，然后显示即可。</p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;"><span style="color:rgb(255,255,255);font-size:large;"><strong>获取要显示文本的位置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></span></p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">要获取显示的位置，就要知道targetVIew的位置以及它的宽、高，这样就能计算要显示文本的位置了。View组件都有一个函数，可以把自己在Window里的坐标转换为一个数组。</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
       <pre><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 得到目标View的位置
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@return</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">[] getTargetViewPos() {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span>[] targetPos = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span>[2<span style="line-height:1.5;">];
        targetView.getLocationInWindow(targetPos);
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> targetPos;
    }</span></pre> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">这样，就返回了targetView的xy坐标了。光有targetView的坐标还不够，还要有contentView最终要显示的位置。</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
       <pre><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 计算获取浮动文本显示的位置，把浮动文本放在targetView的中心处
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> targetPos
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@return</span><span style="color:rgb(0,128,0);line-height:1.5;"> 一个包含top和left的Rect
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> Rect getSize(<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">[] targetPos) {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> Rect windowVisibleRect = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Rect();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> View targetView = <span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.targetView;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> TextView contentView =<span style="line-height:1.5;"> textView;
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 状态栏高度</span>
<span style="line-height:1.5;">        targetView.getWindowVisibleDisplayFrame(windowVisibleRect);
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> statusBarHeight =<span style="line-height:1.5;"> windowVisibleRect.top;
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 背景图那个三角箭头的位置</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">final</span> TextPaint textPaint =<span style="line-height:1.5;"> contentView.getPaint();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> contentW = (<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">) textPaint.measureText((String) contentView
                .getText());
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> arrowPos = (<span style="color:rgb(0,0,255);line-height:1.5;">int</span>) (contentW * (30.0 / 160<span style="line-height:1.5;">));

        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> Rect rect = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Rect();
        rect.left </span>= targetPos[0] + targetView.getWidth() / 2 -<span style="line-height:1.5;"> arrowPos;
        rect.top </span>= targetPos[1] - statusBarHeight +<span style="line-height:1.5;"> targetView.getHeight();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> rect;
    }</span></pre> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">这个函数的功能就是让文本显示在targetView的下方的横向中间的位置，也就是文本的背景尖角三角要指向targetView横向中间的位置，这样才好看些。为了这个才需要使用Paint测量文本的宽度，所以这也是该组件的一个缺陷，不能显示String格式之外的字符，比如SpannableString。</p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;"><span style="color:rgb(255,255,255);font-size:large;"><strong>完整的组件代码&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></span></p> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">上面是对组件代码的拆分讲解，是为了说明我们当时实现这个组件的想法以及步骤，下面就整体把代码列出来，明了的看一下。</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);"> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
       <pre><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">class</span><span style="line-height:1.5;"> MyToast {
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> <span style="color:rgb(0,0,255);line-height:1.5;">final</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span> WHAT_SHOW = 1<span style="line-height:1.5;">;
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> View targetView = <span style="color:rgb(0,0,255);line-height:1.5;">null</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 目标view</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> Context context = <span style="color:rgb(0,0,255);line-height:1.5;">null</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> Toast的上下文</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> Toast toast = <span style="color:rgb(0,0,255);line-height:1.5;">null</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 显示的土司</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> String content = <span style="color:rgb(0,0,255);line-height:1.5;">null</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 土司显示内容</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> TextView textView = <span style="color:rgb(0,0,255);line-height:1.5;">null</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 土司中的textview</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span> time = 0;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 土司显示时间</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> HandlerThread handlerThread = <span style="color:rgb(0,0,255);line-height:1.5;">null</span>;<span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> handlerThread</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span> MyToast myToast = <span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">;
    </span><span style="color:rgb(0,0,255);line-height:1.5;">private</span> Handler handler = <span style="color:rgb(0,0,255);line-height:1.5;">null</span><span style="line-height:1.5;">;

    </span><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 私有的构造函数
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> context
     *            上下文
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> targetView
     *            目标view
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> content
     *            内容
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> time
     *            显示时间
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> MyToast(Context context, View targetView, String content, <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> time) {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.targetView =<span style="line-height:1.5;"> targetView;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.context =<span style="line-height:1.5;"> context;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.content =<span style="line-height:1.5;"> content;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">this</span>.time =<span style="line-height:1.5;"> time;
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 初始化Toast</span>
        toast = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> Toast(<span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.context);
        textView </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span> TextView(<span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.context);
        textView.setTextColor(Color.BLACK);
        textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, </span>16<span style="line-height:1.5;">);
        textView.setBackgroundResource(R.drawable.float_text_toast_bg);
        textView.setText(</span><span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.content);
        toast.setView(textView);</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 设置背景</span>
<span style="line-height:1.5;">        
        toast.setDuration(time);</span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 设置时间
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 开始handlerthread</span>
        handlerThread = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> HandlerThread("MyToast"<span style="line-height:1.5;">);
        handlerThread.start();
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 构造一个自己的looper</span>
        handler = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> MyHandler(handlerThread.getLooper());
    }

    </span><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 显示Toast
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> context
     *            上下文
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> targetView
     *            目标view
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> content
     *            内容
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> time
     *            显示时间
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">static</span><span style="line-height:1.5;"> MyToast makeText(Context context, View targetView,
            String content, </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;"> time) {
        myToast </span>= <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> MyToast(context, targetView, content, time);
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> myToast;

    }

    </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> show() {
        handler.sendEmptyMessage(WHAT_SHOW);
    }

    </span><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 计算获取浮动文本显示的位置，把浮动文本放在targetView的中心处
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@param</span><span style="color:rgb(0,128,0);line-height:1.5;"> targetPos
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@return</span><span style="color:rgb(0,128,0);line-height:1.5;"> 一个包含top和left的Rect
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> Rect getSize(<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">[] targetPos) {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> Rect windowVisibleRect = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Rect();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> View targetView = <span style="color:rgb(0,0,255);line-height:1.5;">this</span><span style="line-height:1.5;">.targetView;
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> TextView contentView =<span style="line-height:1.5;"> textView;
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 状态栏高度</span>
<span style="line-height:1.5;">        targetView.getWindowVisibleDisplayFrame(windowVisibleRect);
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> statusBarHeight =<span style="line-height:1.5;"> windowVisibleRect.top;
        </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> 背景图那个三角箭头的位置</span>
        <span style="color:rgb(0,0,255);line-height:1.5;">final</span> TextPaint textPaint =<span style="line-height:1.5;"> contentView.getPaint();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> contentW = (<span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">) textPaint.measureText((String) contentView
                .getText());
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span> arrowPos = (<span style="color:rgb(0,0,255);line-height:1.5;">int</span>) (contentW * (30.0 / 160<span style="line-height:1.5;">));

        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> Rect rect = <span style="color:rgb(0,0,255);line-height:1.5;">new</span><span style="line-height:1.5;"> Rect();
        rect.left </span>= targetPos[0] + targetView.getWidth() / 2 -<span style="line-height:1.5;"> arrowPos;
        rect.top </span>= targetPos[1] - statusBarHeight +<span style="line-height:1.5;"> targetView.getHeight();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> rect;
    }
    </span><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * Handler调用的show方法，主要为了等待targetView的位置
     * 如果targetView的位置没有得到，handler looper继续循环获取
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> showInHandler() {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">int</span>[] targetPos =<span style="line-height:1.5;"> getTargetViewPos();
        </span><span style="color:rgb(0,0,255);line-height:1.5;">if</span>(targetPos[0]==0&amp;&amp;targetPos[1]==0<span style="line-height:1.5;">){
            handler.sendEmptyMessageDelayed(WHAT_SHOW, </span>100<span style="line-height:1.5;">);
        }</span><span style="color:rgb(0,0,255);line-height:1.5;">else</span><span style="line-height:1.5;">{
            </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> Rect contentPos=<span style="line-height:1.5;">getSize(targetPos);
            toast.setGravity(Gravity.LEFT</span>|<span style="line-height:1.5;">Gravity.TOP, contentPos.left, contentPos.top);
            toast.show();
        }
    }
    </span><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 得到目标View的位置
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@return</span>
     <span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">private</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span><span style="line-height:1.5;">[] getTargetViewPos() {
        </span><span style="color:rgb(0,0,255);line-height:1.5;">final</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span>[] targetPos = <span style="color:rgb(0,0,255);line-height:1.5;">new</span> <span style="color:rgb(0,0,255);line-height:1.5;">int</span>[2<span style="line-height:1.5;">];
        targetView.getLocationInWindow(targetPos);
        </span><span style="color:rgb(0,0,255);line-height:1.5;">return</span><span style="line-height:1.5;"> targetPos;
    }

    </span><span style="color:rgb(0,128,0);line-height:1.5;">/**</span><span style="color:rgb(0,128,0);line-height:1.5;">
     * 自定义的Handler
     * 
     * </span><span style="color:rgb(128,128,128);line-height:1.5;">@author</span><span style="color:rgb(0,128,0);line-height:1.5;"> sansung
     * 
     </span><span style="color:rgb(0,128,0);line-height:1.5;">*/</span>
    <span style="color:rgb(0,0,255);line-height:1.5;">class</span> MyHandler <span style="color:rgb(0,0,255);line-height:1.5;">extends</span><span style="line-height:1.5;"> Handler {

        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span><span style="line-height:1.5;"> MyHandler(Looper looper) {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">super</span><span style="line-height:1.5;">(looper);
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO 自动生成的构造函数存根</span>
<span style="line-height:1.5;">        }

        @Override
        </span><span style="color:rgb(0,0,255);line-height:1.5;">public</span> <span style="color:rgb(0,0,255);line-height:1.5;">void</span><span style="line-height:1.5;"> handleMessage(Message msg) {
            </span><span style="color:rgb(0,128,0);line-height:1.5;">//</span><span style="color:rgb(0,128,0);line-height:1.5;"> TODO 自动生成的方法存根</span>
            <span style="color:rgb(0,0,255);line-height:1.5;">super</span><span style="line-height:1.5;">.handleMessage(msg);
            </span><span style="color:rgb(0,0,255);line-height:1.5;">switch</span><span style="line-height:1.5;"> (msg.what) {
            </span><span style="color:rgb(0,0,255);line-height:1.5;">case</span><span style="line-height:1.5;"> WHAT_SHOW:
                showInHandler();
                </span><span style="color:rgb(0,0,255);line-height:1.5;">break</span><span style="line-height:1.5;">;
            </span><span style="color:rgb(0,0,255);line-height:1.5;">default</span><span style="line-height:1.5;">:
                </span><span style="color:rgb(0,0,255);line-height:1.5;">break</span><span style="line-height:1.5;">;
            }
        }

    }

}</span></pre> 
       <div class="cnblogs_code_toolbar">
        <span class="cnblogs_code_copy" style="line-height:1.5;"><a title="复制代码" style="color:rgb(153,153,153);border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
       </div> 
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;">此组件和Toast的实现方法一样，所以上手不难，只需使用makeText静态方法生成一个即可</p> 
      <div class="cnblogs_code" style="color:rgb(0,0,0);font-family:'Courier New';font-size:12px;border:1px solid rgb(204,204,204);">
       <pre>MyToast.makeText(MainActivity.<span style="color:rgb(0,0,255);line-height:1.5;">this</span>, v, "12222222222222221111111111", 1).show();</pre>
      </div> <p style="color:rgb(153,153,153);font-family:'Comic Sans MS', '微软雅黑', '宋体', Arial;font-size:15px;line-height:24px;"><strong><span style="color:rgb(255,255,255);font-size:large;">我是天王盖地虎的分割线 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></strong></p> <p style="line-height:24px;"><font color="#ffffff"><b><br></b></font></p> <p style="line-height:24px;"><font color="#ffffff"><b><br></b></font></p> <p style="line-height:24px;"><font color="#ffffff"><b><br></b></font></p> <p style="line-height:24px;"><font color="#ffffff"><b>本文转自我爱物联网博客园博客，原文链接：http://www.cnblogs.com/yydcdut/p/3888889.html，如需转载请自行联系原作者</b></font></p> </li> 
    </ul>
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
