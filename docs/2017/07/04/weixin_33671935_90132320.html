<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>敏捷开发中的测试金字塔（转） « NotBeCN</title>
  <meta name="description" content="                  最近一个爱尔兰的同事介绍了我们agile模式下的automation的工作机制，提到了测试金字塔的概念。值得推敲。     其中主要的思想就是，针对automation工作我们更多的focus点应该是Unit test，对于所有的UI Automation工作所在的级别比较高，...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/07/04/weixin_33671935_90132320.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">敏捷开发中的测试金字塔（转）</h1>
    <p class="post-meta">Jul 4, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="blogpost-body"> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">最近一个爱尔兰的同事介绍了我们agile模式下的automation的工作机制，提到了测试金字塔的概念。值得推敲。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">其中主要的思想就是，针对automation工作我们更多的focus点应该是Unit test，对于所有的UI Automation工作所在的级别比较高，但是我们更应该的注意的是所有的UI Cover的点其实都应该在Unit Test中Cover到的，如何UI 测试中出现了任何问题其实都可以追究到Unit Testing没有Cover到。体现了Unit Testing的重要性。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Unit Test应该做的比UI Automation和Service Automation做的更多。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">如下是他的讲解：（<a href="http://martinfowler.com/bliki/TestPyramid.html" rel="nofollow" style="color:rgb(0,0,0);">http://martinfowler.com/bliki/TestPyramid.html</a>）其实很值得一提。有种醍醐灌顶的感觉。。。</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The test pyramid is a concept developed by&nbsp;<a href="http://www.mountaingoatsoftware.com/" rel="nofollow" style="color:rgb(0,0,0);">Mike Cohn</a>, described in his book&nbsp;<a href="http://www.amazon.com/gp/product/0321579364?ie=UTF8&amp;tag=martinfowlerc-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0321579364" rel="nofollow" style="color:rgb(0,0,0);">Succeeding with Agile</a><img src="http://www.assoc-amazon.com/e/ir?t=martinfowlerc-20&amp;l=as2&amp;o=1&amp;a=0321601912" alt="" width="1" height="1" style="border:0px;">. Its essential point is that you should have many more low-level unit tests than high level end-to-end tests running through a GUI.</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><img src="http://martinfowler.com/bliki/images/testPyramid/pyramid.png" alt="" width="540" height="373" style="border:0px;"></p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">For much of my career test automation meant tests that drove an application through its user-interface. Such tools would often provide the facility to record an interaction with the application and then allow you to play back that interaction, checking that the application returned the same results. Such an approach works well initially. It's easy to record tests, and the tests can be recorded by people with no knowledge of programming.</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">But this kind of approach quickly runs into trouble, becoming an&nbsp;<a href="http://watirmelon.com/2012/01/31/introducing-the-software-testing-ice-cream-cone/" rel="nofollow" style="color:rgb(0,0,0);">ice-cream cone</a>. Testing through the UI like this is slow, increasing build times. Often it requires installed licences for the test automation software, which means it can only be done on particular machines. Usually these cannot easily be run in a "headless" mode, monitored by scripts to put in a proper deployment pipeline.</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Most importantly such tests are very brittle. An enhancement to the system can easily end up breaking lots of such tests, which then have to be re-recorded. You can reduce this problem by abandoning record-playback tools, but that makes the tests harder to write.&nbsp;<a href="http://martinfowler.com/bliki/TestPyramid.html#footnote-record-playback" rel="nofollow" style="color:rgb(0,0,0);">[1]</a>&nbsp;Even with good practices on writing them, end-to-end tests are more prone to<a href="http://martinfowler.com/articles/nonDeterminism.html" rel="nofollow" style="color:rgb(0,0,0);">non-determinism problems</a>, which can undermine trust in them. In short, tests that run end-to-end through the UI are: brittle, expensive to write, and time consuming to run. So the pyramid argues that you should do much more automated testing through unit tests than you should through traditional GUI based testing.</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The pyramid also argues for an intermediate layer of tests that act through a service layer of an application, what I refer to as<a href="http://martinfowler.com/bliki/SubcutaneousTest.html" rel="nofollow" style="color:rgb(0,0,0);">SubcutaneousTests</a>. These can provide many of the advantages of end-to-end tests but avoid many of the complexities of dealing with UI frameworks. In web applications this would correspond to testing through an API layer while the top UI part of the pyramid would correspond to tests using something like&nbsp;<a href="http://seleniumhq.org/" rel="nofollow" style="color:rgb(0,0,0);">Selenium</a>&nbsp;or Sahi..</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The test pyramid comes up a lot in Agile testing circles and while its core message is sound, there is much more to say about building a well-balanced test portfolio. In particular a common problem is that teams conflate the concepts of end-to-end tests, UI tests, and customer facing tests. These are all orthogonal characteristics. For example a rich javascript UI should have most of its UI behavior tested with javascript unit tests using something like&nbsp;<a href="http://pivotal.github.com/jasmine/" rel="nofollow" style="color:rgb(0,0,0);">Jasmine</a>. A complex set of business rules could have tests captured in a customer-facing form, but run just on the relevant module much as unit tests are.</p> 
    <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">In particular I always argue that high-level tests are there as a second line of test defense. If you get a failure in a high level test, not just do you have a bug in your functional code, you also have a missing unit test. Thus whenever you fix a failing end-to-end test, you should be adding unit tests too.</p> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">
     <br>
    </div> 
    <div style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">
     <br>
    </div> 
    <div> 
     <div> 
      <font><span style="font-size:12px;">本文转自hcy's workbench博客园博客，原文链接：http://www.cnblogs.com/alterhu/p/3323653.html</span></font>
      <span style="font-size:12px;font-family:Verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者。</span> 
     </div> 
     <div>
      <span class="Apple-tab-span" style="font-size:12px;"><font> </font></span>
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
