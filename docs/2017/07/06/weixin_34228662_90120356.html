<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>log4j的详细配置（最省心完美配置） « NotBeCN</title>
  <meta name="description" content="                 先说下我的需求      1，可以记录日记在我们的java开发项目周期中；    2，很简单即可输出日志；    3，每天按照时间将不同的日志输出到不同的文件中，每天输出日志到一个带有当前时间戳的文件中；    4，可以修改当前输出日志的文件名，文件名后缀是当前的日期，而不需要等...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/07/06/weixin_34228662_90120356.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">log4j的详细配置（最省心完美配置）</h1>
    <p class="post-meta">Jul 6, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">
    <li style="list-style:disc;"><strong>先说下我的需求</strong></li>
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>1，可以记录日记在我们的java开发项目周期中；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>2，很简单即可输出日志；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>3，每天按照时间将不同的日志输出到不同的文件中，每天输出日志到一个带有当前时间戳的文件中；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>4，可以修改当前输出日志的文件名，文件名后缀是当前的日期，而不需要等待log4j的项目到第二天这个文件名才能生成带有时间戳的文件；</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong>6，按不同的日志等级输出日志到不同的文件中，例如error文件中只有输出的log级别为error的日志，info级别的日志只输出到info文件（所以这里需要用的是log4j的xml配置文件而不是使用log4j.properties文件)</strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">先说下log4j的几种log级别的等级：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">日志记录器（Logger）的行为是分等级的。如下表所示：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">分 为OFF、FATAL、ERROR、WARN、INFO、DEBUG、ALL或者您定义的级别，这些级别是从高到低的级别。Log4j建议只使用四个级别，优先级从高到低分别是 ERROR、WARN、INFO、DEBUG。通过在这里定义的级别，您可以控制到应用程序中相应级别的日志信息的开关。比如在这里定义了INFO级别， 则应用程序中所有DEBUG级别的日志信息将不被打印出来</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong><font color="#ffffff">优先级从高到低分别是ERROR、WARN、INFO、DEBUG。通过在这里定义的级别，您可以控制到应用程序中相应级别的日志信息的开关。比如在这里定义了INFO级别，则应用程序中所有DEBUG级别的日志信息将不被打印出来。程序会打印高于或等于所设置级别的日志，设置的日志等级越高，打印出来的日志就越少。如果设置级别为INFO，则优先级高于等于INFO级别（如：INFO、WARN、ERROR）的日志信息将可以被输出,小于该级别的如DEBUG将不会被输出。</font></strong></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><strong><font color="#ffffff">所以从上面来说我们最好设置的日志级别为INFO ，或者是DEBUG级别。推荐使用DEBUG级别，可以显示所有的日志。</font></strong></p> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">
    <li style="list-style:disc;"> <strong><font color="#ffffff">需要准备的jar包<font></font></font><strong><font color="#ffffff"><font color="#ff0000"></font></font><font color="#000000"></font></strong></strong><font color="#ff0000"><font color="#000000"></font></font><font color="#000000"></font> </li> 
    <li style="list-style:disc;">log4j.jar 包，可以直接在官方下载到：<a href="http://logging.apache.org/log4j/1.2/download.html" rel="nofollow" style="color:rgb(0,0,0);">http://logging.apache.org/log4j/1.2/download.html</a> </li> 
    <li style="list-style:disc;">log4j-extr包，主要是立即生成自定义的文件名（原始的log4j生成的文件后缀名只能在第二天名称才会变）</li> 
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><a href="http://mvnrepository.com/artifact/log4j/apache-log4j-extras" rel="nofollow" style="color:rgb(0,0,0);">http://mvnrepository.com/artifact/log4j/apache-log4j-extras</a>（之所以选择这个地址是因为原始的log4j extra的URL&nbsp;<a href="http://www.apache.org/dyn/closer.cgi/logging/log4j/companions/extras/1.1/apache-log4j-extras-1.1.zip" rel="nofollow" style="color:rgb(0,0,0);">http://www.apache.org/dyn/closer.cgi/logging/log4j/companions/extras/1.1/apache-log4j-extras-1.1.zip</a>&nbsp;下载地址现在都失效了，不晓得是不是被墙了？？？）</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">下面的xml文件中的这行代码就是用到了log4j-extra中的类，千万主要了如果没有将这个jar加入到当前项目的classpath中，下面的这行代码运行的时候会报错的：</p> 
   <pre><code class="language-csharp"><span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jDebug"</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.RollingFileAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
  <span class="rem" style="color:rgb(0,128,0);">&lt;!-- 这里的class="org.apache.log4j.rolling.RollingFileAppender",而没有使用log4j的原始的：class="org.apache.log4j.DailyRollingFileAppender" --&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="Append"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="true"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.TimeBasedRollingPolicy"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
               <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="FileNamePattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="./log/log_%d{yyyy-MM-dd}.log"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  </code></pre> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">将上面的两个jar文件放到项目的classpath中，如下：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><a href="https://images0.cnblogs.com/blog/345627/201307/14104428-0ac75f966a4a442cb7a11acf79144e51.png" rel="nofollow" style="color:rgb(0,0,0);"><img title="image" alt="image" src="https://images0.cnblogs.com/blog/345627/201307/14104435-15702069f7214ff2ae177ceae64cebf7.png" width="350" height="320" style="border:0px;background-image:none;"></a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">配置文件</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">只需要一个配置文件我们这里就可以使用log4j的所以的功能，是不是很简单，所以主要的重心就是放在log4j配置文件上。但是如果是使用的是log4j的properties文件，它输出的日志记录可能不是你需要的，就想上面提到的日志级别，如果使用properties文件，那么所有的error和warn级别的日志都会输出到INFO级别的日志中，如果我们这里设置log的级别为info的话。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">所以这样的话，一个文件中可能有info级别的，error级别的，warn级别的，里面还是很混乱的，很难快速查找定位对应级别的日志。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">log4j提出了一个方案就是使用xml配置文件起配置log4j这样就可以使用不同的log4j级别输出不同的文件中。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">以下是一个log4j的xml文件配置详情，可以满足以上所有的需求(如果需要的话你还可以定制其中的日志输出路径等等，另外说下，经自己试验，发现log4j是可以使用相对路径来输出对应的log日志文件的，并不像有的人说的不能使用相对路径只能使用绝对路径，这个是错的，我这里下面使用的就是相对路径，是相对当前的项目路径）。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">使用的时候不管是properties文件或者是xml配置文件，最好一定要放在项目根目录下面，就是项目中跟src目录同级别里面。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><a href="https://images0.cnblogs.com/blog/345627/201307/14104436-3645328034f144e980cfe2f7842401c8.png" rel="nofollow" style="color:rgb(0,0,0);"><img title="image" alt="image" src="https://images0.cnblogs.com/blog/345627/201307/14104437-8a654559ff634811b69e9cac11f3b8ab.png" width="473" height="216" style="border:0px;background-image:none;"></a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">log4j.xml配置文件源代码如下：</p> 
   <pre><code class="language-csharp"><span class="kwrd" style="color:rgb(0,0,255);">&lt;?</span><span class="html" style="color:rgb(128,0,0);">xml</span> <span class="attr" style="color:rgb(255,0,0);">version</span><span class="kwrd" style="color:rgb(0,0,255);">="1.0"</span> <span class="attr" style="color:rgb(255,0,0);">encoding</span><span class="kwrd" style="color:rgb(0,0,255);">="UTF-8"</span>?<span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
<span class="kwrd" style="color:rgb(0,0,255);">&lt;!</span><span class="html" style="color:rgb(128,0,0);">DOCTYPE</span> <span class="attr" style="color:rgb(255,0,0);">log4j:configuration</span> <span class="attr" style="color:rgb(255,0,0);">SYSTEM</span> <span class="kwrd" style="color:rgb(0,0,255);">"log4j.dtd"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
    
<span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">log4j:configuration</span>  <span class="attr" style="color:rgb(255,0,0);">debug</span><span class="kwrd" style="color:rgb(0,0,255);">="true"</span> <span class="attr" style="color:rgb(255,0,0);">xmlns:log4j</span><span class="kwrd" style="color:rgb(0,0,255);">='http://jakarta.apache.org/log4j/'</span> <span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  

    <span class="rem" style="color:rgb(0,128,0);">&lt;!-- ========================== 自定义输出格式说明================================ --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %p 输出优先级，即DEBUG，INFO，WARN，ERROR，FATAL --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %r 输出自应用启动到输出该log信息耗费的毫秒数 --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %c 输出所属的类目，通常就是所在类的全名 --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %t 输出产生该日志事件的线程名 --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %n 输出一个回车换行符，Windows平台为“/r/n”，Unix平台为“/n” --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %d 输出日志时间点的日期或时间，默认格式为ISO8601，也可以在其后指定格式，比如：%d{yyy MMM dd HH:mm:ss,SSS}，输出类似：2002年10月18日 22：10：28，921 --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- %l 输出日志事件的发生位置，包括类目名、发生的线程，以及在代码中的行数。举例：Testlo4.main(TestLog4.java:10) --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- ========================================================================== --&gt;</span>

      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- ========================== 输出方式说明================================ --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- Log4j提供的appender有以下几种: --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- org.apache.log4j.ConsoleAppender(控制台), --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- org.apache.log4j.FileAppender(文件), --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- org.apache.log4j.DailyRollingFileAppender(每天产生一个日志文件), --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- org.apache.log4j.RollingFileAppender(文件大小到达指定尺寸的时候产生一个新的文件), --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- org.apache.log4j.WriterAppender(将日志信息以流格式发送到任意指定的地方) --&gt;</span>
  <span class="rem" style="color:rgb(0,128,0);">&lt;!-- ========================================================================== --&gt;</span>
   
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="CONSOLE"</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.ConsoleAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
         <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;param name="Target" value="System.out"/&gt; --&gt;</span>
         <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">layout</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.PatternLayout"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
                 <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="ConversionPattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c Method: %l ]%n%p:%m%n"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
         <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">layout</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
        <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;filter class="org.apache.log4j.varia.LevelRangeFilter"&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="LevelMin" value="DEBUG"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="LevelMax" value="DEBUG"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;/filter&gt; --&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">appender</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
    <span class="rem" style="color:rgb(0,128,0);">&lt;!-- output the debug --&gt;</span>
   <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;appender name="log4jDebug" class="org.apache.log4j.DailyRollingFileAppender"&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="File" value="log_"/&gt; </span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="MaxFileSize" value="KB"/&gt; </span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="MaxBackupIndex" value="2"/&gt; --&gt;</span>
   <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jDebug"</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.RollingFileAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="Append"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="true"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.TimeBasedRollingPolicy"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
               <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="FileNamePattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="./log/log_%d{yyyy-MM-dd}.log"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">layout</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.PatternLayout"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="ConversionPattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c Method: %l ]%n%p:%m%n"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">layout</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">filter</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.varia.LevelRangeFilter"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMin"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="DEBUG"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMax"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="DEBUG"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">filter</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">appender</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
   <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;appender name="log4jInfo" class="org.apache.log4j.DailyRollingFileAppender"&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="File" value="log_"/&gt; </span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="DatePattern" value="'.log'yyyy-MM-dd"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="Append" value="true"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="MaxFileSize" value="5KB"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="MaxBackupIndex" value="2"/&gt; --&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jInfo"</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.RollingFileAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="Append"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="true"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.TimeBasedRollingPolicy"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
               <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="FileNamePattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="./log/log_%d{yyyy-MM-dd}.log"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span> 
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">layout</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.PatternLayout"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
             <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="ConversionPattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c Method: %l ]%n%p:%m%n"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">layout</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">filter</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.varia.LevelRangeFilter"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMin"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="INFO"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMax"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="INFO"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">filter</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">appender</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
   <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;appender name="log4jWarn" class="org.apache.log4j.DailyRollingFileAppender"&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="File" value="/log_"/&gt; </span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="DatePattern" value="'.log'yyyy-MM-dd"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="Append" value="true"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="MaxFileSize" value="5KB"/&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="MaxBackupIndex" value="2"/&gt; --&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jWarn"</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.RollingFileAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="Append"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="true"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.TimeBasedRollingPolicy"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
               <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="FileNamePattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="./log/log_%d{yyyy-MM-dd}.log"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span> 
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">layout</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.PatternLayout"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
             <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="ConversionPattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c Method: %l ]%n%p:%m%n"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">layout</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">filter</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.varia.LevelRangeFilter"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMin"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="WARN"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMax"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="WARN"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">filter</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">appender</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
  <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;appender name="log4jError" class="org.apache.log4j.DailyRollingFileAppender"&gt; --&gt;</span>
   <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jError"</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.RollingFileAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
       <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;param name="File" value="/error_"/&gt; </span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="DatePattern" value="'.log'yyyy-MM-dd"/&gt; --&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="Append"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="true"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span>  <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.rolling.TimeBasedRollingPolicy"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>  
               <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="FileNamePattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="./log/error_%d{yyyy-MM-dd}.log"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>  
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">rollingPolicy</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span> 
        
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;param name="MaxFileSize" value="5KB"/&gt; --&gt;</span>
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;param name="MaxBackupIndex" value="2"/&gt; --&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">layout</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.PatternLayout"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
             <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="ConversionPattern"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c Method: %l ]%n%p:%m%n"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">layout</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">filter</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.varia.LevelRangeFilter"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMin"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="ERROR"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
            <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="LevelMax"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="ERROR"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">filter</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">appender</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
 <span class="rem" style="color:rgb(0,128,0);">&lt;!--通过&lt;category&gt;&lt;/category&gt;的定义可以将各个包中的类日志输出到不同的日志文件中--&gt;</span>
    <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;category name="com.gzy"&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;priority value="debug" /&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;appender-ref ref="log4jTestLogInfo" /&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;appender-ref ref="log4jTestDebug" /&gt;</span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;/category&gt; --&gt;</span>
  <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="MAIL"</span>     
      <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.net.SMTPAppender"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="threshold"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="debug"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- 日志的错误级别 </span>
<span class="rem" style="color:rgb(0,128,0);"> &lt;param name="threshold" value="error"/&gt; </span>
<span class="rem" style="color:rgb(0,128,0);"> --&gt;</span>     
      <span class="rem" style="color:rgb(0,128,0);">&lt;!-- 缓存文件大小，日志达到512K时发送Email --&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="BufferSize"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="512"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;&lt;!</span><span class="html" style="color:rgb(128,0,0);">--</span> <span class="attr" style="color:rgb(255,0,0);">单位K</span> <span class="attr" style="color:rgb(255,0,0);">--</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="From"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="test@163.com"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="SMTPHost"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="smtp.163.com"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="Subject"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="juyee-log4jMessage"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="To"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="test@163.com"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="SMTPUsername"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="test"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="SMTPPassword"</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="test"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">layout</span> <span class="attr" style="color:rgb(255,0,0);">class</span><span class="kwrd" style="color:rgb(0,0,255);">="org.apache.log4j.PatternLayout"</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>     
       <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">param</span> <span class="attr" style="color:rgb(255,0,0);">name</span><span class="kwrd" style="color:rgb(0,0,255);">="ConversionPattern"</span>     
        <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="%-d{yyyy-MM-dd HH:mm:ss.SSS a} [%p]-[%c] %m%n"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>     
      <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">layout</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>     
   <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">appender</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span> 
    
    
     <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">root</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">priority</span> <span class="attr" style="color:rgb(255,0,0);">value</span><span class="kwrd" style="color:rgb(0,0,255);">="debug"</span><span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender-ref</span> <span class="attr" style="color:rgb(255,0,0);">ref</span><span class="kwrd" style="color:rgb(0,0,255);">="CONSOLE"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span> 
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender-ref</span> <span class="attr" style="color:rgb(255,0,0);">ref</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jDebug"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span> 
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender-ref</span> <span class="attr" style="color:rgb(255,0,0);">ref</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jInfo"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender-ref</span> <span class="attr" style="color:rgb(255,0,0);">ref</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jWarn"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="kwrd" style="color:rgb(0,0,255);">&lt;</span><span class="html" style="color:rgb(128,0,0);">appender-ref</span> <span class="attr" style="color:rgb(255,0,0);">ref</span><span class="kwrd" style="color:rgb(0,0,255);">="log4jError"</span> <span class="kwrd" style="color:rgb(0,0,255);">/&gt;</span>
        <span class="rem" style="color:rgb(0,128,0);">&lt;!-- &lt;appender-ref ref="MAIL" /&gt; --&gt;</span>
    <span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">root</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span>
<span class="kwrd" style="color:rgb(0,0,255);">&lt;/</span><span class="html" style="color:rgb(128,0,0);">log4j:configuration</span><span class="kwrd" style="color:rgb(0,0,255);">&gt;</span></code></pre> 
   <pre><code class="language-csharp">这里附上另一种配置log4j的文件，是使用log4j的properties文件，上面也说到了，它是有缺陷的，就是里面的日志等级可能都会输出到一个文件中，高级别的日志信息也会在低级别的日志文件中出现，有点混乱。</code></pre> 
   <pre><code class="language-csharp">log4j.properties 文件：</code></pre> 
   <pre><code class="language-csharp"><span class="rem" style="color:rgb(0,128,0);"># priority :debug&lt;info&lt;warn&lt;error</span>
<span class="rem" style="color:rgb(0,128,0);">#you cannot specify every priority with different file for log4j </span>
log4j.rootLogger=debug,stdout,info,debug,warn,error 

<span class="rem" style="color:rgb(0,128,0);">#console</span>
log4j.appender.stdout=org.apache.log4j.ConsoleAppender 
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout 
log4j.appender.stdout.layout.ConversionPattern= [%d{yyyy-MM-dd HH:mm:ss a}]:%p %l%m%n
<span class="rem" style="color:rgb(0,128,0);">#info log</span>
log4j.logger.info=info
log4j.appender.info=org.apache.log4j.DailyRollingFileAppender 
log4j.appender.info.DatePattern=<span class="str" style="color:rgb(0,96,128);">'_'</span>yyyy-MM-dd<span class="str" style="color:rgb(0,96,128);">'.log'</span>
log4j.appender.info.File=./src/com/hp/log/info.log
log4j.appender.info.Append=true
log4j.appender.info.Threshold=INFO
log4j.appender.info.layout=org.apache.log4j.PatternLayout 
log4j.appender.info.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c &gt;&gt; Method: %l ]%n%p:%m%n
<span class="rem" style="color:rgb(0,128,0);">#debug log</span>
log4j.logger.debug=debug
log4j.appender.debug=org.apache.log4j.DailyRollingFileAppender 
log4j.appender.debug.DatePattern=<span class="str" style="color:rgb(0,96,128);">'_'</span>yyyy-MM-dd<span class="str" style="color:rgb(0,96,128);">'.log'</span>
log4j.appender.debug.File=./src/com/hp/log/debug.log
log4j.appender.debug.Append=true
log4j.appender.debug.Threshold=DEBUG
log4j.appender.debug.layout=org.apache.log4j.PatternLayout 
log4j.appender.debug.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c &gt;&gt; Method: %l ]%n%p:%m%n
<span class="rem" style="color:rgb(0,128,0);">#warn log</span>
log4j.logger.warn=warn
log4j.appender.warn=org.apache.log4j.DailyRollingFileAppender 
log4j.appender.warn.DatePattern=<span class="str" style="color:rgb(0,96,128);">'_'</span>yyyy-MM-dd<span class="str" style="color:rgb(0,96,128);">'.log'</span>
log4j.appender.warn.File=./src/com/hp/log/warn.log
log4j.appender.warn.Append=true
log4j.appender.warn.Threshold=WARN
log4j.appender.warn.layout=org.apache.log4j.PatternLayout 
log4j.appender.warn.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c &gt;&gt; Method: %l ]%n%p:%m%n
<span class="rem" style="color:rgb(0,128,0);">#error</span>
log4j.logger.error=error
log4j.appender.error = org.apache.log4j.DailyRollingFileAppender
log4j.appender.error.DatePattern=<span class="str" style="color:rgb(0,96,128);">'_'</span>yyyy-MM-dd<span class="str" style="color:rgb(0,96,128);">'.log'</span>
log4j.appender.error.File = ./src/com/hp/log/error.log 
log4j.appender.error.Append = true
log4j.appender.error.Threshold = ERROR 
log4j.appender.error.layout = org.apache.log4j.PatternLayout
log4j.appender.error.layout.ConversionPattern = %d{yyyy-MM-dd HH:mm:ss a} [Thread: %t][ Class:%c &gt;&gt; Method: %l ]%n%p:%m%n</code></pre> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">是不是很简单啊，呵呵。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">完成以上的配置后，现在就可以试试使用log4j了。新建一个java类，源代码中如下使用即可：</p> 
   <pre><code class="language-csharp">package com.test.utility;

import org.apache.log4j.Logger;

<span class="kwrd" style="color:rgb(0,0,255);">public</span> <span class="kwrd" style="color:rgb(0,0,255);">class</span> Test {

    <span class="kwrd" style="color:rgb(0,0,255);">private</span> <span class="kwrd" style="color:rgb(0,0,255);">static</span> Logger log=Logger.getLogger(Test.<span class="kwrd" style="color:rgb(0,0,255);">class</span>);
    <span class="kwrd" style="color:rgb(0,0,255);">public</span> <span class="kwrd" style="color:rgb(0,0,255);">static</span> void main(<span class="kwrd" style="color:rgb(0,0,255);">String</span>[] args) {
        
        log.info(<span class="str" style="color:rgb(0,96,128);">"this is info message"</span>);
        log.debug(<span class="str" style="color:rgb(0,96,128);">"this is debug message"</span>);
        log.warn(<span class="str" style="color:rgb(0,96,128);">"this is warn message"</span>);
        log.<span class="kwrd" style="color:rgb(0,0,255);">error</span>(<span class="str" style="color:rgb(0,96,128);">"this is error message"</span>);
    }
}</code></pre> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">嗯,以上就完成了log4j的所有需要的配置了.enjoy it!<img class="wlEmoticon wlEmoticon-openmouthedsmile" alt="Open-mouthed smile" src="https://images0.cnblogs.com/blog/345627/201307/14104437-9c9c3655f3754edba1bf104714cb2cf0.png" style="border:0px none;"></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
   <p><font><span style="font-size:12px;">本文转自hcy's workbench博客园博客，原文链接：http://www.cnblogs.com/alterhu/p/3189177.html</span></font><span style="font-size:12px;font-family:Verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者。</span></p> 
   <p><span class="Apple-tab-span" style="font-size:12px;"><font> </font></span></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
