<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>eclipse core expression usage « NotBeCN</title>
  <meta name="description" content="             http://codeandme.blogspot.com/2012/04/expression-examples.html    We need to set&nbsp;checkEnabled&nbsp;on the&nbsp;visibleWhen&nbsp;element to&...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/07/06/weixin_34064653_90121578.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">eclipse core expression usage</h1>
    <p class="post-meta">Jul 6, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><a title="http://codeandme.blogspot.com/2012/04/expression-examples.html" href="http://codeandme.blogspot.com/2012/04/expression-examples.html" rel="nofollow" style="color:rgb(0,0,0);">http://codeandme.blogspot.com/2012/04/expression-examples.html</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">We need to set&nbsp;<i>checkEnabled</i>&nbsp;on the&nbsp;<i>visibleWhen</i>&nbsp;element to&nbsp;<i>false</i>, otherwise the expression will not be active. The&nbsp;<a href="http://wiki.eclipse.org/Platform_Expression_Framework#with" rel="nofollow" style="color:rgb(0,0,0);">with</a>section uses activePartId as source. It is a string containing the ID of the active view/editor (see&nbsp;<a href="http://wiki.eclipse.org/Command_Core_Expressions#Variables_and_the_Command_Framework" rel="nofollow" style="color:rgb(0,0,0);">description</a>).</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><a title="http://wiki.eclipse.org/Command_Core_Expressions#Variables_and_the_Command_Framework" href="http://wiki.eclipse.org/Command_Core_Expressions#Variables_and_the_Command_Framework" rel="nofollow" style="color:rgb(0,0,0);">http://wiki.eclipse.org/Command_Core_Expressions#Variables_and_the_Command_Framework</a></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Core expressions are declarative or programmatic expressions based on the org.eclipse.core.expressions plugin. 通过org.eclipse.core.expression 去实现</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The&nbsp;<a href="http://wiki.eclipse.org/Platform_Command_Framework" rel="nofollow" style="color:rgb(0,0,0);">Platform Command Framework</a>&nbsp;uses&nbsp;<a href="http://wiki.eclipse.org/Platform_Expression_Framework" rel="nofollow" style="color:rgb(0,0,0);">core expressions</a>&nbsp;for enabledWhen and activeWhen for handlers, programmatic activation of contexts, and for visibleWhen for menu contributions. The command framework provides the IEvaluationContext that command core expressions are evaluate against.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The IEvaluationContext provides a default variable for evaluations, and a number of named variables. In the command framework, we provide the global selection as a<code>java.util.Collection</code>&nbsp;as the default variable. It can either be empty, have one entry (if the ISelection was something like an ITextSelection), or have the contents of an IStructuredSelection.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The &lt;with/&gt; element can be used to change which variable the child expression elements are evaluating against.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">eclipse plugin中的command引入了core expressions 去激活对应的command</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">enabledWhen,activeWhen是用于handler；</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">visibleWhen适用于menu菜单</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <h4 style="font-size:14px;color:rgb(51,51,51);font-family:Verdana, Arial, Helvetica, sans-serif;">Re-Usable expressions</h4> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Sometimes you will end up with having the same expression in many different places. When one of them changes, you have to change them all. Obviously, this is inefficient and not very handy - let alone error prone. You can get around this problem by using definitions and re-use expressions that are declared elsewhere.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">The expression from the example above can be declared using the&nbsp;<code>org.eclipse.core.expressions.definitions</code>extension point, and then re-used using the<code>&lt;reference&gt;</code>&nbsp;element:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">重用表达式</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><a title="http://wiki.eclipse.org/Platform_Expression_Framework" href="http://wiki.eclipse.org/Platform_Expression_Framework" rel="nofollow" style="color:rgb(0,0,0);">http://wiki.eclipse.org/Platform_Expression_Framework</a></p> 
   <ul style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">
    <li style="list-style:disc;">Should an context menu be enabled and/or visible in a context menu&nbsp;&nbsp; menu应该不应该显示或者是可用</li> 
    <li style="list-style:disc;">Which implementation for a command handler to use depending on the current context&nbsp;&nbsp;&nbsp; 在当前上下文哪个handler应该被用</li> 
    <li style="list-style:disc;">Which label provider to use for an object&nbsp;&nbsp;&nbsp;&nbsp; 哪个provider应该被用</li> 
    <li style="list-style:disc;">Which content provider can provide children for an object in a tree</li> 
   </ul>
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;or&gt;element 包含一个表达式块</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">表达式块：</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">instanceof:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">adapt:</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <pre> &lt;reference
          definitionId="org.acme.navigator.enablement"&gt;
    &lt;/reference&gt;</pre> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">Usually, expressions check the default variable in the evaluation context. However, it is possible for an expression to select a specific variable from the context using the&nbsp;<code>&lt;with&gt;</code>&nbsp;element (examples below).</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">通常是检查默认的变量，但是可以通过with来检查变量。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">当处理一个collection的时候我们通常想要知道这个collection中的内容</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">这里用到了&lt;iterate&gt; &lt;count&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">They require an iterable object to work (otherwise they fail with an error message on the console)他们必须是一个可迭代的对象。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">默认的变量时当前的选中的，但是可能是整个结构。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><code>ITextSelection</code>), or contain the elements of an&nbsp;<code>IStructuredSelection</code>.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">adapt,and,or,not 可以包含内部元素。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">count不能包含元素，他是计算collection中的元素数目。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">它最好可以与&lt;iterate&gt;使用遍历里面的所有元素个数。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;count value=”2” /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;iterate ifempty=’’false”&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;&nbsp;&nbsp; &lt;instance of value=”” /&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&lt;/iterate&gt;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">resolve将要不会再用。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">As of eclipse 3.5, there is no implementation in either the command framework or the common navigator framework for IVariableResolver, so the&nbsp;<code>&lt;resolve&gt;</code>&nbsp;operator is of no use for them.</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">systemTest</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">测试系统中的属性值</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">java.lang.System.getProperties</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">&nbsp;</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">With</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">将要定义一个变量进行校验。必须要用子元素。可以使系统的变量。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">例如当前激活的窗口等等。</p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
   <p><font><span style="font-size:12px;">本文转自hcy's workbench博客园博客，原文链接：http://www.cnblogs.com/alterhu/p/4032580.html</span></font><span style="font-size:12px;font-family:Verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者。</span></p> 
   <p style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;"><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
