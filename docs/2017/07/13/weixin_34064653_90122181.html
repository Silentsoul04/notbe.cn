<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Jenkins内置环境变量的使用 « NotBeCN</title>
  <meta name="description" content="             一、查看Jenkins有哪些环境变量    1、新建任意一个job    2、增加构建步骤：Execute shell 或 Execute Windows batch command    3、点击输入框下方的“可用环境变量”    &nbsp;    4、可以看到有如下变量供使用：&n...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/07/13/weixin_34064653_90122181.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Jenkins内置环境变量的使用</h1>
    <p class="post-meta">Jul 13, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong><span style="line-height:1.8;font-size:15px;">一、查看Jenkins有哪些环境变量</span></strong></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">1、新建任意一个job</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">2、增加构建步骤：Execute shell 或 Execute Windows batch command</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">3、点击输入框下方的“<span style="line-height:1.8;color:rgb(153,51,102);">可用环境变量</span>”</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><img src="https://images2015.cnblogs.com/blog/77835/201509/77835-20150922145817506-166888673.jpg" alt="" style="border:0px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">4、可以看到有如下变量供使用：</span>&nbsp;</p> 
   <table border="0" style="border:1px solid #C0C0C0;border-collapse:collapse;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
    <tbody>
     <tr>
      <td class="xl67" style="border:1px solid #C0C0C0;border-collapse:collapse;text-align:center;"><strong>变量名</strong></td> 
      <td class="xl64" style="border:1px solid #C0C0C0;border-collapse:collapse;text-align:center;"><strong>解释</strong></td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">BUILD_NUMBER</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">The current build number, such as "153"</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">BUILD_ID</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">The current build ID, identical to BUILD_NUMBER for builds created in 1.597+, but a YYYY-MM-DD_hh-mm-ss timestamp for older builds</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">BUILD_DISPLAY_NAME</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">The display name of the current build, which is something like "#153" by default.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">JOB_NAME</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Name of the project of this build, such as "foo" or "foo/bar". (To strip off folder paths from a Bourne shell script, try: ${JOB_NAME##*/})</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">BUILD_TAG</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">String of "jenkins-${JOB_NAME}-${BUILD_NUMBER}". Convenient to put into a resource file, a jar file, etc for easier identification.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">EXECUTOR_NUMBER</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">The unique number that identifies the current executor (among executors of the same machine) that’s carrying out this build. This is the number you see in the "build executor status", except that the number starts from 0, not 1.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">NODE_NAME</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Name of the slave if the build is on a slave, or "master" if run on master</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">NODE_LABELS</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Whitespace-separated list of labels that the node is assigned.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">WORKSPACE</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">The absolute path of the directory assigned to the build as a workspace.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">JENKINS_HOME</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">The absolute path of the directory assigned on the master node for Jenkins to store data.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">JENKINS_URL</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Full URL of Jenkins, like http://server:port/jenkins/ (note: only available if Jenkins URL set in system configuration)</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">BUILD_URL</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Full URL of this build, like http://server:port/jenkins/job/foo/15/ (Jenkins URL must be set)</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">SVN_REVISION</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Subversion revision number that's currently checked out to the workspace, such as "12345"</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">SVN_URL</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Subversion URL that's currently checked out to the workspace.</td> 
     </tr>
     <tr>
      <td class="xl66" style="border:1px solid #C0C0C0;border-collapse:collapse;">JOB_URL</td> 
      <td class="xl63" style="border:1px solid #C0C0C0;border-collapse:collapse;">Full URL of this job, like http://server:port/jenkins/job/foo/ (Jenkins URL must be set)</td> 
     </tr>
    </tbody>
   </table>
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;"><strong>二、使用Jenkins的内置变量</strong></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">1、在Execute shell 或 Execute Windows batch command文本框中使用，使用方法：<span style="line-height:1.8;color:rgb(255,0,0);">%变量名%，<span style="line-height:1.8;color:rgb(51,51,0);">如下图</span></span></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">　　<img src="https://images2015.cnblogs.com/blog/77835/201509/77835-20150922151351694-830552490.jpg" alt="" style="border:0px;"></span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">2、结合Ant，在build.xml文件中使用：</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><span style="line-height:1.8;font-size:15px;">　　1、添加如下第4行代码：</span>&lt;property environment="<span style="line-height:1.8;color:rgb(255,0,0);">env</span>"/&gt;</p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　<span style="line-height:1.8;font-size:15px;">2、使用方法：${<span style="line-height:1.8;color:rgb(255,0,0);">env</span>.WORKSPACE}</span>&nbsp;&nbsp;</p> 
   <div class="cnblogs_code" style="border:1px solid rgb(204,204,204);font-family:'Courier New';font-size:12px;"> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
    <pre><span style="line-height:1.8;color:rgb(0,128,128);"> 1</span> <span style="line-height:1.8;color:rgb(0,0,255);">&lt;?</span><span style="line-height:1.8;color:rgb(255,0,255);">xml version="1.0" encoding="UTF-8"</span><span style="line-height:1.8;color:rgb(0,0,255);">?&gt;</span>
<span style="line-height:1.8;color:rgb(0,128,128);"> 2</span> 
<span style="line-height:1.8;color:rgb(0,128,128);"> 3</span> <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">project </span><span style="line-height:1.8;color:rgb(255,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">="ant-test"</span><span style="line-height:1.8;color:rgb(255,0,0);"> default</span><span style="line-height:1.8;color:rgb(0,0,255);">="run"</span><span style="line-height:1.8;color:rgb(255,0,0);"> basedir</span><span style="line-height:1.8;color:rgb(0,0,255);">="."</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
<span style="line-height:1.8;color:rgb(0,128,128);"> 4</span>     <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">property </span><span style="line-height:1.8;color:rgb(255,0,0);">environment</span><span style="line-height:1.8;color:rgb(0,0,255);">="env"</span><span style="line-height:1.8;color:rgb(0,0,255);">/&gt;</span>
<span style="line-height:1.8;color:rgb(0,128,128);"> 5</span>     
<span style="line-height:1.8;color:rgb(0,128,128);"> 6</span>     <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">target </span><span style="line-height:1.8;color:rgb(255,0,0);">name</span><span style="line-height:1.8;color:rgb(0,0,255);">="clean"</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
<span style="line-height:1.8;color:rgb(0,128,128);"> 7</span>         <span style="line-height:1.8;color:rgb(0,0,255);">&lt;</span><span style="line-height:1.8;color:rgb(128,0,0);">mkdir </span><span style="line-height:1.8;color:rgb(255,0,0);">dir</span><span style="line-height:1.8;color:rgb(0,0,255);">="${env.WORKSPACE}/results/${env.BUILD_ID}"</span> <span style="line-height:1.8;color:rgb(0,0,255);">/&gt;</span>
<span style="line-height:1.8;color:rgb(0,128,128);"> 8</span>     <span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">target</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span>
<span style="line-height:1.8;color:rgb(0,128,128);"> 9</span> 
<span style="line-height:1.8;color:rgb(0,128,128);">10</span> <span style="line-height:1.8;color:rgb(0,0,255);">&lt;/</span><span style="line-height:1.8;color:rgb(128,0,0);">project</span><span style="line-height:1.8;color:rgb(0,0,255);">&gt;</span></pre> 
    <div class="cnblogs_code_toolbar">
     <span class="cnblogs_code_copy" style="line-height:1.8;"><a title="复制代码" style="border:none;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="border:none;"></a></span>
    </div> 
   </div> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
   <p><font color="#333333"><span style="font-size:14px;">本文转自贺满博客园博客，原文链接：http://www.cnblogs.com/puresoul/p/4828913.html</span></font><span style="font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;">，如需转载请自行联系原作者。</span></p> 
   <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
