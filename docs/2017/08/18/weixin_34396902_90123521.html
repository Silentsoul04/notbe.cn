<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>路径，文件，目录，I/O常见操作汇总（二） « NotBeCN</title>
  <meta name="description" content="             &nbsp; &nbsp;   摘要:   &nbsp;&nbsp;&nbsp; 文件操作是程序中非常基础和重要的内容，而路径、文件、目录以及I/O都是在进行文件操作时的常见主题，这里想把这些常见的问题作个总结，对于每个问题， 尽量提供一些解决方案，即使没有你想要的答案，也希望能提供给你...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/08/18/weixin_34396902_90123521.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">路径，文件，目录，I/O常见操作汇总（二）</h1>
    <p class="post-meta">Aug 18, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp; &nbsp;</span>
   <strong style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">摘要:<br></strong>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 文件操作是程序中非常基础和重要的内容，而路径、文件、目录以及I/O都是在进行文件操作时的常见主题，这里想把这些常见的问题作个总结，对于每个问题， 尽量提供一些解决方案，即使没有你想要的答案，也希望能提供给你一点有益的思路，如果你有好的建议，恳请能够留言，使这些内容更加完善。&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 主要内容：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 一、路径的相关操作， 如判断路径是否合法，路径类型，路径的特定部分，合并路径，系统文件夹路径等内容；</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 二、相关通用文件对话框，这些对话框可以帮助我们操作文件系统中的文件和目录；</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 三、文件、目录、驱动器的操作，如获取它们的基本信息，获取和设置文件和目录的属性，文件的版本信息，</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 搜索文件和目录，文件判等，复制、移动、删除、重命名文件和目录；</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 四、读写文件，包括临时文件，随机文件名等；</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 五、对文件系统的监视；</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
   <a title="路径的相关操作" href="http://www.cnblogs.com/anderslly/archive/2006/12/24/pathcommondialog.html" rel="nofollow" style="text-decoration:none;color:rgb(226,16,255);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">上一篇</a>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">介绍了第一、二部分，这一篇介绍一下最重要的第三部分。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;font-weight:bold;">三、文件和目录相关操作</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 文件和目录操作涉及的类主要是：FileInfo,DirectoryInfo,DriveInfo，可以认为它们的一个实例对应着一个文件、目录、驱动器。它们的用法类似，一般是将文件、目录或驱动器的路径作为参数传递给相应的构造函数创建一个实例，然后访问它们的属性和方法。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 注意下面几点：</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; FileInfo 类和 DirectoryInfo 类都继承自抽象类 FileSystemInfo ， FileSystemInfo 类定义了一些通用的属性，如 CreationTime 、 Exists 等。但 DriveInfo 类没有继承 FileSystemInfo 类，所以它也就没有上面提到的那些通用属性了。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; FileInfo 类和 DirectoryInfo 类的对象公开的属性值都是第一次查询时获取的值，如果在以此查询之后文件或目录发生了改动，就必须调用它们的 Refresh 方法来更新这些属性。但 DriveInfo 则无需这么做，它的属性每次都会读取文件系统最新的信息。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 在创建文件、目录或驱动器的实例时，如果使用了一个不存在的路径，并不会报错，这是你得到一个对象，该对象表示一个并不存在的实体，这意味着它的 Exists 属性（对于 DriveInfo 来说是 IsReady 属性）值为 false 。你仍然可以操作该实体，但如果尝试其它的大多数属性，就会引发相应的 FileNotFoundException 、 DirectoryNotFoundException 或 DriveNotFoundException 异常。</span>
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 另外，还可以使用 File / Directory 类，这两个类的成员都是静态方法，</span>
   <span style="font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;color:rgb(255,32,116);">所以如果只想执行一个操作</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">，那么使用 File/Directory 中的静态方法的效率比使用相应的 FileInfo / DirectoryInfo中的 实例方法可能更高。所有的 File / Directory 方法都要求当前所操作的文件 / 目录的路径。 注意： File / Directory 类的静态方法对所有方法都执行安全检查。</span>
   <span style="font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;color:rgb(255,32,116);">如果打算多次重用某个对象</span>
   <span style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">，可考虑改用 FileInfo / DirectoryInfo 的相应实例方法，因为并不总是需要安全检查。 &nbsp;</span> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 下面是一些常见的问题：<br> &nbsp;&nbsp;&nbsp; 问题1：<span style="line-height:1.8;color:rgb(32,0,255);">如何获取指定文件的基本信息；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：可以使用FileInfo类的相关属性：<br> &nbsp;&nbsp;&nbsp; FileInfo.Exists：获取指定文件是否存在；<br> &nbsp;&nbsp;&nbsp; FileInfo.Name，FileInfo.Extensioin：获取文件的名称和扩展名；<br> &nbsp;&nbsp;&nbsp; FileInfo.FullName：获取文件的全限定名称（完整路径）；<br> &nbsp;&nbsp;&nbsp; FileInfo.Directory：获取文件所在目录，返回类型为DirectoryInfo；<br> &nbsp;&nbsp;&nbsp; FileInfo.DirectoryName：获取文件所在目录的路径（完整路径）；<br> &nbsp;&nbsp;&nbsp; FileInfo.Length：获取文件的大小（字节数）；<br> &nbsp;&nbsp;&nbsp; FileInfo.IsReadOnly：获取文件是否只读；<br> &nbsp;&nbsp;&nbsp; FileInfo.Attributes：获取或设置指定文件的属性，返回类型为FileAttributes枚举，可以是多个值的组合（见问题2）；<br> &nbsp;&nbsp;&nbsp; FileInfo.CreationTime、FileInfo.LastAccessTime、FileInfo.LastWriteTime：分别用于获取文件的创建时间、访问时间、修改时间；<br> &nbsp;&nbsp;&nbsp; （更多内容还请参考MSDN）<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题2：<span style="line-height:1.8;color:rgb(32,0,255);">如何获取和设置文件的属性，比如只读、存档、隐藏等；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; 使用FileInfo.Attributes属性可以获取和设置文件的属性，该属性类型为FileAttributes枚举，该枚举的每个值表示一种属性，FileAttributes枚举具有属性（Attribute）FlagsAttribute，所以该枚举的值可以进行组合，也就是一个文件可以同时拥有多个属性。下面看看具体的做法：<br> &nbsp;&nbsp;&nbsp; 获取属性，比如判断一个文件是否是只读的：<br></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;当文件具有其它属性时，这种做法会失败</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(file.Attributes&nbsp;</span>
    <span style="color:rgb(0,0,0);">==</span>
    <span style="color:rgb(0,0,0);">&nbsp;FileAttributes.ReadOnly)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chkReadonly.Checked&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">true</span>
    <span style="color:rgb(0,0,0);">;<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;这种写法就不会有问题了，它只检查只读属性</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;((file.Attributes&nbsp;</span>
    <span style="color:rgb(0,0,0);">&amp;</span>
    <span style="color:rgb(0,0,0);">&nbsp;FileAttributes.ReadOnly)&nbsp;</span>
    <span style="color:rgb(0,0,0);">==</span>
    <span style="color:rgb(0,0,0);">&nbsp;FileAttributes.ReadOnly)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chkReadonly.Checked&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">true</span>
    <span style="color:rgb(0,0,0);">;<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 设置属性，比如添加和移除一个文件的只读属性：<br></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(chkReadonly.Checked)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;添加只读属性</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.Attributes&nbsp;</span>
    <span style="color:rgb(0,0,0);">|=</span>
    <span style="color:rgb(0,0,0);">&nbsp;FileAttributes.ReadOnly;<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">else</span>
    <span style="color:rgb(0,0,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;移除只读属性</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.Attributes&nbsp;</span>
    <span style="color:rgb(0,0,0);">&amp;=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);">~</span>
    <span style="color:rgb(0,0,0);">FileAttributes.ReadOnly;<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题3：<span style="line-height:1.8;color:rgb(32,0,255);">如何获取文件的版本信息（比如版本号，版权声明，公司名称等）；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; 使用FileVersionInfo类，该类有大量的版本信息相关的属性。通过它的静态方法GetVersionInfo获得该类的一个实例，然后就可以访问指定文件的版本信息了，非常方便。如FileVersion表示文件版本号，LegalCopyright表示指定文件的版权声明，CompanyName表示指定文件的公司名称。（更多内容还请参考MSDN）</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题4：<span style="line-height:1.8;color:rgb(32,0,255);">如何判断两个文件的内容是否相同（精确匹配）；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; 使用System.security.Cryptography.HashAlgorithm类为每个文件生成一个哈希码，然后比较两个哈希码是否一致。<br> &nbsp;&nbsp;&nbsp; 在比较文件内容的时候可以采用好几种方法。例如，检查文件的某一特定部分是否一致；如果愿意，你甚至可以逐字节读取文件，逐字节进行比较。这两种方法都是可以的，但在某些情况下，还是使用哈希码算法更为方便。<br> &nbsp;&nbsp;&nbsp; 该算法为一个文件生成一个小的（通常约为20字节）二进制”指纹”（binary fingerprint）。从统计学角度看，不同的文件不可能生成相同的哈希码。事实上，即使是一个很小的改动（比如，修改了源文件中的一个bit），也会有50％的几率来改变哈希码中的每一个bit。因此，哈希码常常用于数据安全方面。<br> &nbsp;&nbsp;&nbsp; 要生成一个哈希码，你必须首先创建一个HashAlgorithm对象，而这通常是调用HashAlgorithm.Create方法来完成的；然后调用HashAlgorithm.ComputeHash方法，它会返回一个存储哈希码的字节数组。代码如下：<br></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;summary&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;判断两个文件内容是否一致<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;/summary&gt;</span>
    <span style="color:rgb(128,128,128);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">public</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">static</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">bool</span>
    <span style="color:rgb(0,0,0);">&nbsp;IsFilesEqual(</span>
    <span style="color:rgb(0,0,255);">string</span>
    <span style="color:rgb(0,0,0);">&nbsp;fileName1,&nbsp;</span>
    <span style="color:rgb(0,0,255);">string</span>
    <span style="color:rgb(0,0,0);">&nbsp;fileName2)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">using</span>
    <span style="color:rgb(0,0,0);">&nbsp;(HashAlgorithm&nbsp;hashAlg&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;HashAlgorithm.Create())<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">using</span>
    <span style="color:rgb(0,0,0);">&nbsp;(FileStream&nbsp;fs1&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">new</span>
    <span style="color:rgb(0,0,0);">&nbsp;FileStream(fileName1,&nbsp;FileMode.Open),&nbsp;fs2&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">new</span>
    <span style="color:rgb(0,0,0);">&nbsp;FileStream(fileName2,&nbsp;FileMode.Open))<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">byte</span>
    <span style="color:rgb(0,0,0);">[]&nbsp;hashBytes1&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;hashAlg.ComputeHash(fs1);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">byte</span>
    <span style="color:rgb(0,0,0);">[]&nbsp;hashBytes2&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;hashAlg.ComputeHash(fs2);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;比较哈希码</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">return</span>
    <span style="color:rgb(0,0,0);">&nbsp;(BitConverter.ToString(hashBytes1)&nbsp;</span>
    <span style="color:rgb(0,0,0);">==</span>
    <span style="color:rgb(0,0,0);">&nbsp;BitConverter.ToString(hashBytes2));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <br style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题5：<span style="line-height:1.8;color:rgb(32,0,255);">如何获取指定目录的基本信息；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：可以使用DirectoryInfo类的相关属性和方法：<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Exists：获取指定目录是否存在；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Name：获取目录的名称；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.FullName：获取目录的全限定名称（完整路径）；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Attributes：获取或设置指定目录的属性，返回类型为FileAttributes枚举，可以是多个值的组合；&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.CreationTime、FileInfo.LastAccessTime、FileInfo.LastWriteTime：分别用于获取目录的创建时间、访问时间、修改时间；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Parent：获取目录的上级目录，返回类型为DirectoryInfo；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Root：获取目录的根目录，返回类型为DirectoryInfo；<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题6：<span style="line-height:1.8;color:rgb(32,0,255);">如何获取指定目录包含的文件和子目录；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.GetFiles()：获取目录中（不包含子目录）的文件，返回类型为FileInfo[]，支持通配符查找；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.GetDirectories()：获取目录（不包含子目录）的子目录，<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 返回类型为DirectoryInfo[]，支持通配符查找；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo. GetFileSystemInfos()：获取指定目录下（不包含子目录）的文件和子目录，<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 返回类型为FileSystemInfo[]，支持通配符查找；<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题7：<span style="line-height:1.8;color:rgb(32,0,255);">如何获得指定目录的大小；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; 检查目录内的所有文件，利用FileInfo.Length属性获取每个文件的大小，然后进行合计，然后使用递归算法处理所有的子目录的文件，参考下面代码：<br></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;summary&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;计算一个目录的大小<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;/summary&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;param&nbsp;name="di"&gt;</span>
    <span style="color:rgb(0,128,0);">指定目录</span>
    <span style="color:rgb(128,128,128);">&lt;/param&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;param&nbsp;name="includeSubDir"&gt;</span>
    <span style="color:rgb(0,128,0);">是否</span>
    <span style="color:rgb(0,128,0);">包含子目录</span>
    <span style="color:rgb(128,128,128);">&lt;/param&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;returns&gt;&lt;/returns&gt;</span>
    <span style="color:rgb(128,128,128);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">private</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">long</span>
    <span style="color:rgb(0,0,0);">&nbsp;CalculateDirSize(DirectoryInfo&nbsp;di,&nbsp;</span>
    <span style="color:rgb(0,0,255);">bool</span>
    <span style="color:rgb(0,0,0);">&nbsp;includeSubDir)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">long</span>
    <span style="color:rgb(0,0,0);">&nbsp;totalSize&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,0);">0</span>
    <span style="color:rgb(0,0,0);">;<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;检查所有（直接）包含的文件</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo[]&nbsp;files&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;di.GetFiles();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">foreach</span>
    <span style="color:rgb(0,0,0);">&nbsp;(FileInfo&nbsp;file&nbsp;</span>
    <span style="color:rgb(0,0,255);">in</span>
    <span style="color:rgb(0,0,0);">&nbsp;files)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;totalSize&nbsp;</span>
    <span style="color:rgb(0,0,0);">+=</span>
    <span style="color:rgb(0,0,0);">&nbsp;file.Length;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;检查所有子目录，如果includeSubDir参数为true</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(includeSubDir)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DirectoryInfo[]&nbsp;dirs&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;di.GetDirectories();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">foreach</span>
    <span style="color:rgb(0,0,0);">&nbsp;(DirectoryInfo&nbsp;dir&nbsp;</span>
    <span style="color:rgb(0,0,255);">in</span>
    <span style="color:rgb(0,0,0);">&nbsp;dirs)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;totalSize&nbsp;</span>
    <span style="color:rgb(0,0,0);">+=</span>
    <span style="color:rgb(0,0,0);">&nbsp;CalculateDirSize(dir,&nbsp;includeSubDir);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">return</span>
    <span style="color:rgb(0,0,0);">&nbsp;totalSize;<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题8：<span style="line-height:1.8;color:rgb(32,0,255);">如何使用通配符搜索指定目录内的所有文件；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; 使用DirectoryInfo.GetFiles方法的重载版本，它可以接受一个过滤表达式，返回FileInfo数组，另外它的参数还可以指定是否对子目录进行查找。如：<br></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;dir.GetFiles("</span>
    <span style="color:rgb(0,0,0);">*</span>
    <span style="color:rgb(0,0,0);">.txt"， SearchOption.AllDirectories);</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题9：<span style="line-height:1.8;color:rgb(32,0,255);">如何复制、移动、重命名、删除文件和目录；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：使用FileInfo和DirectoryInfo类。<br> &nbsp;&nbsp;&nbsp; 下面是FileInfo类的相关方法：<br> &nbsp;&nbsp;&nbsp; FileInfo.CopyTo：将现有文件复制到新文件，其重载版本还允许覆盖已存在文件；<br> &nbsp;&nbsp;&nbsp; FileInfo.MoveTo：将指定文件移到新位置，并提供指定新文件名的选项，所以可以用来重命名文件（而不改变位置）；&nbsp;&nbsp;&nbsp; FileInfo.Delete：永久删除文件，如果文件不存在，则不执行任何操作；<br> &nbsp;&nbsp;&nbsp; FileInfo.Replace：使用当前FileInfo对象对应文件的内容替换目标文件，而且指定另一个文件名作为被替换文件的备份，微软考虑实在周到。</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 下面是DirectoryInfo类的相关方法：<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Create：创建指定目录，如果指定路径中有多级目录不存在，该方法会一一创建；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.CreateSubdirectory：创建当前对象对应的目录的子目录；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.MoveTo：将目录（及其包含的内容）移动至一个新的目录，也可用来重命名目录；<br> &nbsp;&nbsp;&nbsp; DirectoryInfo.Delete：删除目录（如果它存在的话）。如果要删除一个包含子目录的目录，要使用它的重载版本，以指定递归删除。<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 注意到了没有？DirectoryInfo类少了一个CopyTo方法，不过我们可以通过递归来实现这个功能：<br></p> 
   <div style="color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;border:1px solid rgb(204,204,204);font-size:13px;"> 
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;summary&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;复制目录到目标目录<br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;/summary&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;param&nbsp;name="source"&gt;</span>
    <span style="color:rgb(0,128,0);">源目录</span>
    <span style="color:rgb(128,128,128);">&lt;/param&gt;</span>
    <span style="color:rgb(0,128,0);"><br> &nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(128,128,128);">///</span>
    <span style="color:rgb(0,128,0);">&nbsp;</span>
    <span style="color:rgb(128,128,128);">&lt;param&nbsp;name="destination"&gt;</span>
    <span style="color:rgb(0,128,0);">目标目录</span>
    <span style="color:rgb(128,128,128);">&lt;/param&gt;</span>
    <span style="color:rgb(128,128,128);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">public</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">static</span>
    <span style="color:rgb(0,0,0);">&nbsp;</span>
    <span style="color:rgb(0,0,255);">void</span>
    <span style="color:rgb(0,0,0);">&nbsp;CopyDirectory(DirectoryInfo&nbsp;source,&nbsp;DirectoryInfo&nbsp;destination)<br> &nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;如果两个目录相同，则无须复制</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(destination.FullName.Equals(source.FullName))<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">return</span>
    <span style="color:rgb(0,0,0);">;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;如果目标目录不存在，创建它</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">if</span>
    <span style="color:rgb(0,0,0);">&nbsp;(</span>
    <span style="color:rgb(0,0,0);">!</span>
    <span style="color:rgb(0,0,0);">destination.Exists)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destination.Create();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;复制所有文件</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo[]&nbsp;files&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;source.GetFiles();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">foreach</span>
    <span style="color:rgb(0,0,0);">&nbsp;(FileInfo&nbsp;file&nbsp;</span>
    <span style="color:rgb(0,0,255);">in</span>
    <span style="color:rgb(0,0,0);">&nbsp;files)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;将文件复制到目标目录</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.CopyTo(Path.Combine(destination.FullName,&nbsp;file.Name),&nbsp;</span>
    <span style="color:rgb(0,0,255);">true</span>
    <span style="color:rgb(0,0,0);">);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;处理子目录</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DirectoryInfo[]&nbsp;dirs&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;source.GetDirectories();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">foreach</span>
    <span style="color:rgb(0,0,0);">&nbsp;(DirectoryInfo&nbsp;dir&nbsp;</span>
    <span style="color:rgb(0,0,255);">in</span>
    <span style="color:rgb(0,0,0);">&nbsp;dirs)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,0,255);">string</span>
    <span style="color:rgb(0,0,0);">&nbsp;destinationDir&nbsp;</span>
    <span style="color:rgb(0,0,0);">=</span>
    <span style="color:rgb(0,0,0);">&nbsp;Path.Combine(destination.FullName,&nbsp;dir.Name);<br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <span style="color:rgb(0,128,0);">//</span>
    <span style="color:rgb(0,128,0);">&nbsp;递归处理子目录</span>
    <span style="color:rgb(0,128,0);"><br></span>
    <span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CopyDirectory(dir,&nbsp;</span>
    <span style="color:rgb(0,0,255);">new</span>
    <span style="color:rgb(0,0,0);">&nbsp;DirectoryInfo(destinationDir));<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;&nbsp;&nbsp;}</span> 
   </div> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题10：<span style="line-height:1.8;color:rgb(32,0,255);">如何获得计算机的所有逻辑驱动器；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：使用DriveInfo类（需要.NET 2.0）<br> &nbsp;&nbsp;&nbsp; DriveInfo.GetDrives()：获得计算机的所有逻辑驱动器，返回类型为DriveInfo[]；&nbsp;&nbsp;<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 问题11：<span style="line-height:1.8;color:rgb(32,0,255);">如何获取指定驱动器的信息；</span><br> &nbsp;&nbsp;&nbsp; 解决方案：<br> &nbsp;&nbsp;&nbsp; DriveInfo.Name：获取驱动器的名称（如C:\）；<br> &nbsp;&nbsp;&nbsp; DriveInfo.DriveType：获取驱动器的类型（如Fixed，CDRom，Removable，Network等）；<br> &nbsp;&nbsp;&nbsp; DriveInfo.DriveFormat：获取驱动器的格式（如NTFS，FAT32，CDFS，UDF等）；<br> &nbsp;&nbsp;&nbsp; DriveInfo.IsReady：获取驱动器是否已准备好，比如CD是否已放入CD驱动器，如果驱动器没有准备好，访问其信息会引发IOException类型异常；<br> &nbsp;&nbsp;&nbsp; DriveInfo.AvailableFreeSpace：获取驱动器的可用空间；<br> &nbsp;&nbsp;&nbsp; DriveInfo.TotalFreeSpace：获取驱动器总的可用空间，它与AvailableFreeSpace的不同在于AvailableFreeSpace会磁盘配额的设置；<br> &nbsp;&nbsp;&nbsp; DriveInfo.TotalSize：获取驱动器总的空间；<br> &nbsp;&nbsp;&nbsp; DriveInfo.RootDirectory：获得驱动器的根目录（DirectoryInfo类型）；</p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp; 至此，我们已经了解了文件和目录相关的一些基本操作。但还不清楚如何去读写文件的内容，下一篇中会详细了解这方面的操作。&nbsp;&nbsp;<br></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;color:rgb(32,0,255);">Anders Cui</span></p> 
   <p style="line-height:1.8;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;"><span style="line-height:1.8;color:rgb(32,0,255);">&nbsp;&nbsp;&nbsp;<span style="line-height:1.8;color:rgb(8,0,0);">&nbsp;参考:<br></span></span></p> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
    <li style="background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;list-style-type:disc;"><span style="color:rgb(32,0,255);"><span style="color:rgb(8,0,0);">Apress-Visual C# 2005 Recipes A Problem Solution Approach</span></span></li> 
    <li style="background-image:url(&quot;images/icon_miniarrow.gif&quot;);background-position:0px 9px;background-repeat:no-repeat;list-style-type:disc;"><span style="color:rgb(32,0,255);"><span style="color:rgb(8,0,0);">还有不可缺少的MSDN</span></span></li> 
   </ul>
   <div>
    <font color="#080000"><span style="font-size:14px;"><br></span></font>
   </div> 
   <div>
    <font color="#080000"><span style="font-size:14px;">本文转自一个程序员的自省博客园博客，原文链接：http://www.cnblogs.com/anderslly/archive/2006/12/27/filedirectory.html，如需转载请自行联系原作者。</span><br></font>
   </div> 
   <ul style="list-style:none;color:rgb(51,51,51);font-family:Georgia, 'Times New Roman', Times, sans-serif;font-size:14px;">
    <li></li>
   </ul>
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
