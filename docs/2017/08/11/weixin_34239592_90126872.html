<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Oracle学习笔记 « NotBeCN</title>
  <meta name="description" content="                  一、卸载Oracle步骤如果卸不好就不能安新版本 ------------------------------ 1、停止所有Oracle服务 2、运行Oracle Universal Installer卸载Oracle 3、修改注册表、删除Oracle相关信息 &nbsp;　　...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/08/11/weixin_34239592_90126872.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Oracle学习笔记</h1>
    <p class="post-meta">Aug 11, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <div class="blogpost-body"> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>一、卸载Oracle步骤</strong>如果卸不好就不能安新版本<br> ------------------------------<br> 1、停止所有Oracle服务<br> 2、运行Oracle Universal Installer卸载Oracle<br> 3、修改注册表、删除Oracle相关信息<br> &nbsp;　　　　+ Oracle软件有关键值<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　HKEY_LOCAL_MACHINE\SOFTWARE\Oracle</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　　　+ Oracle服务<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services 目录下的Oracle相关信息</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;　　　　+ Oracle 事件日志&nbsp;&nbsp;&nbsp;&nbsp;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\EventLog\Application 目录下的Oracle相关信息</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　4、删除Oracle系统目录 (eg:c:\program files\oracle)<br> 5、删除Oracle环境变量<br> 6、删除程序菜单项中的Oracle菜单<br> 7、(重启系统后)删除Oracle工作主目录D:\Oracle</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>二、SQL语句分类</strong><br> ------------------------------<br> 1、Select查询语句<br> 2、DML语句数据操作语言----Data Manipuoation language<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　　　Insert、Update、Delete、Merge(表合并)<br> 3、DDL语句数据定义语言<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　　　Crete、Alter、Drop、Truncate(截断)<br> 4、DCL语句数据控制语言<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　　　Grant、Revoke<br> 5、事务控制语句<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　　　Commit、Rollback、Savepoint</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><strong>三、基础语法</strong><br> ------------------------------<br> 1、连接字符串&nbsp;----------------- ||<br> 2、字段别名&nbsp;----------------- as 如果别名中有空格或大小写别名要加双引号<br> 3、空值&nbsp;&nbsp;不是0也不是空格<br> 4、去除重复行&nbsp;distinct<br> 5、排序&nbsp;&nbsp;order by<br> 6、条件查询&nbsp;where<br> 7、比较运算符&nbsp;&lt;,&gt;...<br> 8、模糊查询&nbsp;Like(_ 一个字符% 多个字符)<br> 9、空值判断&nbsp;is null<br> 10、逻辑运算符&nbsp;NOT,AND,OR<br> 11、oracle不区分大小写但字符串中的区分大小写<br> &nbsp;&nbsp;&nbsp;&nbsp; 12、case表达式:<br> &nbsp;　　　　语法<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　case&nbsp; exp&nbsp; when&nbsp;&nbsp; compare_exp1&nbsp; then&nbsp; return_exp1&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　&nbsp; [when&nbsp;&nbsp; compare_exp2&nbsp; then&nbsp; return_exp2<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　&nbsp;&nbsp; when&nbsp;&nbsp; compare_expn then&nbsp; return_expn<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　else&nbsp; else_exp]<br> &nbsp;　　　　eg:<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　select empno,ename,sal,<br> &nbsp;&nbsp;　　　　　　　　case&nbsp; deptno&nbsp;&nbsp; when&nbsp; 10 then&nbsp; '财务部'<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　　　&nbsp; when&nbsp; 20&nbsp; then&nbsp; '研发部'<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　　　&nbsp; when&nbsp; 30&nbsp; then&nbsp; '销售部'<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　　　&nbsp; else&nbsp; '未知部门'<br> &nbsp;&nbsp;　　　　　　　　end&nbsp;&nbsp; 部门<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　 from&nbsp; emp<br> 13、DECODE()函数<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　---和case表达式类似decode()函数也用于实现多路分支结构<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　语法<br> &nbsp;　　　　　　decode(col_name,search1,result1<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　&nbsp; [,search2,result2...]<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　　　　　　　 　　&nbsp; [,default]<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　eg:<br> &nbsp;　　　　　　select&nbsp; empno,ename,sal,<br> &nbsp;&nbsp;　　　　　　　　　　decode(deptno,10,'财务部',<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　　　　　 20,'研发部',<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　　　　　 30,'销售部',<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　　　　　　　　　'未知部门')<br> &nbsp;&nbsp;　　　　　　　　　　部门<br> &nbsp;　　　　　　from emp;<br><strong>四、函数</strong><br> ------------------------------</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">函数嵌套<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 单行函数可以嵌套使用嵌套层次无限制<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 嵌套函数的执行顺序是由内到外</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">分类<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 单行函数<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 多行函数<br> &nbsp;分组函数最多可以嵌套两层</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><br><strong>五、连接与子查询</strong><br> ------------------------------<br> &nbsp;　　1、如果子查询没有返回结果主查询也不会返回任何结果<br> &nbsp;　　2、如果子查询返回单行结果则为单行子查询可以在主查询中对其使用相应的单行记录比较运算符<br> &nbsp;　　3、如果子查询返回多行结果则为多行子查询此时不允许对其使用单行记录比较运算符只能用INANYALL</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　4、TopN查询<br> &nbsp;　　　　在ORACLE中通常采子查询的方式来实现TopN查询<br> 语法格式<br> SELECT 字段列表<br> FROM&nbsp; (SELECT 字段列表 FROMtable ORDER BY 排序字段<br> WHERE rownum &lt;= n</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>六、DML与事务控制</strong><br> ----------------------------------------<br> 1、Insert语句<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　-----可以在insert语句中使用子查询实现表间数据拷贝:<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　INSERT INTO dept1(id,name)&nbsp; SELECT deptno,dname&nbsp; FROM dept</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　2、Merge语句<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　---该语句用于进行数据合并根据条件在表中执行数据的修改或插入操作如果要插入的记录在目标表中已经存在则执行更新操作、否则执行插入操作。</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp; 　　---语法<br> &nbsp;　　　　MERGE INTO&nbsp; tablename [alias]<br> &nbsp;　　　　USING&nbsp; (table | view | sub_query) [alias]<br> &nbsp;　　　　ON (join_condition)<br> &nbsp;　　　　WHEN&nbsp; matched THEN<br> &nbsp;&nbsp;　　　　UPDATE SET col1 = col1_val,col2=col2_val<br> &nbsp;　　　　WHEN not&nbsp; matched THEN<br> &nbsp;&nbsp;　　　　INSERT (column_list) VALUES (column_val)<br> 3、事务控制<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　1、组成单个逻辑工作单元的一系列操作被称为事务。<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　2、数据库事务组成<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　---0~多条DML语句<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　---1条DDLData Define Language语句<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　---1条DCLData Control Language语句<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4、事务特性(ACID)</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　&nbsp;&nbsp; 原子性Atornicity<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;一致性Consistency<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 隔离性Isolation<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 持久性Durability<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5、事务的开始和结束<br> &nbsp;　　　　&nbsp;&nbsp; 事务开始于第一条可执行语句<br> &nbsp;　　　　&nbsp;&nbsp; 事务结束<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　&nbsp;&nbsp; 遇到commit 或rollback语句<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　&nbsp;&nbsp; 遇到DDL 或DCL语句<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　&nbsp;&nbsp; 用户会话结束<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　&nbsp;&nbsp; 系统崩溃<br> &nbsp;　　　　&nbsp;&nbsp; 事务的提交和回滚<br> &nbsp;&nbsp;&nbsp; 　　　　&nbsp;&nbsp; 显式的提交和回滚操作是为了更好的保证数据的一致性<br> &nbsp;&nbsp;&nbsp; 　　　　&nbsp;&nbsp; 下述情况下事务会被自动提交:</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　&nbsp;&nbsp; 执行一个DDL语句<br> &nbsp;&nbsp; 执行一个DCL语句<br> &nbsp;&nbsp; 正常结束会话<br> &nbsp;&nbsp; 会话异常终止/系统崩溃时事务被自动回滚<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6、提交/回滚前数据状态<br> &nbsp;　　　　&nbsp;&nbsp; 当前事务中数据状态的改变是可以恢复的<br> &nbsp;　　　　&nbsp;&nbsp; 当前事务中的DML操作结果只对当前用户会话可见其它用户会话看不到当前事务中数据状态的改变直到当前事务结束。<br> &nbsp;　　　　&nbsp;&nbsp; 当前事务中DML语句所涉及到的行被锁定其它用户会话不能对其进行修改操作。<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7、事务提交后数据状态<br> &nbsp;　　　　&nbsp;&nbsp; 数据的修改永久生效不可再撤消<br> &nbsp;　　　　&nbsp;&nbsp; 数据以前的状态永久丢失无法恢复<br> &nbsp;　　　　&nbsp;&nbsp; 所有的用户会话都将看到操作后的结果<br> &nbsp;　　　　&nbsp;&nbsp; 记录锁被释放其它用户可对这些进行修改操作<br> &nbsp;　　　　&nbsp;&nbsp; 事务中的保存点savepoints被清除<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8、事务回滚后数据状态<br> &nbsp;　　　　&nbsp;&nbsp; 数据的修改被撤消<br> &nbsp;　　　　&nbsp;&nbsp; 数据恢复到修改前的状态<br> &nbsp;　　　　　记录锁被释放<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9、保存点<br> ---通过保存点在当前的事务中创建标记将来可回退到指定的标记保存点处实现事务的部分回滚。<br> ---用法举例<br> &nbsp;　　　　　　insert into dept values (22,'adf','BeiJing');<br> &nbsp;insert into dept values (23,'fda','Shanghai');<br> &nbsp;　　　　　　<span style="line-height:1.8;color:rgb(255,0,0);">savepoint</span>&nbsp;p1;<br> &nbsp;　　　　　　insert into dept values (24,'gdf','Tianjing');<br> &nbsp;---<br> &nbsp;select * from dept;<br> &nbsp;　　　　　　<span style="line-height:1.8;color:rgb(255,0,0);">rollback</span>&nbsp;to p1;<br> &nbsp;　　　　　　select * from dept;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">&nbsp;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"><strong>七、DDL与数据库对象</strong><br> ----------------------------------------------<br> 1、常用数据库对象<br> &nbsp;&nbsp; 　　　　表约束条件视图索引序列同义词<br> 2、可以使用子查询创建一个表<br> &nbsp;　　语法<br> &nbsp;　　　　create table tablename(col1,col2...) as subquery;<br> 3、修改表结构----使用alter table语句<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 添加字段&nbsp;alter table tablename&nbsp; add(column datatype [default expr])<br> &nbsp;　　　　&nbsp;&nbsp;&nbsp; 修改字段&nbsp; alter table tablename modify(column datatype [default expr]),不能修改字段名只可以修改类型精度<br> &nbsp;　　　　　 删除字段&nbsp; alter table tablename drop(column)<br> 4、清空表中数据-----truncate table tablenameDDL语句表结构还在<br> &nbsp;　　　　清除表中所有记录<br> &nbsp;　　　　释放表的存储空间<br> 5、删除表-----DropDDL语句<br> &nbsp;　　　　表中所有数据被删除<br> &nbsp;　　　　此前未完成的事务将被提交<br> &nbsp;　　　　所有相关的索引被删除<br> 6、重命名表-----renameDDL语句<br> &nbsp;　　　　也可以修改其它数据库对象视图序列。。。的名称<br> &nbsp;　　　　执行重命名操作的必须是对象的所有者<br> &nbsp;　　eg<br> &nbsp;&nbsp;&nbsp; 　　rename&nbsp; old_name&nbsp; to new_name<br> 7、Oracle数据库中的表<br> &nbsp;　　　　1、用户定义的表<br> &nbsp;　　　　2、数据字典表表或视图只读<br> 8、约束<br> &nbsp;　　　　1、not null(非空)只能在字段级别定义<br> &nbsp; 　　　　egcreate table student(<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　 sid number(3) not null,--系统自动命名以SYS_cn开头&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　name varchar2(20),<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　birth date constraint student_birth_nn(约束名) not null&nbsp;&nbsp; --自定义约束名<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　);<br> &nbsp;　　　　2、unique (唯一性约束<br> &nbsp;　　　　egcreate table student(<br> &nbsp;&nbsp;　　　　　　sid number(3) unique,&nbsp;--字段级别<br> &nbsp;&nbsp;　　　　　　name varchar(20)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　);<br> &nbsp;　　　　or<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　create table student(<br> &nbsp;&nbsp;　　　　　　sid number(3) ,<br> &nbsp;&nbsp;　　　　　　name varchar(20)<br> &nbsp;&nbsp;　　　　　　constraint student_sid_un unique(sid)&nbsp;--表级<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　);<br> &nbsp;　　　　3、primary key(主键<br> &nbsp;　　　&nbsp; egcreate table student(<br> &nbsp;&nbsp;　　　　&nbsp;&nbsp; sid number(3) primary key&nbsp;--字段级别<br> &nbsp;&nbsp;　　　　　name varchar(20)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　);<br> &nbsp;or<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　create table student(<br> &nbsp;&nbsp;　　　　sid number(3) ,<br> &nbsp;&nbsp;　　　　name varchar(20)<br> &nbsp;&nbsp;　　　　constraint student_sid_pk primary key(sid)&nbsp;&nbsp;&nbsp;&nbsp; --表级<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　);<br> &nbsp;　　　　4、foreigh key外键<br> &nbsp;　　　　egcreate table student(<br> &nbsp;&nbsp;　　　　　　sid number(3)&nbsp; references&nbsp; tablename(id)&nbsp;- 字段级<br> &nbsp;&nbsp;　　　　　　name varchar(20)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　);<br> &nbsp;　　　　or<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　create table student(<br> &nbsp;&nbsp;　　　　　　sid number(3) ,<br> &nbsp;&nbsp;　　　　　　name varchar(20)<br> &nbsp;&nbsp;　　　　　　constraint student_sid_pk foreign key(sid) references　tablename(id)&nbsp;&nbsp;&nbsp;&nbsp; --表级<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　);<br> &nbsp;&nbsp;<br> 5、check&nbsp; (检查)只能在字段级别定义<br> 9、建表后添加约束语法<br> &nbsp;alter table tablename add con_name primary key(id) | check ...<br> &nbsp;　　　　注非空约束必须使用modify子句添加<br> &nbsp;　　　　egalter table tablename modify (name&nbsp; not null)<br> 10、删除约束语法<br> &nbsp;　　　　alter table tablename drop constraint con_name;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 删除主键的另一种方式<br> &nbsp;　　　　alter table tablen 时如果还存在与该约束相关联的其它约束则删除操作会失败此时可使用cascade子句将其它关联的约束一并删除。<br> &nbsp;　　语法<br> &nbsp;&nbsp;&nbsp;&nbsp;　　 alter table tablename drop constraint con_name [cascade]<br> 11、在删除表中字段时如果该字段处于多字段联合约束条件联合主键联合唯一键存在参照当前字段的外键中则删除失败此时可使用　cascade constraints子句将与该字段相关的约束一并删除。<br> &nbsp;　　　　语法<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　alter table tablename drop [column [...column]]&nbsp; cascade constraints;<br> &nbsp;　　　　create table student(<br> &nbsp;&nbsp;　　　　student_id number(5),<br> &nbsp;&nbsp;　　　　subject_id&nbsp; varchar(20),<br> &nbsp;&nbsp;　　　　record number(3),<br> &nbsp;&nbsp;　　　　constraint&nbsp; record_stuID_subId_pk primary key(student_id,subject_id)&nbsp;&nbsp;<br> );<br> &nbsp;　　删除student_id:<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　alter table student drop student_id cascade constraints;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　12、禁用约束<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　1、在alter table语句中还可以使用disable constraints子句禁用已有约束<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　2、也可以使用cascade选项将相关联的约束也一并禁用<br> 语法<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　alter table tablename disable constraint constraint_name [cascade]<br> 启用约束语法<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　alter table tablename cnable consrraint constraint_name;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　13、视图<br> &nbsp;&nbsp; 　　1、创建视图语法<br> &nbsp;　　　　create [or replace] view&nbsp; view_name [col_name1,col_name2...]&nbsp;as subquery;<br> &nbsp;&nbsp; 　　2、删除视图语法<br> &nbsp;　　　　drop view view_name;<br> &nbsp;&nbsp; 　　3、强制创建视图<br> &nbsp;　　　　可使用force选项强制创建视图不管表是否存在默认为noforce。<br> &nbsp;　　　　create [or replace]&nbsp; [force] [noforce] view view_name as subquery;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　 create or replace force view view_name&nbsp;as select * from tab_name;&nbsp;--假定tab_name现在不存在<br> &nbsp;&nbsp; 　　4、更新视图<br> &nbsp;　　　　1、在可更新的社图上进行DML操作可以修改其基表中数据<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　可更新视图的定义中不能使用分组函数、group by子句、distinct关键字、rownum伪列字段的定义不能为表达式。。。<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　由两个经上基表中导出的视图不可更新<br> &nbsp;　　　　　 基表中非空的列在视图定义中未包括则不可在视图上进行insert操作。。。<br> &nbsp;　　　　2、在视图上进行DML操作语法与在表上操作相同<br> &nbsp; 　　　&nbsp; 3、创建只读视图语法其不允许任何修改<br> &nbsp;　　　　　　create or replace [force] [noforce] view view_name&nbsp;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　　　　　 as subquery<br> &nbsp;　　　　　　[with read only];<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eg:<br> &nbsp;　　　　　　　　create or replace force view myview<br> &nbsp;　　　　　　　　as select * from tab_name<br> &nbsp;　　　　　　　　with read only;</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　14、索引<br> &nbsp;&nbsp;&nbsp; 　　1、什么是索引(Index)?<br> &nbsp;　　　　　　--一种用于提高查询效率的数据库对象<br> &nbsp;　　　　　　--通过快速定位数据的方法减少磁盘I/O操作<br> &nbsp;　　　　　　--索引信息与表独立存入<br> &nbsp;　　　　　　--Oracle数据库自动使用和维护索引<br> &nbsp;&nbsp;&nbsp; 　　2、分类<br> &nbsp;　　　　　　唯一索引<br> &nbsp;　　　　　　非唯一索引<br> &nbsp;&nbsp;&nbsp; 　　3、创建索引的两种方式<br> &nbsp;　　　　　　自动创建在定义主键或唯一键约束时系统会自动在相应的字段上创建唯一性索引<br> &nbsp;　　　　　　手动创建用户可以在其它列上创建非唯一的索引以加速查询<br> &nbsp;&nbsp;&nbsp; 　　　　　　语法<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　　　　　create index idx_name on table_name(column_name)<br> &nbsp;&nbsp;&nbsp; 　　　　　　eg: create index myindex on test(ename)<br> &nbsp;&nbsp;&nbsp; 　　4、删除索引<br> &nbsp;　　　　　　drop index&nbsp; index_name<br> &nbsp;&nbsp;&nbsp; 　&nbsp;&nbsp; 5、基于函数的索引<br> &nbsp;　　　　　　基于表达式的索引被统称为基于函数的索引——索引表达式由表中的字段、常量、SQL函数和自定义函数构建而成。<br> &nbsp;　　　　语法<br> &nbsp;&nbsp;　　　　create index index_name on table (function(column));<br> &nbsp;　　eg:<br> &nbsp;&nbsp;　　　　create index myindex on table_name(lower(ename));<br> &nbsp;　　　使用索引函数<br> &nbsp;&nbsp;　　　　select * from emp where lower(ename) = 'king';<br> 15、序列<br> &nbsp;&nbsp;&nbsp;&nbsp; 　　1、什么是序列sequence<br> &nbsp;　　　　　　--系统自动生成的、不重复的整数值<br> &nbsp;　　　　　　--序列是一种数据库对象可以被多个用户共享<br> &nbsp;　　　　　　--典型用途是做为主键值它对于每一行必须是唯一的<br> &nbsp;　　　　　　--序列可以代替应用程序编号<br> &nbsp;　　　　　　--可以对序列值进行缓冲存储以提高访问效率<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　2、创建序列<br> &nbsp;　　　　　　create sequence seq_name<br> &nbsp;　　　　　　[increment by n]<br> &nbsp;[start with n]<br> &nbsp;[{maxvalue n | nomaxvalue }]<br> &nbsp;[{mmvalue n | nommvalue}]<br> &nbsp;[{cycle | nocycle}]<br> &nbsp;[{cache n | nocache}]<br> &nbsp;[{order | noorder}]<br> &nbsp;<br> &nbsp;　　eg:<br> &nbsp;&nbsp;　　　　create sequence mysequence 1<br> &nbsp;&nbsp;　　　　increment by 1<br> &nbsp;&nbsp;　　　　start with 1<br> &nbsp;&nbsp;　　　　nomaxvalue nocycle;<br> &nbsp;　　等价于如下<br> &nbsp;&nbsp;　　　　create sqeuence mysequence2;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　3、使用序列<br> &nbsp;　　　　nextval/currval伪列<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　nextval伪列用于从指定的序列数值中取出下一个值<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　currval伪列引用的是指定序列的“当前值”<br> &nbsp;　　语法格式<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　select mysequence1.currval from dual;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　select mysequence1.nextval from dual;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　insert into test1 values(mysequence1.nextval,'Tom')<br> &nbsp;　　说明<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　 使用缓存cache n可提高访问效率<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　序列在下列情况下可能出现不连续的情况<br> &nbsp;&nbsp;　　　　　　回滚<br> &nbsp;&nbsp;　　　　　　系统异常<br> &nbsp;&nbsp;　　　　　　多个表同时使用同一序列<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　使用nocache和noorder设置会降低运行效率<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4、修改序列<br> &nbsp;　　　　　　alter sequence seq_name<br> &nbsp;　　　　　　[increment by n]<br> &nbsp;　　　　　　[{maxvalue n | nomaxvalue }]<br> &nbsp;[{mmvalue n | nommvalue}]<br> &nbsp;[{cycle | nocycle}]<br> &nbsp;[{cache n | nocache}]<br> &nbsp;[{order | noorder}]<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5、删除序列<br> &nbsp;　　　　　　drop sequence seq_name</p> 
    <p style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">　　15、同义词——给现有的数据库对象起个别名<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　 1、同义词相当于对象的别名使用同义词可以:<br> &nbsp;　　　　　　方便访问其它用户的对象<br> &nbsp;　　　　　　缩短对象名字的长度<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　2、创建同义词<br> &nbsp;　　　　　　create&nbsp; [public]&nbsp;&nbsp; synonym&nbsp;&nbsp; syn_name&nbsp; for object<br> &nbsp;　　　　eg:<br> &nbsp;&nbsp;&nbsp; 　　　　　　create synonym gt1 for emp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　3、使用同义词<br> &nbsp;　　　　　　select * from gt1;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　4、删除同义词<br> &nbsp;　　　　　　drop synonym gt1;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;</p> 
    <div> 
     <font color="#333333"><span style="font-size:14px;">本文转自贺满博客园博客原文链接http://www.cnblogs.com/puresoul/archive/2010/07/15/1775910.html</span></font>
     <span style="font-size:14px;color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;">如需转载请自行联系原作者。</span> 
    </div> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
    <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;">
     <br>
    </div> 
   </div> 
   <div style="color:rgb(51,51,51);font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;"> 
    <div></div> 
   </div> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
