<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>四种排序算法 « NotBeCN</title>
  <meta name="description" content="             源码下载：http://www.tracefact.net/SourceCode/SimpleSort.rar    四种简单的排序算法    我 觉得如果想成为一名优秀的开发者，不仅要积极学习时下流行的新技术，比如WCF、Asp.Net MVC、AJAX等，熟练应用一些已经比较成熟的技...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://notbe.cn/2017/08/14/weixin_34352449_90122480.html">
  <link rel="alternate" type="application/rss+xml" title="NotBeCN" href="https://notbe.cn/feed.xml" />
</head>


  <body>

    <div class="header-placeholder"></div>
<header class="header">
  <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    <a class="site-title" href="/">NotBeCN</a>
    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/" target="_blank">关于</a>
      
        
        <a class="page-link" href="https://uzshare.com" target="_blank">社区</a>
      
        
        <a class="page-link" href="/donate/" target="_blank">Donate</a>
      
        
        <a class="page-link" href="/games/shejiyazi/" target="_blank">射个鸭子</a>
      
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">四种排序算法</h1>
    <p class="post-meta">Aug 14, 2017</p>
  </header>

  <article class="post-content">
    <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="content-detail markdown-body"> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">源码下载：<a href="http://www.tracefact.net/SourceCode/SimpleSort.rar" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">http://www.tracefact.net/SourceCode/SimpleSort.rar</a></p> 
   <h1 style="font-size:28px;line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">四种简单的排序算法</h1> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">我 觉得如果想成为一名优秀的开发者，不仅要积极学习时下流行的新技术，比如WCF、Asp.Net MVC、AJAX等，熟练应用一些已经比较成熟的技术，比如Asp.Net、WinForm。还应该有着牢固的计算机基础知识，比如数据结构、操作系统、 编译原理、网络与数据通信等。有的朋友可能觉得这方面的东西过于艰深和理论化，望而却步，但我觉得假日里花上一个下午的时间，研究一种算法或者一种数据结 构，然后写写心得，难道不是一件乐事么？所以，我打算将一些常见的数据结构和算法总结一下，不一定要集中一段时间花费很大精力，只是在比较空闲的时间用一 种很放松的心态去完成。我最不愿意的，就是将写博客或者是学习技术变为一项工作或者负担，应该将它们视为生活中的一种消遣。人们总是说坚持不易，实际上当 你提到“坚持”两个字之时，说明你已经将这件事视为了一种痛苦，你的内心深处并不愿意做这件事，所以才需要坚持。你从不曾听人说“我坚持玩了十年的电子游 戏”，或者“坚持看了十年动漫、电影”、“坚持和心爱的女友相处了十年”吧？我从来不曾坚持，因为我将其视为一个爱好和消遣，就像许多人玩网络游戏一样。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">好了，闲话就说这么多吧，我们回到正题。因为这方面的著作很多，所以这里只给出简单的描述和实现，供我本人及感兴趣的朋友参考。我会尽量用C#和C++两种语言实现，对于一些不好用C#表达的结构，仅用C++实现。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">本文将描述四种最简单的排序方法，插入排序、泡沫排序、选择排序、希尔排序，我在这里将其称为“简单排序”，是因为它们相对于快速排序、归并排序、堆排序、分配排序、基数排序从理解和算法上要简单一些。对于后面这几种排序，我将其称为“高级排序”。</p> 
   <h2 style="font-size:21px;line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">简单排序</h2> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">开始之前先声明一个约定，对于数组中保存的数据，统一称为<strong>记录</strong>，以避免和“元素”，“对象”等名称相混淆。对于一个记录，用于排序的码，称为<strong>关键码</strong>。 很显然，关键码的选择与数组中记录的类型密切相关，如果记录为int值，则关键码就是本身；如果记录是自定义对象，它很可能包含了多个字段，那么选定这些 字段之一为关键码。凡是有关排序和查找的算法，就会关系到两个记录比较大小，而如何决定两个对象的大小，应该由算法程序的客户端（客户对象）决定。对 于.NET来说，我们可以创建一个实现了IComparer&lt;T&gt;的类（对于C++也是类似）。关于IComparer&lt;T&gt;的 更多信息，可以参考这篇文章《<a href="http://www.tracefact.net/Software-Design/Sorting-Based-on-business-Object.aspx" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">基于业务对象的排序</a>》。最后，为了使程序简单，对于数组为空的情况我并没有做处理。</p> 
   <h3 style="font-size:16px;color:rgb(102,102,102);background-image:none;background-repeat:no-repeat;font-family:Verdana;line-height:1.5;">1.插入排序</h3> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法思想</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">插 入排序使用了两层嵌套循环，逐个处理待排序的记录。每个记录与前面已经排好序的记录序列进行比较，并将其插入到合适的位置。假设数组长度为n，外层循环控 制变量i由1至n-1依次递进，用于选择当前处理哪条记录；里层循环控制变量j，初始值为i，并由i至1递减，与上一记录进行对比，决定将该元素插入到哪 一个位置。这里的关键思想是，<strong>当处理第i条记录时，前面i-1条记录已经是有序的了。</strong>需要注意的是，因为是将当前记录与相邻的上一记录相比较，所以循环控制变量的起始值为1（数组下标），如果为0的话，上一记录为-1，则数组越界。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">现在我们考察一下第i条记录的处理情况：假设外层循环递进到第i条记录，设其关键码的值为X，那么此时有可能有两种情况：</p> 
   <ol style="color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">
    <li style="list-style-type:decimal;">如果上一记录比X大，那么就交换它们，直到上一记录的关键码比X小或者相等为止。</li> 
    <li style="list-style-type:decimal;">如果上一记录比X小或者相等，那么之前的所有记录一定是有序的，且都比X小，此时退出里层循环。外层循环向前递进，处理下一条记录。</li> 
   </ol>
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">class</span>&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">SortAlgorithm</span>&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">// 插入排序<br></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;InsertSort&lt;T, C&gt;(T[] array, C comparer)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; where C:IComparer&lt;T&gt;<br> &nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;i = 1; i &lt;= array.Length - 1; i++) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">"{0}: "</span>, i);<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;j = i;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">while</span>&nbsp;(j&gt;=1 &amp;&amp; comparer.Compare(array[j], array[j - 1]) &lt; 0) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[j],&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[j-1]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j--;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.WriteLine();<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//AlgorithmHelper.PrintArray(array);<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br><br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">// 交换数组array中第i个元素和第j个元素<br></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">private</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;swap&lt;T&gt;(<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;T x,<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;T y) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">"{0}&lt;--&gt;{1} "</span>, x, y);<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; T temp = x;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x = y;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y = temp;<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">上 面Console.WriteLine()方法和AlgorithmHelper.PrintArray()方法仅仅是出于测试方 便，PrintArray()方法依次打印了数组的内容。swap&lt;T&gt;()方法则用于交换数组中的两条记录，也对交换数进行了打印（这里我 注释掉了，但在测试时可以取消对它们的注释）。外层for循环控制变量i表示当前处理第i条记录。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">class</span>&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">AlgorithmHelper</span>&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">// 打印数组内容<br></span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;PrintArray&lt;T&gt;(T[] array) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">"&nbsp;&nbsp; Array:"</span>);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">foreach</span>&nbsp;(T item<span style="line-height:1.5;color:rgb(0,0,255);">&nbsp;in</span>&nbsp;array) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">" {0}"</span>, item);<br> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.WriteLine();<br> &nbsp;&nbsp;&nbsp; }<br> }<br><br><span style="line-height:1.5;color:rgb(0,128,0);">// 获得Comparer，进行比较<br></span><span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">class</span>&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">ComparerFactory</span>&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;IComparer&lt;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&gt; GetIntComparer() {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">return</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">new</span>&nbsp;IntComparer();<br> &nbsp;&nbsp;&nbsp; }<br><br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">class</span>&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">IntComparer</span>&nbsp;: IComparer&lt;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&gt; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;Compare(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;x,&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;y) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">return</span>&nbsp;x.CompareTo(y);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">上 面这段代码我们创建了一个ComparerFactory类，它用于获得一个IntComparer对象，这个对象实现了 IComparer&lt;T&gt;接口，规定了两个int类型的关键码之间比较大小的规则。如果你有自定义的类型，比如叫MyType，只需要在 ComparerFactory中再添加一个类，比如叫MyTypeComparer，然后让这个类也实现IComparer&lt;T&gt;接口，最 后再添加一个方法返回MyTypeComparer就可以了。</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">输出演示(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">接下来我们看一下客户端代码和输出：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;Main(<span style="line-height:1.5;color:rgb(0,0,255);">string</span>[] args) {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>[] array = {42,20,17,13,28,14,23,15};<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//<span style="line-height:1.5;color:rgb(0,0,255);">int</span>[] array = { 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 };<br></span>&nbsp;&nbsp;&nbsp; AlgorithmHelper.PrintArray(array);<br><br> &nbsp;&nbsp;&nbsp; SortAlgorithm.InsertSort<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (array, ComparerFactory.GetIntComparer());<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://www.tracefact.net/graph/SimpleSort/01.gif" alt="" style="border:0px;"></p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C++)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">// 对int类型进行排序<br> class IntComparer{<br> &nbsp;&nbsp;&nbsp; public:<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static bool Smaller(int x, int y){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return x&lt;y;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static bool Equal(int x, int y){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return x==y;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static bool Larger(int x, int y){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return x&gt;y;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> };<br><br> // 插入排序<br> template &lt;class T, class C&gt;<br> void InsertSort(T a[], int length){<br> &nbsp;&nbsp;&nbsp; for(int i=1;i&lt;=length-1;i++){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int j = i;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(j&gt;=1 &amp;&amp; C::Smaller(a[j], a[j-1])){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(a[j], a[j-1]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j--;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <h3 style="font-size:16px;color:rgb(102,102,102);background-image:none;background-repeat:no-repeat;font-family:Verdana;line-height:1.5;">2.冒泡排序</h3> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法思想</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">如 果你从没有学习过有关算法方面的知识，而需要设计一个数组排序的算法，那么很有可能设计出的就是泡沫排序算法了。因为它很好理解，实现起来也很简单。它也 含有两层循环，假设数组长度为n，外层循环控制变量i由0到n-2递增，这个外层循环并不是处理某个记录，只是控制比较的趟数，由0到n-2，一共比较 n-1趟。为什么n个记录只需要比较n-1趟？我们可以先看下最简单的两个数排序：比如4和3，我们只要比较一趟，就可以得出3、4。对于更多的记录可以 类推。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">数组记录的交换由里层循环来完成，控制变量j初始值为n-1（数组下标），一直递减到1。数组记录从数组的末尾开始与相邻的上一个记 录相比，如果上一记录比当前记录的关键码大，则进行交换，直到当前记录的下标为1为止（此时上一记录的下标为0）。整个过程就好像一个气泡从底部向上升， 于是这个排序算法也就被命名为了冒泡排序。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">我们来对它进行一个考察，按照这种排序方式，在进行完第一趟循环之后，最小的一定位于数组最顶部 （下标为0）；第二趟循环之后，次小的记录位于数组第二（下标为1）的位置；依次类推，第n-1趟循环之后，第n-1小的记录位于数组第n-1（下标为 n-2）的位置。此时无需再进行第n趟循环，因为最后一个已经位于数组末尾（下标为n-1）位置了。</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,128,0);">// 泡沫排序<br></span><span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;BubbleSort&lt;T, C&gt;(T[] array, C comparer)<br> &nbsp;&nbsp;&nbsp; where C : IComparer&lt;T&gt;&nbsp;<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);"><span style="line-height:1.5;color:rgb(0,0,255);">int</span></span>&nbsp;length = array.Length;<br><br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;i = 0; i &lt;= length - 2; i++) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">"{0}: "</span>, i + 1);<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;j = length - 1; j &gt;= 1; j--) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">if</span>&nbsp;(comparer.Compare(array[j], array[j - 1]) &lt; 0) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[j],&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[j - 1]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.WriteLine();<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">//AlgorithmHelper.PrintArray(array);<br></span>&nbsp;&nbsp;&nbsp; }<br> }</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">输出演示(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;Main(<span style="line-height:1.5;color:rgb(0,0,255);">string</span>[] args) {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>[] array = {42,20,17,13,28,14,23,15};<br> &nbsp;&nbsp;&nbsp; AlgorithmHelper.PrintArray(array);<br><br> &nbsp;&nbsp;&nbsp; SortAlgorithm.BubbleSort<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (array, ComparerFactory.GetIntComparer());<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://www.tracefact.net/graph/SimpleSort/02.gif" alt="" style="border:0px;"></p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C++)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">// 冒泡排序<br> template &lt;class T, class C&gt;<br> void BubbleSort(T a[], int length){<br> &nbsp;&nbsp;&nbsp; for(int i=0;i&lt;=length-2;i++){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int j=length-1; j&gt;=1; j--){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(C::Smaller(a[j], a[j-1]))<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(a[j], a[j-1]);&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <h3 style="font-size:16px;color:rgb(102,102,102);background-image:none;background-repeat:no-repeat;font-family:Verdana;line-height:1.5;">3.选择排序</h3> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法思想</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">选择排序是对冒泡排序的一个改进，从上面冒泡排序的输出可以看出，在第一趟时，为了将最小的值13由数组末尾冒泡的数组下标为0的第一个位置，进行了多次交换。对于后续的每一趟，都会进行类似的交换。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">选 择排序的思路是：对于第一趟，搜索整个数组，寻找出最小的，然后放置在数组的0号位置；对于第二趟，搜索数组的n-1个记录，寻找出最小的（对于整个数组 来说则是次小的），然后放置到数组的第1号位置。在第i趟时，搜索数组的n-i+1个记录，寻找最小的记录（对于整个数组来说则是第i小的），然后放在数 组i-1的位置（注意数组以0起始）。可以看出，选择排序显著的减少了交换的次数。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">需要注意的地方是：在第i趟时，内层循环并不需要递减到1的位置，只要循环到与i相同就可以了，因为之前的位置一定都比它小（也就是第i小）。另外里层循环是j&gt;i，而不是j&gt;=i，这是因为i在进入循环之后就被立即保存到了lowestIndex中。</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;SelectionSort&lt;T, C&gt;(T[] array, C comparer)<br> &nbsp;&nbsp;&nbsp; where C : IComparer&lt;T&gt;&nbsp;<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);"><span style="line-height:1.5;color:rgb(0,0,255);">int</span></span>&nbsp;length = array.Length;<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;i = 0; i &lt;= length - 2; i++) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">"{0}: "</span>, i+1);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);"><span style="line-height:1.5;color:rgb(0,0,255);">int</span></span>&nbsp;lowestIndex = i;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,128,0);">// 最小记录的数组索引<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;j = length - 1; j &gt; i; j--) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">if</span>&nbsp;(comparer.Compare(array[j], array[lowestIndex]) &lt; 0)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lowestIndex = j;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[i],&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[lowestIndex]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AlgorithmHelper.PrintArray(array);<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">输出演示(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;Main(<span style="line-height:1.5;color:rgb(0,0,255);">string</span>[] args) {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>[] array = {42,20,17,13,28,14,23,15};<br> &nbsp;&nbsp;&nbsp; AlgorithmHelper.PrintArray(array);<br><br> &nbsp;&nbsp;&nbsp; SortAlgorithm.SelectionSort<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (array, ComparerFactory.GetIntComparer());<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://www.tracefact.net/graph/SimpleSort/03.gif" alt="" style="border:0px;"></p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C++)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">// 选择排序<br> template &lt;class T, class C&gt;<br> void SelectionSort(T a[], int length) {<br> &nbsp;&nbsp;&nbsp; for(int i = 0; i &lt;= length-2; i++){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int lowestIndex = i;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int j = length-1; j&gt;i; j--){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(C::Smaller(a[j], a[lowestIndex]))<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lowestIndex = j;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(a[i], a[lowestIndex]);<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <h3 style="font-size:16px;color:rgb(102,102,102);background-image:none;background-repeat:no-repeat;font-family:Verdana;line-height:1.5;">4.希尔排序</h3> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">希尔排序利用了插入排序的一个特点来优化排序算法，插入排序的这个特点就是：<strong>当数组基本有序的时候，插入排序的效率比较高</strong>。比如对于下面这样一个数组：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">int</span>[] array = { 1, 0, 2, 3, 5, 4, 8, 6, 7, 9 };</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">插入排序的输出如下：</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://www.tracefact.net/graph/SimpleSort/04.gif" alt="" style="border:0px;"></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">可以看到，尽管比较的趟数没有减少，但是交换的次数却明显很少。希尔排序的总体想法就是先让数组基本<strong>有序</strong>，最后再应用插入排序。具体过程如下：假设有数组int a[] = {42,20,17,13,28,14,23,15}，不失一般性，我们设其长度为length。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">第 一趟时，步长step = length/2 = 4，将数组分为4组，每组2个记录，则下标分别为(0,4)(1,5)(2,6)(3,7)；转换为数值，则为{42,28}, {20,14}, {17,23}, {13,15}。然后对每个分组进行插入排序，之后分组数值为{28,42}, {14,20}, {17,23}, {13,15}，而实际的原数组的值就变成了{28,14,17,13,42,20,23,15}。这里要注意的是分组中记录在原数组中的位置，以第2个 分组{14,20}来说，它的下标是(1,5)，所以这两个记录在原数组的下标分别为a[1]=14;a[5]=20。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">第二趟时，步长 step = step/2 = 2，将数组分为2组，每组4个记录，则下标分别为(0,2,4,6)(1,3,5,7)；转换为数值，则为{28,17,42,23}, {14,13,20,15}，然后对每个分组进行插入排序，得到{17,23,28,42}{13,14,15,20}。此时数组就成了 {17,13,23,14,28,15,42,20}，已经基本有序。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">第三趟时，步长 step=step/2 = 1，此时相当进行一次完整的插入排序，得到最终结果{13,14,15,17,20,23,28,42}。</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,128,0);">// 希尔排序<br></span><span style="line-height:1.5;color:rgb(0,0,255);">public</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;ShellSort&lt;T, C&gt;(T[] array, C comparer)<br> &nbsp;&nbsp;&nbsp; where C : IComparer&lt;T&gt;&nbsp;<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;i = array.Length / 2; i &gt;= 1; i = i / 2) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.Write(<span style="line-height:1.5;color:rgb(163,21,21);">"{0}: "</span>, i);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;j = 0; j &lt; i; j++) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InsertSort(array, j, i, comparer);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(43,145,175);">Console</span>.WriteLine();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AlgorithmHelper.PrintArray(array);<br> &nbsp;&nbsp;&nbsp; }<br> }<br><br><span style="line-height:1.5;color:rgb(0,128,0);">// 用于希尔排序的插入排序<br></span><span style="line-height:1.5;color:rgb(0,0,255);">private</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;InsertSort&lt;T, C&gt;<br> &nbsp;&nbsp;&nbsp; (T[] array,&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;startIndex,&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;step, C comparer)<br> &nbsp;&nbsp;&nbsp; where C : IComparer&lt;T&gt;&nbsp;<br> {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">for</span>&nbsp;(<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;i = startIndex + step; i &lt;= array.Length - 1; i += step) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>&nbsp;j = i;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">while</span>(j&gt;= step &amp;&amp; comparer.Compare(array[j], array[j - step]) &lt;0 ){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[j],&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">ref</span>&nbsp;array[j - step]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j -= step;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">注意这里插入排序InsertSort()方法的参数，startIndex是分组的起始索引，step是步长，可以看出，<strong>前面的插入排序只是此处step=1,startindex=0的一个特例</strong>。</p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">输出演示(C#)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><span style="line-height:1.5;color:rgb(0,0,255);">static</span>&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">void</span>&nbsp;Main(<span style="line-height:1.5;color:rgb(0,0,255);">string</span>[] args) {<br> &nbsp;&nbsp;&nbsp;&nbsp;<span style="line-height:1.5;color:rgb(0,0,255);">int</span>[] array = {42,20,17,13,28,14,23,15};<br> &nbsp;&nbsp;&nbsp; AlgorithmHelper.PrintArray(array);<br><br> &nbsp;&nbsp;&nbsp; SortAlgorithm.ShellSort<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (array, ComparerFactory.GetIntComparer());<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><img src="http://www.tracefact.net/graph/SimpleSort/05.gif" alt="" style="border:0px;"></p> 
   <h4 style="font-size:14px;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;">算法实现(C++)</h4> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">// 希尔排序<br> template&lt;class T, class C&gt;<br> void ShellSort(T a[], int length){<br> &nbsp;&nbsp;&nbsp; for(int i = length/2; i &gt;= 1; i = i/2 ){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(int j = 0; j&lt;i; j++){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InsertSort&lt;T, C&gt;(&amp;a[j], length-1, i);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br> }<br><br> // 用于希尔排序的插入排序<br> template&lt;class T, class C&gt;<br> void InsertSort(T a[], int length, int step){<br> &nbsp;&nbsp;&nbsp; for(int i = step; i&lt;length; i+= step){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int j = i;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(j&gt;=step &amp;&amp; C::Smaller(a[j], a[j-step])){<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap(a[j], a[j-step]);<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j-=step;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br> &nbsp;&nbsp;&nbsp; }<br> }</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">对于上面三种算法的代价，插入排序、冒泡排序、选择排序，都是Θ(n<sup>2</sup>)，而希尔排序略好一些，是Θ（n<sup>1.5</sup>），关于算法分析，大家感兴趣可以参考相关书籍。这里推荐《<a href="http://www.china-pub.com/6469" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">数据结构与算法分析(C++版)第二版</a>》和《<a href="http://www.china-pub.com/8662" rel="nofollow" style="color:rgb(26,139,200);text-decoration:none;">算法I~IV（C++实现）——基础、数据结构、排序和搜索</a>》，都很不错，我主要也是参考这两本书。</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;">来源：http://www.cnblogs.com/JimmyZhang/archive/2008/10/02/1303137.html&nbsp;</p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><br></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><br></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><br></p> 
   <p style="line-height:1.5;color:rgb(75,75,75);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:13px;"><br></p> 
   <p style="line-height:1.5;"><font color="#4b4b4b"><span style="font-size:13px;">本文转自夏雪冬日博客园博客，原文链接：http://www.cnblogs.com/heyonggang/archive/2013/03/06/2945945.html，如需转载请自行联系原作者</span></font><br></p> 
  </div> 
 </div> 
</div>
  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="https://uzstatic-360cdn.belost.xyz/theme/default/images/logo.png" alt="柚子社区">
  <div class="col-box-title name">NotBeCN</div>
  <!-- <p>最新资讯</p> -->
  <p class="contact">
    
    <a href="mailto:fandyvon@163.com" target="_blank">邮箱</a>
    
    <a href="https://uzshare.com" target="_blank">柚子社区</a>
    
    <a href="https://uzzz.org" target="_blank">找组织</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2019/05/14/zxh1220_90138586.html">[原创软件] [软件发布] 定时备份文件发送邮箱，不再怕数据丢失了</a></li>
    
      <li><a class="post-link" href="/2019/05/14/weixin_45037290_90140056.html">Get智能写作满月记 ——产品篇</a></li>
    
      <li><a class="post-link" href="/2019/05/14/nulio__90138386.html">《深度探索C++对象模型》..............</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_41248707_90140031.html">mysql 多表联查之连接查询</a></li>
    
      <li><a class="post-link" href="/2019/05/13/qq_21122683_90125902.html">golang基础(二)</a></li>
    
      <li><a class="post-link" href="/2019/05/13/1557726108256.html">今日份的PTA刷题</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90137366.html">Android之折线图</a></li>
    
      <li><a class="post-link" href="/2019/05/12/zzzfffei_90136638.html">Android之实现选中时改变样式</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>

<div class="col-box">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- right_sidebar -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8889449066804352"
       data-ad-slot="2081363239"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2019 
</div>
</footer>

<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
<script src="/js/easybook.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-123344652-5');
</script>


<script data-ad-client="ca-pub-8889449066804352" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.async = true;
  hm.src = "https://hm.baidu.com/hm.js?9b378145d7399199b371d067f4c8be96";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </body>

</html>
